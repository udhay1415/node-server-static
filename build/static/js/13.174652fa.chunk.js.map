{"version":3,"sources":["page/Discover/styled.jsx","page/Discover/renderProps.jsx","page/Discover/Discover.jsx","page/Discover/index.js"],"names":["styled","div","DiscoverContentBlock","ListWrapper","DataImageBlock","ProductRecommendationWrapper","RecommendationBtn","ProductRecommendationTitle","DiscoverItemBlock","props","context","list","data","ItemEl","CardBlock","hidePrice","hideMSDOntology","showBuyButton","showWishlistButton","ProductRecommendationSection","RecommendedWidgetsList","useRef","AIStylePicksList","user_id","discover","API_KEY","aiStyleEnabled","url","userId","localStorage","getItem","carouselTobeRendered","aiStylePickToBeRendered","mad_UUID","getCookie","recommendation","current","widgetList","postBody","recommendationUrl","recommendedWidgetList","loading","CarouselTitle","HeaderVueContent","map","listKey","key","length","sliderPerGroup","StyleLookArr","JSON","parse","stringify","defaultLookContainer","styles","push","value","index","toString","tabsContainer","activeIndex","recommendedData","Discover"],"mappings":"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","file":"static/js/13.174652fa.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport {\n  ListWrapper,\n  DataImageBlock,\n  RecommendationBtn,\n  InputEl,\n} from \"../../component\";\n\nconst TitleEl = styled.div`\n  height: 3.5em;\n  line-height: 3.5em;\n  border-bottom: 1px solid #e2e2e2;\n  text-transform: uppercase;\n  text-align: center;\n  color: #064559;\n  font-size: 1.25em;\n  font-family: \"SourceSansPro-SemiBold\";\n  position: fixed;\n  top: 45px;\n  min-width: 1240px;\n  width: 100%;\n  z-index: 1;\n  background-color: #fff;\n`;\n\nconst DiscoverContentBlock = styled.div`\n  padding-top: 6rem;\n  ${ListWrapper} {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 1em;\n    background-color: #f3f4fb;\n    margin-top: 15px;\n    width: 87.5%;\n    margin: auto;\n  }\n  ${DataImageBlock} {\n    display: initial;\n  }\n`;\n\nconst ProductRecommendationWrapper = styled.div`\n  width: 87.5%;\n  margin: auto;\n  border-bottom: 1px solid #e2e2e2;\n  background-color: #fff;\n  ${RecommendationBtn} {\n    display: block;\n  }\n`;\n\nconst ProductRecommendationTitle = styled.div`\n  text-transform: capitalize;\n  color: #191e50;\n  font-size: 1.25em;\n  font-family: \"SourceSansPro-SemiBold\";\n  min-width: 1240px;\n  width: 100%;\n  z-index: 1;\n  margin-top: 10px;\n  padding: 15px 0px;\n  padding-left: 1rem;\n`;\n\nconst CLPContainer = styled.div`\n  display: inline-block;\n  background: #f3f4fb;\n  position: fixed;\n  left: 35%;\n  z-index: 12222;\n`;\nconst VueFindContainer = styled.div`\n  width: 60%;\n  display: inline-block;\n`;\n\nexport {\n  TitleEl,\n  DiscoverContentBlock,\n  ProductRecommendationWrapper,\n  ProductRecommendationTitle,\n  CLPContainer,\n  VueFindContainer,\n};\n","import React, { useRef } from \"react\";\nimport {\n  DiscoverConsumer,\n  ConfigConsumer,\n  RecommendedPdtsContainer,\n  RecommendedPdtsConsumer,\n} from \"../../container\";\nimport {\n  ListElement,\n  CardBlock,\n  ProductCarousel,\n  ProductCarouselWithTabs,\n  Input,\n} from \"../../component\";\nimport {\n  ProductRecommendationWrapper,\n  ProductRecommendationTitle,\n} from \"./styled\";\nimport { getCookie } from \"../../common\";\nimport { HeaderVueContent } from \"../../configs\";\nimport {} from \"../VueFind/renderProps\";\n\nconst DiscoverItemBlock = (props) => {\n  return (\n    <DiscoverConsumer>\n      {(context) => {\n        return (\n          <ListElement\n            list={context.data || []}\n            ItemEl={CardBlock}\n            hidePrice={true}\n            hideMSDOntology={true}\n            showBuyButton={true}\n            showWishlistButton={true}\n          />\n        );\n      }}\n    </DiscoverConsumer>\n  );\n};\n\nconst ProductRecommendationSection = (props) => {\n  const RecommendedWidgetsList = useRef({});\n  const AIStylePicksList = useRef({});\n\n  return (\n    <ConfigConsumer>\n      {(context) => {\n        const { user_id, discover } = context;\n        let API_KEY = context.API_KEY;\n        let aiStyleEnabled = false;\n        if (discover && discover.aiStyleEnabled) {\n          aiStyleEnabled = true;\n        }\n        let url = context.url;\n        if (discover.API_KEY) {\n          API_KEY = discover.API_KEY;\n        }\n        let userId = localStorage.getItem(\"userId\");\n        if (!userId) {\n          userId = user_id;\n        }\n        let carouselTobeRendered = [7, 1, 11, 3];\n        let aiStylePickToBeRendered = [20];\n        const mad_UUID = getCookie(\"mad_UUID\");\n        const recommendation =\n          discover && discover.recommendation\n            ? discover.recommendation\n            : url + \"/widgets\";\n        if (API_KEY && userId && mad_UUID && recommendation) {\n          RecommendedWidgetsList.current = {\n            widgetList: [\"7\", \"1\", \"11\", \"3\"],\n            postBody: `api_key=${API_KEY}&user_id=${userId}&cp_ensemble=true&details=true&duplicates=true&fields=[\"id\",\"product_id\",\"category\",\"ontology\",\"link\",\"image_link\",\"internal_image_url\",\"small_image_link\"]&mad_uuid=${mad_UUID}&num_results=[50]&require_source=true&widget_list=[7,1,11,3]`,\n            recommendationUrl: recommendation,\n          };\n          if (aiStyleEnabled) {\n            AIStylePicksList.current = {\n              widgetList: [\"20\"],\n              postBody: `api_key=${API_KEY}&user_id=${userId}&cp_ensemble=true&details=true&duplicates=true&fields=[\"id\",\"product_id\",\"category\",\"ontology\",\"link\",\"image_link\",\"internal_image_url\",\"small_image_link\"]&mad_uuid=${mad_UUID}&num_results=[5]&require_source=true&widget_list=[20]`,\n              recommendationUrl: recommendation,\n            };\n          } else {\n            AIStylePicksList.current = {};\n          }\n        } else {\n          RecommendedWidgetsList.current = {};\n          AIStylePicksList.current = {};\n        }\n        return (\n          <div>\n            <RecommendedPdtsContainer\n              recommendedWidgetList={RecommendedWidgetsList.current}\n            >\n              <RecommendedPdtsConsumer>\n                {(context) => {\n                  const { loading } = context;\n                  const CarouselTitle =\n                    HeaderVueContent && HeaderVueContent.discover\n                      ? HeaderVueContent.discover\n                      : {};\n                  return carouselTobeRendered.map((listKey, key) => {\n                    return !loading &&\n                      context[listKey] &&\n                      context[listKey].length ? (\n                      <ProductRecommendationWrapper\n                        key={`Home Carousel ${key}`}\n                      >\n                        <ProductRecommendationTitle>\n                          {CarouselTitle[listKey]}\n                        </ProductRecommendationTitle>\n                        <ProductCarousel\n                          list={context[listKey] || []}\n                          hideMSDOntology={true}\n                          sliderPerGroup={5}\n                          loading={loading}\n                          showBuyButton={true}\n                          showWishlistButton={true}\n                        />\n                      </ProductRecommendationWrapper>\n                    ) : (\n                      <ProductRecommendationWrapper\n                        key={`Home Carousel ${key}`}\n                      >\n                        <ProductCarousel\n                          loading={loading}\n                          sliderPerGroup={5}\n                          showBuyButton={true}\n                          showWishlistButton={true}\n                        />\n                      </ProductRecommendationWrapper>\n                    );\n                  });\n                }}\n              </RecommendedPdtsConsumer>\n            </RecommendedPdtsContainer>\n            <RecommendedPdtsContainer\n              recommendedWidgetList={AIStylePicksList.current}\n            >\n              <RecommendedPdtsConsumer>\n                {(context) => {\n                  const { loading } = context;\n                  const CarouselTitle = \"AI Style Picks For You\";\n                  return aiStylePickToBeRendered.map((listKey, key) => {\n                    if (\"20\" in context) {\n                      const StyleLookArr = JSON.parse(\n                        JSON.stringify(context[listKey])\n                      );\n                      let defaultLookContainer = [];\n                      StyleLookArr.map((styles, key) => {\n                        defaultLookContainer.push({\n                          value: `Style-${key + 1}`,\n                          index: key.toString(),\n                        });\n                        return styles;\n                      });\n                      return !loading &&\n                        context[listKey] &&\n                        context[listKey].length ? (\n                        <ProductRecommendationWrapper\n                          key={`Home Carousel ${key}`}\n                        >\n                          <ProductRecommendationTitle>\n                            {CarouselTitle}\n                          </ProductRecommendationTitle>\n                          <ProductCarouselWithTabs\n                            tabsContainer={defaultLookContainer}\n                            activeIndex=\"0\"\n                            recommendedData={StyleLookArr}\n                            sliderPerGroup={3}\n                            loading={loading}\n                            showBuyButton={true}\n                            showWishlistButton={true}\n                          />\n                        </ProductRecommendationWrapper>\n                      ) : (\n                        <ProductRecommendationWrapper\n                          key={`Home Carousel ${key}`}\n                        >\n                          <ProductCarousel\n                            loading={loading}\n                            sliderPerGroup={5}\n                            showBuyButton={true}\n                            showWishlistButton={true}\n                          />\n                        </ProductRecommendationWrapper>\n                      );\n                    }\n                  });\n                }}\n              </RecommendedPdtsConsumer>\n            </RecommendedPdtsContainer>\n          </div>\n        );\n      }}\n    </ConfigConsumer>\n  );\n};\n\nexport { DiscoverItemBlock, ProductRecommendationSection };\n","import React from \"react\";\nimport {\n  TitleEl,\n  DiscoverContentBlock,\n  CLPContainer,\n  VueFindContainer,\n} from \"./styled\";\nimport { DiscoverContainer, ConfigConsumer } from \"../../container\";\nimport { DiscoverItemBlock, ProductRecommendationSection } from \"./renderProps\";\nimport { VueFindWrapper, CategoryWrapper } from \"../VueFind/styled\";\nimport { RenderDropDown, RenderSearch } from \"../VueFind/renderProps\";\nimport \"semantic-ui-css/semantic.min.css\";\n\nconst Discover = (props) => {\n  return (\n    <>\n      {/* <CLPContainer>\n                <VueFindWrapper is_from_discover_page={true}>\n                    <RenderDropDown is_from_discover_page={true} />\n                </VueFindWrapper>\n            </CLPContainer> */}\n      {/* <VueFindContainer>\n                <RenderSearch is_from_discover_page={true}/>\n            </VueFindContainer>  */}\n      <DiscoverContentBlock>\n        <DiscoverContainer>\n          <ProductRecommendationSection />\n          <DiscoverItemBlock />\n        </DiscoverContainer>\n      </DiscoverContentBlock>\n    </>\n  );\n};\n\nexport { Discover };\n","export * from './Discover'\nexport { Discover as default } from './Discover'"],"sourceRoot":""}