(window["webpackJsonpvue.ai"]=window["webpackJsonpvue.ai"]||[]).push([[16],{541:function(e,t,a){"use strict";a.r(t);var r=a(10),n=a(0),i=a.n(n),c=a(118),o=a(19),l=a(25),s=a(71),u=(a(252),function(e){var t=e.match,a=e.history,u=Object(n.useState)([]),d=Object(r.a)(u,2),g=d[0],_=d[1],p=Object(n.useState)([]),m=Object(r.a)(p,2),f=m[0],b=m[1],h=Object(n.useState)([]),y=Object(r.a)(h,2),v=y[0],O=y[1],j=Object(n.useState)([]),I=Object(r.a)(j,2),P=I[0],w=I[1],E=Object(n.useState)([]),S=Object(r.a)(E,2),z=S[0],U=S[1],x=Object(n.useState)(1),A=Object(r.a)(x,2),k=A[0],K=A[1],L=Object(n.useState)({type:"custom",field:"trending",order:"desc"}),Y=Object(r.a)(L,2),q=Y[0],D=Y[1],F=t&&t.params&&t.params.category?t.params.category:"",B=Object(n.useState)(""),C=Object(r.a)(B,2),R=C[0],J=C[1],M={},N=new URL(document.location).searchParams,Q=N.get("q"),V="";V=F&&"search"===F&&Q&&Q.trim().length?Q:"";var G=Object(n.useState)(V),H=Object(r.a)(G,2),T=H[0],W=H[1];T!==V&&W(V);var X=N.get("page_num");X?parseInt(X)!==k&&K(parseInt(X)):1!==k&&K(parseInt(1)),N.get("filters")||(g.length&&_([]),v.length&&O([]),f.length&&b([]),P.length&&w([]),z.length&&U([]));var Z=function(e,t,r){var n=g,i=f,c=v,o=P,l=z,s=T,u=k;if(e){var d=e.toLowerCase();"ontology"===d||"category"===d?(n=t,r&&(i=[],c=[],o=[],l=[])):"brand"===d?i=t:"color"===d?c=t:"size"===d?o=t:"material"===d?l=t:"page"===d?u=t:"search"===d&&(s=t)}var _=function(e,t,a,r,n){var i="".concat(window.location.pathname,"?filters="),c="",o="";return e.length&&(c=";",o+="ontology=".concat(e.join())),t.length&&(o+=c,o+="brand=".concat(t.join()),c=";"),a.length&&(o+=c,o+="color=".concat(a.join()),c=";"),r.length&&(o+=c,o+="size=".concat(r.join())),n.length&&(o+=c,o+="material=".concat(n.join())),i+encodeURIComponent(o)}(n,i,c,o,l);s!==V&&(V=s,u=1),u>1&&(_+="&page_num=".concat(u)),s&&s.trim().length&&(_+="&q=".concat(s)),a.push(_,{updated:!0})};return Object(n.useEffect)((function(){var e=new URL(document.location).searchParams,t=e.get("filters"),a=e.get("q"),r=e.get("page_num");if(parseInt(r)>1&&K(parseInt(r)),"search"!==F?W(""):a&&a.trim().length&&W(a),t){var n=t.split(";");n.length?n.map((function(e){if(e){if(e.indexOf("ontology")>=0){var t=e.replace("ontology=","").split(",");_(t)}if(e.indexOf("color")>=0){var a=e.replace("color=","").split(",");O(a)}if(e.indexOf("brand")>=0){var r=e.replace("brand=","").split(",");b(r)}if(e.indexOf("size")>=0){var n=e.replace("size=","").split(",");w(n)}if(e.indexOf("material")>=0){var i=e.replace("material=","").split(",");U(i)}}return""})):(_([]),O([]),b([]),U([]),w([]))}else _([]),O([]),b([]),U([]),w([])}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(o.t,null,i.a.createElement(o.b,null,null),i.a.createElement(l.e,null,(function(e){var t=e.vue_find,a=e.API_KEY,r=e.url,n=t&&t.children?t.children:{},o=Object(s.c)("mad_UUID"),l=localStorage.getItem("userId"),u=r;return"2253_yoox-poc"==e.client_name&&(u="https://eu-robin-poc.madstreetden.com"),l||(l=e.user_id),M=function(e){var t=e.children,a=e.mad_UUID,r=e.user_id,n=e.default_url,i=e.API_KEY;switch(F){case"category":var c=t&&t.category_list?t.category_list:{};c.API_KEY&&(i=c.API_KEY);var o=n+"/v2/widgets";return c.endPoint&&c.categoryList&&(o=(c.endPoint||"")+(c.categoryList||"")),{url:o,postBody:{api_key:i,widget_list:[25],mad_uuid:a,user_id:r,facet_limit:30,facets:["category","brand","color","sub_cat","size","price","material"],fields:["brand","title","image_link","internal_image_url","color","price","size","material"],details:!0,order_by:q,hits_per_page:50,facet_filters:{},page_num:k,is_from_demo_site:!0}};case"search":var l=t&&t.text_search?t.text_search:{};l.API_KEY&&(i=l.API_KEY);var s=n+"/widgets";return l.endPoint&&l.categoryList&&(s=(l.endPoint||"")+(l.categoryList||"")),{url:s,postBody:{api_key:i,mad_uuid:a,user_id:r,facet_limit:30,facets:["category","size","brand","color"],widget_list:[42],details:!0,search_query:T,fields:["title","brand","category","small_image_link","image_link","internal_image_url"],order_by:q,num_results:[20],page_num:k,hits_per_page:50,is_from_demo_site:!0}};default:return{}}}({children:n,API_KEY:a,user_id:l,mad_UUID:o,default_url:u}),i.a.createElement(c.b,{currPage:F,pageNum:k,ontology:g,brand:f,color:v,size:P,material:z,saleProduct:R,updateSaleProduct:J,search:T,APIData:M,updateOntology:_,updateBrand:b,updateColor:O,updateSize:w,updateMaterial:U,updateQuery:W,updateSortFilter:D,updatePageFilters:Z})}))))});a.d(t,"VueFind",(function(){return u})),a.d(t,"default",(function(){return u}))}}]);
//# sourceMappingURL=16.178de78c.chunk.js.map