(window["webpackJsonpvue.ai"]=window["webpackJsonpvue.ai"]||[]).push([[9],{470:function(e,n,t){e.exports=t.p+"static/media/upload.a7ed5990.svg"},504:function(e,n,t){e.exports=t.p+"static/media/vue-find.c72e8893.svg"},534:function(e,n,t){"use strict";t.r(n);var r=t(10),a=t(0),i=t.n(a),c=t(3),u=t(4),o=t(21),l=t(470),d=t.n(l);function p(){var e=Object(c.a)(["\n    padding: 10px;\n    width: 25%;\n    height: auto;\n    text-align: center;\n"]);return p=function(){return e},e}function g(){var e=Object(c.a)(["\n    max-width: 100%;\n    max-height: 400px;\n"]);return g=function(){return e},e}function m(){var e=Object(c.a)(["\n    display: flex;\n    "," {\n        width: 68.75%;\n        margin: 10px;\n        height: auto;\n        .slick-next {\n            right: 11px;\n        }\n        .slick-prev {\n            left: 22px;\n            z-index: 1;\n        }\n\n        ","{\n            height: 250px;\n        }\n        \n        "," {\n            max-width: 80%;\n            max-height: 50%;\n        }\n    }\n    "," {\n        padding: 15px;\n    }\n"]);return m=function(){return e},e}function f(){var e=Object(c.a)(["\n    mask-image: url(",");\n    mask-repeat: no-repeat;\n    mask-position: center;\n    background-color: lightslategray;\n    width: 6.25%;\n    margin: .6em 1em;\n    cursor: pointer;\n"]);return f=function(){return e},e}function s(){var e=Object(c.a)(["\n    display: flex;\n    width: 75%;\n    padding: 1em 0em;\n    margin: auto;\n    "," {\n        padding: .75em .75em;\n        margin: 1px;\n        width: calc(100% - (1px * 2));\n        height: calc(100% - (1px * 2));\n        font-size: 14px;\n        color: #064559;\n        border: 0;\n        border-radius: .15em;\n        outline: none;\n        &[type='text'] {\n            width: 37.5%;\n            border: 1px solid #b9b9b9;\n            height: auto;\n        }\n        &[type='submit'] {\n            width: 12.5%;\n            background-color: #FF7054;\n            color: #fff;\n            margin-left: 4px;\n            cursor: pointer;\n        }\n    }\n    "," {\n        height: 2rem;\n        color: #a6a6a6;\n        margin-left: 1em;\n        margin-top: .4em;\n        text-transform: capitalize;\n        cursor: pointer;\n    }\n"]);return s=function(){return e},e}function h(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n"]);return h=function(){return e},e}function v(){var e=Object(c.a)(["\n    width: 85%;\n    margin: auto;\n    margin-top: 107px;\n"]);return v=function(){return e},e}function b(){var e=Object(c.a)(["\n    width: 10%;\n    margin-right: 1em;\n    vertical-align: middle;\n"]);return b=function(){return e},e}function _(){var e=Object(c.a)(["\n    height: 3.5em;\n    line-height: 3.5em;\n    border-bottom: 1px solid #E2E2E2;\n    position: fixed;\n    top: 50px;\n    min-width: 1240px;\n    width: 100%;\n    z-index: 1;\n    background-color: #fff;\n    text-align: center;\n"]);return _=function(){return e},e}var x=u.c.div(_()),E=u.c.img(b()),w=u.c.div(v()),y=u.c.form(h()),I=u.c.div(s(),o.h,o.q),j=u.c.div(f(),d.a),O=u.c.div(m(),o.o,o.e,o.c,o.f),k=u.c.img(g()),S=u.c.div(p()),P=t(504),R=t.n(P),T=t(82),A=t(72),F=t(25),D=t(38),C=Object(a.createRef)(),K=function(e,n,t,r){var a=n.upload_endpoint?n.upload_endpoint:r+"/upload",i=new FormData;return a&&e.length?("string"===typeof e?i.append("image_url",e):i.append("image",e[0]),i.append("api_key",t),fetch(a,{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){return e&&e.status&&"success"===e.status.toLowerCase()&&e.data&&e.data.mad_id?e.data.mad_id:(console.log("No Mad Id in response"),"")})).catch((function(e){return console.log(e),""}))):""},U=function(e,n){var t=n.image_search,r=n.image_type,a=n.correlation_key,i=D.c.vue_tag_url,c=D.c.vue_tag_api_key;if(t.tag_endpoint&&(i=t.tag_endpoint),t.API_KEY&&(c=t.API_KEY),i&&e&&e.length){var u=new FormData;return u.append("api_key",c),u.append("correlation_key",a),u.append("image_type",r),"string"===typeof e?(u.append("image",e),u.append("image_url",e)):u.append("image",e[0]),fetch(i,{method:"POST",body:u}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}},Y=function(e,n,t){var r=t.image_search,a=t.API_KEY,i=t.default_url;Promise.all([K(e,r,a,i),U(e,t)]).then((function(e){e&&e.length&&n((function(n){var t=Object(A.a)({},n);return e[0]&&(t.madId=e[0]),e[1]&&e[1].status&&"success"===e[1].status.toLowerCase()&&(t.tagsResp=Object(A.a)({},e[1])),t}))})).catch((function(e){return console.log(e)}))},W=function(e,n){if(e&&e.length)if("string"===typeof e)n((function(n){var t=Object(A.a)({},n);return t.imgSrc=e,t}));else{var t=new FileReader;t.onload=function(e){n((function(n){var t=Object(A.a)({},n);return t.imgSrc=e.target&&e.target.result?e.target.result:"",t}))},t.readAsDataURL(e[0])}},L=function(e){var n=e.updateimageSearchData,t=Object(a.useRef)(null),c=Object(a.useState)(""),u=Object(r.a)(c,2),l=u[0],d=u[1];return i.a.createElement(I,null,i.a.createElement(F.e,null,(function(e){var r=e.vue_find,a=e.image_type,c=e.correlation_key,u=e.url,p=e.API_KEY,g=u,m=r&&r.children&&r.children.image_search?r.children.image_search:{};m&&m.API_KEY&&(p=m.API_KEY);var f={image_search:m,API_KEY:p,image_type:a,correlation_key:c,default_url:g};return i.a.createElement(y,{onSubmit:function(e){e.preventDefault(),Y(l,n,f),W(l,n)}},i.a.createElement(o.g,{value:l,type:"text",placeholder:"Enter the Image URL here",onInput:function(e){return d(e.currentTarget.value||"")}}),i.a.createElement(o.g,{type:"submit",value:"SEARCH"}),i.a.createElement(o.g,{accept:"image/x-png,image/jpeg",hidden:!0,type:"file",inputRef:C,onChange:function(e){t.current=e.currentTarget&&e.currentTarget.files?e.currentTarget.files:null,t.current&&t.current.length?(Y(t.current,n,f),W(t.current,n)):console.log("No files selected")}}),i.a.createElement(j,{onClick:function(e){C.current.click()}}),i.a.createElement(o.p,{list:["men","women"],onChange:function(e){n((function(n){var t=Object(A.a)({},n);return t.gender=e.currentTarget&&e.currentTarget.value?e.currentTarget.value:"men",t}))}}))})))},z=function(e){var n=e.madId,t=e.gender,r=e.src,a=e.internal_image_url,c=e.debug;return i.a.createElement(F.o,{madId:n,gender:t,debug:c},i.a.createElement(O,null,a||r?i.a.createElement(S,null,i.a.createElement(k,{src:a||r,alt:"Uploaded Product Image"})):null,i.a.createElement(F.n,null,(function(e){var n={};e&&e.data&&e.data.map((function(e,t){return n[t]=Object(T.a)(e),e}));var t=function(e){var n=[];return e&&e.length&&(n=e.map((function(e,n){var t=e.split(">");return{value:t[t.length-1],index:n.toString()}}))),n}(e.labels||[]);return i.a.createElement(o.m,{tabsContainer:t,activeIndex:"0",recommendedData:n,sliderPerGroup:4,hidePrice:!0,hideMSDOntology:!0,force_debug:c})}))))},V=function(e){var n=Object(a.useState)({madId:"",gender:"men",imgSrc:"",tagsResp:{}}),t=Object(r.a)(n,2),c=t[0],u=t[1],o=c.gender,l=c.madId,d=c.imgSrc,p=function(){var e=window.location&&window.location.search?window.location.search.replace("?",""):"";e=e.split("&");var n=!1;return e.map((function(e){if(e){var t=e.split("=");t[0]&&t[1]&&"force_debug"===t[0]&&"true"===t[1]&&(n=!0)}return e})),n}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(x,null,i.a.createElement(E,{src:R.a,alt:"Vue Find logo",title:"Vue Find"})),i.a.createElement(w,null,i.a.createElement(L,{updateimageSearchData:u})),i.a.createElement(z,{gender:o,madId:l,src:d,debug:p}))};t.d(n,"ImageSearch",(function(){return V})),t.d(n,"default",(function(){return V})),t.d(n,"TitleWrapper",(function(){return x})),t.d(n,"VueLogoEl",(function(){return E})),t.d(n,"ImageSearchWrapper",(function(){return w})),t.d(n,"UserInputWrapper",(function(){return I})),t.d(n,"ImageUploadIcon",(function(){return j})),t.d(n,"UploadedProductImage",(function(){return k})),t.d(n,"UploadedImgWrapper",(function(){return S})),t.d(n,"SearchResultWrapper",(function(){return O})),t.d(n,"FormWrapper",(function(){return y}))}}]);
//# sourceMappingURL=9.26857942.chunk.js.map