{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/jsoneditor/index.js","../node_modules/jsoneditor/dist/jsoneditor.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","module","exports","factory","window","modules","installedModules","__webpack_require__","moduleId","l","call","m","c","d","name","getter","o","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","bind","n","object","property","hasOwnProperty","p","s","__webpack_exports__","parse","repair","escapeUnicodeChars","validate","extend","clear","getType","isUrl","isArray","getAbsoluteLeft","getAbsoluteTop","addClassName","removeAllClassNames","removeClassName","stripFormatting","setEndOfContentEditable","selectContentEditable","getSelection","setSelection","getSelectionOffset","setSelectionOffset","getInnerText","hasParentNode","getInternetExplorerVersion","isFirefox","addEventListener","removeEventListener","isChildOf","parsePath","stringifyPath","improveSchemaError","isPromise","isValidValidationError","insideRect","debounce","textDiff","getInputSelection","getIndexForPosition","getPositionForPath","compileJSONPointer","getColorCSS","isValidColor","makeFieldTooltip","findUniqueName","getChildPaths","sort","sortObjectKeys","parseString","isTimestamp","formatSize","limitCharacters","isObject","contains","isValidationErrorChanged","javascript_natural_sort__WEBPACK_IMPORTED_MODULE_1__","javascript_natural_sort__WEBPACK_IMPORTED_MODULE_1___default","_assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2__","_assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2___default","json_source_map__WEBPACK_IMPORTED_MODULE_3__","json_source_map__WEBPACK_IMPORTED_MODULE_3___default","_i18n__WEBPACK_IMPORTED_MODULE_4__","_typeof","obj","iterator","constructor","jsonString","JSON","err","jsString","chars","match","controlChars","curr","charAt","next","isWhiteSpace","lastNonWhitespace","pp","nextNonWhiteSpace","iNext","skipBlockComment","skipComment","endQuote","string","parseKey","regexp","test","indexOf","parseMongoDataType","dataType","isSpecialWhiteSpace","push","join","text","replace","charCodeAt","toString","slice","a","b","prop","undefined","Number","String","Boolean","RegExp","isUrlRegex","elem","getBoundingClientRect","left","pageXOffset","document","scrollLeft","top","pageYOffset","scrollTop","className","classes","split","index","splice","divElement","childs","childNodes","iMax","child","style","removeAttribute","attributes","j","attribute","specified","contentEditableElement","range","selection","createRange","selectNodeContents","collapse","removeAllRanges","addRange","sel","nodeName","getRangeAt","rangeCount","startContainer","endContainer","startOffset","endOffset","container","parentNode","params","firstChild","appendChild","createTextNode","setStart","setEnd","element","buffer","flush","this","set","nodeValue","hasChildNodes","innerText","prevChild","prevName","parent","e","_ieVersion","rv","navigator","appName","ua","userAgent","exec","parseFloat","$1","action","listener","useCapture","attachEvent","f","event","detachEvent","jsonPath","path","parseProperty","Error","parseIndex","end","trim","map","error","keyword","Array","schema","enums","stringify","more","message","additionalProperty","then","validationError","margin","_margin","right","bottom","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","oldText","newText","len","start","oldEnd","newEnd","el","normalizedValue","textInputRange","endRange","startIndex","endIndex","selectionStart","selectionEnd","parentElement","createTextRange","moveToBookmark","getBookmark","compareEndPoints","moveStart","moveEnd","_positionForIndex","textTillIndex","substring","row","column","lastIndexOf","rows","Math","min","columnCount","paths","jsmap","result","forEach","pointerName","pointer","pointers","line","color","ele","createElement","toLowerCase","locale","tooltip","title","description","examples","example","existingPropNames","strippedName","validName","json","includeObjects","pathsMap","getObjectChildPaths","rootPath","keys","field","max","array","direction","parsedPath","sign","sortedArray","aValue","bValue","sortedFields","sortedObject","str","lower","num","numFloat","isNaN","TIMESTAMP_FIELDS","isFinite","floor","Date","valueOf","fieldUpper","toUpperCase","some","search","size","toFixed","KiB","MiB","GiB","maxCharacterCount","item","currErr","prevErr","_loop","type","find","dataPath","schemaPath","v","_ret","setLanguage","setLanguages","translate","_locales","_defs","en","auto","appendText","appendTitle","appendSubmenuTitle","appendTitleAuto","ascending","ascendingTitle","actionsMenu","collapseAll","descending","descendingTitle","drag","duplicateKey","duplicateText","duplicateTitle","duplicateField","duplicateFieldError","cannotParseFieldError","cannotParseValueError","empty","expandAll","expandTitle","insert","insertTitle","insertSub","ok","redo","removeText","removeTitle","removeField","searchTitle","searchNextResultTitle","searchPreviousResultTitle","selectNode","showAll","showMore","showMoreStatus","sortTitle","sortTitleShort","sortFieldLabel","sortDirectionLabel","sortFieldTitle","sortAscending","sortAscendingTitle","sortDescending","sortDescendingTitle","transform","transformTitle","transformTitleShort","extract","extractTitle","transformQueryTitle","transformWizardLabel","transformWizardFilter","transformWizardSortBy","transformWizardSelectFields","transformQueryLabel","transformPreviewLabel","typeTitle","openUrl","undo","validationCannotMove","autoType","objectType","arrayType","stringType","modeEditorTitle","modeCodeText","modeCodeTitle","modeFormText","modeFormTitle","modeTextText","modeTextTitle","modeTreeText","modeTreeTitle","modeViewText","modeViewTitle","modePreviewText","modePreviewTitle","tr","ja","userLang","language","userLanguage","_lang","lang","langFound","console","languages","assign","data","DEFAULT_MODAL_ANCHOR","SIZE_LARGE","MAX_PREVIEW_CHARACTERS","PREVIEW_HISTORY_LIMIT","body","ContextMenu","_createAbsoluteAnchor__WEBPACK_IMPORTED_MODULE_0__","_util__WEBPACK_IMPORTED_MODULE_1__","_i18n__WEBPACK_IMPORTED_MODULE_2__","items","options","dom","me","anchor","eventListeners","onClose","close","root","menu","list","focusButton","li","overflow","height","createMenuItems","domItems","separator","_li","domItem","_li2","button","click","onclick","preventDefault","hide","submenu","divIcon","buttonSubmenu","divText","buttonExpand","innerHTML","submenuTitle","divExpand","_onExpandItem","focus","domSubItems","subItems","ul","maxHeight","buttons","expandedItem","subItem","frame","ignoreParent","showBelow","anchorRect","parentRect","frameRect","absoluteAnchor","topGap","anchorHeight","offsetHeight","visibleMenu","destroy","removeChild","alreadyVisible","padding","display","clientHeight","childsHeight","targetIndex","prevButton","nextButton","keynum","which","handled","shiftKey","_getVisibleButtons","stopPropagation","strictDeepEqual","first","second","keysSeen","key2","isFalse","trimLeft","TYPE_NUMBER","TYPE_STRING","basicTokens","operatorStartToken","skipChars","isNum","ch","Lexer","tokenize","stream","identifier","token","tokens","_current","_consumeUnquotedIdentifier","_consumeNumber","_consumeLBracket","_consumeQuotedIdentifier","_consumeRawStringLiteral","literal","_consumeLiteral","_consumeOperator","maxLength","current","parseInt","startingChar","literalString","_looksLikeJSON","ex","bindingPower","Parser","TreeInterpreter","runtime","Runtime","interpreter","_interpreter","functionTable","abs","_func","_functionAbs","_signature","types","avg","_functionAvg","ceil","_functionCeil","_functionContains","_functionEndsWith","_functionFloor","_functionLength","_functionMap","_functionMax","_functionMerge","variadic","_functionMaxBy","sum","_functionSum","_functionStartsWith","_functionMin","_functionMinBy","_functionType","_functionKeys","values","_functionValues","_functionSort","_functionSortBy","_functionJoin","reverse","_functionReverse","_functionToArray","_functionToString","_functionToNumber","_functionNotNull","expression","_loadTokens","ast","_lookahead","_lookaheadToken","rbp","leftToken","_advance","nud","currentToken","led","number","node","children","Not","_parseProjectionRHS","Star","_parseMultiselectHash","Flatten","_parseIndexExpression","_projectIfSlice","_parseMultiselectList","Expref","_match","_errorToken","tokenName","Dot","_parseDotRHS","Pipe","Or","And","condition","Filter","_parseComparator","tokenType","_parseSliceExpression","indexExpr","parts","comparator","lookahead","expressions","keyToken","keyName","pairs","identifierTypes","visit","matched","collected","sliceParams","computed","computeSliceParams","stop","step","base","objValues","filtered","finalResults","original","merged","resolvedArgs","callFunction","refNode","jmespathType","arrayLength","stepValueNegative","capSliceRange","actualValue","functionEntry","_validateArgs","signature","pluralized","currentSpec","actualType","typeMatched","_getTypeName","_typeMatches","actual","expected","argValue","subtype","searchStr","suffix","originalStr","reversedStr","reversedArray","inputArray","mapped","exprefNode","elements","maxElement","localeCompare","minElement","listToSum","joinChar","convertedValue","typeName","requiredType","that","decorated","exprA","exprB","maxRecord","resolvedArray","keyFunction","createKeyFunction","maxNumber","minRecord","minNumber","Infinity","allowedTypes","x","msg","compile","parser","checkDataType","negate","EQUAL","AND","OK","NOT","copy","to","checkDataTypes","dataTypes","code","toHash","null","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","getProperty","escapeQuotes","equal","ucs2length","varOccurences","dataVar","matches","varReplace","expr","cleanUpCode","out","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","finalCleanUpCode","async","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","REMOVE_ERRORS","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","rules","schemaHasRulesExcept","exceptKeyword","schemaUnknownRules","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","escapeJsonPointer","getData","$data","lvl","up","jsonPointer","JSON_POINTER","RELATIVE_JSON_POINTER","segments","segment","unescapeJsonPointer","unescapeFragment","decodeURIComponent","escapeFragment","encodeURIComponent","arr","hash","IDENTIFIER","SINGLE_QUOTE","showSortModal","picomodal__WEBPACK_IMPORTED_MODULE_0__","picomodal__WEBPACK_IMPORTED_MODULE_0___default","_i18n__WEBPACK_IMPORTED_MODULE_1__","_util__WEBPACK_IMPORTED_MODULE_2__","onSort","selectedPath","selectedDirection","content","overlayClass","overlayStyles","backgroundColor","opacity","modalClass","afterCreate","modal","form","modalElem","querySelector","setDirection","option","preprocessPath","getAttribute","onsubmit","afterClose","show","ModeSwitcher","_ContextMenu__WEBPACK_IMPORTED_MODULE_0__","modes","onSwitch","availableModes","tree","view","preview","currentMode","currentTitle","box","position","FocusTracker","config","onFocus","onBlur","_onClick","_onEvent","_onKeyUp","keyCode","focusFlag","firstEventFlag","activeElement","jmespath","jmespath_default","picoModal","picoModal_default","selectr","selectr_default","i18n","stringifyValue","space","indent","limit","childIndent","stringifyArray","toJSON","jsonUtils_hasOwnProperty","stringifyObject","repeat","times","res","util","constants","showTransformModal","onTransform","wizard","filterField","filterRelation","filterValue","sortField","sortOrder","selectFields","query","fontStyle","formattedPath","filterOption","sortOption","selectablePaths","filter","selectFieldsPart","selectrFilterField","defaultSelected","clearable","allowDeselect","placeholder","selectrFilterRelation","selectrSortField","selectrSortOrder","selectrSelectFields","multiple","generateQueryFromWizard","field1","examplePath","concat","value1","field2","selected","selectedValue","debouncedUpdatePreview","on","oninput","transformed","_space","output","stringifyPartial","disabled","select","defaultConfig","width","searchable","sortSelected","closeOnScroll","nativeDropdown","taggable","tagPlaceholder","Events","_events","off","emit","mixin","src","each","setAttribute","hasClass","classList","addClass","add","removeClass","remove","closest","fn","isInt","val","g","h","rect","w","y","includes","truncate","isset","appendItem","custom","textContent","render","createDocumentFragment","pagination","pages","pageIndex","customOption","childElementCount","navIndex","idx","dismiss","opened","createItem","renderOption","opt","html","role","build","requiresPagination","customClass","mobileDevice","tabIndex","label","dropdown","notice","tags","selectedValues","getSelectedProperties","selectedIndexes","selectClear","input","tagIndex","autocomplete","autocorrect","autocapitalize","spellcheck","tagSeperators","inputClear","inputContainer","group","optgroup","Option","setSelected","paginate","placeEl","setPlaceholder","disable","insertBefore","navigate","change","prevEl","navigating","searching","lastElementChild","firstElementChild","optsRect","load","addTag","docFrag","customSelected","renderSelection","tag","btn","$2","ac","bc","ax","shift","by","nn","tg","removeTag","scrollHeight","total","page","clearSearch","Selectr","rendered","originalType","originalIndex","originalOptionCount","bindEvents","update","selectedIndex","getSelected","querySelectorAll","events","reset","changedTouches","toggle","indexes","changes","last","added","removed","getChangedOptions","deselect","k","setMessage","invert","paginateItems","setValue","replaceChild","maxSelections","force","selIndex","valIndex","getValue","toObject","toJson","checkDuplicate","dupe","getOptionByIndex","getOptionByValue","removeAll","removeMessage","firstEl","open","blur","enable","serialise","serialize","rt","oh","wh","innerHeight","isInverted","naturalSort","oFxNcL","oFyNcL","re","sre","dre","hre","ore","insensitive","xN","yN","xD","yD","cLoc","numS","createAbsoluteAnchor","_util__WEBPACK_IMPORTED_MODULE_0__","onDestroy","destroyOnMouseOut","getRootNode","isOutside","destroyIfOutside","boxSizing","mousedown","mousewheel","destroyTimer","onmouseover","onmouseout","VanillaPicker","Picker","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","isNode","Node","nodeType","observable","callbacks","watch","trigger","detail","unprevented","isHidden","getComputedStyle","Elem","buildOverlay","getOption","make","clazz","stylize","zIndex","background","onClick","styles","_clazz","callback","attr","anyAncestor","predicate","isVisible","autoinc","buildClose","borderRadius","border","cursor","fontSize","textAlign","lineHeight","buildElemAccessor","builder","escapeKey","tabKey","documentElement","keycode","_options","afterCreateEvent","beforeShowEvent","afterShowEvent","beforeCloseEvent","afterCloseEvent","defaultValue","iface","built","shadowElem","closeElem","forceClose","returnIface","id","buildModal","overlay","isEnabled","selector","msMatchesSelector","webkitMatchesSelector","canFocus","hasAttribute","firstFocusable","getElementsByTagName","focused","beforeShow","afterShow","focusable","lastFocusable","manageFocus","overlayElem","buildDom","opts","beforeClose","origOverflow","manageBodyOverflow","ErrorTable","errorTableVisible","onToggleVisibility","onFocusLine","onChangeHeight","validationErrorsContainer","additionalErrorsIndication","validationErrorIcon","validationErrorCount","parseErrorIndication","errors","errorLocations","_this","validationErrors","tbody","errLoc","loc","trEl","onscroll","statusBar","validationErrorsCount","toggleTableVisibility","webpackPolyfill","deprecate","URI","SchemaObject","traverse","resolve","ref","refVal","_refs","_schemas","inlineRef","_opts","inlineRefs","_compile","baseId","resolveSchema","refPath","_getFullPath","getFullPath","_getId","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","url","ids","schemaId","baseIds","fullPaths","localRefs","self","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","PREVENT_SCOPE_CHANGE","fragment","part","$ref","SIMPLE_INLINED","checkNoRef","countKeys","count","normalize","TRAILING_SLASH_HASH","keyList","hasProp","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","MissingRefError","missingRef","missingSchema","errorSubclass","Subclass","Validation","ajv","validation","MissingRef","ace","jsonWorkerDataUrl","setModuleUrl","ace_default","tryRequireThemeJsonEditor","textModeMixins","textmode","format","mainMenuBar","enableSort","enableTransform","indentation","_ace","warn","theme","onTextSelectionChange","aceEditor","textarea","validateSchema","annotations","lastSchemaErrors","_debouncedValidate","DEBOUNCE_INTERVAL","clientWidth","onkeydown","_onKeyDown","focusTrackerConfig","frameFocusTracker","buttonFormat","_onChange","_onError","buttonCompact","compact","_sort","_showSortModal","_showTransformModal","buttonRepair","modeSwitcher","setMode","poweredBy","href","emptyNode","isReadOnly","onEditable","editorDom","edit","aceSession","getSession","$blockScrolling","setTheme","setOptions","readOnly","setShowPrintMargin","setFontSize","setTabSize","setUseSoftTabs","setUseWrapMode","originalSetAnnotations","setAnnotations","commands","bindKey","_onSelect","onchange","onselect","onmousedown","_onMouseDown","onblur","_onBlur","errorTable","isFocused","setTextSelection","totalHeight","marginBottom","paddingBottom","getErrorTable","curserInfoElements","lnLabel","lnVal","colLabel","colVal","countLabel","countVal","getErrorCounter","getWarningIcon","getErrorIcon","setSchema","schemaRefs","onChangeDisabled","onChange","onChangeText","getText","modalAnchor","sortedBy","sortedJson","_sortedJson","updatedJson","_updateCursorInfo","_emitSelectionChange","ctrlKey","col","selectionRange","cursorInfo","updateDisplay","curserPos","getCursorPosition","selectedText","getSelectedText","_selectionChangedHandler","currentSelection","getTextSelection","_refreshAnnotations","session","errEnnotations","getAnnotations","annotation","_setText","repairedText","resize","setText","updateText","jsonText","clearHistory","escapeUnicode","getUndoManager","schemaErrors","parseErrors","validationSequence","seq","onValidate","Promise","customValidateResults","customValidationPathErrors","valid","reject","validateCustom","customValidationErrors","_renderErrors","onValidationError","errorPaths","reduce","acc","source","setErrors","aceSelection","getRange","lead","getSelectionLead","startPos","endPos","setSelectionRange","selectionScrollPos","_range","setRange","scrollToLine","jsonlint","trace","yy","symbols_","terminals_","2","4","6","8","10","11","14","17","18","21","22","23","24","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","table","3","5","7","9","12","13","15","16","1","19","20","25","defaultActions","parseError","stack","vstack","lstack","recovering","lexer","setInput","yylloc","yyloc","lex","symbol","preErrorSymbol","state","newState","yyval","errStr","showPosition","first_line","last_line","first_column","last_column","EOF","_input","_more","_less","done","conditionStack","unput","less","pastInput","past","substr","upcomingInput","pre","tempMatch","lines","_currentRules","flex","begin","popState","pop","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","Element","polyfill","CharacterData","DocumentType","cmp","cycles","aobj","bobj","seen","seenIndex","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","strictKeywords","$unknownKwd","keywords","$keywordsMsg","logger","isTop","sourceCode","processCode","$lvl","level","$dataLvl","dataLevel","$schema","$schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","errorPath","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","default","useDefaults","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","nullable","extendRefs","$comment","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","arr2","i2","l2","properties","arr3","$propertyKey","i3","l3","$sch","$passData","useDefault","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","implements","impl","$ruleImplementsSomeKeyword","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","unicode","escapedChars","A_CODE","_","pos","bigint","BigInt","_parse","ptr","topLevel","whitespace","char","getChar","read","backChar","itemPtr","wasUnexpectedToken","parseArray","getLoc","propPtr","mapLoc","parseObject","numStr","getDigits","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","parseNumber","unexpectedToken","loop","getCharCode","checkUnexpectedEnd","fromCharCode","digits","SyntaxError","validType","wsPos","wsColumn","wsLine","es6","Map","_stringify","_data","quoted","BYTES_PER_ELEMENT","stringifyMapSet","Set","itemLvl","propLvl","isSet","entries","entry","VALID_TYPES","ESC_QUOTE","ESC_B","ESC_F","ESC_N","ESC_R","ESC_T","ESC_0","ESC_1","treeModeMixins","previewModeMixins","_require4","Ajv","tryRequireAjv","JSONEditor","ieVersion","onError","editable","onChangeJSON","VALID_OPTIONS","_create","setName","getName","oldMode","asText","onModeChange","getMode","addMetaSchema","removeSchema","addSchema","refresh","registerMode","reserved","global","define","deps","payload","payloads","_require","parentId","lookup","dep","require","packagedModule","moduleName","normalizeModule","chunks","previous","mod","uri","packaged","exportAce","real","compliantExecNpcg","compliantLastIndexIncrement","lastIndex","getNativeFlags","regex","ignoreCase","multiline","extended","sticky","from","r2","_xregexp","captureNames","Empty","Function","bound","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","makeArray","lengthBefore","array_splice","deleteCount","removeCount","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","createEmpty","freezeObject","boxedString","splitString","doesDefinePropertyWork","exception","fun","thisp","every","reduceRight","sought","toInteger","getPrototypeOf","__proto__","getOwnPropertyDescriptor","setter","getOwnPropertyNames","propertyIsEnumerable","isPrototypeOf","toLocaleString","Type","defineProperties","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","seal","freeze","preventExtensions","isSealed","isFrozen","isExtensible","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","ii","dontEnum","now","ws","trimBeginRegexp","trimEndRegexp","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","os","platform","isWin","isIE","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","isMobile","useragent","refs","txt","els","childIndex","getDocumentHead","doc","head","createElementNS","removeChildren","ownerDocument","createFragment","hasCssClass","addCssClass","removeCssClass","toggleCssClass","setCssClass","include","hasCssString","sheets","importCssString","cssText","importCssStylsheet","rel","scrollbarWidth","inner","minWidth","outer","noScrollbar","offsetWidth","withScrollbar","computedStyle","setStyle","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","animationName","tx","ty","round","inherits","ctor","superCtor","super_","implement","proto","oop","Keys","ret","MODIFIER_KEYS","224","91","92","93","KEY_MODS","FUNCTION_KEYS","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","enter","escape","esc","del","mods","pow","keyCodeToString","keyString","pressedKeys","ts","addListener","wrapper","_wrapper","removeListener","stopEvent","cancelBubble","getButton","altKey","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","addMultiMouseDownListener","timeouts","callbackName","startX","startY","timer","clicks","eventNames","onMousedown","isNewClick","clientX","clientY","_clicks","onDblclick","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","$idleBlocked","onIdle","cb","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","isEqual","compare","compareRange","comparePoint","containsRange","intersects","isEnd","isStart","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","isEmpty","clone","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","stringReverse","stringRepeat","stringTrimLeft","stringTrimRight","copyObject","copyArray","deepCopy","arrayToMap","createMap","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","KEYS","MODS","valueResetRegex","TextInput","host","copied","pasted","inComposition","sendingText","tempStyle","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","hasFocus","resetSelection","$focusScroll","preventScroll","isTransformed","ancestors","curOp","command","onCompositionEnd","newValue","afterContextMenu","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","MAX_LINE_LENGTH","handleClipboardData","forceIEMime","clipboardData","mime","setData","doCopy","isCut","getCopyText","onCut","onCopy","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","compositionStartOffset","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","borderTopWidth","borderLeftWidth","maxTop","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","home","down","findKeyCommand","addIosSelectionHandler","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ay","bx","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","canScroll","isScrollableBy","speed","scrollBy","Tooltip","isOpen","$element","$parentNode","$init","setHtml","setPosition","setClassName","getHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","hideTooltip","_signal","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","DragdropHandler","blankImage","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","hasUndo","class","updateMenu","readText","writeText","ontouchstart","ontouchend","showContextMenu","pagePos","textToScreenCoordinates","pageY","hideContextMenu","handleLongTap","selectWord","touches","touchObj","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","xhr","XMLHttpRequest","onreadystatechange","readyState","responseText","send","loadScript","onload","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","handlers","_disabled_","old","removeDefaultHandler","capturing","removeAllListeners","optionsProvider","optList","setOption","getOptions","optionNames","$options","hidden","forwardTo","handlesSet","reportError","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","$moduleUrls","loadWorkerFromBlob","sharedPopups","$modes","moduleUrl","component","sep","subst","$loading","loadModule","onLoad","moduleType","afterLoad","_reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","m1","version","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","selectionChanged","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","_getCharClass","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","delta","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","isFullWidth","getScreenTabSize","$main","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","isBackwards","$setSelection","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","offsetX","screenPos","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","ranges","r1","fromJSON","rangeList","toSingleRange","MAX_TOKEN_COUNT","Tokenizer","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","adjustedregex","matchcount","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","splitChar","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","rowCount","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","$matchTokenType","iterator2","bracket","wordChars","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","getNextLineIndent","tab","checkOutdent","autoOutdent","createWorker","createModeDelegates","delegations","scope","functionName","$delegator","method","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","MAX","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","scheduleStart","$updateOnChange","getState","SearchHighlight","setRegexp","MAX_RANGES","cache","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","addList","substractPoint","containsPoint","rangeAtPoint","clipped","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","hasRedo","addSelection","startNewGroup","$useSoftTabs","$indentWithTabs","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","$scrollTop","setScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","prompt","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","docChanged","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","onResize","getTheme","getFontSize","$highlightBrackets","$bracketHighlight","$highlightPending","getMatching","$highlightTags","$highlightTagPending","$tagHighlight","prevToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","updateLines","$updateHighlightActiveLine","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","lineIndent","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","nr","fp","decimals","nnr","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","reg","wordPairs","firstCondition","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","$redoStack","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$padding","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","lastChild","stringBuilder","extraStyle","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","tabClass","spaceContent","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","$recursionLimit","_flush","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","contentRect","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","_t","transformCoordinates","clientPos","elPos","solve","det","sub","mul","m2","ut","u","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","pageX","$useTextareaForIME","addToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","$doc","cmd","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","addLineWidget","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","binarySearch","findAnnotations","arrow","Renderer","_id","getElementById","env","tagName","oldNode","createEditSession","JsonHighlightRules","MatchingBraceOutdent","BaseFoldMode","commentRegex","singleLineBlockCommentRe","tripleStarBlockCommentRe","startRegionRe","_getFoldWidgetBase","forceMultiline","getCommentRegionBlock","getSectionRange","startIndent","subRange","CStyleFoldMode","$outdent","searchboxCss","SearchBox","showReplaceForm","setEditor","searchRange","$syncOptions","$initElements","sb","replaceBox","searchOption","replaceOption","regExpOption","caseSensitiveOption","wholeWordOption","searchInput","replaceInput","searchCounter","activeInput","$searchBarKb","$closeSearchBarKb","isReplace","checked","findPrev","setSearchRange","searchRangeMarker","noMatch","updateCounter","MAX_COUNT","replaceAndFindNext","active","classCallCheck","createClass","slicedToArray","_arr","_n","_d","_e","_s","_i","sliceIterator","startsWith","padStart","pad","colorNames","tqw","qmrn","zr","bg","bsq","bck","nch","bvt","brwn","brw","ctb","hrt","chcT","cr","rnw","crns","crms","cn","Db","Dcn","Dgnr","Dgr","Dgrn","Dkhk","Dmgn","Dvgr","Drng","Drch","Dr","Dsmn","Dsgr","DsTb","DsTg","Dtrq","Dvt","ppnk","pskb","mgr","grb","rbrc","rwht","stg","chs","gnsb","gnr","gr","grn","grnw","hnw","htpn","ng","vr","khk","vnr","nrb","wngr","mnch","Lb","Lcr","Lcn","Lgnr","Lgr","Lgrn","Lpnk","Lsmn","Lsgr","Lskb","LsTg","Lstb","Lw","mgrn","mgnt","mrn","mqm","mmb","mmrc","mmpr","mmsT","mtr","mmvt","mnLb","ntc","mstr","mccs","vjw","nv","vrb","rng","rngr","rch","pgnr","pgrn","ptrq","pvtr","ppwh","pchp","pr","pnk","pm","pwrb","prp","cc","sbr","rb","sbrw","smn","nbr","sgrn","ssh","snn","svr","skb","sTb","sTgr","snw","stb","tn","thst","tmT","trqs","vt","whT","wht","hts","wgrn","printNum","decs","Color","rgba","_input$match$map","_input$match$map2","_a","hsla","_input$match$map3","_input$match$map4","_r","_g","_b","_a2","hexToRgb","nameToRgb","alpha","vals","mults","suff","hex","_rgba","_hsla","hslToRgb","rgb","printRGB","rgbToHsl","hsl","printHSL","_ref","_ref2","_ref3","_ref4","hue2rgb","EventBucket","isMatch","_doRemove","dragTrack","eventBucket","area","dragging","clamp","onMove","info","starting","bounds","relX","relY","onMouse","onTouch","onKey","bucket","_style","settings","popup","layout","editorFormat","cancelButton","onDone","onOpen","HTMLElement","_popupInited","skipKeys","transfer","colour","_setColor","openProxy","openHandler","pointerEvents","toFocus","_domEdit","domElement","doHide","knownTime","__containedEvent","closeHandler","silent","flags","failSilently","_setHSLA","setColor","toggled","_toggleDOM","_setPosition","htmlString","parseHTML","template","_domH","_domSL","_domA","_domSample","_domOkay","_domCancel","_ifPopup","_updateUI","_bindEvents","_this2","addEvent","editInput","fromEditor","popupCloseProxy","timeKeeper","onDoneProxy","elm","cssHue","cssHSL","hslString","cssHSLA","hslaString","uiH","uiSL","uiA","thumbH","thumbSL","thumbA","posY","opaque","transp","backgroundImage","printHex","actionIf","actionElse","toVisible","displayStyle","acequire","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","schemaKeyRef","getSchema","schemaObj","_addSchema","_meta","_skipValidation","checkUnique","skipValidation","throwOrLogError","defaultMeta","META_SCHEMA_ID","errorsText","keyRef","_getSchemaObj","_fragments","_getSchemaFragment","_removeAllSchemas","_cache","cacheKey","addFormat","_formats","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","put","compiling","callValidate","currentOpts","_metaOpts","_validate","compileAsync","customKeyword","addKeyword","getKeyword","removeKeyword","validateKeyword","errorClasses","ValidationError","META_IGNORE_OPTIONS","META_SUPPORT_DATA","noop","setLogger","_loadingSchemas","_compilations","_get$IdOrId","_get$Id","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","$dataSchema","metaSchema","addDefaultMetaSchema","optsSchemas","schemas","addInitialSchemas","validateGenerator","checkCompiling","compIndex","endCompiling","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","statement","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","_schema","_root","resolveRef","usePattern","useCustomRule","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","removeLocalRef","inline","regexStr","valueStr","definition","dependencies","_len","sets","_key","xl","subexp","typeOf","buildExps","isIRI","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","DIGIT$$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","maxInt","regexPunycode","regexNonASCII","regexSeparators","stringFromCharCode","error$1","RangeError","mapDomain","encoded","ucs2decode","extra","digitToBasic","adapt","numPoints","firstTime","baseMinusTMin","decode","codePoint","inputLength","bias","basic","oldi","baseMinusT","fromCodePoint","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","return","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","qMinusT","punycode","SCHEMES","pctEncChar","pctDecChars","newStr","il","c2","_c","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","scheme","userinfo","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","_address$toLowerCase$2","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","absolutePath","resolveComponents","relative","skipNormalization","tolerant","unescapeComponent","handler$1","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$2","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_x","_xl","subject","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$3","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$4","uuidComponents","uuid","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","_traverse","post","arrayKeywords","propsKeywords","skipKeywords","additionalItems","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","enum","const","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","DATE","DAYS","TIME","HOSTNAME","URITEMPLATE","JSON_POINTER_URI_FRAGMENT","date","year","month","day","isLeapYear","full","hour","minute","timeZone","fast","email","hostname","ipv4","ipv6","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","implKeywords","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$key","$dataProperties","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","$invalidName","$propertySch","$loopRequired","$itemType","KEYWORDS","keywordsJsonPointers","loadSchema","loadMetaSchemaOf","_compileAsync","loadMissingSchema","schemaPromise","removePromise","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError","simpleTypes","vanilla_picker","vanilla_picker_default","Highlighter","locked","setHighlight","_cancelUnhighlight","unhighlightTimer","NodeHistory_defineProperties","NodeHistory_NodeHistory","NodeHistory","findNode","findNodeByInternalPath","NodeHistory_classCallCheck","history","actions","editField","parentPath","updateField","oldValue","editValue","updateValue","changeType","oldType","newType","appendNodes","nodes","insertBeforeNodes","beforeNode","beforePath","insertAfterNodes","afterNode","afterPath","insertAfter","removeNodes","duplicateNodes","clonePaths","existingFieldNames","getFieldNames","moveNodes","oldParentNode","oldParentPath","newParentNode","newParentPath","oldBeforeNode","oldIndex","newIndex","fieldNames","moveBefore","newParentPathRedo","getInternalPath","oldParentPathRedo","newBeforeNode","newIndexRedo","oldIndexRedo","hideChilds","oldChilds","updateDom","updateIndexes","showChilds","newChilds","setInternalValue","timestamp","oldSelection","setDomSelection","newSelection","SearchBox_defineProperties","SearchBox_SearchBox","SearchBox_classCallCheck","lastText","results","divInput","refreshSearch","_onDelayedSearch","_onSearch","onkeyup","searchNext","searchPrevious","resultIndex","_setActiveResult","activeResult","prevNode","searchFieldActive","searchValueActive","_clearDelay","forceSearch","MAX_SEARCH_RESULTS","activeResultIndex","resultCount","TreePath_defineProperties","TreePath_TreePath","TreePath","TreePath_classCallCheck","contentMenuClicked","pathObjs","_onShowAllClick","setPath","_onSegmentClick","pathObj","selectionCallback","_onContextMenuItemClick","contextMenuCallback","sepEl","pathEl","leftRectPos","showAllBtn","naturalSort_default","js_showSortModal","js_showTransformModal","Node_defineProperties","Node_Node","Node_classCallCheck","expanded","setField","fieldEditable","internalValue","_debouncedOnChangeValue","_onChangeValue","_debouncedOnChangeField","_onChangeField","visibleChilds","getMaxVisibleChilds","maxVisibleChilds","DEFAULT_MAX_VISIBLE_CHILDS","internalPath","getIndex","findNodeByPath","parents","errorChild","updateError","fieldError","valueError","tdError","tdValue","popupAnchor","createPopup","buttonRect","popupWidth","popover","onfocus","findParents","previousField","_getDomField","childValue","visible","previousChilds","_getType","Node_hasOwnProperty","childField","findChildByProperty","recreateDom","previousValue","domAnchor","_detachFromDom","clearDom","_attachToDom","getField","_getDomValue","getInternalValue","getLevel","getNodePath","fieldInnerText","valueInnerText","cloneChilds","childClone","setParent","recurse","nextTr","getAppendDom","nextSibling","_getNextTr","getDom","getShowMoreDom","resetVisibleChilds","onClassName","addClasses","_updateCssClassName","recursivelyUpdateCssClassesOnNodes","currentNode","_hasChilds","newTr","trTemp","Node_AppendNode","lastVisibleNode","searchField","searchValue","_updateDomField","_updateDomValue","expandPathToNode","offsetTop","elementName","focusElement","containsNode","removedNode","deepEqual","propCount","_clearValueError","_unescapeHTML","_setValueError","getDomSelection","undoDiff","redoDiff","_onAction","domValue","classNames","valueType","valueIsUrl","checkbox","tdCheckbox","getUTCMilliseconds","tdSelect","valueFieldHTML","colorPicker","tdColor","_deleteDomColor","_showTimestampTag","toISOString","_updateDomDefault","domField","forceUnique","_clearFieldError","_setFieldError","inputElement","timestampTag","_updateEditability","tdDrag","domDrag","tdMenu","tdField","_createDomTree","isFirst","domTree","marginLeft","fieldText","contentEditable","_findSchema","_escapeHTML","_updateSchema","updateNodeName","_updateDomIndexes","_findEnum","borderCollapse","tdExpand","_createDomExpandButton","_createDomField","tdSeparator","_createDomValue","expandable","onEvent","highlighter","unhighlight","lock","unlock","_onExpand","_showColorPicker","escapedValue","escapedField","hasMoved","onKeyDown","nextNode","nextDom","nextDom2","oldNextNode","oldParent","multiselection","selectedNodes","firstNode","lastNode","onDuplicate","onRemove","_onInsertBefore","_onInsertAfter","endNode","_lastNode","_getElementName","homeNode","_firstNode","prevElement","_previousElement","appendDom","getNodeFromTarget","nextNode2","_previousNode","_findTopLevelNodes","nextElement","_nextElement","prevDom","previousSibling","_nextNode","_nextNode2","onColorPicker","colorAnchor","excludeNode","newNode","order","nodeA","getNestedChild","nodeB","valueA","valueB","lastTr","oldInternalValue","newInternalValue","_setRoot","Node_ShowMoreNode","firstDom","lastDom","templates","appendData","_onAppend","insertData","titles","TYPE_TITLES","_onChangeType","appendSubmenu","addTemplates","insertSubmenu","onCreateMenu","pathArray","htmlEscaped","escapedText","_escapeJSON","escaped","onNodeName","recursivelyUpdateNodeName","editableDiv","draggedNode","offsetY","onDrag","mouseup","oldCursor","oldPaths","trPrev","trNext","trFirst","trLast","trRoot","nodePrev","nodeNext","topPrev","topFirst","bottomNext","heightNext","trThis","topThis","heightThis","diffX","diffLevel","levelNext","isDescendantOf","startAutoScroll","sameParent","stopAutoScroll","composite","childSchema","foundSchema","allSchemas","nextPath","firstIndex","blurNodes","_remove","clones","targetIsColorPicker","AppendNode","trAppend","tdAppend","domText","td","appendNodeFactory","ShowMoreNode","showMoreButton","showAllButton","moreContents","moreText","_getShowMoreText","tdContents","moreTr","totalChilds","showMoreNodeFactory","defaultFilterFunction","contain","treemode","errorNodes","focusTarget","_setOptions","confirmKeys","outline","spacer","leftSide","dropDown","setEndOfContenteditable","moveToElementText","calculateWidthForText","rs","onArrowDown","onArrowUp","onEnter","onTab","startFrom","elementHint","elementStyle","getPropertyValue","marginTop","borderColor","keyDownHandler","onBlurHandler","repaint","hideDropDown","dropDownController","optionsLength","realInnerText","onMouseOver","onMouseOut","onmouseselection","__hint","vph","distanceToTop","distanceToBottom","filterFn","divRow","createDropDownController","_token","_m","wasDropDownHidden","_createFrame","_createTable","navigationBar","startNode","repairedJsonText","repairJsonText","scrollableContent","treePath","selectedNode","_updateTreePath","_validateCustom","_renderValidationErrors","setError","parentPairs","autoScrollStep","autoScrollTimer","domName","animateCallback","animateTimeout","finalScrollTop","contentOuter","oncut","onpaste","onmouseup","onfocusin","onfocusout","_onUndo","_onRedo","navBar","onSectionSelected","_onTreePathSectionSelected","onContextMenuItemSelected","_onTreePathMenuItemSelected","_showAutoComplete","_startDragDistance","_updateDragDistance","_onMultiSelectStart","pathNodes","childNode","expandTo","selectionObj","dragDistanceEvent","initialTarget","initialPageX","initialPageY","dragDistance","diffY","_onMultiSelect","_onMultiSelectEnd","clearStartAndEnd","startPath","endPath","startChild","endChild","jsonElementType","currentTarget","colgroupContent","selection1","selection2","_getNodeInstancesByRange","serializableNodes","History","calculateItemSize","_calculateHistorySize","totalSize","previewmode_textmode","previewmode","busy","busyContent","previewContent","previewText","executeWithBusyMessage","onHistoryChange","_applyHistory","fileSizeInfo","arrayInfo","_renderPreview","_setAndFireOnChange","_setTextAndFireOnChange","_set","_pushHistory","_getPrototypeOf","setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_possibleConstructorReturn","ReferenceError","_createSuper","Derived","Super","NewTarget","_setPrototypeOf","_inherits","subClass","superClass"],"mappings":"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,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,GAAI,MAAO,GAAI,KAAM,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG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","file":"static/js/6.9e408228.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","module.exports = require('./dist/jsoneditor');","/*!\n * jsoneditor.js\n *\n * @brief\n * JSONEditor is a web-based tool to view, edit, format, and validate JSON.\n * It has various modes such as a tree editor, a code editor, and a plain text\n * editor.\n *\n * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+\n *\n * @license\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License. You may obtain a copy\n * of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n *\n * Copyright (c) 2011-2019 Jos de Jong, http://jsoneditoronline.org\n *\n * @author  Jos de Jong, <wjosdejong@gmail.com>\n * @version 7.5.0\n * @date    2019-12-08\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"JSONEditor\"] = factory();else root[\"JSONEditor\"] = factory();\n})(window, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 35);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__);\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"parse\", function () {\n        return parse;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"repair\", function () {\n        return repair;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"escapeUnicodeChars\", function () {\n        return escapeUnicodeChars;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"validate\", function () {\n        return validate;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"extend\", function () {\n        return extend;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"clear\", function () {\n        return clear;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getType\", function () {\n        return getType;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isUrl\", function () {\n        return isUrl;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isArray\", function () {\n        return isArray;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getAbsoluteLeft\", function () {\n        return getAbsoluteLeft;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getAbsoluteTop\", function () {\n        return getAbsoluteTop;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"addClassName\", function () {\n        return addClassName;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"removeAllClassNames\", function () {\n        return removeAllClassNames;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"removeClassName\", function () {\n        return removeClassName;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"stripFormatting\", function () {\n        return stripFormatting;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"setEndOfContentEditable\", function () {\n        return setEndOfContentEditable;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"selectContentEditable\", function () {\n        return selectContentEditable;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getSelection\", function () {\n        return getSelection;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"setSelection\", function () {\n        return setSelection;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getSelectionOffset\", function () {\n        return getSelectionOffset;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"setSelectionOffset\", function () {\n        return setSelectionOffset;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getInnerText\", function () {\n        return getInnerText;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"hasParentNode\", function () {\n        return hasParentNode;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getInternetExplorerVersion\", function () {\n        return getInternetExplorerVersion;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isFirefox\", function () {\n        return isFirefox;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"addEventListener\", function () {\n        return addEventListener;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"removeEventListener\", function () {\n        return removeEventListener;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isChildOf\", function () {\n        return isChildOf;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"parsePath\", function () {\n        return parsePath;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"stringifyPath\", function () {\n        return stringifyPath;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"improveSchemaError\", function () {\n        return improveSchemaError;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isPromise\", function () {\n        return isPromise;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isValidValidationError\", function () {\n        return isValidValidationError;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"insideRect\", function () {\n        return insideRect;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"debounce\", function () {\n        return debounce;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"textDiff\", function () {\n        return textDiff;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getInputSelection\", function () {\n        return getInputSelection;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getIndexForPosition\", function () {\n        return getIndexForPosition;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getPositionForPath\", function () {\n        return getPositionForPath;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"compileJSONPointer\", function () {\n        return compileJSONPointer;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getColorCSS\", function () {\n        return getColorCSS;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isValidColor\", function () {\n        return isValidColor;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"makeFieldTooltip\", function () {\n        return makeFieldTooltip;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"get\", function () {\n        return get;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"findUniqueName\", function () {\n        return findUniqueName;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"getChildPaths\", function () {\n        return getChildPaths;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"sort\", function () {\n        return sort;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"sortObjectKeys\", function () {\n        return sortObjectKeys;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"parseString\", function () {\n        return parseString;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isTimestamp\", function () {\n        return isTimestamp;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"formatSize\", function () {\n        return formatSize;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"limitCharacters\", function () {\n        return limitCharacters;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isObject\", function () {\n        return isObject;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"contains\", function () {\n        return contains;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"isValidationErrorChanged\", function () {\n        return isValidationErrorChanged;\n      });\n      /* harmony import */\n\n\n      var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(24);\n      /* harmony import */\n\n\n      var _polyfills__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_polyfills__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var javascript_natural_sort__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n      /* harmony import */\n\n\n      var javascript_natural_sort__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_1__);\n      /* harmony import */\n\n\n      var _assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22);\n      /* harmony import */\n\n\n      var _assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2__);\n      /* harmony import */\n\n\n      var json_source_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(33);\n      /* harmony import */\n\n\n      var json_source_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(json_source_map__WEBPACK_IMPORTED_MODULE_3__);\n      /* harmony import */\n\n\n      var _i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n\n      function _typeof(obj) {\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          _typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          _typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n\n        return _typeof(obj);\n      }\n\n      var MAX_ITEMS_FIELDS_COLLECTION = 10000;\n      var YEAR_2000 = 946684800000;\n      /**\n       * Parse JSON using the parser built-in in the browser.\n       * On exception, the jsonString is validated and a detailed error is thrown.\n       * @param {String} jsonString\n       * @return {JSON} json\n       */\n\n      function parse(jsonString) {\n        try {\n          return JSON.parse(jsonString);\n        } catch (err) {\n          // try to throw a more detailed error message using validate\n          validate(jsonString); // rethrow the original error\n\n          throw err;\n        }\n      }\n      /**\n       * Repair a JSON-like string containing. For example changes JavaScript\n       * notation into JSON notation.\n       * This function for example changes a string like \"{a: 2, 'b': {c: 'd'}\"\n       * into '{\"a\": 2, \"b\": {\"c\": \"d\"}'\n       * @param {string} jsString\n       * @returns {string} json\n       */\n\n\n      function repair(jsString) {\n        // TODO: refactor this function, it's too large and complicated now\n        // escape all single and double quotes inside strings\n        var chars = [];\n        var i = 0; // If JSON starts with a function (characters/digits/\"_-\"), remove this function.\n        // This is useful for \"stripping\" JSONP objects to become JSON\n        // For example: /* some comment */ function_12321321 ( [{\"a\":\"b\"}] ); => [{\"a\":\"b\"}]\n\n        var match = jsString.match(/^\\s*(\\/\\*(.|[\\r\\n])*?\\*\\/)?\\s*[\\da-zA-Z_$]+\\s*\\(([\\s\\S]*)\\)\\s*;?\\s*$/);\n\n        if (match) {\n          jsString = match[3];\n        }\n\n        var controlChars = {\n          '\\b': '\\\\b',\n          '\\f': '\\\\f',\n          '\\n': '\\\\n',\n          '\\r': '\\\\r',\n          '\\t': '\\\\t'\n        };\n        var quote = '\\'';\n        var quoteDbl = '\"';\n        var quoteLeft = \"\\u2018\";\n        var quoteRight = \"\\u2019\";\n        var quoteDblLeft = \"\\u201C\";\n        var quoteDblRight = \"\\u201D\";\n        var graveAccent = \"`\";\n        var acuteAccent = \"\\xB4\"; // helper functions to get the current/prev/next character\n\n        function curr() {\n          return jsString.charAt(i);\n        }\n\n        function next() {\n          return jsString.charAt(i + 1);\n        }\n\n        function prev() {\n          return jsString.charAt(i - 1);\n        }\n\n        function isWhiteSpace(c) {\n          return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t';\n        } // get the last parsed non-whitespace character\n\n\n        function lastNonWhitespace() {\n          var p = chars.length - 1;\n\n          while (p >= 0) {\n            var pp = chars[p];\n\n            if (!isWhiteSpace(pp)) {\n              return pp;\n            }\n\n            p--;\n          }\n\n          return '';\n        } // get at the first next non-white space character\n\n\n        function nextNonWhiteSpace() {\n          var iNext = i + 1;\n\n          while (iNext < jsString.length && isWhiteSpace(jsString[iNext])) {\n            iNext++;\n          }\n\n          return jsString[iNext];\n        } // skip a block comment '/* ... */'\n\n\n        function skipBlockComment() {\n          i += 2;\n\n          while (i < jsString.length && (curr() !== '*' || next() !== '/')) {\n            i++;\n          }\n\n          i += 2;\n        } // skip a comment '// ...'\n\n\n        function skipComment() {\n          i += 2;\n\n          while (i < jsString.length && curr() !== '\\n') {\n            i++;\n          }\n        }\n        /**\n         * parse single or double quoted string. Returns the parsed string\n         * @param {string} endQuote\n         * @return {string}\n         */\n\n\n        function parseString(endQuote) {\n          var string = '';\n          string += '\"';\n          i++;\n          var c = curr();\n\n          while (i < jsString.length && c !== endQuote) {\n            if (c === '\"' && prev() !== '\\\\') {\n              // unescaped double quote, escape it\n              string += '\\\\\"';\n            } else if (c in controlChars) {\n              // replace unescaped control characters with escaped ones\n              string += controlChars[c];\n            } else if (c === '\\\\') {\n              // remove the escape character when followed by a single quote ', not needed\n              i++;\n              c = curr();\n\n              if (c !== '\\'') {\n                string += '\\\\';\n              }\n\n              string += c;\n            } else {\n              // regular character\n              string += c;\n            }\n\n            i++;\n            c = curr();\n          }\n\n          if (c === endQuote) {\n            string += '\"';\n            i++;\n          }\n\n          return string;\n        } // parse an unquoted key\n\n\n        function parseKey() {\n          var specialValues = ['null', 'true', 'false'];\n          var key = '';\n          var c = curr();\n          var regexp = /[a-zA-Z_$\\d]/; // letter, number, underscore, dollar character\n\n          while (regexp.test(c)) {\n            key += c;\n            i++;\n            c = curr();\n          }\n\n          if (specialValues.indexOf(key) === -1) {\n            return '\"' + key + '\"';\n          } else {\n            return key;\n          }\n        }\n\n        function parseMongoDataType() {\n          var c = curr();\n          var value;\n          var dataType = '';\n\n          while (/[a-zA-Z_$]/.test(c)) {\n            dataType += c;\n            i++;\n            c = curr();\n          }\n\n          if (dataType.length > 0 && c === '(') {\n            // This is an MongoDB data type like {\"_id\": ObjectId(\"123\")}\n            i++;\n            c = curr();\n\n            if (c === '\"') {\n              // a data type containing a string, like ISODate(\"2012-12-19T06:01:17.171Z\")\n              value = parseString(c);\n              c = curr();\n            } else {\n              // a data type containing a value, like 'NumberLong(2)'\n              value = '';\n\n              while (c !== ')' && c !== '') {\n                value += c;\n                i++;\n                c = curr();\n              }\n            }\n\n            if (c === ')') {\n              // skip the closing bracket at the end\n              i++; // return the value (strip the data type object)\n\n              return value;\n            } else {\n              // huh? that's unexpected. don't touch it\n              return dataType + '(' + value + c;\n            }\n          } else {\n            // hm, no Mongo data type after all\n            return dataType;\n          }\n        }\n\n        function isSpecialWhiteSpace(c) {\n          return c === \"\\xA0\" || c >= \"\\u2000\" && c <= \"\\u200A\" || c === \"\\u202F\" || c === \"\\u205F\" || c === \"\\u3000\";\n        }\n\n        while (i < jsString.length) {\n          var c = curr();\n\n          if (c === '/' && next() === '*') {\n            skipBlockComment();\n          } else if (c === '/' && next() === '/') {\n            skipComment();\n          } else if (isSpecialWhiteSpace(c)) {\n            // special white spaces (like non breaking space)\n            chars.push(' ');\n            i++;\n          } else if (c === quote) {\n            chars.push(parseString(c));\n          } else if (c === quoteDbl) {\n            chars.push(parseString(quoteDbl));\n          } else if (c === graveAccent) {\n            chars.push(parseString(acuteAccent));\n          } else if (c === quoteLeft) {\n            chars.push(parseString(quoteRight));\n          } else if (c === quoteDblLeft) {\n            chars.push(parseString(quoteDblRight));\n          } else if (c === ',' && [']', '}'].indexOf(nextNonWhiteSpace()) !== -1) {\n            // skip trailing commas\n            i++;\n          } else if (/[a-zA-Z_$]/.test(c) && ['{', ','].indexOf(lastNonWhitespace()) !== -1) {\n            // an unquoted object key (like a in '{a:2}')\n            chars.push(parseKey());\n          } else {\n            if (/[a-zA-Z_$]/.test(c)) {\n              chars.push(parseMongoDataType());\n            } else {\n              chars.push(c);\n              i++;\n            }\n          }\n        }\n\n        return chars.join('');\n      }\n      /**\n       * Escape unicode characters.\n       * For example input '\\u2661' (length 1) will output '\\\\u2661' (length 5).\n       * @param {string} text\n       * @return {string}\n       */\n\n\n      function escapeUnicodeChars( // see https://www.wikiwand.com/en/UTF-16\n      text) {\n        return (// note: we leave surrogate pairs as two individual chars,\n          // as JSON doesn't interpret them as a single unicode char.\n          text.replace(/[\\u007F-\\uFFFF]/g, function (c) {\n            return \"\\\\u\" + ('0000' + c.charCodeAt(0).toString(16)).slice(-4);\n          })\n        );\n      }\n      /**\n       * Validate a string containing a JSON object\n       * This method uses JSONLint to validate the String. If JSONLint is not\n       * available, the built-in JSON parser of the browser is used.\n       * @param {String} jsonString   String with an (invalid) JSON object\n       * @throws Error\n       */\n\n\n      function validate(jsonString) {\n        if (typeof _assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2___default.a !== 'undefined') {\n          _assets_jsonlint_jsonlint__WEBPACK_IMPORTED_MODULE_2___default.a.parse(jsonString);\n        } else {\n          JSON.parse(jsonString);\n        }\n      }\n      /**\n       * Extend object a with the properties of object b\n       * @param {Object} a\n       * @param {Object} b\n       * @return {Object} a\n       */\n\n\n      function extend(a, b) {\n        for (var prop in b) {\n          if (hasOwnProperty(b, prop)) {\n            a[prop] = b[prop];\n          }\n        }\n\n        return a;\n      }\n      /**\n       * Remove all properties from object a\n       * @param {Object} a\n       * @return {Object} a\n       */\n\n\n      function clear(a) {\n        for (var prop in a) {\n          if (hasOwnProperty(a, prop)) {\n            delete a[prop];\n          }\n        }\n\n        return a;\n      }\n      /**\n       * Get the type of an object\n       * @param {*} object\n       * @return {String} type\n       */\n\n\n      function getType(object) {\n        if (object === null) {\n          return 'null';\n        }\n\n        if (object === undefined) {\n          return 'undefined';\n        }\n\n        if (object instanceof Number || typeof object === 'number') {\n          return 'number';\n        }\n\n        if (object instanceof String || typeof object === 'string') {\n          return 'string';\n        }\n\n        if (object instanceof Boolean || typeof object === 'boolean') {\n          return 'boolean';\n        }\n\n        if (object instanceof RegExp) {\n          return 'regexp';\n        }\n\n        if (isArray(object)) {\n          return 'array';\n        }\n\n        return 'object';\n      }\n      /**\n       * Test whether a text contains a url (matches when a string starts\n       * with 'http://*' or 'https://*' and has no whitespace characters)\n       * @param {String} text\n       */\n\n\n      var isUrlRegex = /^https?:\\/\\/\\S+$/;\n\n      function isUrl(text) {\n        return (typeof text === 'string' || text instanceof String) && isUrlRegex.test(text);\n      }\n      /**\n       * Tes whether given object is an Array\n       * @param {*} obj\n       * @returns {boolean} returns true when obj is an array\n       */\n\n\n      function isArray(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n      }\n      /**\n       * Retrieve the absolute left value of a DOM element\n       * @param {Element} elem    A dom element, for example a div\n       * @return {Number} left    The absolute left position of this element\n       *                          in the browser page.\n       */\n\n\n      function getAbsoluteLeft(elem) {\n        var rect = elem.getBoundingClientRect();\n        return rect.left + window.pageXOffset || document.scrollLeft || 0;\n      }\n      /**\n       * Retrieve the absolute top value of a DOM element\n       * @param {Element} elem    A dom element, for example a div\n       * @return {Number} top     The absolute top position of this element\n       *                          in the browser page.\n       */\n\n\n      function getAbsoluteTop(elem) {\n        var rect = elem.getBoundingClientRect();\n        return rect.top + window.pageYOffset || document.scrollTop || 0;\n      }\n      /**\n       * add a className to the given elements style\n       * @param {Element} elem\n       * @param {String} className\n       */\n\n\n      function addClassName(elem, className) {\n        var classes = elem.className.split(' ');\n\n        if (classes.indexOf(className) === -1) {\n          classes.push(className); // add the class to the array\n\n          elem.className = classes.join(' ');\n        }\n      }\n      /**\n       * remove all classes from the given elements style\n       * @param {Element} elem\n       */\n\n\n      function removeAllClassNames(elem) {\n        elem.className = '';\n      }\n      /**\n       * add a className to the given elements style\n       * @param {Element} elem\n       * @param {String} className\n       */\n\n\n      function removeClassName(elem, className) {\n        var classes = elem.className.split(' ');\n        var index = classes.indexOf(className);\n\n        if (index !== -1) {\n          classes.splice(index, 1); // remove the class from the array\n\n          elem.className = classes.join(' ');\n        }\n      }\n      /**\n       * Strip the formatting from the contents of a div\n       * the formatting from the div itself is not stripped, only from its childs.\n       * @param {Element} divElement\n       */\n\n\n      function stripFormatting(divElement) {\n        var childs = divElement.childNodes;\n\n        for (var i = 0, iMax = childs.length; i < iMax; i++) {\n          var child = childs[i]; // remove the style\n\n          if (child.style) {\n            // TODO: test if child.attributes does contain style\n            child.removeAttribute('style');\n          } // remove all attributes\n\n\n          var attributes = child.attributes;\n\n          if (attributes) {\n            for (var j = attributes.length - 1; j >= 0; j--) {\n              var attribute = attributes[j];\n\n              if (attribute.specified === true) {\n                child.removeAttribute(attribute.name);\n              }\n            }\n          } // recursively strip childs\n\n\n          stripFormatting(child);\n        }\n      }\n      /**\n       * Set focus to the end of an editable div\n       * code from Nico Burns\n       * http://stackoverflow.com/users/140293/nico-burns\n       * http://stackoverflow.com/questions/1125292/how-to-move-cursor-to-end-of-contenteditable-entity\n       * @param {Element} contentEditableElement   A content editable div\n       */\n\n\n      function setEndOfContentEditable(contentEditableElement) {\n        var range, selection;\n\n        if (document.createRange) {\n          range = document.createRange(); // Create a range (a range is a like the selection but invisible)\n\n          range.selectNodeContents(contentEditableElement); // Select the entire contents of the element with the range\n\n          range.collapse(false); // collapse the range to the end point. false means collapse to end rather than the start\n\n          selection = window.getSelection(); // get the selection object (allows you to change selection)\n\n          selection.removeAllRanges(); // remove any selections already made\n\n          selection.addRange(range); // make the range you have just created the visible selection\n        }\n      }\n      /**\n       * Select all text of a content editable div.\n       * http://stackoverflow.com/a/3806004/1262753\n       * @param {Element} contentEditableElement   A content editable div\n       */\n\n\n      function selectContentEditable(contentEditableElement) {\n        if (!contentEditableElement || contentEditableElement.nodeName !== 'DIV') {\n          return;\n        }\n\n        var sel, range;\n\n        if (window.getSelection && document.createRange) {\n          range = document.createRange();\n          range.selectNodeContents(contentEditableElement);\n          sel = window.getSelection();\n          sel.removeAllRanges();\n          sel.addRange(range);\n        }\n      }\n      /**\n       * Get text selection\n       * http://stackoverflow.com/questions/4687808/contenteditable-selected-text-save-and-restore\n       * @return {Range | TextRange | null} range\n       */\n\n\n      function getSelection() {\n        if (window.getSelection) {\n          var sel = window.getSelection();\n\n          if (sel.getRangeAt && sel.rangeCount) {\n            return sel.getRangeAt(0);\n          }\n        }\n\n        return null;\n      }\n      /**\n       * Set text selection\n       * http://stackoverflow.com/questions/4687808/contenteditable-selected-text-save-and-restore\n       * @param {Range | TextRange | null} range\n       */\n\n\n      function setSelection(range) {\n        if (range) {\n          if (window.getSelection) {\n            var sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n          }\n        }\n      }\n      /**\n       * Get selected text range\n       * @return {Object} params  object containing parameters:\n       *                              {Number}  startOffset\n       *                              {Number}  endOffset\n       *                              {Element} container  HTML element holding the\n       *                                                   selected text element\n       *                          Returns null if no text selection is found\n       */\n\n\n      function getSelectionOffset() {\n        var range = getSelection();\n\n        if (range && 'startOffset' in range && 'endOffset' in range && range.startContainer && range.startContainer === range.endContainer) {\n          return {\n            startOffset: range.startOffset,\n            endOffset: range.endOffset,\n            container: range.startContainer.parentNode\n          };\n        }\n\n        return null;\n      }\n      /**\n       * Set selected text range in given element\n       * @param {Object} params   An object containing:\n       *                              {Element} container\n       *                              {Number} startOffset\n       *                              {Number} endOffset\n       */\n\n\n      function setSelectionOffset(params) {\n        if (document.createRange && window.getSelection) {\n          var selection = window.getSelection();\n\n          if (selection) {\n            var range = document.createRange();\n\n            if (!params.container.firstChild) {\n              params.container.appendChild(document.createTextNode(''));\n            } // TODO: do not suppose that the first child of the container is a textnode,\n            //       but recursively find the textnodes\n\n\n            range.setStart(params.container.firstChild, params.startOffset);\n            range.setEnd(params.container.firstChild, params.endOffset);\n            setSelection(range);\n          }\n        }\n      }\n      /**\n       * Get the inner text of an HTML element (for example a div element)\n       * @param {Element} element\n       * @param {Object} [buffer]\n       * @return {String} innerText\n       */\n\n\n      function getInnerText(element, buffer) {\n        var first = buffer === undefined;\n\n        if (first) {\n          buffer = {\n            text: '',\n            flush: function flush() {\n              var text = this.text;\n              this.text = '';\n              return text;\n            },\n            set: function set(text) {\n              this.text = text;\n            }\n          };\n        } // text node\n\n\n        if (element.nodeValue) {\n          return buffer.flush() + element.nodeValue;\n        } // divs or other HTML elements\n\n\n        if (element.hasChildNodes()) {\n          var childNodes = element.childNodes;\n          var innerText = '';\n\n          for (var i = 0, iMax = childNodes.length; i < iMax; i++) {\n            var child = childNodes[i];\n\n            if (child.nodeName === 'DIV' || child.nodeName === 'P') {\n              var prevChild = childNodes[i - 1];\n              var prevName = prevChild ? prevChild.nodeName : undefined;\n\n              if (prevName && prevName !== 'DIV' && prevName !== 'P' && prevName !== 'BR') {\n                innerText += '\\n';\n                buffer.flush();\n              }\n\n              innerText += getInnerText(child, buffer);\n              buffer.set('\\n');\n            } else if (child.nodeName === 'BR') {\n              innerText += buffer.flush();\n              buffer.set('\\n');\n            } else {\n              innerText += getInnerText(child, buffer);\n            }\n          }\n\n          return innerText;\n        } else {\n          if (element.nodeName === 'P' && getInternetExplorerVersion() !== -1) {\n            // On Internet Explorer, a <p> with hasChildNodes()==false is\n            // rendered with a new line. Note that a <p> with\n            // hasChildNodes()==true is rendered without a new line\n            // Other browsers always ensure there is a <br> inside the <p>,\n            // and if not, the <p> does not render a new line\n            return buffer.flush();\n          }\n        } // br or unknown\n\n\n        return '';\n      }\n      /**\n       * Test whether an element has the provided parent node somewhere up the node tree.\n       * @param {Element} elem\n       * @param {Element} parent\n       * @return {boolean}\n       */\n\n\n      function hasParentNode(elem, parent) {\n        var e = elem ? elem.parentNode : undefined;\n\n        while (e) {\n          if (e === parent) {\n            return true;\n          }\n\n          e = e.parentNode;\n        }\n\n        return false;\n      }\n      /**\n       * Returns the version of Internet Explorer or a -1\n       * (indicating the use of another browser).\n       * Source: http://msdn.microsoft.com/en-us/library/ms537509(v=vs.85).aspx\n       * @return {Number} Internet Explorer version, or -1 in case of an other browser\n       */\n\n\n      function getInternetExplorerVersion() {\n        if (_ieVersion === -1) {\n          var rv = -1; // Return value assumes failure.\n\n          if (typeof navigator !== 'undefined' && navigator.appName === 'Microsoft Internet Explorer') {\n            var ua = navigator.userAgent;\n            var re = new RegExp('MSIE ([0-9]+[.0-9]+)');\n\n            if (re.exec(ua) != null) {\n              rv = parseFloat(RegExp.$1);\n            }\n          }\n\n          _ieVersion = rv;\n        }\n\n        return _ieVersion;\n      }\n      /**\n       * Test whether the current browser is Firefox\n       * @returns {boolean} isFirefox\n       */\n\n\n      function isFirefox() {\n        return typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Firefox') !== -1;\n      }\n      /**\n       * cached internet explorer version\n       * @type {Number}\n       * @private\n       */\n\n\n      var _ieVersion = -1;\n      /**\n       * Add and event listener. Works for all browsers\n       * @param {Element}     element    An html element\n       * @param {string}      action     The action, for example \"click\",\n       *                                 without the prefix \"on\"\n       * @param {function}    listener   The callback function to be executed\n       * @param {boolean}     [useCapture] false by default\n       * @return {function}   the created event listener\n       */\n\n\n      function addEventListener(element, action, listener, useCapture) {\n        if (element.addEventListener) {\n          if (useCapture === undefined) {\n            useCapture = false;\n          }\n\n          if (action === 'mousewheel' && isFirefox()) {\n            action = 'DOMMouseScroll'; // For Firefox\n          }\n\n          element.addEventListener(action, listener, useCapture);\n          return listener;\n        } else if (element.attachEvent) {\n          // Old IE browsers\n          var f = function f() {\n            return listener.call(element, window.event);\n          };\n\n          element.attachEvent('on' + action, f);\n          return f;\n        }\n      }\n      /**\n       * Remove an event listener from an element\n       * @param {Element}  element   An html dom element\n       * @param {string}   action    The name of the event, for example \"mousedown\"\n       * @param {function} listener  The listener function\n       * @param {boolean}  [useCapture]   false by default\n       */\n\n\n      function removeEventListener(element, action, listener, useCapture) {\n        if (element.removeEventListener) {\n          if (useCapture === undefined) {\n            useCapture = false;\n          }\n\n          if (action === 'mousewheel' && isFirefox()) {\n            action = 'DOMMouseScroll'; // For Firefox\n          }\n\n          element.removeEventListener(action, listener, useCapture);\n        } else if (element.detachEvent) {\n          // Old IE browsers\n          element.detachEvent('on' + action, listener);\n        }\n      }\n      /**\n       * Test if an element is a child of a parent element.\n       * @param {Element} elem\n       * @param {Element} parent\n       * @return {boolean} returns true if elem is a child of the parent\n       */\n\n\n      function isChildOf(elem, parent) {\n        var e = elem.parentNode;\n\n        while (e) {\n          if (e === parent) {\n            return true;\n          }\n\n          e = e.parentNode;\n        }\n\n        return false;\n      }\n      /**\n       * Parse a JSON path like '.items[3].name' into an array\n       * @param {string} jsonPath\n       * @return {Array}\n       */\n\n\n      function parsePath(jsonPath) {\n        var path = [];\n        var i = 0;\n\n        function parseProperty() {\n          var prop = '';\n\n          while (jsonPath[i] !== undefined && /[\\w$]/.test(jsonPath[i])) {\n            prop += jsonPath[i];\n            i++;\n          }\n\n          if (prop === '') {\n            throw new Error('Invalid JSON path: property name expected at index ' + i);\n          }\n\n          return prop;\n        }\n\n        function parseIndex(end) {\n          var name = '';\n\n          while (jsonPath[i] !== undefined && jsonPath[i] !== end) {\n            name += jsonPath[i];\n            i++;\n          }\n\n          if (jsonPath[i] !== end) {\n            throw new Error('Invalid JSON path: unexpected end, character ' + end + ' expected');\n          }\n\n          return name;\n        }\n\n        while (jsonPath[i] !== undefined) {\n          if (jsonPath[i] === '.') {\n            i++;\n            path.push(parseProperty());\n          } else if (jsonPath[i] === '[') {\n            i++;\n\n            if (jsonPath[i] === '\\'' || jsonPath[i] === '\"') {\n              var end = jsonPath[i];\n              i++;\n              path.push(parseIndex(end));\n\n              if (jsonPath[i] !== end) {\n                throw new Error('Invalid JSON path: closing quote \\' expected at index ' + i);\n              }\n\n              i++;\n            } else {\n              var index = parseIndex(']').trim();\n\n              if (index.length === 0) {\n                throw new Error('Invalid JSON path: array value expected at index ' + i);\n              } // Coerce numeric indices to numbers, but ignore star\n\n\n              index = index === '*' ? index : JSON.parse(index);\n              path.push(index);\n            }\n\n            if (jsonPath[i] !== ']') {\n              throw new Error('Invalid JSON path: closing bracket ] expected at index ' + i);\n            }\n\n            i++;\n          } else {\n            throw new Error('Invalid JSON path: unexpected character \"' + jsonPath[i] + '\" at index ' + i);\n          }\n        }\n\n        return path;\n      }\n      /**\n       * Stringify an array with a path in a JSON path like '.items[3].name'\n       * @param {Array.<string | number>} path\n       * @returns {string}\n       */\n\n\n      function stringifyPath(path) {\n        return path.map(function (p) {\n          if (typeof p === 'number') {\n            return '[' + p + ']';\n          } else if (typeof p === 'string' && p.match(/^[A-Za-z0-9_$]+$/)) {\n            return '.' + p;\n          } else {\n            return '[\"' + p + '\"]';\n          }\n        }).join('');\n      }\n      /**\n       * Improve the error message of a JSON schema error\n       * @param {Object} error\n       * @return {Object} The error\n       */\n\n\n      function improveSchemaError(error) {\n        if (error.keyword === 'enum' && Array.isArray(error.schema)) {\n          var enums = error.schema;\n\n          if (enums) {\n            enums = enums.map(function (value) {\n              return JSON.stringify(value);\n            });\n\n            if (enums.length > 5) {\n              var more = ['(' + (enums.length - 5) + ' more...)'];\n              enums = enums.slice(0, 5);\n              enums.push(more);\n            }\n\n            error.message = 'should be equal to one of: ' + enums.join(', ');\n          }\n        }\n\n        if (error.keyword === 'additionalProperties') {\n          error.message = 'should NOT have additional property: ' + error.params.additionalProperty;\n        }\n\n        return error;\n      }\n      /**\n       * Test whether something is a Promise\n       * @param {*} object\n       * @returns {boolean} Returns true when object is a promise, false otherwise\n       */\n\n\n      function isPromise(object) {\n        return object && typeof object.then === 'function' && typeof object[\"catch\"] === 'function';\n      }\n      /**\n       * Test whether a custom validation error has the correct structure\n       * @param {*} validationError The error to be checked.\n       * @returns {boolean} Returns true if the structure is ok, false otherwise\n       */\n\n\n      function isValidValidationError(validationError) {\n        return _typeof(validationError) === 'object' && Array.isArray(validationError.path) && typeof validationError.message === 'string';\n      }\n      /**\n       * Test whether the child rect fits completely inside the parent rect.\n       * @param {ClientRect} parent\n       * @param {ClientRect} child\n       * @param {number} margin\n       */\n\n\n      function insideRect(parent, child, margin) {\n        var _margin = margin !== undefined ? margin : 0;\n\n        return child.left - _margin >= parent.left && child.right + _margin <= parent.right && child.top - _margin >= parent.top && child.bottom + _margin <= parent.bottom;\n      }\n      /**\n       * Returns a function, that, as long as it continues to be invoked, will not\n       * be triggered. The function will be called after it stops being called for\n       * N milliseconds.\n       *\n       * Source: https://davidwalsh.name/javascript-debounce-function\n       *\n       * @param {function} func\n       * @param {number} wait                 Number in milliseconds\n       * @param {boolean} [immediate=false]   If `immediate` is passed, trigger the\n       *                                      function on the leading edge, instead\n       *                                      of the trailing.\n       * @return {function} Return the debounced function\n       */\n\n\n      function debounce(func, wait, immediate) {\n        var timeout;\n        return function () {\n          var context = this;\n          var args = arguments;\n\n          var later = function later() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          };\n\n          var callNow = immediate && !timeout;\n          clearTimeout(timeout);\n          timeout = setTimeout(later, wait);\n          if (callNow) func.apply(context, args);\n        };\n      }\n      /**\n       * Determines the difference between two texts.\n       * Can only detect one removed or inserted block of characters.\n       * @param {string} oldText\n       * @param {string} newText\n       * @return {{start: number, end: number}} Returns the start and end\n       *                                        of the changed part in newText.\n       */\n\n\n      function textDiff(oldText, newText) {\n        var len = newText.length;\n        var start = 0;\n        var oldEnd = oldText.length;\n        var newEnd = newText.length;\n\n        while (newText.charAt(start) === oldText.charAt(start) && start < len) {\n          start++;\n        }\n\n        while (newText.charAt(newEnd - 1) === oldText.charAt(oldEnd - 1) && newEnd > start && oldEnd > 0) {\n          newEnd--;\n          oldEnd--;\n        }\n\n        return {\n          start: start,\n          end: newEnd\n        };\n      }\n      /**\n       * Return an object with the selection range or cursor position (if both have the same value)\n       * Support also old browsers (IE8-)\n       * Source: http://ourcodeworld.com/articles/read/282/how-to-get-the-current-cursor-position-and-selection-within-a-text-input-or-textarea-in-javascript\n       * @param {DOMElement} el A dom element of a textarea or input text.\n       * @return {Object} reference Object with 2 properties (start and end) with the identifier of the location of the cursor and selected text.\n       **/\n\n\n      function getInputSelection(el) {\n        var startIndex = 0;\n        var endIndex = 0;\n        var normalizedValue;\n        var range;\n        var textInputRange;\n        var len;\n        var endRange;\n\n        if (typeof el.selectionStart === 'number' && typeof el.selectionEnd === 'number') {\n          startIndex = el.selectionStart;\n          endIndex = el.selectionEnd;\n        } else {\n          range = document.selection.createRange();\n\n          if (range && range.parentElement() === el) {\n            len = el.value.length;\n            normalizedValue = el.value.replace(/\\r\\n/g, '\\n'); // Create a working TextRange that lives only in the input\n\n            textInputRange = el.createTextRange();\n            textInputRange.moveToBookmark(range.getBookmark()); // Check if the startIndex and endIndex of the selection are at the very end\n            // of the input, since moveStart/moveEnd doesn't return what we want\n            // in those cases\n\n            endRange = el.createTextRange();\n            endRange.collapse(false);\n\n            if (textInputRange.compareEndPoints('StartToEnd', endRange) > -1) {\n              startIndex = endIndex = len;\n            } else {\n              startIndex = -textInputRange.moveStart('character', -len);\n              startIndex += normalizedValue.slice(0, startIndex).split('\\n').length - 1;\n\n              if (textInputRange.compareEndPoints('EndToEnd', endRange) > -1) {\n                endIndex = len;\n              } else {\n                endIndex = -textInputRange.moveEnd('character', -len);\n                endIndex += normalizedValue.slice(0, endIndex).split('\\n').length - 1;\n              }\n            }\n          }\n        }\n\n        return {\n          startIndex: startIndex,\n          endIndex: endIndex,\n          start: _positionForIndex(startIndex),\n          end: _positionForIndex(endIndex)\n        };\n        /**\n         * Returns textarea row and column position for certain index\n         * @param {Number} index text index\n         * @returns {{row: Number, column: Number}}\n         */\n\n        function _positionForIndex(index) {\n          var textTillIndex = el.value.substring(0, index);\n          var row = (textTillIndex.match(/\\n/g) || []).length + 1;\n          var col = textTillIndex.length - textTillIndex.lastIndexOf('\\n');\n          return {\n            row: row,\n            column: col\n          };\n        }\n      }\n      /**\n       * Returns the index for certaion position in text element\n       * @param {DOMElement} el A dom element of a textarea or input text.\n       * @param {Number} row row value, > 0, if exceeds rows number - last row will be returned\n       * @param {Number} column column value, > 0, if exceeds column length - end of column will be returned\n       * @returns {Number} index of position in text, -1 if not found\n       */\n\n\n      function getIndexForPosition(el, row, column) {\n        var text = el.value || '';\n\n        if (row > 0 && column > 0) {\n          var rows = text.split('\\n', row);\n          row = Math.min(rows.length, row);\n          column = Math.min(rows[row - 1].length, column - 1);\n          var columnCount = row === 1 ? column : column + 1; // count new line on multiple rows\n\n          return rows.slice(0, row - 1).join('\\n').length + columnCount;\n        }\n\n        return -1;\n      }\n      /**\n       * Returns location of json paths in certain json string\n       * @param {String} text json string\n       * @param {Array<String>} paths array of json paths\n       * @returns {Array<{path: String, line: Number, row: Number}>}\n       */\n\n\n      function getPositionForPath(text, paths) {\n        var result = [];\n        var jsmap;\n\n        if (!paths || !paths.length) {\n          return result;\n        }\n\n        try {\n          jsmap = json_source_map__WEBPACK_IMPORTED_MODULE_3___default.a.parse(text);\n        } catch (err) {\n          return result;\n        }\n\n        paths.forEach(function (path) {\n          var pathArr = parsePath(path);\n          var pointerName = compileJSONPointer(pathArr);\n          var pointer = jsmap.pointers[pointerName];\n\n          if (pointer) {\n            result.push({\n              path: path,\n              line: pointer.key ? pointer.key.line : pointer.value ? pointer.value.line : 0,\n              column: pointer.key ? pointer.key.column : pointer.value ? pointer.value.column : 0\n            });\n          }\n        });\n        return result;\n      }\n      /**\n       * Compile a JSON Pointer\n       * WARNING: this is an incomplete implementation\n       * @param {Array.<string | number>} path\n       * @return {string}\n       */\n\n\n      function compileJSONPointer(path) {\n        return path.map(function (p) {\n          return '/' + String(p).replace(/~/g, '~0').replace(/\\//g, '~1');\n        }).join('');\n      }\n      /**\n       * Get the applied color given a color name or code\n       * Source: https://stackoverflow.com/questions/6386090/validating-css-color-names/33184805\n       * @param {string} color\n       * @returns {string | null} returns the color if the input is a valid\n       *                   color, and returns null otherwise. Example output:\n       *                   'rgba(255,0,0,0.7)' or 'rgb(255,0,0)'\n       */\n\n\n      function getColorCSS(color) {\n        var ele = document.createElement('div');\n        ele.style.color = color;\n        return ele.style.color.split(/\\s+/).join('').toLowerCase() || null;\n      }\n      /**\n       * Test if a string contains a valid color name or code.\n       * @param {string} color\n       * @returns {boolean} returns true if a valid color, false otherwise\n       */\n\n\n      function isValidColor(color) {\n        return !!getColorCSS(color);\n      }\n      /**\n       * Make a tooltip for a field based on the field's schema.\n       * @param {object} schema JSON schema\n       * @param {string} [locale] Locale code (for example, zh-CN)\n       * @returns {string} Field tooltip, may be empty string if all relevant schema properties are missing\n       */\n\n\n      function makeFieldTooltip(schema, locale) {\n        if (!schema) {\n          return '';\n        }\n\n        var tooltip = '';\n\n        if (schema.title) {\n          tooltip += schema.title;\n        }\n\n        if (schema.description) {\n          if (tooltip.length > 0) {\n            tooltip += '\\n';\n          }\n\n          tooltip += schema.description;\n        }\n\n        if (schema[\"default\"]) {\n          if (tooltip.length > 0) {\n            tooltip += '\\n\\n';\n          }\n\n          tooltip += Object(_i18n__WEBPACK_IMPORTED_MODULE_4__[\n          /* translate */\n          \"c\"])('default', undefined, locale) + '\\n';\n          tooltip += JSON.stringify(schema[\"default\"], null, 2);\n        }\n\n        if (Array.isArray(schema.examples) && schema.examples.length > 0) {\n          if (tooltip.length > 0) {\n            tooltip += '\\n\\n';\n          }\n\n          tooltip += Object(_i18n__WEBPACK_IMPORTED_MODULE_4__[\n          /* translate */\n          \"c\"])('examples', undefined, locale) + '\\n';\n          schema.examples.forEach(function (example, index) {\n            tooltip += JSON.stringify(example, null, 2);\n\n            if (index !== schema.examples.length - 1) {\n              tooltip += '\\n';\n            }\n          });\n        }\n\n        return tooltip;\n      }\n      /**\n       * Get a nested property from an object.\n       * Returns undefined when the property does not exist.\n       * @param {Object} object\n       * @param {string[]} path\n       * @return {*}\n       */\n\n\n      function get(object, path) {\n        var value = object;\n\n        for (var i = 0; i < path.length && value !== undefined && value !== null; i++) {\n          value = value[path[i]];\n        }\n\n        return value;\n      }\n      /**\n       * Find a unique name. Suffix the name with ' (copy)', '(copy 2)', etc\n       * until a unique name is found\n       * @param {string} name\n       * @param {Array} existingPropNames    Array with existing prop names\n       */\n\n\n      function findUniqueName(name, existingPropNames) {\n        var strippedName = name.replace(/ \\(copy( \\d+)?\\)$/, '');\n        var validName = strippedName;\n        var i = 1;\n\n        while (existingPropNames.indexOf(validName) !== -1) {\n          var copy = 'copy' + (i > 1 ? ' ' + i : '');\n          validName = strippedName + ' (' + copy + ')';\n          i++;\n        }\n\n        return validName;\n      }\n      /**\n       * Get the child paths of an array\n       * @param {JSON} json\n       * @param {boolean} [includeObjects=false] If true, object and array paths are returned as well\n       * @return {string[]}\n       */\n\n\n      function getChildPaths(json, includeObjects) {\n        var pathsMap = {};\n\n        function getObjectChildPaths(json, pathsMap, rootPath, includeObjects) {\n          var isValue = !Array.isArray(json) && !isObject(json);\n\n          if (isValue || includeObjects) {\n            pathsMap[rootPath || ''] = true;\n          }\n\n          if (isObject(json)) {\n            Object.keys(json).forEach(function (field) {\n              getObjectChildPaths(json[field], pathsMap, rootPath + '.' + field, includeObjects);\n            });\n          }\n        }\n\n        if (Array.isArray(json)) {\n          var max = Math.min(json.length, MAX_ITEMS_FIELDS_COLLECTION);\n\n          for (var i = 0; i < max; i++) {\n            var item = json[i];\n            getObjectChildPaths(item, pathsMap, '', includeObjects);\n          }\n        } else {\n          pathsMap[''] = true;\n        }\n\n        return Object.keys(pathsMap).sort();\n      }\n      /**\n       * Sort object keys using natural sort\n       * @param {Array} array\n       * @param {String} [path] JSON pointer\n       * @param {'asc' | 'desc'} [direction]\n       */\n\n\n      function sort(array, path, direction) {\n        var parsedPath = path && path !== '.' ? parsePath(path) : [];\n        var sign = direction === 'desc' ? -1 : 1;\n        var sortedArray = array.slice();\n        sortedArray.sort(function (a, b) {\n          var aValue = get(a, parsedPath);\n          var bValue = get(b, parsedPath);\n          return sign * (aValue > bValue ? 1 : aValue < bValue ? -1 : 0);\n        });\n        return sortedArray;\n      }\n      /**\n       * Sort object keys using natural sort\n       * @param {Object} object\n       * @param {'asc' | 'desc'} [direction]\n       */\n\n\n      function sortObjectKeys(object, direction) {\n        var sign = direction === 'desc' ? -1 : 1;\n        var sortedFields = Object.keys(object).sort(function (a, b) {\n          return sign * javascript_natural_sort__WEBPACK_IMPORTED_MODULE_1___default()(a, b);\n        });\n        var sortedObject = {};\n        sortedFields.forEach(function (field) {\n          sortedObject[field] = object[field];\n        });\n        return sortedObject;\n      }\n      /**\n       * Cast contents of a string to the correct type.\n       * This can be a string, a number, a boolean, etc\n       * @param {String} str\n       * @return {*} castedStr\n       * @private\n       */\n\n\n      function parseString(str) {\n        if (str === '') {\n          return '';\n        }\n\n        var lower = str.toLowerCase();\n\n        if (lower === 'null') {\n          return null;\n        }\n\n        if (lower === 'true') {\n          return true;\n        }\n\n        if (lower === 'false') {\n          return false;\n        }\n\n        var num = Number(str); // will nicely fail with '123ab'\n\n        var numFloat = parseFloat(str); // will nicely fail with '  '\n\n        if (!isNaN(num) && !isNaN(numFloat)) {\n          return num;\n        }\n\n        return str;\n      }\n\n      var TIMESTAMP_FIELDS = ['DATE', 'TIME', 'CREATED', 'UPDATED', 'DELETED'];\n      /**\n       * Test whether some field contains a timestamp. This is based\n       * on the number being large has a naming like \"date\" or \"time\"\n       * @param {string} field\n       * @param {number} value\n       * @return {boolean}\n       */\n\n      function isTimestamp(field, value) {\n        if (typeof value === 'number' && value > YEAR_2000 && isFinite(value) && Math.floor(value) === value && !isNaN(new Date(value).valueOf())) {\n          return true;\n        }\n\n        if (typeof field === 'string') {\n          var fieldUpper = field.toUpperCase();\n          return TIMESTAMP_FIELDS.some(function (search) {\n            return fieldUpper.indexOf(search) !== -1;\n          });\n        }\n\n        return false;\n      }\n      /**\n       * Return a human readable document size\n       * For example formatSize(7570718) outputs '7.2 MiB'\n       * @param {number} size\n       * @return {string} Returns a human readable size\n       */\n\n\n      function formatSize(size) {\n        if (size < 900) {\n          return size.toFixed() + ' B';\n        }\n\n        var KiB = size / 1024;\n\n        if (KiB < 900) {\n          return KiB.toFixed(1) + ' KiB';\n        }\n\n        var MiB = KiB / 1024;\n\n        if (MiB < 900) {\n          return MiB.toFixed(1) + ' MiB';\n        }\n\n        var GiB = MiB / 1024;\n\n        if (GiB < 900) {\n          return GiB.toFixed(1) + ' GiB';\n        }\n\n        var TiB = GiB / 1024;\n        return TiB.toFixed(1) + ' TiB';\n      }\n      /**\n       * Limit text to a maximum number of characters\n       * @param {string} text\n       * @param {number} maxCharacterCount\n       * @return {string} Returns the limited text,\n       *                  ending with '...' if the max was exceeded\n       */\n\n\n      function limitCharacters(text, maxCharacterCount) {\n        if (text.length <= maxCharacterCount) {\n          return text;\n        }\n\n        return text.slice(0, maxCharacterCount) + '...';\n      }\n      /**\n       * Test whether a value is an Object\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isObject(value) {\n        return _typeof(value) === 'object' && value !== null && !Array.isArray(value);\n      }\n      /**\n       * Helper function to test whether an array contains an item\n       * @param {Array} array\n       * @param {*} item\n       * @return {boolean} Returns true if `item` is in `array`, returns false otherwise.\n       */\n\n\n      function contains(array, item) {\n        return array.indexOf(item) !== -1;\n      }\n      /**\n       * Checkes if validation has changed from the previous execution\n       * @param {Array} currErr current validation errors\n       * @param {Array} prevErr previous validation errors\n       */\n\n\n      function isValidationErrorChanged(currErr, prevErr) {\n        if (!prevErr && !currErr) {\n          return false;\n        }\n\n        if (prevErr && !currErr || !prevErr && currErr) {\n          return true;\n        }\n\n        if (prevErr.length !== currErr.length) {\n          return true;\n        }\n\n        var _loop = function _loop(i) {\n          var pErr = void 0;\n\n          if (currErr[i].type === 'error') {\n            pErr = prevErr.find(function (p) {\n              return p.line === currErr[i].line;\n            });\n          } else {\n            pErr = prevErr.find(function (p) {\n              return p.dataPath === currErr[i].dataPath && p.schemaPath === currErr[i].schemaPath;\n            });\n          }\n\n          if (!pErr) {\n            return {\n              v: true\n            };\n          }\n        };\n\n        for (var i = 0; i < currErr.length; ++i) {\n          var _ret = _loop(i);\n\n          if (_typeof(_ret) === \"object\") return _ret.v;\n        }\n\n        return false;\n      }\n\n      function hasOwnProperty(object, key) {\n        return Object.prototype.hasOwnProperty.call(object, key);\n      }\n      /***/\n\n    },\n    /* 1 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return setLanguage;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"b\", function () {\n        return setLanguages;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"c\", function () {\n        return translate;\n      });\n      /* harmony import */\n\n\n      var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(24);\n      /* harmony import */\n\n\n      var _polyfills__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_polyfills__WEBPACK_IMPORTED_MODULE_0__);\n      /* eslint-disable no-template-curly-in-string */\n\n\n      var _locales = ['en', 'pt-BR', 'zh-CN', 'tr', 'ja', 'fr-FR'];\n      var _defs = {\n        en: {\n          array: 'Array',\n          auto: 'Auto',\n          appendText: 'Append',\n          appendTitle: 'Append a new field with type \\'auto\\' after this field (Ctrl+Shift+Ins)',\n          appendSubmenuTitle: 'Select the type of the field to be appended',\n          appendTitleAuto: 'Append a new field with type \\'auto\\' (Ctrl+Shift+Ins)',\n          ascending: 'Ascending',\n          ascendingTitle: 'Sort the childs of this ${type} in ascending order',\n          actionsMenu: 'Click to open the actions menu (Ctrl+M)',\n          collapseAll: 'Collapse all fields',\n          descending: 'Descending',\n          descendingTitle: 'Sort the childs of this ${type} in descending order',\n          drag: 'Drag to move this field (Alt+Shift+Arrows)',\n          duplicateKey: 'duplicate key',\n          duplicateText: 'Duplicate',\n          duplicateTitle: 'Duplicate selected fields (Ctrl+D)',\n          duplicateField: 'Duplicate this field (Ctrl+D)',\n          duplicateFieldError: 'Duplicate field name',\n          cannotParseFieldError: 'Cannot parse field into JSON',\n          cannotParseValueError: 'Cannot parse value into JSON',\n          empty: 'empty',\n          expandAll: 'Expand all fields',\n          expandTitle: 'Click to expand/collapse this field (Ctrl+E). \\n' + 'Ctrl+Click to expand/collapse including all childs.',\n          insert: 'Insert',\n          insertTitle: 'Insert a new field with type \\'auto\\' before this field (Ctrl+Ins)',\n          insertSub: 'Select the type of the field to be inserted',\n          object: 'Object',\n          ok: 'Ok',\n          redo: 'Redo (Ctrl+Shift+Z)',\n          removeText: 'Remove',\n          removeTitle: 'Remove selected fields (Ctrl+Del)',\n          removeField: 'Remove this field (Ctrl+Del)',\n          searchTitle: 'Search fields and values',\n          searchNextResultTitle: 'Next result (Enter)',\n          searchPreviousResultTitle: 'Previous result (Shift + Enter)',\n          selectNode: 'Select a node...',\n          showAll: 'show all',\n          showMore: 'show more',\n          showMoreStatus: 'displaying ${visibleChilds} of ${totalChilds} items.',\n          sort: 'Sort',\n          sortTitle: 'Sort the childs of this ${type}',\n          sortTitleShort: 'Sort contents',\n          sortFieldLabel: 'Field:',\n          sortDirectionLabel: 'Direction:',\n          sortFieldTitle: 'Select the nested field by which to sort the array or object',\n          sortAscending: 'Ascending',\n          sortAscendingTitle: 'Sort the selected field in ascending order',\n          sortDescending: 'Descending',\n          sortDescendingTitle: 'Sort the selected field in descending order',\n          string: 'String',\n          transform: 'Transform',\n          transformTitle: 'Filter, sort, or transform the childs of this ${type}',\n          transformTitleShort: 'Filter, sort, or transform contents',\n          extract: 'Extract',\n          extractTitle: 'Extract this ${type}',\n          transformQueryTitle: 'Enter a JMESPath query',\n          transformWizardLabel: 'Wizard',\n          transformWizardFilter: 'Filter',\n          transformWizardSortBy: 'Sort by',\n          transformWizardSelectFields: 'Select fields',\n          transformQueryLabel: 'Query',\n          transformPreviewLabel: 'Preview',\n          type: 'Type',\n          typeTitle: 'Change the type of this field',\n          openUrl: 'Ctrl+Click or Ctrl+Enter to open url in new window',\n          undo: 'Undo last action (Ctrl+Z)',\n          validationCannotMove: 'Cannot move a field into a child of itself',\n          autoType: 'Field type \"auto\". ' + 'The field type is automatically determined from the value ' + 'and can be a string, number, boolean, or null.',\n          objectType: 'Field type \"object\". ' + 'An object contains an unordered set of key/value pairs.',\n          arrayType: 'Field type \"array\". ' + 'An array contains an ordered collection of values.',\n          stringType: 'Field type \"string\". ' + 'Field type is not determined from the value, ' + 'but always returned as string.',\n          modeEditorTitle: 'Switch Editor Mode',\n          modeCodeText: 'Code',\n          modeCodeTitle: 'Switch to code highlighter',\n          modeFormText: 'Form',\n          modeFormTitle: 'Switch to form editor',\n          modeTextText: 'Text',\n          modeTextTitle: 'Switch to plain text editor',\n          modeTreeText: 'Tree',\n          modeTreeTitle: 'Switch to tree editor',\n          modeViewText: 'View',\n          modeViewTitle: 'Switch to tree view',\n          modePreviewText: 'Preview',\n          modePreviewTitle: 'Switch to preview mode',\n          examples: 'Examples',\n          \"default\": 'Default'\n        },\n        'zh-CN': {\n          array: '数组',\n          auto: '自动',\n          appendText: '追加',\n          appendTitle: '在此字段后追加一个类型为“auto”的新字段 (Ctrl+Shift+Ins)',\n          appendSubmenuTitle: '选择要追加的字段类型',\n          appendTitleAuto: '追加类型为“auto”的新字段 (Ctrl+Shift+Ins)',\n          ascending: '升序',\n          ascendingTitle: '升序排列${type}的子节点',\n          actionsMenu: '点击打开动作菜单(Ctrl+M)',\n          collapseAll: '缩进所有字段',\n          descending: '降序',\n          descendingTitle: '降序排列${type}的子节点',\n          drag: '拖拽移动该节点(Alt+Shift+Arrows)',\n          duplicateKey: '重复键',\n          duplicateText: '复制',\n          duplicateTitle: '复制选中字段(Ctrl+D)',\n          duplicateField: '复制该字段(Ctrl+D)',\n          duplicateFieldError: '重复的字段名称',\n          cannotParseFieldError: '无法将字段解析为JSON',\n          cannotParseValueError: '无法将值解析为JSON',\n          empty: '清空',\n          expandAll: '展开所有字段',\n          expandTitle: '点击 展开/收缩 该字段(Ctrl+E). \\n' + 'Ctrl+Click 展开/收缩 包含所有子节点.',\n          insert: '插入',\n          insertTitle: '在此字段前插入类型为“auto”的新字段 (Ctrl+Ins)',\n          insertSub: '选择要插入的字段类型',\n          object: '对象',\n          ok: 'Ok',\n          redo: '重做 (Ctrl+Shift+Z)',\n          removeText: '移除',\n          removeTitle: '移除选中字段 (Ctrl+Del)',\n          removeField: '移除该字段 (Ctrl+Del)',\n          selectNode: '选择一个节点...',\n          showAll: '展示全部',\n          showMore: '展示更多',\n          showMoreStatus: '显示${totalChilds}的${visibleChilds}项目.',\n          sort: '排序',\n          sortTitle: '排序${type}的子节点',\n          sortTitleShort: '内容排序',\n          sortFieldLabel: '字段：',\n          sortDirectionLabel: '方向：',\n          sortFieldTitle: '选择用于对数组或对象排序的嵌套字段',\n          sortAscending: '升序排序',\n          sortAscendingTitle: '按照该字段升序排序',\n          sortDescending: '降序排序',\n          sortDescendingTitle: '按照该字段降序排序',\n          string: '字符串',\n          transform: '变换',\n          transformTitle: '筛选，排序，或者转换${type}的子节点',\n          transformTitleShort: '筛选，排序，或者转换内容',\n          extract: '提取',\n          extractTitle: '提取这个 ${type}',\n          transformQueryTitle: '输入JMESPath查询',\n          transformWizardLabel: '向导',\n          transformWizardFilter: '筛选',\n          transformWizardSortBy: '排序',\n          transformWizardSelectFields: '选择字段',\n          transformQueryLabel: '查询',\n          transformPreviewLabel: '预览',\n          type: '类型',\n          typeTitle: '更改字段类型',\n          openUrl: 'Ctrl+Click 或者 Ctrl+Enter 在新窗口打开链接',\n          undo: '撤销上次动作 (Ctrl+Z)',\n          validationCannotMove: '无法将字段移入其子节点',\n          autoType: '字段类型 \"auto\". ' + '字段类型由值自动确定 ' + '可以为 string，number，boolean，或者 null.',\n          objectType: '字段类型 \"object\". ' + '对象包含一组无序的键/值对.',\n          arrayType: '字段类型 \"array\". ' + '数组包含值的有序集合.',\n          stringType: '字段类型 \"string\". ' + '字段类型由值自动确定，' + '但始终作为字符串返回.',\n          modeCodeText: '代码',\n          modeCodeTitle: '切换至代码高亮',\n          modeFormText: '表单',\n          modeFormTitle: '切换至表单编辑',\n          modeTextText: '文本',\n          modeTextTitle: '切换至文本编辑',\n          modeTreeText: '树',\n          modeTreeTitle: '切换至树编辑',\n          modeViewText: '视图',\n          modeViewTitle: '切换至树视图',\n          modePreviewText: '预览',\n          modePreviewTitle: '切换至预览模式',\n          examples: '例子',\n          \"default\": '缺省'\n        },\n        'pt-BR': {\n          array: 'Lista',\n          auto: 'Automatico',\n          appendText: 'Adicionar',\n          appendTitle: 'Adicionar novo campo com tipo \\'auto\\' depois deste campo (Ctrl+Shift+Ins)',\n          appendSubmenuTitle: 'Selecione o tipo do campo a ser adicionado',\n          appendTitleAuto: 'Adicionar novo campo com tipo \\'auto\\' (Ctrl+Shift+Ins)',\n          ascending: 'Ascendente',\n          ascendingTitle: 'Organizar filhor do tipo ${type} em crescente',\n          actionsMenu: 'Clique para abrir o menu de ações (Ctrl+M)',\n          collapseAll: 'Fechar todos campos',\n          descending: 'Descendente',\n          descendingTitle: 'Organizar o filhos do tipo ${type} em decrescente',\n          duplicateKey: 'chave duplicada',\n          drag: 'Arraste para mover este campo (Alt+Shift+Arrows)',\n          duplicateText: 'Duplicar',\n          duplicateTitle: 'Duplicar campos selecionados (Ctrl+D)',\n          duplicateField: 'Duplicar este campo (Ctrl+D)',\n          duplicateFieldError: 'Nome do campo duplicado',\n          cannotParseFieldError: 'Não é possível analisar o campo no JSON',\n          cannotParseValueError: 'Não é possível analisar o valor em JSON',\n          empty: 'vazio',\n          expandAll: 'Expandir todos campos',\n          expandTitle: 'Clique para expandir/encolher este campo (Ctrl+E). \\n' + 'Ctrl+Click para expandir/encolher incluindo todos os filhos.',\n          insert: 'Inserir',\n          insertTitle: 'Inserir um novo campo do tipo \\'auto\\' antes deste campo (Ctrl+Ins)',\n          insertSub: 'Selecionar o tipo de campo a ser inserido',\n          object: 'Objeto',\n          ok: 'Ok',\n          redo: 'Refazer (Ctrl+Shift+Z)',\n          removeText: 'Remover',\n          removeTitle: 'Remover campos selecionados (Ctrl+Del)',\n          removeField: 'Remover este campo (Ctrl+Del)',\n          // TODO: correctly translate\n          selectNode: 'Selecione um nódulo...',\n          showAll: 'mostrar todos',\n          showMore: 'mostrar mais',\n          // TODO: correctly translate\n          showMoreStatus: 'exibindo ${visibleChilds} de ${totalChilds} itens.',\n          sort: 'Organizar',\n          sortTitle: 'Organizar os filhos deste ${type}',\n          // TODO: correctly translate\n          sortTitleShort: 'Organizar os filhos',\n          sortFieldLabel: 'Campo:',\n          sortDirectionLabel: 'Direção:',\n          sortFieldTitle: 'Selecione um campo filho pelo qual ordenar o array ou objeto',\n          sortAscending: 'Ascendente',\n          sortAscendingTitle: 'Ordenar o campo selecionado por ordem ascendente',\n          sortDescending: 'Descendente',\n          sortDescendingTitle: 'Ordenar o campo selecionado por ordem descendente',\n          string: 'Texto',\n          // TODO: correctly translate\n          transform: 'Transformar',\n          transformTitle: 'Filtrar, ordenar ou transformar os filhos deste ${type}',\n          transformTitleShort: 'Filtrar, ordenar ou transformar conteúdos',\n          // TODO: correctly translate\n          transformQueryTitle: 'Insira uma expressão JMESPath',\n          // TODO: correctly translate\n          transformWizardLabel: 'Assistente',\n          transformWizardFilter: 'Filtro',\n          transformWizardSortBy: 'Ordenar por',\n          transformWizardSelectFields: 'Selecionar campos',\n          transformQueryLabel: 'Expressão',\n          transformPreviewLabel: 'Visualizar',\n          type: 'Tipo',\n          typeTitle: 'Mudar o tipo deste campo',\n          openUrl: 'Ctrl+Click ou Ctrl+Enter para abrir link em nova janela',\n          undo: 'Desfazer último ação (Ctrl+Z)',\n          validationCannotMove: 'Não pode mover um campo como filho dele mesmo',\n          autoType: 'Campo do tipo \"auto\". ' + 'O tipo do campo é determinao automaticamente a partir do seu valor ' + 'e pode ser texto, número, verdade/falso ou nulo.',\n          objectType: 'Campo do tipo \"objeto\". ' + 'Um objeto contém uma lista de pares com chave e valor.',\n          arrayType: 'Campo do tipo \"lista\". ' + 'Uma lista contem uma coleção de valores ordenados.',\n          stringType: 'Campo do tipo \"string\". ' + 'Campo do tipo nao é determinado através do seu valor, ' + 'mas sempre retornara um texto.',\n          examples: 'Exemplos',\n          \"default\": 'Revelia'\n        },\n        tr: {\n          array: 'Dizin',\n          auto: 'Otomatik',\n          appendText: 'Ekle',\n          appendTitle: 'Bu alanın altına \\'otomatik\\' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)',\n          appendSubmenuTitle: 'Eklenecek alanın tipini seç',\n          appendTitleAuto: '\\'Otomatik\\' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)',\n          ascending: 'Artan',\n          ascendingTitle: '${type}\\'ın alt tiplerini artan düzende sırala',\n          actionsMenu: 'Aksiyon menüsünü açmak için tıklayın (Ctrl+M)',\n          collapseAll: 'Tüm alanları kapat',\n          descending: 'Azalan',\n          descendingTitle: '${type}\\'ın alt tiplerini azalan düzende sırala',\n          drag: 'Bu alanı taşımak için sürükleyin (Alt+Shift+Arrows)',\n          duplicateKey: 'Var olan anahtar',\n          duplicateText: 'Aşağıya kopyala',\n          duplicateTitle: 'Seçili alanlardan bir daha oluştur (Ctrl+D)',\n          duplicateField: 'Bu alandan bir daha oluştur (Ctrl+D)',\n          duplicateFieldError: 'Duplicate field name',\n          cannotParseFieldError: 'Alan JSON\\'a ayrıştırılamıyor',\n          cannotParseValueError: 'JSON\\'a değer ayrıştırılamıyor',\n          empty: 'boş',\n          expandAll: 'Tüm alanları aç',\n          expandTitle: 'Bu alanı açmak/kapatmak için tıkla (Ctrl+E). \\n' + 'Alt alanlarda dahil tüm alanları açmak için Ctrl+Click ',\n          insert: 'Ekle',\n          insertTitle: 'Bu alanın üstüne \\'otomatik\\' tipinde yeni bir alan ekle (Ctrl+Ins)',\n          insertSub: 'Araya eklenecek alanın tipini seç',\n          object: 'Nesne',\n          ok: 'Tamam',\n          redo: 'Yeniden yap (Ctrl+Shift+Z)',\n          removeText: 'Kaldır',\n          removeTitle: 'Seçilen alanları kaldır (Ctrl+Del)',\n          removeField: 'Bu alanı kaldır (Ctrl+Del)',\n          selectNode: 'Bir nesne seç...',\n          showAll: 'tümünü göster',\n          showMore: 'daha fazla göster',\n          showMoreStatus: '${totalChilds} alanın ${visibleChilds} alt alanları gösteriliyor',\n          sort: 'Sırala',\n          sortTitle: '${type}\\'ın alt alanlarını sırala',\n          sortTitleShort: 'İçerikleri sırala',\n          sortFieldLabel: 'Alan:',\n          sortDirectionLabel: 'Yön:',\n          sortFieldTitle: 'Diziyi veya nesneyi sıralamak için iç içe geçmiş alanı seçin',\n          sortAscending: 'Artan',\n          sortAscendingTitle: 'Seçili alanı artan düzende sırala',\n          sortDescending: 'Azalan',\n          sortDescendingTitle: 'Seçili alanı azalan düzende sırala',\n          string: 'Karakter Dizisi',\n          transform: 'Dönüştür',\n          transformTitle: '${type}\\'ın alt alanlarını filtrele, sırala veya dönüştür',\n          transformTitleShort: 'İçerikleri filterele, sırala veya dönüştür',\n          transformQueryTitle: 'JMESPath sorgusu gir',\n          transformWizardLabel: 'Sihirbaz',\n          transformWizardFilter: 'Filtre',\n          transformWizardSortBy: 'Sırala',\n          transformWizardSelectFields: 'Alanları seç',\n          transformQueryLabel: 'Sorgu',\n          transformPreviewLabel: 'Önizleme',\n          type: 'Tip',\n          typeTitle: 'Bu alanın tipini değiştir',\n          openUrl: 'URL\\'i yeni bir pencerede açmak için Ctrl+Click veya Ctrl+Enter',\n          undo: 'Son değişikliği geri al (Ctrl+Z)',\n          validationCannotMove: 'Alt alan olarak taşınamıyor',\n          autoType: 'Alan tipi \"otomatik\". ' + 'Alan türü otomatik olarak değerden belirlenir' + 've bir dize, sayı, boolean veya null olabilir.',\n          objectType: 'Alan tipi \"nesne\". ' + 'Bir nesne, sıralanmamış bir anahtar / değer çifti kümesi içerir.',\n          arrayType: 'Alan tipi \"dizi\". ' + 'Bir dizi, düzenli değerler koleksiyonu içerir.',\n          stringType: 'Alan tipi \"karakter dizisi\". ' + 'Alan türü değerden belirlenmez,' + 'ancak her zaman karakter dizisi olarak döndürülür.',\n          modeCodeText: 'Kod',\n          modeCodeTitle: 'Kod vurgulayıcıya geç',\n          modeFormText: 'Form',\n          modeFormTitle: 'Form düzenleyiciye geç',\n          modeTextText: 'Metin',\n          modeTextTitle: 'Düz metin düzenleyiciye geç',\n          modeTreeText: 'Ağaç',\n          modeTreeTitle: 'Ağaç düzenleyiciye geç',\n          modeViewText: 'Görünüm',\n          modeViewTitle: 'Ağaç görünümüne geç',\n          examples: 'Örnekler',\n          \"default\": 'Varsayılan'\n        },\n        ja: {\n          array: '配列',\n          auto: 'オート',\n          appendText: '追加',\n          appendTitle: '次のフィールドに\"オート\"のフィールドを追加 (Ctrl+Shift+Ins)',\n          appendSubmenuTitle: '追加するフィールドの型を選択してください',\n          appendTitleAuto: '\"オート\"のフィールドを追加 (Ctrl+Shift+Ins)',\n          ascending: '昇順',\n          ascendingTitle: '${type}の子要素を昇順に並べ替え',\n          actionsMenu: 'クリックしてアクションメニューを開く (Ctrl+M)',\n          collapseAll: 'すべてを折りたたむ',\n          descending: '降順',\n          descendingTitle: '${type}の子要素を降順に並べ替え',\n          drag: 'ドラッグして選択中のフィールドを移動 (Alt+Shift+Arrows)',\n          duplicateKey: '複製キー',\n          duplicateText: '複製',\n          duplicateTitle: '選択中のフィールドを複製 (Ctrl+D)',\n          duplicateField: '選択中のフィールドを複製 (Ctrl+D)',\n          duplicateFieldError: 'フィールド名が重複しています',\n          cannotParseFieldError: 'JSONのフィールドを解析できません',\n          cannotParseValueError: 'JSONの値を解析できません',\n          empty: '空',\n          expandAll: 'すべてを展開',\n          expandTitle: 'クリックしてフィールドを展開/折りたたむ (Ctrl+E). \\n' + 'Ctrl+Click ですべての子要素を展開/折りたたむ',\n          insert: '挿入',\n          insertTitle: '選択中のフィールドの前に新しいフィールドを挿入 (Ctrl+Ins)',\n          insertSub: '挿入するフィールドの型を選択',\n          object: 'オブジェクト',\n          ok: '実行',\n          redo: 'やり直す (Ctrl+Shift+Z)',\n          removeText: '削除',\n          removeTitle: '選択中のフィールドを削除 (Ctrl+Del)',\n          removeField: '選択中のフィールドを削除 (Ctrl+Del)',\n          selectNode: 'ノードを選択...',\n          showAll: 'すべてを表示',\n          showMore: 'もっと見る',\n          showMoreStatus: '${totalChilds}個のアイテムのうち ${visibleChilds}個を表示しています。',\n          sort: '並べ替え',\n          sortTitle: '${type}の子要素を並べ替え',\n          sortTitleShort: '並べ替え',\n          sortFieldLabel: 'フィールド:',\n          sortDirectionLabel: '順序:',\n          sortFieldTitle: '配列またはオブジェクトを並び替えるためのフィールドを選択',\n          sortAscending: '昇順',\n          sortAscendingTitle: '選択中のフィールドを昇順に並び替え',\n          sortDescending: '降順',\n          sortDescendingTitle: '選択中のフィールドを降順に並び替え',\n          string: '文字列',\n          transform: '変換',\n          transformTitle: '${type}の子要素をフィルター・並び替え・変換する',\n          transformTitleShort: '内容をフィルター・並び替え・変換する',\n          extract: '抽出',\n          extractTitle: '${type}を抽出',\n          transformQueryTitle: 'JMESPathクエリを入力',\n          transformWizardLabel: 'ウィザード',\n          transformWizardFilter: 'フィルター',\n          transformWizardSortBy: '並び替え',\n          transformWizardSelectFields: 'フィールドを選択',\n          transformQueryLabel: 'クエリ',\n          transformPreviewLabel: 'プレビュー',\n          type: '型',\n          typeTitle: '選択中のフィールドの型を変更',\n          openUrl: 'Ctrl+Click または Ctrl+Enter で 新規ウィンドウでURLを開く',\n          undo: '元に戻す (Ctrl+Z)',\n          validationCannotMove: '子要素に移動できません ',\n          autoType: 'オート： ' + 'フィールドの型は値から自動的に決定されます。 ' + '(文字列・数値・ブール・null)',\n          objectType: 'オブジェクト： ' + 'オブジェクトは順序が決まっていないキーと値のペア組み合わせです。',\n          arrayType: '配列： ' + '配列は順序が決まっている値の集合体です。',\n          stringType: '文字列： ' + 'フィールド型は値から決定されませんが、' + '常に文字列として返されます。',\n          modeCodeText: 'コードモード',\n          modeCodeTitle: 'ハイライトモードに切り替え',\n          modeFormText: 'フォームモード',\n          modeFormTitle: 'フォームモードに切り替え',\n          modeTextText: 'テキストモード',\n          modeTextTitle: 'テキストモードに切り替え',\n          modeTreeText: 'ツリーモード',\n          modeTreeTitle: 'ツリーモードに切り替え',\n          modeViewText: 'ビューモード',\n          modeViewTitle: 'ビューモードに切り替え',\n          modePreviewText: 'プレビュー',\n          modePreviewTitle: 'プレビューに切り替え',\n          examples: '例',\n          \"default\": 'デフォルト'\n        },\n        'fr-FR': {\n          array: 'Liste',\n          auto: 'Auto',\n          appendText: 'Ajouter',\n          appendTitle: 'Ajouter un champ de type \\'auto\\' après ce champ (Ctrl+Shift+Ins)',\n          appendSubmenuTitle: 'Sélectionner le type du champ à ajouter',\n          appendTitleAuto: 'Ajouter un champ de type \\'auto\\' (Ctrl+Shift+Ins)',\n          ascending: 'Ascendant',\n          ascendingTitle: 'Trier les enfants de ce ${type} par ordre ascendant',\n          actionsMenu: 'Ouvrir le menu des actions (Ctrl+M)',\n          collapseAll: 'Regrouper',\n          descending: 'Descendant',\n          descendingTitle: 'Trier les enfants de ce ${type} par ordre descendant',\n          drag: 'Déplacer (Alt+Shift+Arrows)',\n          duplicateKey: 'Dupliquer la clé',\n          duplicateText: 'Dupliquer',\n          duplicateTitle: 'Dupliquer les champs sélectionnés (Ctrl+D)',\n          duplicateField: 'Dupliquer ce champ (Ctrl+D)',\n          duplicateFieldError: 'Dupliquer le nom de champ',\n          cannotParseFieldError: 'Champ impossible à parser en JSON',\n          cannotParseValueError: 'Valeur impossible à parser en JSON',\n          empty: 'vide',\n          expandAll: 'Étendre',\n          expandTitle: 'Étendre/regrouper ce champ (Ctrl+E). \\n' + 'Ctrl+Click pour étendre/regrouper avec tous les champs.',\n          insert: 'Insérer',\n          insertTitle: 'Insérer un champ de type \\'auto\\' avant ce champ (Ctrl+Ins)',\n          insertSub: 'Sélectionner le type de champ à insérer',\n          object: 'Objet',\n          ok: 'Ok',\n          redo: 'Rejouer (Ctrl+Shift+Z)',\n          removeText: 'Supprimer',\n          removeTitle: 'Supprimer les champs sélectionnés (Ctrl+Del)',\n          removeField: 'Supprimer ce champ (Ctrl+Del)',\n          searchTitle: 'Rechercher champs et valeurs',\n          searchNextResultTitle: 'Résultat suivant (Enter)',\n          searchPreviousResultTitle: 'Résultat précédent (Shift + Enter)',\n          selectNode: 'Sélectionner un nœud...',\n          showAll: 'voir tout',\n          showMore: 'voir plus',\n          showMoreStatus: '${visibleChilds} éléments affichés de ${totalChilds}.',\n          sort: 'Trier',\n          sortTitle: 'Trier les champs de ce ${type}',\n          sortTitleShort: 'Trier',\n          sortFieldLabel: 'Champ:',\n          sortDirectionLabel: 'Direction:',\n          sortFieldTitle: 'Sélectionner les champs permettant de trier les listes et objet',\n          sortAscending: 'Ascendant',\n          sortAscendingTitle: 'Trier les champs sélectionnés par ordre ascendant',\n          sortDescending: 'Descendant',\n          sortDescendingTitle: 'Trier les champs sélectionnés par ordre descendant',\n          string: 'Chaîne',\n          transform: 'Transformer',\n          transformTitle: 'Filtrer, trier, or transformer les enfants de ce ${type}',\n          transformTitleShort: 'Filtrer, trier ou transformer le contenu',\n          extract: 'Extraire',\n          extractTitle: 'Extraire ce ${type}',\n          transformQueryTitle: 'Saisir une requête JMESPath',\n          transformWizardLabel: 'Assistant',\n          transformWizardFilter: 'Filtrer',\n          transformWizardSortBy: 'Trier par',\n          transformWizardSelectFields: 'Sélectionner les champs',\n          transformQueryLabel: 'Requête',\n          transformPreviewLabel: 'Prévisualisation',\n          type: 'Type',\n          typeTitle: 'Changer le type de ce champ',\n          openUrl: 'Ctrl+Click ou Ctrl+Enter pour ouvrir l\\'url dans une autre fenêtre',\n          undo: 'Annuler la dernière action (Ctrl+Z)',\n          validationCannotMove: 'Cannot move a field into a child of itself',\n          autoType: 'Champe de type \"auto\". ' + 'Ce type de champ est automatiquement déterminé en fonction de la valeur ' + 'et peut être de type \"chaîne\", \"nombre\", \"booléen\" ou null.',\n          objectType: 'Champ de type \"objet\". ' + 'Un objet contient un ensemble non ordonné de paires clé/valeur.',\n          arrayType: 'Champ de type \"liste\". ' + 'Une liste contient une collection ordonnée de valeurs.',\n          stringType: 'Champ de type \"chaîne\". ' + 'Ce type de champ n\\'est pas déterminé en fonction de la valeur, ' + 'mais retourne systématiquement une chaîne de caractères.',\n          modeEditorTitle: 'Changer mode d\\'édition',\n          modeCodeText: 'Code',\n          modeCodeTitle: 'Activer surlignage code',\n          modeFormText: 'Formulaire',\n          modeFormTitle: 'Activer formulaire',\n          modeTextText: 'Texte',\n          modeTextTitle: 'Activer éditeur texte',\n          modeTreeText: 'Arbre',\n          modeTreeTitle: 'Activer éditeur arbre',\n          modeViewText: 'Lecture seule',\n          modeViewTitle: 'Activer vue arbre',\n          modePreviewText: 'Prévisualisation',\n          modePreviewTitle: 'Activer mode prévisualiser',\n          examples: 'Exemples',\n          \"default\": 'Défaut'\n        }\n      };\n      var _defaultLang = 'en';\n      var userLang = typeof navigator !== 'undefined' ? navigator.language || navigator.userLanguage : undefined;\n\n      var _lang = _locales.find(function (l) {\n        return l === userLang;\n      }) || _defaultLang;\n\n      function setLanguage(lang) {\n        if (!lang) {\n          return;\n        }\n\n        var langFound = _locales.find(function (l) {\n          return l === lang;\n        });\n\n        if (langFound) {\n          _lang = langFound;\n        } else {\n          console.error('Language not found');\n        }\n      }\n\n      function setLanguages(languages) {\n        if (!languages) {\n          return;\n        }\n\n        var _loop = function _loop(key) {\n          var langFound = _locales.find(function (l) {\n            return l === key;\n          });\n\n          if (!langFound) {\n            _locales.push(key);\n          }\n\n          _defs[key] = Object.assign({}, _defs[_defaultLang], _defs[key], languages[key]);\n        };\n\n        for (var key in languages) {\n          _loop(key);\n        }\n      }\n\n      function translate(key, data, lang) {\n        if (!lang) {\n          lang = _lang;\n        }\n\n        var text = _defs[lang][key];\n\n        if (data) {\n          for (key in data) {\n            text = text.replace('${' + key + '}', data[key]);\n          }\n        }\n\n        return text || key;\n      }\n      /***/\n\n    },\n    /* 2 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return DEFAULT_MODAL_ANCHOR;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"d\", function () {\n        return SIZE_LARGE;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"b\", function () {\n        return MAX_PREVIEW_CHARACTERS;\n      });\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"c\", function () {\n        return PREVIEW_HISTORY_LIMIT;\n      });\n\n      var DEFAULT_MODAL_ANCHOR = document.body;\n      var SIZE_LARGE = 10 * 1024 * 1024; // 10 MB\n\n      var MAX_PREVIEW_CHARACTERS = 20000;\n      var PREVIEW_HISTORY_LIMIT = 2 * 1024 * 1024 * 1024; // 2 GB\n\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return ContextMenu;\n      });\n      /* harmony import */\n\n\n      var _createAbsoluteAnchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n      /* harmony import */\n\n\n      var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n      /* harmony import */\n\n\n      var _i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * A context menu\n       * @param {Object[]} items    Array containing the menu structure\n       *                            TODO: describe structure\n       * @param {Object} [options]  Object with options. Available options:\n       *                            {function} close    Callback called when the\n       *                                                context menu is being closed.\n       * @constructor\n       */\n\n\n      var ContextMenu = /*#__PURE__*/function () {\n        function ContextMenu(items, options) {\n          _classCallCheck(this, ContextMenu);\n\n          this.dom = {};\n          var me = this;\n          var dom = this.dom;\n          this.anchor = undefined;\n          this.items = items;\n          this.eventListeners = {};\n          this.selection = undefined; // holds the selection before the menu was opened\n\n          this.onClose = options ? options.close : undefined; // create root element\n\n          var root = document.createElement('div');\n          root.className = 'jsoneditor-contextmenu-root';\n          dom.root = root; // create a container element\n\n          var menu = document.createElement('div');\n          menu.className = 'jsoneditor-contextmenu';\n          dom.menu = menu;\n          root.appendChild(menu); // create a list to hold the menu items\n\n          var list = document.createElement('ul');\n          list.className = 'jsoneditor-menu';\n          menu.appendChild(list);\n          dom.list = list;\n          dom.items = []; // list with all buttons\n          // create a (non-visible) button to set the focus to the menu\n\n          var focusButton = document.createElement('button');\n          focusButton.type = 'button';\n          dom.focusButton = focusButton;\n          var li = document.createElement('li');\n          li.style.overflow = 'hidden';\n          li.style.height = '0';\n          li.appendChild(focusButton);\n          list.appendChild(li);\n\n          function createMenuItems(list, domItems, items) {\n            items.forEach(function (item) {\n              if (item.type === 'separator') {\n                // create a separator\n                var separator = document.createElement('div');\n                separator.className = 'jsoneditor-separator';\n\n                var _li = document.createElement('li');\n\n                _li.appendChild(separator);\n\n                list.appendChild(_li);\n              } else {\n                var domItem = {}; // create a menu item\n\n                var _li2 = document.createElement('li');\n\n                list.appendChild(_li2); // create a button in the menu item\n\n                var button = document.createElement('button');\n                button.type = 'button';\n                button.className = item.className;\n                domItem.button = button;\n\n                if (item.title) {\n                  button.title = item.title;\n                }\n\n                if (item.click) {\n                  button.onclick = function (event) {\n                    event.preventDefault();\n                    me.hide();\n                    item.click();\n                  };\n                }\n\n                _li2.appendChild(button); // create the contents of the button\n\n\n                if (item.submenu) {\n                  // add the icon to the button\n                  var divIcon = document.createElement('div');\n                  divIcon.className = 'jsoneditor-icon';\n                  button.appendChild(divIcon);\n                  var divText = document.createElement('div');\n                  divText.className = 'jsoneditor-text' + (item.click ? '' : ' jsoneditor-right-margin');\n                  divText.appendChild(document.createTextNode(item.text));\n                  button.appendChild(divText);\n                  var buttonSubmenu;\n\n                  if (item.click) {\n                    // submenu and a button with a click handler\n                    button.className += ' jsoneditor-default';\n                    var buttonExpand = document.createElement('button');\n                    buttonExpand.type = 'button';\n                    domItem.buttonExpand = buttonExpand;\n                    buttonExpand.className = 'jsoneditor-expand';\n                    buttonExpand.innerHTML = '<div class=\"jsoneditor-expand\"></div>';\n\n                    _li2.appendChild(buttonExpand);\n\n                    if (item.submenuTitle) {\n                      buttonExpand.title = item.submenuTitle;\n                    }\n\n                    buttonSubmenu = buttonExpand;\n                  } else {\n                    // submenu and a button without a click handler\n                    var divExpand = document.createElement('div');\n                    divExpand.className = 'jsoneditor-expand';\n                    button.appendChild(divExpand);\n                    buttonSubmenu = button;\n                  } // attach a handler to expand/collapse the submenu\n\n\n                  buttonSubmenu.onclick = function (event) {\n                    event.preventDefault();\n\n                    me._onExpandItem(domItem);\n\n                    buttonSubmenu.focus();\n                  }; // create the submenu\n\n\n                  var domSubItems = [];\n                  domItem.subItems = domSubItems;\n                  var ul = document.createElement('ul');\n                  domItem.ul = ul;\n                  ul.className = 'jsoneditor-menu';\n                  ul.style.height = '0';\n\n                  _li2.appendChild(ul);\n\n                  createMenuItems(ul, domSubItems, item.submenu);\n                } else {\n                  // no submenu, just a button with clickhandler\n                  button.innerHTML = '<div class=\"jsoneditor-icon\"></div>' + '<div class=\"jsoneditor-text\">' + Object(_i18n__WEBPACK_IMPORTED_MODULE_2__[\n                  /* translate */\n                  \"c\"])(item.text) + '</div>';\n                }\n\n                domItems.push(domItem);\n              }\n            });\n          }\n\n          createMenuItems(list, this.dom.items, items); // TODO: when the editor is small, show the submenu on the right instead of inline?\n          // calculate the max height of the menu with one submenu expanded\n\n          this.maxHeight = 0; // height in pixels\n\n          items.forEach(function (item) {\n            var height = (items.length + (item.submenu ? item.submenu.length : 0)) * 24;\n            me.maxHeight = Math.max(me.maxHeight, height);\n          });\n        }\n        /**\n         * Get the currently visible buttons\n         * @return {Array.<HTMLElement>} buttons\n         * @private\n         */\n\n\n        _createClass(ContextMenu, [{\n          key: \"_getVisibleButtons\",\n          value: function _getVisibleButtons() {\n            var buttons = [];\n            var me = this;\n            this.dom.items.forEach(function (item) {\n              buttons.push(item.button);\n\n              if (item.buttonExpand) {\n                buttons.push(item.buttonExpand);\n              }\n\n              if (item.subItems && item === me.expandedItem) {\n                item.subItems.forEach(function (subItem) {\n                  buttons.push(subItem.button);\n\n                  if (subItem.buttonExpand) {\n                    buttons.push(subItem.buttonExpand);\n                  } // TODO: change to fully recursive method\n\n                });\n              }\n            });\n            return buttons;\n          }\n          /**\n           * Attach the menu to an anchor\n           * @param {HTMLElement} anchor    Anchor where the menu will be attached as sibling.\n           * @param {HTMLElement} frame     The root of the JSONEditor window\n           * @param {Boolean=} ignoreParent ignore anchor parent in regard to the calculation of the position, needed when the parent position is absolute\n           */\n\n        }, {\n          key: \"show\",\n          value: function show(anchor, frame, ignoreParent) {\n            this.hide(); // determine whether to display the menu below or above the anchor\n\n            var showBelow = true;\n            var parent = anchor.parentNode;\n            var anchorRect = anchor.getBoundingClientRect();\n            var parentRect = parent.getBoundingClientRect();\n            var frameRect = frame.getBoundingClientRect();\n            var me = this;\n            this.dom.absoluteAnchor = Object(_createAbsoluteAnchor__WEBPACK_IMPORTED_MODULE_0__[\n            /* createAbsoluteAnchor */\n            \"a\"])(anchor, frame, function () {\n              me.hide();\n            });\n\n            if (anchorRect.bottom + this.maxHeight < frameRect.bottom) {// fits below -> show below\n            } else if (anchorRect.top - this.maxHeight > frameRect.top) {\n              // fits above -> show above\n              showBelow = false;\n            } else {// doesn't fit above nor below -> show below\n            }\n\n            var topGap = ignoreParent ? 0 : anchorRect.top - parentRect.top; // position the menu\n\n            if (showBelow) {\n              // display the menu below the anchor\n              var anchorHeight = anchor.offsetHeight;\n              this.dom.menu.style.left = '0';\n              this.dom.menu.style.top = topGap + anchorHeight + 'px';\n              this.dom.menu.style.bottom = '';\n            } else {\n              // display the menu above the anchor\n              this.dom.menu.style.left = '0';\n              this.dom.menu.style.top = '';\n              this.dom.menu.style.bottom = '0px';\n            } // attach the menu to the temporary, absolute anchor\n            // parent.insertBefore(this.dom.root, anchor);\n\n\n            this.dom.absoluteAnchor.appendChild(this.dom.root); // move focus to the first button in the context menu\n\n            this.selection = Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"getSelection\"])();\n            this.anchor = anchor;\n            setTimeout(function () {\n              me.dom.focusButton.focus();\n            }, 0);\n\n            if (ContextMenu.visibleMenu) {\n              ContextMenu.visibleMenu.hide();\n            }\n\n            ContextMenu.visibleMenu = this;\n          }\n          /**\n           * Hide the context menu if visible\n           */\n\n        }, {\n          key: \"hide\",\n          value: function hide() {\n            // remove temporary absolutely positioned anchor\n            if (this.dom.absoluteAnchor) {\n              this.dom.absoluteAnchor.destroy();\n              delete this.dom.absoluteAnchor;\n            } // remove the menu from the DOM\n\n\n            if (this.dom.root.parentNode) {\n              this.dom.root.parentNode.removeChild(this.dom.root);\n\n              if (this.onClose) {\n                this.onClose();\n              }\n            }\n\n            if (ContextMenu.visibleMenu === this) {\n              ContextMenu.visibleMenu = undefined;\n            }\n          }\n          /**\n           * Expand a submenu\n           * Any currently expanded submenu will be hided.\n           * @param {Object} domItem\n           * @private\n           */\n\n        }, {\n          key: \"_onExpandItem\",\n          value: function _onExpandItem(domItem) {\n            var me = this;\n            var alreadyVisible = domItem === this.expandedItem; // hide the currently visible submenu\n\n            var expandedItem = this.expandedItem;\n\n            if (expandedItem) {\n              // var ul = expandedItem.ul;\n              expandedItem.ul.style.height = '0';\n              expandedItem.ul.style.padding = '';\n              setTimeout(function () {\n                if (me.expandedItem !== expandedItem) {\n                  expandedItem.ul.style.display = '';\n                  Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"removeClassName\"])(expandedItem.ul.parentNode, 'jsoneditor-selected');\n                }\n              }, 300); // timeout duration must match the css transition duration\n\n              this.expandedItem = undefined;\n            }\n\n            if (!alreadyVisible) {\n              var ul = domItem.ul;\n              ul.style.display = 'block'; // eslint-disable-next-line no-unused-expressions\n\n              ul.clientHeight; // force a reflow in Firefox\n\n              setTimeout(function () {\n                if (me.expandedItem === domItem) {\n                  var childsHeight = 0;\n\n                  for (var i = 0; i < ul.childNodes.length; i++) {\n                    childsHeight += ul.childNodes[i].clientHeight;\n                  }\n\n                  ul.style.height = childsHeight + 'px';\n                  ul.style.padding = '5px 10px';\n                }\n              }, 0);\n              Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"addClassName\"])(ul.parentNode, 'jsoneditor-selected');\n              this.expandedItem = domItem;\n            }\n          }\n          /**\n           * Handle onkeydown event\n           * @param {Event} event\n           * @private\n           */\n\n        }, {\n          key: \"_onKeyDown\",\n          value: function _onKeyDown(event) {\n            var target = event.target;\n            var keynum = event.which;\n            var handled = false;\n            var buttons, targetIndex, prevButton, nextButton;\n\n            if (keynum === 27) {\n              // ESC\n              // hide the menu on ESC key\n              // restore previous selection and focus\n              if (this.selection) {\n                Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"setSelection\"])(this.selection);\n              }\n\n              if (this.anchor) {\n                this.anchor.focus();\n              }\n\n              this.hide();\n              handled = true;\n            } else if (keynum === 9) {\n              // Tab\n              if (!event.shiftKey) {\n                // Tab\n                buttons = this._getVisibleButtons();\n                targetIndex = buttons.indexOf(target);\n\n                if (targetIndex === buttons.length - 1) {\n                  // move to first button\n                  buttons[0].focus();\n                  handled = true;\n                }\n              } else {\n                // Shift+Tab\n                buttons = this._getVisibleButtons();\n                targetIndex = buttons.indexOf(target);\n\n                if (targetIndex === 0) {\n                  // move to last button\n                  buttons[buttons.length - 1].focus();\n                  handled = true;\n                }\n              }\n            } else if (keynum === 37) {\n              // Arrow Left\n              if (target.className === 'jsoneditor-expand') {\n                buttons = this._getVisibleButtons();\n                targetIndex = buttons.indexOf(target);\n                prevButton = buttons[targetIndex - 1];\n\n                if (prevButton) {\n                  prevButton.focus();\n                }\n              }\n\n              handled = true;\n            } else if (keynum === 38) {\n              // Arrow Up\n              buttons = this._getVisibleButtons();\n              targetIndex = buttons.indexOf(target);\n              prevButton = buttons[targetIndex - 1];\n\n              if (prevButton && prevButton.className === 'jsoneditor-expand') {\n                // skip expand button\n                prevButton = buttons[targetIndex - 2];\n              }\n\n              if (!prevButton) {\n                // move to last button\n                prevButton = buttons[buttons.length - 1];\n              }\n\n              if (prevButton) {\n                prevButton.focus();\n              }\n\n              handled = true;\n            } else if (keynum === 39) {\n              // Arrow Right\n              buttons = this._getVisibleButtons();\n              targetIndex = buttons.indexOf(target);\n              nextButton = buttons[targetIndex + 1];\n\n              if (nextButton && nextButton.className === 'jsoneditor-expand') {\n                nextButton.focus();\n              }\n\n              handled = true;\n            } else if (keynum === 40) {\n              // Arrow Down\n              buttons = this._getVisibleButtons();\n              targetIndex = buttons.indexOf(target);\n              nextButton = buttons[targetIndex + 1];\n\n              if (nextButton && nextButton.className === 'jsoneditor-expand') {\n                // skip expand button\n                nextButton = buttons[targetIndex + 2];\n              }\n\n              if (!nextButton) {\n                // move to first button\n                nextButton = buttons[0];\n              }\n\n              if (nextButton) {\n                nextButton.focus();\n                handled = true;\n              }\n\n              handled = true;\n            } // TODO: arrow left and right\n\n\n            if (handled) {\n              event.stopPropagation();\n              event.preventDefault();\n            }\n          }\n        }]);\n\n        return ContextMenu;\n      }(); // currently displayed context menu, a singleton. We may only have one visible context menu\n\n\n      ContextMenu.visibleMenu = undefined;\n      /* unused harmony default export */\n\n      var _unused_webpack_default_export = ContextMenu;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      (function (exports) {\n        \"use strict\";\n\n        function isArray(obj) {\n          if (obj !== null) {\n            return Object.prototype.toString.call(obj) === \"[object Array]\";\n          } else {\n            return false;\n          }\n        }\n\n        function isObject(obj) {\n          if (obj !== null) {\n            return Object.prototype.toString.call(obj) === \"[object Object]\";\n          } else {\n            return false;\n          }\n        }\n\n        function strictDeepEqual(first, second) {\n          // Check the scalar case first.\n          if (first === second) {\n            return true;\n          } // Check if they are the same type.\n\n\n          var firstType = Object.prototype.toString.call(first);\n\n          if (firstType !== Object.prototype.toString.call(second)) {\n            return false;\n          } // We know that first and second have the same type so we can just check the\n          // first type from now on.\n\n\n          if (isArray(first) === true) {\n            // Short circuit if they're not the same length;\n            if (first.length !== second.length) {\n              return false;\n            }\n\n            for (var i = 0; i < first.length; i++) {\n              if (strictDeepEqual(first[i], second[i]) === false) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n\n          if (isObject(first) === true) {\n            // An object is equal if it has the same key/value pairs.\n            var keysSeen = {};\n\n            for (var key in first) {\n              if (hasOwnProperty.call(first, key)) {\n                if (strictDeepEqual(first[key], second[key]) === false) {\n                  return false;\n                }\n\n                keysSeen[key] = true;\n              }\n            } // Now check that there aren't any keys in second that weren't\n            // in first.\n\n\n            for (var key2 in second) {\n              if (hasOwnProperty.call(second, key2)) {\n                if (keysSeen[key2] !== true) {\n                  return false;\n                }\n              }\n            }\n\n            return true;\n          }\n\n          return false;\n        }\n\n        function isFalse(obj) {\n          // From the spec:\n          // A false value corresponds to the following values:\n          // Empty list\n          // Empty object\n          // Empty string\n          // False boolean\n          // null value\n          // First check the scalar values.\n          if (obj === \"\" || obj === false || obj === null) {\n            return true;\n          } else if (isArray(obj) && obj.length === 0) {\n            // Check for an empty array.\n            return true;\n          } else if (isObject(obj)) {\n            // Check for an empty object.\n            for (var key in obj) {\n              // If there are any keys, then\n              // the object is not empty so the object\n              // is not false.\n              if (obj.hasOwnProperty(key)) {\n                return false;\n              }\n            }\n\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        function objValues(obj) {\n          var keys = Object.keys(obj);\n          var values = [];\n\n          for (var i = 0; i < keys.length; i++) {\n            values.push(obj[keys[i]]);\n          }\n\n          return values;\n        }\n\n        function merge(a, b) {\n          var merged = {};\n\n          for (var key in a) {\n            merged[key] = a[key];\n          }\n\n          for (var key2 in b) {\n            merged[key2] = b[key2];\n          }\n\n          return merged;\n        }\n\n        var trimLeft;\n\n        if (typeof String.prototype.trimLeft === \"function\") {\n          trimLeft = function trimLeft(str) {\n            return str.trimLeft();\n          };\n        } else {\n          trimLeft = function trimLeft(str) {\n            return str.match(/^\\s*(.*)/)[1];\n          };\n        } // Type constants used to define functions.\n\n\n        var TYPE_NUMBER = 0;\n        var TYPE_ANY = 1;\n        var TYPE_STRING = 2;\n        var TYPE_ARRAY = 3;\n        var TYPE_OBJECT = 4;\n        var TYPE_BOOLEAN = 5;\n        var TYPE_EXPREF = 6;\n        var TYPE_NULL = 7;\n        var TYPE_ARRAY_NUMBER = 8;\n        var TYPE_ARRAY_STRING = 9;\n        var TOK_EOF = \"EOF\";\n        var TOK_UNQUOTEDIDENTIFIER = \"UnquotedIdentifier\";\n        var TOK_QUOTEDIDENTIFIER = \"QuotedIdentifier\";\n        var TOK_RBRACKET = \"Rbracket\";\n        var TOK_RPAREN = \"Rparen\";\n        var TOK_COMMA = \"Comma\";\n        var TOK_COLON = \"Colon\";\n        var TOK_RBRACE = \"Rbrace\";\n        var TOK_NUMBER = \"Number\";\n        var TOK_CURRENT = \"Current\";\n        var TOK_EXPREF = \"Expref\";\n        var TOK_PIPE = \"Pipe\";\n        var TOK_OR = \"Or\";\n        var TOK_AND = \"And\";\n        var TOK_EQ = \"EQ\";\n        var TOK_GT = \"GT\";\n        var TOK_LT = \"LT\";\n        var TOK_GTE = \"GTE\";\n        var TOK_LTE = \"LTE\";\n        var TOK_NE = \"NE\";\n        var TOK_FLATTEN = \"Flatten\";\n        var TOK_STAR = \"Star\";\n        var TOK_FILTER = \"Filter\";\n        var TOK_DOT = \"Dot\";\n        var TOK_NOT = \"Not\";\n        var TOK_LBRACE = \"Lbrace\";\n        var TOK_LBRACKET = \"Lbracket\";\n        var TOK_LPAREN = \"Lparen\";\n        var TOK_LITERAL = \"Literal\"; // The \"&\", \"[\", \"<\", \">\" tokens\n        // are not in basicToken because\n        // there are two token variants\n        // (\"&&\", \"[?\", \"<=\", \">=\").  This is specially handled\n        // below.\n\n        var basicTokens = {\n          \".\": TOK_DOT,\n          \"*\": TOK_STAR,\n          \",\": TOK_COMMA,\n          \":\": TOK_COLON,\n          \"{\": TOK_LBRACE,\n          \"}\": TOK_RBRACE,\n          \"]\": TOK_RBRACKET,\n          \"(\": TOK_LPAREN,\n          \")\": TOK_RPAREN,\n          \"@\": TOK_CURRENT\n        };\n        var operatorStartToken = {\n          \"<\": true,\n          \">\": true,\n          \"=\": true,\n          \"!\": true\n        };\n        var skipChars = {\n          \" \": true,\n          \"\\t\": true,\n          \"\\n\": true\n        };\n\n        function isAlpha(ch) {\n          return ch >= \"a\" && ch <= \"z\" || ch >= \"A\" && ch <= \"Z\" || ch === \"_\";\n        }\n\n        function isNum(ch) {\n          return ch >= \"0\" && ch <= \"9\" || ch === \"-\";\n        }\n\n        function isAlphaNum(ch) {\n          return ch >= \"a\" && ch <= \"z\" || ch >= \"A\" && ch <= \"Z\" || ch >= \"0\" && ch <= \"9\" || ch === \"_\";\n        }\n\n        function Lexer() {}\n\n        Lexer.prototype = {\n          tokenize: function tokenize(stream) {\n            var tokens = [];\n            this._current = 0;\n            var start;\n            var identifier;\n            var token;\n\n            while (this._current < stream.length) {\n              if (isAlpha(stream[this._current])) {\n                start = this._current;\n                identifier = this._consumeUnquotedIdentifier(stream);\n                tokens.push({\n                  type: TOK_UNQUOTEDIDENTIFIER,\n                  value: identifier,\n                  start: start\n                });\n              } else if (basicTokens[stream[this._current]] !== undefined) {\n                tokens.push({\n                  type: basicTokens[stream[this._current]],\n                  value: stream[this._current],\n                  start: this._current\n                });\n                this._current++;\n              } else if (isNum(stream[this._current])) {\n                token = this._consumeNumber(stream);\n                tokens.push(token);\n              } else if (stream[this._current] === \"[\") {\n                // No need to increment this._current.  This happens\n                // in _consumeLBracket\n                token = this._consumeLBracket(stream);\n                tokens.push(token);\n              } else if (stream[this._current] === \"\\\"\") {\n                start = this._current;\n                identifier = this._consumeQuotedIdentifier(stream);\n                tokens.push({\n                  type: TOK_QUOTEDIDENTIFIER,\n                  value: identifier,\n                  start: start\n                });\n              } else if (stream[this._current] === \"'\") {\n                start = this._current;\n                identifier = this._consumeRawStringLiteral(stream);\n                tokens.push({\n                  type: TOK_LITERAL,\n                  value: identifier,\n                  start: start\n                });\n              } else if (stream[this._current] === \"`\") {\n                start = this._current;\n\n                var literal = this._consumeLiteral(stream);\n\n                tokens.push({\n                  type: TOK_LITERAL,\n                  value: literal,\n                  start: start\n                });\n              } else if (operatorStartToken[stream[this._current]] !== undefined) {\n                tokens.push(this._consumeOperator(stream));\n              } else if (skipChars[stream[this._current]] !== undefined) {\n                // Ignore whitespace.\n                this._current++;\n              } else if (stream[this._current] === \"&\") {\n                start = this._current;\n                this._current++;\n\n                if (stream[this._current] === \"&\") {\n                  this._current++;\n                  tokens.push({\n                    type: TOK_AND,\n                    value: \"&&\",\n                    start: start\n                  });\n                } else {\n                  tokens.push({\n                    type: TOK_EXPREF,\n                    value: \"&\",\n                    start: start\n                  });\n                }\n              } else if (stream[this._current] === \"|\") {\n                start = this._current;\n                this._current++;\n\n                if (stream[this._current] === \"|\") {\n                  this._current++;\n                  tokens.push({\n                    type: TOK_OR,\n                    value: \"||\",\n                    start: start\n                  });\n                } else {\n                  tokens.push({\n                    type: TOK_PIPE,\n                    value: \"|\",\n                    start: start\n                  });\n                }\n              } else {\n                var error = new Error(\"Unknown character:\" + stream[this._current]);\n                error.name = \"LexerError\";\n                throw error;\n              }\n            }\n\n            return tokens;\n          },\n          _consumeUnquotedIdentifier: function _consumeUnquotedIdentifier(stream) {\n            var start = this._current;\n            this._current++;\n\n            while (this._current < stream.length && isAlphaNum(stream[this._current])) {\n              this._current++;\n            }\n\n            return stream.slice(start, this._current);\n          },\n          _consumeQuotedIdentifier: function _consumeQuotedIdentifier(stream) {\n            var start = this._current;\n            this._current++;\n            var maxLength = stream.length;\n\n            while (stream[this._current] !== \"\\\"\" && this._current < maxLength) {\n              // You can escape a double quote and you can escape an escape.\n              var current = this._current;\n\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" || stream[current + 1] === \"\\\"\")) {\n                current += 2;\n              } else {\n                current++;\n              }\n\n              this._current = current;\n            }\n\n            this._current++;\n            return JSON.parse(stream.slice(start, this._current));\n          },\n          _consumeRawStringLiteral: function _consumeRawStringLiteral(stream) {\n            var start = this._current;\n            this._current++;\n            var maxLength = stream.length;\n\n            while (stream[this._current] !== \"'\" && this._current < maxLength) {\n              // You can escape a single quote and you can escape an escape.\n              var current = this._current;\n\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" || stream[current + 1] === \"'\")) {\n                current += 2;\n              } else {\n                current++;\n              }\n\n              this._current = current;\n            }\n\n            this._current++;\n            var literal = stream.slice(start + 1, this._current - 1);\n            return literal.replace(\"\\\\'\", \"'\");\n          },\n          _consumeNumber: function _consumeNumber(stream) {\n            var start = this._current;\n            this._current++;\n            var maxLength = stream.length;\n\n            while (isNum(stream[this._current]) && this._current < maxLength) {\n              this._current++;\n            }\n\n            var value = parseInt(stream.slice(start, this._current));\n            return {\n              type: TOK_NUMBER,\n              value: value,\n              start: start\n            };\n          },\n          _consumeLBracket: function _consumeLBracket(stream) {\n            var start = this._current;\n            this._current++;\n\n            if (stream[this._current] === \"?\") {\n              this._current++;\n              return {\n                type: TOK_FILTER,\n                value: \"[?\",\n                start: start\n              };\n            } else if (stream[this._current] === \"]\") {\n              this._current++;\n              return {\n                type: TOK_FLATTEN,\n                value: \"[]\",\n                start: start\n              };\n            } else {\n              return {\n                type: TOK_LBRACKET,\n                value: \"[\",\n                start: start\n              };\n            }\n          },\n          _consumeOperator: function _consumeOperator(stream) {\n            var start = this._current;\n            var startingChar = stream[start];\n            this._current++;\n\n            if (startingChar === \"!\") {\n              if (stream[this._current] === \"=\") {\n                this._current++;\n                return {\n                  type: TOK_NE,\n                  value: \"!=\",\n                  start: start\n                };\n              } else {\n                return {\n                  type: TOK_NOT,\n                  value: \"!\",\n                  start: start\n                };\n              }\n            } else if (startingChar === \"<\") {\n              if (stream[this._current] === \"=\") {\n                this._current++;\n                return {\n                  type: TOK_LTE,\n                  value: \"<=\",\n                  start: start\n                };\n              } else {\n                return {\n                  type: TOK_LT,\n                  value: \"<\",\n                  start: start\n                };\n              }\n            } else if (startingChar === \">\") {\n              if (stream[this._current] === \"=\") {\n                this._current++;\n                return {\n                  type: TOK_GTE,\n                  value: \">=\",\n                  start: start\n                };\n              } else {\n                return {\n                  type: TOK_GT,\n                  value: \">\",\n                  start: start\n                };\n              }\n            } else if (startingChar === \"=\") {\n              if (stream[this._current] === \"=\") {\n                this._current++;\n                return {\n                  type: TOK_EQ,\n                  value: \"==\",\n                  start: start\n                };\n              }\n            }\n          },\n          _consumeLiteral: function _consumeLiteral(stream) {\n            this._current++;\n            var start = this._current;\n            var maxLength = stream.length;\n            var literal;\n\n            while (stream[this._current] !== \"`\" && this._current < maxLength) {\n              // You can escape a literal char or you can escape the escape.\n              var current = this._current;\n\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" || stream[current + 1] === \"`\")) {\n                current += 2;\n              } else {\n                current++;\n              }\n\n              this._current = current;\n            }\n\n            var literalString = trimLeft(stream.slice(start, this._current));\n            literalString = literalString.replace(\"\\\\`\", \"`\");\n\n            if (this._looksLikeJSON(literalString)) {\n              literal = JSON.parse(literalString);\n            } else {\n              // Try to JSON parse it as \"<literal>\"\n              literal = JSON.parse(\"\\\"\" + literalString + \"\\\"\");\n            } // +1 gets us to the ending \"`\", +1 to move on to the next char.\n\n\n            this._current++;\n            return literal;\n          },\n          _looksLikeJSON: function _looksLikeJSON(literalString) {\n            var startingChars = \"[{\\\"\";\n            var jsonLiterals = [\"true\", \"false\", \"null\"];\n            var numberLooking = \"-0123456789\";\n\n            if (literalString === \"\") {\n              return false;\n            } else if (startingChars.indexOf(literalString[0]) >= 0) {\n              return true;\n            } else if (jsonLiterals.indexOf(literalString) >= 0) {\n              return true;\n            } else if (numberLooking.indexOf(literalString[0]) >= 0) {\n              try {\n                JSON.parse(literalString);\n                return true;\n              } catch (ex) {\n                return false;\n              }\n            } else {\n              return false;\n            }\n          }\n        };\n        var bindingPower = {};\n        bindingPower[TOK_EOF] = 0;\n        bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;\n        bindingPower[TOK_QUOTEDIDENTIFIER] = 0;\n        bindingPower[TOK_RBRACKET] = 0;\n        bindingPower[TOK_RPAREN] = 0;\n        bindingPower[TOK_COMMA] = 0;\n        bindingPower[TOK_RBRACE] = 0;\n        bindingPower[TOK_NUMBER] = 0;\n        bindingPower[TOK_CURRENT] = 0;\n        bindingPower[TOK_EXPREF] = 0;\n        bindingPower[TOK_PIPE] = 1;\n        bindingPower[TOK_OR] = 2;\n        bindingPower[TOK_AND] = 3;\n        bindingPower[TOK_EQ] = 5;\n        bindingPower[TOK_GT] = 5;\n        bindingPower[TOK_LT] = 5;\n        bindingPower[TOK_GTE] = 5;\n        bindingPower[TOK_LTE] = 5;\n        bindingPower[TOK_NE] = 5;\n        bindingPower[TOK_FLATTEN] = 9;\n        bindingPower[TOK_STAR] = 20;\n        bindingPower[TOK_FILTER] = 21;\n        bindingPower[TOK_DOT] = 40;\n        bindingPower[TOK_NOT] = 45;\n        bindingPower[TOK_LBRACE] = 50;\n        bindingPower[TOK_LBRACKET] = 55;\n        bindingPower[TOK_LPAREN] = 60;\n\n        function Parser() {}\n\n        Parser.prototype = {\n          parse: function parse(expression) {\n            this._loadTokens(expression);\n\n            this.index = 0;\n            var ast = this.expression(0);\n\n            if (this._lookahead(0) !== TOK_EOF) {\n              var t = this._lookaheadToken(0);\n\n              var error = new Error(\"Unexpected token type: \" + t.type + \", value: \" + t.value);\n              error.name = \"ParserError\";\n              throw error;\n            }\n\n            return ast;\n          },\n          _loadTokens: function _loadTokens(expression) {\n            var lexer = new Lexer();\n            var tokens = lexer.tokenize(expression);\n            tokens.push({\n              type: TOK_EOF,\n              value: \"\",\n              start: expression.length\n            });\n            this.tokens = tokens;\n          },\n          expression: function expression(rbp) {\n            var leftToken = this._lookaheadToken(0);\n\n            this._advance();\n\n            var left = this.nud(leftToken);\n\n            var currentToken = this._lookahead(0);\n\n            while (rbp < bindingPower[currentToken]) {\n              this._advance();\n\n              left = this.led(currentToken, left);\n              currentToken = this._lookahead(0);\n            }\n\n            return left;\n          },\n          _lookahead: function _lookahead(number) {\n            return this.tokens[this.index + number].type;\n          },\n          _lookaheadToken: function _lookaheadToken(number) {\n            return this.tokens[this.index + number];\n          },\n          _advance: function _advance() {\n            this.index++;\n          },\n          nud: function nud(token) {\n            var left;\n            var right;\n            var expression;\n\n            switch (token.type) {\n              case TOK_LITERAL:\n                return {\n                  type: \"Literal\",\n                  value: token.value\n                };\n\n              case TOK_UNQUOTEDIDENTIFIER:\n                return {\n                  type: \"Field\",\n                  name: token.value\n                };\n\n              case TOK_QUOTEDIDENTIFIER:\n                var node = {\n                  type: \"Field\",\n                  name: token.value\n                };\n\n                if (this._lookahead(0) === TOK_LPAREN) {\n                  throw new Error(\"Quoted identifier not allowed for function names.\");\n                } else {\n                  return node;\n                }\n\n                break;\n\n              case TOK_NOT:\n                right = this.expression(bindingPower.Not);\n                return {\n                  type: \"NotExpression\",\n                  children: [right]\n                };\n\n              case TOK_STAR:\n                left = {\n                  type: \"Identity\"\n                };\n                right = null;\n\n                if (this._lookahead(0) === TOK_RBRACKET) {\n                  // This can happen in a multiselect,\n                  // [a, b, *]\n                  right = {\n                    type: \"Identity\"\n                  };\n                } else {\n                  right = this._parseProjectionRHS(bindingPower.Star);\n                }\n\n                return {\n                  type: \"ValueProjection\",\n                  children: [left, right]\n                };\n\n              case TOK_FILTER:\n                return this.led(token.type, {\n                  type: \"Identity\"\n                });\n\n              case TOK_LBRACE:\n                return this._parseMultiselectHash();\n\n              case TOK_FLATTEN:\n                left = {\n                  type: TOK_FLATTEN,\n                  children: [{\n                    type: \"Identity\"\n                  }]\n                };\n                right = this._parseProjectionRHS(bindingPower.Flatten);\n                return {\n                  type: \"Projection\",\n                  children: [left, right]\n                };\n\n              case TOK_LBRACKET:\n                if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {\n                  right = this._parseIndexExpression();\n                  return this._projectIfSlice({\n                    type: \"Identity\"\n                  }, right);\n                } else if (this._lookahead(0) === TOK_STAR && this._lookahead(1) === TOK_RBRACKET) {\n                  this._advance();\n\n                  this._advance();\n\n                  right = this._parseProjectionRHS(bindingPower.Star);\n                  return {\n                    type: \"Projection\",\n                    children: [{\n                      type: \"Identity\"\n                    }, right]\n                  };\n                } else {\n                  return this._parseMultiselectList();\n                }\n\n                break;\n\n              case TOK_CURRENT:\n                return {\n                  type: TOK_CURRENT\n                };\n\n              case TOK_EXPREF:\n                expression = this.expression(bindingPower.Expref);\n                return {\n                  type: \"ExpressionReference\",\n                  children: [expression]\n                };\n\n              case TOK_LPAREN:\n                var args = [];\n\n                while (this._lookahead(0) !== TOK_RPAREN) {\n                  if (this._lookahead(0) === TOK_CURRENT) {\n                    expression = {\n                      type: TOK_CURRENT\n                    };\n\n                    this._advance();\n                  } else {\n                    expression = this.expression(0);\n                  }\n\n                  args.push(expression);\n                }\n\n                this._match(TOK_RPAREN);\n\n                return args[0];\n\n              default:\n                this._errorToken(token);\n\n            }\n          },\n          led: function led(tokenName, left) {\n            var right;\n\n            switch (tokenName) {\n              case TOK_DOT:\n                var rbp = bindingPower.Dot;\n\n                if (this._lookahead(0) !== TOK_STAR) {\n                  right = this._parseDotRHS(rbp);\n                  return {\n                    type: \"Subexpression\",\n                    children: [left, right]\n                  };\n                } else {\n                  // Creating a projection.\n                  this._advance();\n\n                  right = this._parseProjectionRHS(rbp);\n                  return {\n                    type: \"ValueProjection\",\n                    children: [left, right]\n                  };\n                }\n\n                break;\n\n              case TOK_PIPE:\n                right = this.expression(bindingPower.Pipe);\n                return {\n                  type: TOK_PIPE,\n                  children: [left, right]\n                };\n\n              case TOK_OR:\n                right = this.expression(bindingPower.Or);\n                return {\n                  type: \"OrExpression\",\n                  children: [left, right]\n                };\n\n              case TOK_AND:\n                right = this.expression(bindingPower.And);\n                return {\n                  type: \"AndExpression\",\n                  children: [left, right]\n                };\n\n              case TOK_LPAREN:\n                var name = left.name;\n                var args = [];\n                var expression, node;\n\n                while (this._lookahead(0) !== TOK_RPAREN) {\n                  if (this._lookahead(0) === TOK_CURRENT) {\n                    expression = {\n                      type: TOK_CURRENT\n                    };\n\n                    this._advance();\n                  } else {\n                    expression = this.expression(0);\n                  }\n\n                  if (this._lookahead(0) === TOK_COMMA) {\n                    this._match(TOK_COMMA);\n                  }\n\n                  args.push(expression);\n                }\n\n                this._match(TOK_RPAREN);\n\n                node = {\n                  type: \"Function\",\n                  name: name,\n                  children: args\n                };\n                return node;\n\n              case TOK_FILTER:\n                var condition = this.expression(0);\n\n                this._match(TOK_RBRACKET);\n\n                if (this._lookahead(0) === TOK_FLATTEN) {\n                  right = {\n                    type: \"Identity\"\n                  };\n                } else {\n                  right = this._parseProjectionRHS(bindingPower.Filter);\n                }\n\n                return {\n                  type: \"FilterProjection\",\n                  children: [left, right, condition]\n                };\n\n              case TOK_FLATTEN:\n                var leftNode = {\n                  type: TOK_FLATTEN,\n                  children: [left]\n                };\n\n                var rightNode = this._parseProjectionRHS(bindingPower.Flatten);\n\n                return {\n                  type: \"Projection\",\n                  children: [leftNode, rightNode]\n                };\n\n              case TOK_EQ:\n              case TOK_NE:\n              case TOK_GT:\n              case TOK_GTE:\n              case TOK_LT:\n              case TOK_LTE:\n                return this._parseComparator(left, tokenName);\n\n              case TOK_LBRACKET:\n                var token = this._lookaheadToken(0);\n\n                if (token.type === TOK_NUMBER || token.type === TOK_COLON) {\n                  right = this._parseIndexExpression();\n                  return this._projectIfSlice(left, right);\n                } else {\n                  this._match(TOK_STAR);\n\n                  this._match(TOK_RBRACKET);\n\n                  right = this._parseProjectionRHS(bindingPower.Star);\n                  return {\n                    type: \"Projection\",\n                    children: [left, right]\n                  };\n                }\n\n                break;\n\n              default:\n                this._errorToken(this._lookaheadToken(0));\n\n            }\n          },\n          _match: function _match(tokenType) {\n            if (this._lookahead(0) === tokenType) {\n              this._advance();\n            } else {\n              var t = this._lookaheadToken(0);\n\n              var error = new Error(\"Expected \" + tokenType + \", got: \" + t.type);\n              error.name = \"ParserError\";\n              throw error;\n            }\n          },\n          _errorToken: function _errorToken(token) {\n            var error = new Error(\"Invalid token (\" + token.type + \"): \\\"\" + token.value + \"\\\"\");\n            error.name = \"ParserError\";\n            throw error;\n          },\n          _parseIndexExpression: function _parseIndexExpression() {\n            if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {\n              return this._parseSliceExpression();\n            } else {\n              var node = {\n                type: \"Index\",\n                value: this._lookaheadToken(0).value\n              };\n\n              this._advance();\n\n              this._match(TOK_RBRACKET);\n\n              return node;\n            }\n          },\n          _projectIfSlice: function _projectIfSlice(left, right) {\n            var indexExpr = {\n              type: \"IndexExpression\",\n              children: [left, right]\n            };\n\n            if (right.type === \"Slice\") {\n              return {\n                type: \"Projection\",\n                children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]\n              };\n            } else {\n              return indexExpr;\n            }\n          },\n          _parseSliceExpression: function _parseSliceExpression() {\n            // [start:end:step] where each part is optional, as well as the last\n            // colon.\n            var parts = [null, null, null];\n            var index = 0;\n\n            var currentToken = this._lookahead(0);\n\n            while (currentToken !== TOK_RBRACKET && index < 3) {\n              if (currentToken === TOK_COLON) {\n                index++;\n\n                this._advance();\n              } else if (currentToken === TOK_NUMBER) {\n                parts[index] = this._lookaheadToken(0).value;\n\n                this._advance();\n              } else {\n                var t = this._lookahead(0);\n\n                var error = new Error(\"Syntax error, unexpected token: \" + t.value + \"(\" + t.type + \")\");\n                error.name = \"Parsererror\";\n                throw error;\n              }\n\n              currentToken = this._lookahead(0);\n            }\n\n            this._match(TOK_RBRACKET);\n\n            return {\n              type: \"Slice\",\n              children: parts\n            };\n          },\n          _parseComparator: function _parseComparator(left, comparator) {\n            var right = this.expression(bindingPower[comparator]);\n            return {\n              type: \"Comparator\",\n              name: comparator,\n              children: [left, right]\n            };\n          },\n          _parseDotRHS: function _parseDotRHS(rbp) {\n            var lookahead = this._lookahead(0);\n\n            var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];\n\n            if (exprTokens.indexOf(lookahead) >= 0) {\n              return this.expression(rbp);\n            } else if (lookahead === TOK_LBRACKET) {\n              this._match(TOK_LBRACKET);\n\n              return this._parseMultiselectList();\n            } else if (lookahead === TOK_LBRACE) {\n              this._match(TOK_LBRACE);\n\n              return this._parseMultiselectHash();\n            }\n          },\n          _parseProjectionRHS: function _parseProjectionRHS(rbp) {\n            var right;\n\n            if (bindingPower[this._lookahead(0)] < 10) {\n              right = {\n                type: \"Identity\"\n              };\n            } else if (this._lookahead(0) === TOK_LBRACKET) {\n              right = this.expression(rbp);\n            } else if (this._lookahead(0) === TOK_FILTER) {\n              right = this.expression(rbp);\n            } else if (this._lookahead(0) === TOK_DOT) {\n              this._match(TOK_DOT);\n\n              right = this._parseDotRHS(rbp);\n            } else {\n              var t = this._lookaheadToken(0);\n\n              var error = new Error(\"Sytanx error, unexpected token: \" + t.value + \"(\" + t.type + \")\");\n              error.name = \"ParserError\";\n              throw error;\n            }\n\n            return right;\n          },\n          _parseMultiselectList: function _parseMultiselectList() {\n            var expressions = [];\n\n            while (this._lookahead(0) !== TOK_RBRACKET) {\n              var expression = this.expression(0);\n              expressions.push(expression);\n\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n\n                if (this._lookahead(0) === TOK_RBRACKET) {\n                  throw new Error(\"Unexpected token Rbracket\");\n                }\n              }\n            }\n\n            this._match(TOK_RBRACKET);\n\n            return {\n              type: \"MultiSelectList\",\n              children: expressions\n            };\n          },\n          _parseMultiselectHash: function _parseMultiselectHash() {\n            var pairs = [];\n            var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];\n            var keyToken, keyName, value, node;\n\n            for (;;) {\n              keyToken = this._lookaheadToken(0);\n\n              if (identifierTypes.indexOf(keyToken.type) < 0) {\n                throw new Error(\"Expecting an identifier token, got: \" + keyToken.type);\n              }\n\n              keyName = keyToken.value;\n\n              this._advance();\n\n              this._match(TOK_COLON);\n\n              value = this.expression(0);\n              node = {\n                type: \"KeyValuePair\",\n                name: keyName,\n                value: value\n              };\n              pairs.push(node);\n\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n              } else if (this._lookahead(0) === TOK_RBRACE) {\n                this._match(TOK_RBRACE);\n\n                break;\n              }\n            }\n\n            return {\n              type: \"MultiSelectHash\",\n              children: pairs\n            };\n          }\n        };\n\n        function TreeInterpreter(runtime) {\n          this.runtime = runtime;\n        }\n\n        TreeInterpreter.prototype = {\n          search: function search(node, value) {\n            return this.visit(node, value);\n          },\n          visit: function visit(node, value) {\n            var matched, current, result, first, second, field, left, right, collected, i;\n\n            switch (node.type) {\n              case \"Field\":\n                if (value === null) {\n                  return null;\n                } else if (isObject(value)) {\n                  field = value[node.name];\n\n                  if (field === undefined) {\n                    return null;\n                  } else {\n                    return field;\n                  }\n                } else {\n                  return null;\n                }\n\n                break;\n\n              case \"Subexpression\":\n                result = this.visit(node.children[0], value);\n\n                for (i = 1; i < node.children.length; i++) {\n                  result = this.visit(node.children[1], result);\n\n                  if (result === null) {\n                    return null;\n                  }\n                }\n\n                return result;\n\n              case \"IndexExpression\":\n                left = this.visit(node.children[0], value);\n                right = this.visit(node.children[1], left);\n                return right;\n\n              case \"Index\":\n                if (!isArray(value)) {\n                  return null;\n                }\n\n                var index = node.value;\n\n                if (index < 0) {\n                  index = value.length + index;\n                }\n\n                result = value[index];\n\n                if (result === undefined) {\n                  result = null;\n                }\n\n                return result;\n\n              case \"Slice\":\n                if (!isArray(value)) {\n                  return null;\n                }\n\n                var sliceParams = node.children.slice(0);\n                var computed = this.computeSliceParams(value.length, sliceParams);\n                var start = computed[0];\n                var stop = computed[1];\n                var step = computed[2];\n                result = [];\n\n                if (step > 0) {\n                  for (i = start; i < stop; i += step) {\n                    result.push(value[i]);\n                  }\n                } else {\n                  for (i = start; i > stop; i += step) {\n                    result.push(value[i]);\n                  }\n                }\n\n                return result;\n\n              case \"Projection\":\n                // Evaluate left child.\n                var base = this.visit(node.children[0], value);\n\n                if (!isArray(base)) {\n                  return null;\n                }\n\n                collected = [];\n\n                for (i = 0; i < base.length; i++) {\n                  current = this.visit(node.children[1], base[i]);\n\n                  if (current !== null) {\n                    collected.push(current);\n                  }\n                }\n\n                return collected;\n\n              case \"ValueProjection\":\n                // Evaluate left child.\n                base = this.visit(node.children[0], value);\n\n                if (!isObject(base)) {\n                  return null;\n                }\n\n                collected = [];\n                var values = objValues(base);\n\n                for (i = 0; i < values.length; i++) {\n                  current = this.visit(node.children[1], values[i]);\n\n                  if (current !== null) {\n                    collected.push(current);\n                  }\n                }\n\n                return collected;\n\n              case \"FilterProjection\":\n                base = this.visit(node.children[0], value);\n\n                if (!isArray(base)) {\n                  return null;\n                }\n\n                var filtered = [];\n                var finalResults = [];\n\n                for (i = 0; i < base.length; i++) {\n                  matched = this.visit(node.children[2], base[i]);\n\n                  if (!isFalse(matched)) {\n                    filtered.push(base[i]);\n                  }\n                }\n\n                for (var j = 0; j < filtered.length; j++) {\n                  current = this.visit(node.children[1], filtered[j]);\n\n                  if (current !== null) {\n                    finalResults.push(current);\n                  }\n                }\n\n                return finalResults;\n\n              case \"Comparator\":\n                first = this.visit(node.children[0], value);\n                second = this.visit(node.children[1], value);\n\n                switch (node.name) {\n                  case TOK_EQ:\n                    result = strictDeepEqual(first, second);\n                    break;\n\n                  case TOK_NE:\n                    result = !strictDeepEqual(first, second);\n                    break;\n\n                  case TOK_GT:\n                    result = first > second;\n                    break;\n\n                  case TOK_GTE:\n                    result = first >= second;\n                    break;\n\n                  case TOK_LT:\n                    result = first < second;\n                    break;\n\n                  case TOK_LTE:\n                    result = first <= second;\n                    break;\n\n                  default:\n                    throw new Error(\"Unknown comparator: \" + node.name);\n                }\n\n                return result;\n\n              case TOK_FLATTEN:\n                var original = this.visit(node.children[0], value);\n\n                if (!isArray(original)) {\n                  return null;\n                }\n\n                var merged = [];\n\n                for (i = 0; i < original.length; i++) {\n                  current = original[i];\n\n                  if (isArray(current)) {\n                    merged.push.apply(merged, current);\n                  } else {\n                    merged.push(current);\n                  }\n                }\n\n                return merged;\n\n              case \"Identity\":\n                return value;\n\n              case \"MultiSelectList\":\n                if (value === null) {\n                  return null;\n                }\n\n                collected = [];\n\n                for (i = 0; i < node.children.length; i++) {\n                  collected.push(this.visit(node.children[i], value));\n                }\n\n                return collected;\n\n              case \"MultiSelectHash\":\n                if (value === null) {\n                  return null;\n                }\n\n                collected = {};\n                var child;\n\n                for (i = 0; i < node.children.length; i++) {\n                  child = node.children[i];\n                  collected[child.name] = this.visit(child.value, value);\n                }\n\n                return collected;\n\n              case \"OrExpression\":\n                matched = this.visit(node.children[0], value);\n\n                if (isFalse(matched)) {\n                  matched = this.visit(node.children[1], value);\n                }\n\n                return matched;\n\n              case \"AndExpression\":\n                first = this.visit(node.children[0], value);\n\n                if (isFalse(first) === true) {\n                  return first;\n                }\n\n                return this.visit(node.children[1], value);\n\n              case \"NotExpression\":\n                first = this.visit(node.children[0], value);\n                return isFalse(first);\n\n              case \"Literal\":\n                return node.value;\n\n              case TOK_PIPE:\n                left = this.visit(node.children[0], value);\n                return this.visit(node.children[1], left);\n\n              case TOK_CURRENT:\n                return value;\n\n              case \"Function\":\n                var resolvedArgs = [];\n\n                for (i = 0; i < node.children.length; i++) {\n                  resolvedArgs.push(this.visit(node.children[i], value));\n                }\n\n                return this.runtime.callFunction(node.name, resolvedArgs);\n\n              case \"ExpressionReference\":\n                var refNode = node.children[0]; // Tag the node with a specific attribute so the type\n                // checker verify the type.\n\n                refNode.jmespathType = TOK_EXPREF;\n                return refNode;\n\n              default:\n                throw new Error(\"Unknown node type: \" + node.type);\n            }\n          },\n          computeSliceParams: function computeSliceParams(arrayLength, sliceParams) {\n            var start = sliceParams[0];\n            var stop = sliceParams[1];\n            var step = sliceParams[2];\n            var computed = [null, null, null];\n\n            if (step === null) {\n              step = 1;\n            } else if (step === 0) {\n              var error = new Error(\"Invalid slice, step cannot be 0\");\n              error.name = \"RuntimeError\";\n              throw error;\n            }\n\n            var stepValueNegative = step < 0 ? true : false;\n\n            if (start === null) {\n              start = stepValueNegative ? arrayLength - 1 : 0;\n            } else {\n              start = this.capSliceRange(arrayLength, start, step);\n            }\n\n            if (stop === null) {\n              stop = stepValueNegative ? -1 : arrayLength;\n            } else {\n              stop = this.capSliceRange(arrayLength, stop, step);\n            }\n\n            computed[0] = start;\n            computed[1] = stop;\n            computed[2] = step;\n            return computed;\n          },\n          capSliceRange: function capSliceRange(arrayLength, actualValue, step) {\n            if (actualValue < 0) {\n              actualValue += arrayLength;\n\n              if (actualValue < 0) {\n                actualValue = step < 0 ? -1 : 0;\n              }\n            } else if (actualValue >= arrayLength) {\n              actualValue = step < 0 ? arrayLength - 1 : arrayLength;\n            }\n\n            return actualValue;\n          }\n        };\n\n        function Runtime(interpreter) {\n          this._interpreter = interpreter;\n          this.functionTable = {\n            // name: [function, <signature>]\n            // The <signature> can be:\n            //\n            // {\n            //   args: [[type1, type2], [type1, type2]],\n            //   variadic: true|false\n            // }\n            //\n            // Each arg in the arg list is a list of valid types\n            // (if the function is overloaded and supports multiple\n            // types.  If the type is \"any\" then no type checking\n            // occurs on the argument.  Variadic is optional\n            // and if not provided is assumed to be false.\n            abs: {\n              _func: this._functionAbs,\n              _signature: [{\n                types: [TYPE_NUMBER]\n              }]\n            },\n            avg: {\n              _func: this._functionAvg,\n              _signature: [{\n                types: [TYPE_ARRAY_NUMBER]\n              }]\n            },\n            ceil: {\n              _func: this._functionCeil,\n              _signature: [{\n                types: [TYPE_NUMBER]\n              }]\n            },\n            contains: {\n              _func: this._functionContains,\n              _signature: [{\n                types: [TYPE_STRING, TYPE_ARRAY]\n              }, {\n                types: [TYPE_ANY]\n              }]\n            },\n            \"ends_with\": {\n              _func: this._functionEndsWith,\n              _signature: [{\n                types: [TYPE_STRING]\n              }, {\n                types: [TYPE_STRING]\n              }]\n            },\n            floor: {\n              _func: this._functionFloor,\n              _signature: [{\n                types: [TYPE_NUMBER]\n              }]\n            },\n            length: {\n              _func: this._functionLength,\n              _signature: [{\n                types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT]\n              }]\n            },\n            map: {\n              _func: this._functionMap,\n              _signature: [{\n                types: [TYPE_EXPREF]\n              }, {\n                types: [TYPE_ARRAY]\n              }]\n            },\n            max: {\n              _func: this._functionMax,\n              _signature: [{\n                types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]\n              }]\n            },\n            \"merge\": {\n              _func: this._functionMerge,\n              _signature: [{\n                types: [TYPE_OBJECT],\n                variadic: true\n              }]\n            },\n            \"max_by\": {\n              _func: this._functionMaxBy,\n              _signature: [{\n                types: [TYPE_ARRAY]\n              }, {\n                types: [TYPE_EXPREF]\n              }]\n            },\n            sum: {\n              _func: this._functionSum,\n              _signature: [{\n                types: [TYPE_ARRAY_NUMBER]\n              }]\n            },\n            \"starts_with\": {\n              _func: this._functionStartsWith,\n              _signature: [{\n                types: [TYPE_STRING]\n              }, {\n                types: [TYPE_STRING]\n              }]\n            },\n            min: {\n              _func: this._functionMin,\n              _signature: [{\n                types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]\n              }]\n            },\n            \"min_by\": {\n              _func: this._functionMinBy,\n              _signature: [{\n                types: [TYPE_ARRAY]\n              }, {\n                types: [TYPE_EXPREF]\n              }]\n            },\n            type: {\n              _func: this._functionType,\n              _signature: [{\n                types: [TYPE_ANY]\n              }]\n            },\n            keys: {\n              _func: this._functionKeys,\n              _signature: [{\n                types: [TYPE_OBJECT]\n              }]\n            },\n            values: {\n              _func: this._functionValues,\n              _signature: [{\n                types: [TYPE_OBJECT]\n              }]\n            },\n            sort: {\n              _func: this._functionSort,\n              _signature: [{\n                types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER]\n              }]\n            },\n            \"sort_by\": {\n              _func: this._functionSortBy,\n              _signature: [{\n                types: [TYPE_ARRAY]\n              }, {\n                types: [TYPE_EXPREF]\n              }]\n            },\n            join: {\n              _func: this._functionJoin,\n              _signature: [{\n                types: [TYPE_STRING]\n              }, {\n                types: [TYPE_ARRAY_STRING]\n              }]\n            },\n            reverse: {\n              _func: this._functionReverse,\n              _signature: [{\n                types: [TYPE_STRING, TYPE_ARRAY]\n              }]\n            },\n            \"to_array\": {\n              _func: this._functionToArray,\n              _signature: [{\n                types: [TYPE_ANY]\n              }]\n            },\n            \"to_string\": {\n              _func: this._functionToString,\n              _signature: [{\n                types: [TYPE_ANY]\n              }]\n            },\n            \"to_number\": {\n              _func: this._functionToNumber,\n              _signature: [{\n                types: [TYPE_ANY]\n              }]\n            },\n            \"not_null\": {\n              _func: this._functionNotNull,\n              _signature: [{\n                types: [TYPE_ANY],\n                variadic: true\n              }]\n            }\n          };\n        }\n\n        Runtime.prototype = {\n          callFunction: function callFunction(name, resolvedArgs) {\n            var functionEntry = this.functionTable[name];\n\n            if (functionEntry === undefined) {\n              throw new Error(\"Unknown function: \" + name + \"()\");\n            }\n\n            this._validateArgs(name, resolvedArgs, functionEntry._signature);\n\n            return functionEntry._func.call(this, resolvedArgs);\n          },\n          _validateArgs: function _validateArgs(name, args, signature) {\n            // Validating the args requires validating\n            // the correct arity and the correct type of each arg.\n            // If the last argument is declared as variadic, then we need\n            // a minimum number of args to be required.  Otherwise it has to\n            // be an exact amount.\n            var pluralized;\n\n            if (signature[signature.length - 1].variadic) {\n              if (args.length < signature.length) {\n                pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n                throw new Error(\"ArgumentError: \" + name + \"() \" + \"takes at least\" + signature.length + pluralized + \" but received \" + args.length);\n              }\n            } else if (args.length !== signature.length) {\n              pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n              throw new Error(\"ArgumentError: \" + name + \"() \" + \"takes \" + signature.length + pluralized + \" but received \" + args.length);\n            }\n\n            var currentSpec;\n            var actualType;\n            var typeMatched;\n\n            for (var i = 0; i < signature.length; i++) {\n              typeMatched = false;\n              currentSpec = signature[i].types;\n              actualType = this._getTypeName(args[i]);\n\n              for (var j = 0; j < currentSpec.length; j++) {\n                if (this._typeMatches(actualType, currentSpec[j], args[i])) {\n                  typeMatched = true;\n                  break;\n                }\n              }\n\n              if (!typeMatched) {\n                throw new Error(\"TypeError: \" + name + \"() \" + \"expected argument \" + (i + 1) + \" to be type \" + currentSpec + \" but received type \" + actualType + \" instead.\");\n              }\n            }\n          },\n          _typeMatches: function _typeMatches(actual, expected, argValue) {\n            if (expected === TYPE_ANY) {\n              return true;\n            }\n\n            if (expected === TYPE_ARRAY_STRING || expected === TYPE_ARRAY_NUMBER || expected === TYPE_ARRAY) {\n              // The expected type can either just be array,\n              // or it can require a specific subtype (array of numbers).\n              //\n              // The simplest case is if \"array\" with no subtype is specified.\n              if (expected === TYPE_ARRAY) {\n                return actual === TYPE_ARRAY;\n              } else if (actual === TYPE_ARRAY) {\n                // Otherwise we need to check subtypes.\n                // I think this has potential to be improved.\n                var subtype;\n\n                if (expected === TYPE_ARRAY_NUMBER) {\n                  subtype = TYPE_NUMBER;\n                } else if (expected === TYPE_ARRAY_STRING) {\n                  subtype = TYPE_STRING;\n                }\n\n                for (var i = 0; i < argValue.length; i++) {\n                  if (!this._typeMatches(this._getTypeName(argValue[i]), subtype, argValue[i])) {\n                    return false;\n                  }\n                }\n\n                return true;\n              }\n            } else {\n              return actual === expected;\n            }\n          },\n          _getTypeName: function _getTypeName(obj) {\n            switch (Object.prototype.toString.call(obj)) {\n              case \"[object String]\":\n                return TYPE_STRING;\n\n              case \"[object Number]\":\n                return TYPE_NUMBER;\n\n              case \"[object Array]\":\n                return TYPE_ARRAY;\n\n              case \"[object Boolean]\":\n                return TYPE_BOOLEAN;\n\n              case \"[object Null]\":\n                return TYPE_NULL;\n\n              case \"[object Object]\":\n                // Check if it's an expref.  If it has, it's been\n                // tagged with a jmespathType attr of 'Expref';\n                if (obj.jmespathType === TOK_EXPREF) {\n                  return TYPE_EXPREF;\n                } else {\n                  return TYPE_OBJECT;\n                }\n\n            }\n          },\n          _functionStartsWith: function _functionStartsWith(resolvedArgs) {\n            return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;\n          },\n          _functionEndsWith: function _functionEndsWith(resolvedArgs) {\n            var searchStr = resolvedArgs[0];\n            var suffix = resolvedArgs[1];\n            return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;\n          },\n          _functionReverse: function _functionReverse(resolvedArgs) {\n            var typeName = this._getTypeName(resolvedArgs[0]);\n\n            if (typeName === TYPE_STRING) {\n              var originalStr = resolvedArgs[0];\n              var reversedStr = \"\";\n\n              for (var i = originalStr.length - 1; i >= 0; i--) {\n                reversedStr += originalStr[i];\n              }\n\n              return reversedStr;\n            } else {\n              var reversedArray = resolvedArgs[0].slice(0);\n              reversedArray.reverse();\n              return reversedArray;\n            }\n          },\n          _functionAbs: function _functionAbs(resolvedArgs) {\n            return Math.abs(resolvedArgs[0]);\n          },\n          _functionCeil: function _functionCeil(resolvedArgs) {\n            return Math.ceil(resolvedArgs[0]);\n          },\n          _functionAvg: function _functionAvg(resolvedArgs) {\n            var sum = 0;\n            var inputArray = resolvedArgs[0];\n\n            for (var i = 0; i < inputArray.length; i++) {\n              sum += inputArray[i];\n            }\n\n            return sum / inputArray.length;\n          },\n          _functionContains: function _functionContains(resolvedArgs) {\n            return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;\n          },\n          _functionFloor: function _functionFloor(resolvedArgs) {\n            return Math.floor(resolvedArgs[0]);\n          },\n          _functionLength: function _functionLength(resolvedArgs) {\n            if (!isObject(resolvedArgs[0])) {\n              return resolvedArgs[0].length;\n            } else {\n              // As far as I can tell, there's no way to get the length\n              // of an object without O(n) iteration through the object.\n              return Object.keys(resolvedArgs[0]).length;\n            }\n          },\n          _functionMap: function _functionMap(resolvedArgs) {\n            var mapped = [];\n            var interpreter = this._interpreter;\n            var exprefNode = resolvedArgs[0];\n            var elements = resolvedArgs[1];\n\n            for (var i = 0; i < elements.length; i++) {\n              mapped.push(interpreter.visit(exprefNode, elements[i]));\n            }\n\n            return mapped;\n          },\n          _functionMerge: function _functionMerge(resolvedArgs) {\n            var merged = {};\n\n            for (var i = 0; i < resolvedArgs.length; i++) {\n              var current = resolvedArgs[i];\n\n              for (var key in current) {\n                merged[key] = current[key];\n              }\n            }\n\n            return merged;\n          },\n          _functionMax: function _functionMax(resolvedArgs) {\n            if (resolvedArgs[0].length > 0) {\n              var typeName = this._getTypeName(resolvedArgs[0][0]);\n\n              if (typeName === TYPE_NUMBER) {\n                return Math.max.apply(Math, resolvedArgs[0]);\n              } else {\n                var elements = resolvedArgs[0];\n                var maxElement = elements[0];\n\n                for (var i = 1; i < elements.length; i++) {\n                  if (maxElement.localeCompare(elements[i]) < 0) {\n                    maxElement = elements[i];\n                  }\n                }\n\n                return maxElement;\n              }\n            } else {\n              return null;\n            }\n          },\n          _functionMin: function _functionMin(resolvedArgs) {\n            if (resolvedArgs[0].length > 0) {\n              var typeName = this._getTypeName(resolvedArgs[0][0]);\n\n              if (typeName === TYPE_NUMBER) {\n                return Math.min.apply(Math, resolvedArgs[0]);\n              } else {\n                var elements = resolvedArgs[0];\n                var minElement = elements[0];\n\n                for (var i = 1; i < elements.length; i++) {\n                  if (elements[i].localeCompare(minElement) < 0) {\n                    minElement = elements[i];\n                  }\n                }\n\n                return minElement;\n              }\n            } else {\n              return null;\n            }\n          },\n          _functionSum: function _functionSum(resolvedArgs) {\n            var sum = 0;\n            var listToSum = resolvedArgs[0];\n\n            for (var i = 0; i < listToSum.length; i++) {\n              sum += listToSum[i];\n            }\n\n            return sum;\n          },\n          _functionType: function _functionType(resolvedArgs) {\n            switch (this._getTypeName(resolvedArgs[0])) {\n              case TYPE_NUMBER:\n                return \"number\";\n\n              case TYPE_STRING:\n                return \"string\";\n\n              case TYPE_ARRAY:\n                return \"array\";\n\n              case TYPE_OBJECT:\n                return \"object\";\n\n              case TYPE_BOOLEAN:\n                return \"boolean\";\n\n              case TYPE_EXPREF:\n                return \"expref\";\n\n              case TYPE_NULL:\n                return \"null\";\n            }\n          },\n          _functionKeys: function _functionKeys(resolvedArgs) {\n            return Object.keys(resolvedArgs[0]);\n          },\n          _functionValues: function _functionValues(resolvedArgs) {\n            var obj = resolvedArgs[0];\n            var keys = Object.keys(obj);\n            var values = [];\n\n            for (var i = 0; i < keys.length; i++) {\n              values.push(obj[keys[i]]);\n            }\n\n            return values;\n          },\n          _functionJoin: function _functionJoin(resolvedArgs) {\n            var joinChar = resolvedArgs[0];\n            var listJoin = resolvedArgs[1];\n            return listJoin.join(joinChar);\n          },\n          _functionToArray: function _functionToArray(resolvedArgs) {\n            if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {\n              return resolvedArgs[0];\n            } else {\n              return [resolvedArgs[0]];\n            }\n          },\n          _functionToString: function _functionToString(resolvedArgs) {\n            if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {\n              return resolvedArgs[0];\n            } else {\n              return JSON.stringify(resolvedArgs[0]);\n            }\n          },\n          _functionToNumber: function _functionToNumber(resolvedArgs) {\n            var typeName = this._getTypeName(resolvedArgs[0]);\n\n            var convertedValue;\n\n            if (typeName === TYPE_NUMBER) {\n              return resolvedArgs[0];\n            } else if (typeName === TYPE_STRING) {\n              convertedValue = +resolvedArgs[0];\n\n              if (!isNaN(convertedValue)) {\n                return convertedValue;\n              }\n            }\n\n            return null;\n          },\n          _functionNotNull: function _functionNotNull(resolvedArgs) {\n            for (var i = 0; i < resolvedArgs.length; i++) {\n              if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {\n                return resolvedArgs[i];\n              }\n            }\n\n            return null;\n          },\n          _functionSort: function _functionSort(resolvedArgs) {\n            var sortedArray = resolvedArgs[0].slice(0);\n            sortedArray.sort();\n            return sortedArray;\n          },\n          _functionSortBy: function _functionSortBy(resolvedArgs) {\n            var sortedArray = resolvedArgs[0].slice(0);\n\n            if (sortedArray.length === 0) {\n              return sortedArray;\n            }\n\n            var interpreter = this._interpreter;\n            var exprefNode = resolvedArgs[1];\n\n            var requiredType = this._getTypeName(interpreter.visit(exprefNode, sortedArray[0]));\n\n            if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {\n              throw new Error(\"TypeError\");\n            }\n\n            var that = this; // In order to get a stable sort out of an unstable\n            // sort algorithm, we decorate/sort/undecorate (DSU)\n            // by creating a new list of [index, element] pairs.\n            // In the cmp function, if the evaluated elements are\n            // equal, then the index will be used as the tiebreaker.\n            // After the decorated list has been sorted, it will be\n            // undecorated to extract the original elements.\n\n            var decorated = [];\n\n            for (var i = 0; i < sortedArray.length; i++) {\n              decorated.push([i, sortedArray[i]]);\n            }\n\n            decorated.sort(function (a, b) {\n              var exprA = interpreter.visit(exprefNode, a[1]);\n              var exprB = interpreter.visit(exprefNode, b[1]);\n\n              if (that._getTypeName(exprA) !== requiredType) {\n                throw new Error(\"TypeError: expected \" + requiredType + \", received \" + that._getTypeName(exprA));\n              } else if (that._getTypeName(exprB) !== requiredType) {\n                throw new Error(\"TypeError: expected \" + requiredType + \", received \" + that._getTypeName(exprB));\n              }\n\n              if (exprA > exprB) {\n                return 1;\n              } else if (exprA < exprB) {\n                return -1;\n              } else {\n                // If they're equal compare the items by their\n                // order to maintain relative order of equal keys\n                // (i.e. to get a stable sort).\n                return a[0] - b[0];\n              }\n            }); // Undecorate: extract out the original list elements.\n\n            for (var j = 0; j < decorated.length; j++) {\n              sortedArray[j] = decorated[j][1];\n            }\n\n            return sortedArray;\n          },\n          _functionMaxBy: function _functionMaxBy(resolvedArgs) {\n            var exprefNode = resolvedArgs[1];\n            var resolvedArray = resolvedArgs[0];\n            var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n            var maxNumber = -Infinity;\n            var maxRecord;\n            var current;\n\n            for (var i = 0; i < resolvedArray.length; i++) {\n              current = keyFunction(resolvedArray[i]);\n\n              if (current > maxNumber) {\n                maxNumber = current;\n                maxRecord = resolvedArray[i];\n              }\n            }\n\n            return maxRecord;\n          },\n          _functionMinBy: function _functionMinBy(resolvedArgs) {\n            var exprefNode = resolvedArgs[1];\n            var resolvedArray = resolvedArgs[0];\n            var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n            var minNumber = Infinity;\n            var minRecord;\n            var current;\n\n            for (var i = 0; i < resolvedArray.length; i++) {\n              current = keyFunction(resolvedArray[i]);\n\n              if (current < minNumber) {\n                minNumber = current;\n                minRecord = resolvedArray[i];\n              }\n            }\n\n            return minRecord;\n          },\n          createKeyFunction: function createKeyFunction(exprefNode, allowedTypes) {\n            var that = this;\n            var interpreter = this._interpreter;\n\n            var keyFunc = function keyFunc(x) {\n              var current = interpreter.visit(exprefNode, x);\n\n              if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {\n                var msg = \"TypeError: expected one of \" + allowedTypes + \", received \" + that._getTypeName(current);\n\n                throw new Error(msg);\n              }\n\n              return current;\n            };\n\n            return keyFunc;\n          }\n        };\n\n        function compile(stream) {\n          var parser = new Parser();\n          var ast = parser.parse(stream);\n          return ast;\n        }\n\n        function tokenize(stream) {\n          var lexer = new Lexer();\n          return lexer.tokenize(stream);\n        }\n\n        function search(data, expression) {\n          var parser = new Parser(); // This needs to be improved.  Both the interpreter and runtime depend on\n          // each other.  The runtime needs the interpreter to support exprefs.\n          // There's likely a clean way to avoid the cyclic dependency.\n\n          var runtime = new Runtime();\n          var interpreter = new TreeInterpreter(runtime);\n          runtime._interpreter = interpreter;\n          var node = parser.parse(expression);\n          return interpreter.search(node, data);\n        }\n\n        exports.tokenize = tokenize;\n        exports.compile = compile;\n        exports.search = search;\n        exports.strictDeepEqual = strictDeepEqual;\n      })(false ? undefined : exports);\n      /***/\n\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = {\n        copy: copy,\n        checkDataType: checkDataType,\n        checkDataTypes: checkDataTypes,\n        coerceToTypes: coerceToTypes,\n        toHash: toHash,\n        getProperty: getProperty,\n        escapeQuotes: escapeQuotes,\n        equal: __webpack_require__(18),\n        ucs2length: __webpack_require__(46),\n        varOccurences: varOccurences,\n        varReplace: varReplace,\n        cleanUpCode: cleanUpCode,\n        finalCleanUpCode: finalCleanUpCode,\n        schemaHasRules: schemaHasRules,\n        schemaHasRulesExcept: schemaHasRulesExcept,\n        schemaUnknownRules: schemaUnknownRules,\n        toQuotedString: toQuotedString,\n        getPathExpr: getPathExpr,\n        getPath: getPath,\n        getData: getData,\n        unescapeFragment: unescapeFragment,\n        unescapeJsonPointer: unescapeJsonPointer,\n        escapeFragment: escapeFragment,\n        escapeJsonPointer: escapeJsonPointer\n      };\n\n      function copy(o, to) {\n        to = to || {};\n\n        for (var key in o) {\n          to[key] = o[key];\n        }\n\n        return to;\n      }\n\n      function checkDataType(dataType, data, negate) {\n        var EQUAL = negate ? ' !== ' : ' === ',\n            AND = negate ? ' || ' : ' && ',\n            OK = negate ? '!' : '',\n            NOT = negate ? '' : '!';\n\n        switch (dataType) {\n          case 'null':\n            return data + EQUAL + 'null';\n\n          case 'array':\n            return OK + 'Array.isArray(' + data + ')';\n\n          case 'object':\n            return '(' + OK + data + AND + 'typeof ' + data + EQUAL + '\"object\"' + AND + NOT + 'Array.isArray(' + data + '))';\n\n          case 'integer':\n            return '(typeof ' + data + EQUAL + '\"number\"' + AND + NOT + '(' + data + ' % 1)' + AND + data + EQUAL + data + ')';\n\n          default:\n            return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n        }\n      }\n\n      function checkDataTypes(dataTypes, data) {\n        switch (dataTypes.length) {\n          case 1:\n            return checkDataType(dataTypes[0], data, true);\n\n          default:\n            var code = '';\n            var types = toHash(dataTypes);\n\n            if (types.array && types.object) {\n              code = types.null ? '(' : '(!' + data + ' || ';\n              code += 'typeof ' + data + ' !== \"object\")';\n              delete types.null;\n              delete types.array;\n              delete types.object;\n            }\n\n            if (types.number) delete types.integer;\n\n            for (var t in types) {\n              code += (code ? ' && ' : '') + checkDataType(t, data, true);\n            }\n\n            return code;\n        }\n      }\n\n      var COERCE_TO_TYPES = toHash(['string', 'number', 'integer', 'boolean', 'null']);\n\n      function coerceToTypes(optionCoerceTypes, dataTypes) {\n        if (Array.isArray(dataTypes)) {\n          var types = [];\n\n          for (var i = 0; i < dataTypes.length; i++) {\n            var t = dataTypes[i];\n            if (COERCE_TO_TYPES[t]) types[types.length] = t;else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n          }\n\n          if (types.length) return types;\n        } else if (COERCE_TO_TYPES[dataTypes]) {\n          return [dataTypes];\n        } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n          return ['array'];\n        }\n      }\n\n      function toHash(arr) {\n        var hash = {};\n\n        for (var i = 0; i < arr.length; i++) {\n          hash[arr[i]] = true;\n        }\n\n        return hash;\n      }\n\n      var IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\n      var SINGLE_QUOTE = /'|\\\\/g;\n\n      function getProperty(key) {\n        return typeof key == 'number' ? '[' + key + ']' : IDENTIFIER.test(key) ? '.' + key : \"['\" + escapeQuotes(key) + \"']\";\n      }\n\n      function escapeQuotes(str) {\n        return str.replace(SINGLE_QUOTE, '\\\\$&').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\f/g, '\\\\f').replace(/\\t/g, '\\\\t');\n      }\n\n      function varOccurences(str, dataVar) {\n        dataVar += '[^0-9]';\n        var matches = str.match(new RegExp(dataVar, 'g'));\n        return matches ? matches.length : 0;\n      }\n\n      function varReplace(str, dataVar, expr) {\n        dataVar += '([^0-9])';\n        expr = expr.replace(/\\$/g, '$$$$');\n        return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n      }\n\n      var EMPTY_ELSE = /else\\s*{\\s*}/g,\n          EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g,\n          EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\n\n      function cleanUpCode(out) {\n        return out.replace(EMPTY_ELSE, '').replace(EMPTY_IF_NO_ELSE, '').replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n      }\n\n      var ERRORS_REGEXP = /[^v.]errors/g,\n          REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,\n          REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g,\n          RETURN_VALID = 'return errors === 0;',\n          RETURN_TRUE = 'validate.errors = null; return true;',\n          RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/,\n          RETURN_DATA_ASYNC = 'return data;',\n          ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,\n          REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\n      function finalCleanUpCode(out, async) {\n        var matches = out.match(ERRORS_REGEXP);\n\n        if (matches && matches.length == 2) {\n          out = async ? out.replace(REMOVE_ERRORS_ASYNC, '').replace(RETURN_ASYNC, RETURN_DATA_ASYNC) : out.replace(REMOVE_ERRORS, '').replace(RETURN_VALID, RETURN_TRUE);\n        }\n\n        matches = out.match(ROOTDATA_REGEXP);\n        if (!matches || matches.length !== 3) return out;\n        return out.replace(REMOVE_ROOTDATA, '');\n      }\n\n      function schemaHasRules(schema, rules) {\n        if (typeof schema == 'boolean') return !schema;\n\n        for (var key in schema) {\n          if (rules[key]) return true;\n        }\n      }\n\n      function schemaHasRulesExcept(schema, rules, exceptKeyword) {\n        if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n\n        for (var key in schema) {\n          if (key != exceptKeyword && rules[key]) return true;\n        }\n      }\n\n      function schemaUnknownRules(schema, rules) {\n        if (typeof schema == 'boolean') return;\n\n        for (var key in schema) {\n          if (!rules[key]) return key;\n        }\n      }\n\n      function toQuotedString(str) {\n        return '\\'' + escapeQuotes(str) + '\\'';\n      }\n\n      function getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n        var path = jsonPointers // false by default\n        ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')') : isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'';\n        return joinPaths(currentPath, path);\n      }\n\n      function getPath(currentPath, prop, jsonPointers) {\n        var path = jsonPointers // false by default\n        ? toQuotedString('/' + escapeJsonPointer(prop)) : toQuotedString(getProperty(prop));\n        return joinPaths(currentPath, path);\n      }\n\n      var JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\n      var RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\n\n      function getData($data, lvl, paths) {\n        var up, jsonPointer, data, matches;\n        if ($data === '') return 'rootData';\n\n        if ($data[0] == '/') {\n          if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n          jsonPointer = $data;\n          data = 'rootData';\n        } else {\n          matches = $data.match(RELATIVE_JSON_POINTER);\n          if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n          up = +matches[1];\n          jsonPointer = matches[2];\n\n          if (jsonPointer == '#') {\n            if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n            return paths[lvl - up];\n          }\n\n          if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n          data = 'data' + (lvl - up || '');\n          if (!jsonPointer) return data;\n        }\n\n        var expr = data;\n        var segments = jsonPointer.split('/');\n\n        for (var i = 0; i < segments.length; i++) {\n          var segment = segments[i];\n\n          if (segment) {\n            data += getProperty(unescapeJsonPointer(segment));\n            expr += ' && ' + data;\n          }\n        }\n\n        return expr;\n      }\n\n      function joinPaths(a, b) {\n        if (a == '\"\"') return b;\n        return (a + ' + ' + b).replace(/' \\+ '/g, '');\n      }\n\n      function unescapeFragment(str) {\n        return unescapeJsonPointer(decodeURIComponent(str));\n      }\n\n      function escapeFragment(str) {\n        return encodeURIComponent(escapeJsonPointer(str));\n      }\n\n      function escapeJsonPointer(str) {\n        return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n      }\n\n      function unescapeJsonPointer(str) {\n        return str.replace(/~1/g, '/').replace(/~0/g, '~');\n      }\n      /***/\n\n    },\n    /* 6 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return showSortModal;\n      });\n      /* harmony import */\n\n\n      var picomodal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n      /* harmony import */\n\n\n      var picomodal__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(picomodal__WEBPACK_IMPORTED_MODULE_0__);\n      /* harmony import */\n\n\n      var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n      /* harmony import */\n\n\n      var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n      /**\n       * Show advanced sorting modal\n       * @param {HTMLElement} container   The container where to center\n       *                                  the modal and create an overlay\n       * @param {JSON} json               The JSON data to be sorted.\n       * @param {function} onSort         Callback function, invoked with\n       *                                  an object containing the selected\n       *                                  path and direction\n       * @param {Object} options\n       *            Available options:\n       *                - {string} path              The selected path\n       *                - {'asc' | 'desc'} direction The selected direction\n       */\n\n\n      function showSortModal(container, json, onSort, options) {\n        var paths = Array.isArray(json) ? Object(_util__WEBPACK_IMPORTED_MODULE_2__[\"getChildPaths\"])(json) : [''];\n        var selectedPath = options && options.path && Object(_util__WEBPACK_IMPORTED_MODULE_2__[\"contains\"])(paths, options.path) ? options.path : paths[0];\n        var selectedDirection = options && options.direction || 'asc';\n        var content = '<div class=\"pico-modal-contents\">' + '<div class=\"pico-modal-header\">' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sort') + '</div>' + '<form>' + '<table>' + '<tbody>' + '<tr>' + '  <td>' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortFieldLabel') + ' </td>' + '  <td class=\"jsoneditor-modal-input\">' + '  <div class=\"jsoneditor-select-wrapper\">' + '    <select id=\"field\" title=\"' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortFieldTitle') + '\">' + '    </select>' + '  </div>' + '  </td>' + '</tr>' + '<tr>' + '  <td>' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortDirectionLabel') + ' </td>' + '  <td class=\"jsoneditor-modal-input\">' + '  <div id=\"direction\" class=\"jsoneditor-button-group\">' + '<input type=\"button\" ' + 'value=\"' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortAscending') + '\" ' + 'title=\"' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortAscendingTitle') + '\" ' + 'data-value=\"asc\" ' + 'class=\"jsoneditor-button-first jsoneditor-button-asc\"/>' + '<input type=\"button\" ' + 'value=\"' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortDescending') + '\" ' + 'title=\"' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('sortDescendingTitle') + '\" ' + 'data-value=\"desc\" ' + 'class=\"jsoneditor-button-last jsoneditor-button-desc\"/>' + '  </div>' + '  </td>' + '</tr>' + '<tr>' + '<td colspan=\"2\" class=\"jsoneditor-modal-input jsoneditor-modal-actions\">' + '  <input type=\"submit\" id=\"ok\" value=\"' + Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n        /* translate */\n        \"c\"])('ok') + '\" />' + '</td>' + '</tr>' + '</tbody>' + '</table>' + '</form>' + '</div>';\n        picomodal__WEBPACK_IMPORTED_MODULE_0___default()({\n          parent: container,\n          content: content,\n          overlayClass: 'jsoneditor-modal-overlay',\n          overlayStyles: {\n            backgroundColor: 'rgb(1,1,1)',\n            opacity: 0.3\n          },\n          modalClass: 'jsoneditor-modal jsoneditor-modal-sort'\n        }).afterCreate(function (modal) {\n          var form = modal.modalElem().querySelector('form');\n          var ok = modal.modalElem().querySelector('#ok');\n          var field = modal.modalElem().querySelector('#field');\n          var direction = modal.modalElem().querySelector('#direction');\n\n          function preprocessPath(path) {\n            return path === '' ? '@' : path[0] === '.' ? path.slice(1) : path;\n          }\n\n          paths.forEach(function (path) {\n            var option = document.createElement('option');\n            option.text = preprocessPath(path);\n            option.value = path;\n            field.appendChild(option);\n          });\n\n          function setDirection(value) {\n            direction.value = value;\n            direction.className = 'jsoneditor-button-group jsoneditor-button-group-value-' + direction.value;\n          }\n\n          field.value = selectedPath || paths[0];\n          setDirection(selectedDirection || 'asc');\n\n          direction.onclick = function (event) {\n            setDirection(event.target.getAttribute('data-value'));\n          };\n\n          ok.onclick = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            modal.close();\n            onSort({\n              path: field.value,\n              direction: direction.value\n            });\n          };\n\n          if (form) {\n            // form is not available when JSONEditor is created inside a form\n            form.onsubmit = ok.onclick;\n          }\n        }).afterClose(function (modal) {\n          modal.destroy();\n        }).show();\n      }\n      /***/\n\n    },\n    /* 7 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return ModeSwitcher;\n      });\n      /* harmony import */\n\n\n      var _ContextMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n      /* harmony import */\n\n\n      var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * Create a select box to be used in the editor menu's, which allows to switch mode\n       * @param {HTMLElement} container\n       * @param {String[]} modes  Available modes: 'code', 'form', 'text', 'tree', 'view', 'preview'\n       * @param {String} current  Available modes: 'code', 'form', 'text', 'tree', 'view', 'preview'\n       * @param {function(mode: string)} onSwitch  Callback invoked on switch\n       * @constructor\n       */\n\n\n      var ModeSwitcher = /*#__PURE__*/function () {\n        function ModeSwitcher(container, modes, current, onSwitch) {\n          _classCallCheck(this, ModeSwitcher); // available modes\n\n\n          var availableModes = {\n            code: {\n              text: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeCodeText'),\n              title: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeCodeTitle'),\n              click: function click() {\n                onSwitch('code');\n              }\n            },\n            form: {\n              text: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeFormText'),\n              title: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeFormTitle'),\n              click: function click() {\n                onSwitch('form');\n              }\n            },\n            text: {\n              text: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeTextText'),\n              title: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeTextTitle'),\n              click: function click() {\n                onSwitch('text');\n              }\n            },\n            tree: {\n              text: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeTreeText'),\n              title: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeTreeTitle'),\n              click: function click() {\n                onSwitch('tree');\n              }\n            },\n            view: {\n              text: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeViewText'),\n              title: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modeViewTitle'),\n              click: function click() {\n                onSwitch('view');\n              }\n            },\n            preview: {\n              text: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modePreviewText'),\n              title: Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n              /* translate */\n              \"c\"])('modePreviewTitle'),\n              click: function click() {\n                onSwitch('preview');\n              }\n            }\n          }; // list the selected modes\n\n          var items = [];\n\n          for (var i = 0; i < modes.length; i++) {\n            var mode = modes[i];\n            var item = availableModes[mode];\n\n            if (!item) {\n              throw new Error('Unknown mode \"' + mode + '\"');\n            }\n\n            item.className = 'jsoneditor-type-modes' + (current === mode ? ' jsoneditor-selected' : '');\n            items.push(item);\n          } // retrieve the title of current mode\n\n\n          var currentMode = availableModes[current];\n\n          if (!currentMode) {\n            throw new Error('Unknown mode \"' + current + '\"');\n          }\n\n          var currentTitle = currentMode.text; // create the html element\n\n          var box = document.createElement('button');\n          box.type = 'button';\n          box.className = 'jsoneditor-modes jsoneditor-separator';\n          box.innerHTML = currentTitle + ' &#x25BE;';\n          box.title = Object(_i18n__WEBPACK_IMPORTED_MODULE_1__[\n          /* translate */\n          \"c\"])('modeEditorTitle');\n\n          box.onclick = function () {\n            var menu = new _ContextMenu__WEBPACK_IMPORTED_MODULE_0__[\n            /* ContextMenu */\n            \"a\"](items);\n            menu.show(box, container);\n          };\n\n          var frame = document.createElement('div');\n          frame.className = 'jsoneditor-modes';\n          frame.style.position = 'relative';\n          frame.appendChild(box);\n          container.appendChild(frame);\n          this.dom = {\n            container: container,\n            box: box,\n            frame: frame\n          };\n        }\n        /**\n         * Set focus to switcher\n         */\n\n\n        _createClass(ModeSwitcher, [{\n          key: \"focus\",\n          value: function focus() {\n            this.dom.box.focus();\n          }\n          /**\n           * Destroy the ModeSwitcher, remove from DOM\n           */\n\n        }, {\n          key: \"destroy\",\n          value: function destroy() {\n            if (this.dom && this.dom.frame && this.dom.frame.parentNode) {\n              this.dom.frame.parentNode.removeChild(this.dom.frame);\n            }\n\n            this.dom = null;\n          }\n        }]);\n\n        return ModeSwitcher;\n      }();\n      /***/\n\n    },\n    /* 8 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return FocusTracker;\n      });\n      /**\n       * @constructor FocusTracker\n       * A custom focus tracker for a DOM element with complex internal DOM structure\n       * @param  {[Object]} config    A set of configurations for the FocusTracker\n       *                {DOM Object} target *    The DOM object to track (required)\n       *                {Function}   onFocus     onFocus callback\n       *                {Function}   onBlur      onBlur callback\n       *\n       * @return\n       */\n\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      var FocusTracker = /*#__PURE__*/function () {\n        function FocusTracker(config) {\n          _classCallCheck(this, FocusTracker);\n\n          this.target = config.target || null;\n\n          if (!this.target) {\n            throw new Error('FocusTracker constructor called without a \"target\" to track.');\n          }\n\n          this.onFocus = typeof config.onFocus === 'function' ? config.onFocus : null;\n          this.onBlur = typeof config.onBlur === 'function' ? config.onBlur : null;\n          this._onClick = this._onEvent.bind(this);\n\n          this._onKeyUp = function (event) {\n            if (event.which === 9 || event.keyCode === 9) {\n              this._onEvent(event);\n            }\n          }.bind(this);\n\n          this.focusFlag = false;\n          this.firstEventFlag = true;\n          /*\n            Adds required (click and keyup) event listeners to the 'document' object\n            to track the focus of the given 'target'\n           */\n\n          if (this.onFocus || this.onBlur) {\n            document.addEventListener('click', this._onClick);\n            document.addEventListener('keyup', this._onKeyUp);\n          }\n        }\n        /**\n           * Removes the event listeners on the 'document' object\n           * that were added to track the focus of the given 'target'\n           */\n\n\n        _createClass(FocusTracker, [{\n          key: \"destroy\",\n          value: function destroy() {\n            document.removeEventListener('click', this._onClick);\n            document.removeEventListener('keyup', this._onKeyUp);\n\n            this._onEvent({\n              target: document.body\n            }); // calling _onEvent with body element in the hope that the FocusTracker is added to an element inside the body tag\n\n          }\n          /**\n             * Tracks the focus of the target and calls the onFocus and onBlur\n             * event callbacks if available.\n             * @param {Event} [event]  The 'click' or 'keyup' event object,\n             *                          from the respective events set on\n             *              document object\n             * @private\n             */\n\n        }, {\n          key: \"_onEvent\",\n          value: function _onEvent(event) {\n            var target = event.target;\n            var focusFlag;\n\n            if (target === this.target) {\n              focusFlag = true;\n            } else if (this.target.contains(target) || this.target.contains(document.activeElement)) {\n              focusFlag = true;\n            } else {\n              focusFlag = false;\n            }\n\n            if (focusFlag) {\n              if (!this.focusFlag) {\n                // trigger the onFocus callback\n                if (this.onFocus) {\n                  this.onFocus({\n                    type: 'focus',\n                    target: this.target\n                  });\n                }\n\n                this.focusFlag = true;\n              }\n            } else {\n              if (this.focusFlag || this.firstEventFlag) {\n                // trigger the onBlur callback\n                if (this.onBlur) {\n                  this.onBlur({\n                    type: 'blur',\n                    target: this.target\n                  });\n                }\n\n                this.focusFlag = false;\n                /*\n                  When switching from one mode to another in the editor, the FocusTracker gets recreated.\n                  At that time, this.focusFlag will be init to 'false' and will fail the above if condition, when blur occurs\n                  this.firstEventFlag is added to overcome that issue\n                 */\n\n                if (this.firstEventFlag) {\n                  this.firstEventFlag = false;\n                }\n              }\n            }\n          }\n        }]);\n\n        return FocusTracker;\n      }();\n      /***/\n\n    },\n    /* 9 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\"; // EXTERNAL MODULE: ./node_modules/jmespath/jmespath.js\n\n      var jmespath = __webpack_require__(4);\n\n      var jmespath_default = /*#__PURE__*/__webpack_require__.n(jmespath); // EXTERNAL MODULE: ./node_modules/picomodal/src/picoModal.js\n\n\n      var picoModal = __webpack_require__(14);\n\n      var picoModal_default = /*#__PURE__*/__webpack_require__.n(picoModal); // EXTERNAL MODULE: ./src/js/assets/selectr/selectr.js\n\n\n      var selectr = __webpack_require__(10);\n\n      var selectr_default = /*#__PURE__*/__webpack_require__.n(selectr); // EXTERNAL MODULE: ./src/js/i18n.js\n\n\n      var i18n = __webpack_require__(1); // CONCATENATED MODULE: ./src/js/jsonUtils.js\n\n      /**\n       * Convert part of a JSON object to a JSON string.\n       * Use case is to stringify a small part of a large JSON object so you can see\n       * a preview.\n       *\n       * @param {*} value\n       * The value to convert to a JSON string.\n       *\n       * @param {number | string | null} [space]\n       * A String or Number object that's used to insert white space into the output\n       * JSON string for readability purposes. If this is a Number, it indicates the\n       * number of space characters to use as white space; this number is capped at 10\n       * if it's larger than that. Values less than 1 indicate that no space should be\n       * used. If this is a String, the string (or the first 10 characters of the string,\n       * if it's longer than that) is used as white space. If this parameter is not\n       * provided (or is null), no white space is used.\n       *\n       * @param {number} [limit] Maximum size of the string output.\n       *\n       * @returns {string | undefined} Returns the string representation of the JSON object.\n       */\n\n\n      function _typeof(obj) {\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          _typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          _typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n\n        return _typeof(obj);\n      }\n\n      function stringifyPartial(value, space, limit) {\n        var _space; // undefined by default\n\n\n        if (typeof space === 'number') {\n          if (space > 10) {\n            _space = repeat(' ', 10);\n          } else if (space >= 1) {\n            _space = repeat(' ', space);\n          } // else ignore\n\n        } else if (typeof space === 'string' && space !== '') {\n          _space = space;\n        }\n\n        var output = stringifyValue(value, _space, '', limit);\n        return output.length > limit ? slice(output, limit) + '...' : output;\n      }\n      /**\n       * Stringify a value\n       * @param {*} value\n       * @param {string} space\n       * @param {string} indent\n       * @param {number} limit\n       * @return {string | undefined}\n       */\n\n\n      function stringifyValue(value, space, indent, limit) {\n        // boolean, null, number, string, or date\n        if (typeof value === 'boolean' || value instanceof Boolean || value === null || typeof value === 'number' || value instanceof Number || typeof value === 'string' || value instanceof String || value instanceof Date) {\n          return JSON.stringify(value);\n        } // array\n\n\n        if (Array.isArray(value)) {\n          return stringifyArray(value, space, indent, limit);\n        } // object (test lastly!)\n\n\n        if (value && _typeof(value) === 'object') {\n          return stringifyObject(value, space, indent, limit);\n        }\n\n        return undefined;\n      }\n      /**\n       * Stringify an array\n       * @param {Array} array\n       * @param {string} space\n       * @param {string} indent\n       * @param {number} limit\n       * @return {string}\n       */\n\n\n      function stringifyArray(array, space, indent, limit) {\n        var childIndent = space ? indent + space : undefined;\n        var str = space ? '[\\n' : '[';\n\n        for (var i = 0; i < array.length; i++) {\n          var item = array[i];\n\n          if (space) {\n            str += childIndent;\n          }\n\n          if (typeof item !== 'undefined' && typeof item !== 'function') {\n            str += stringifyValue(item, space, childIndent, limit);\n          } else {\n            str += 'null';\n          }\n\n          if (i < array.length - 1) {\n            str += space ? ',\\n' : ',';\n          } // stop as soon as we're exceeding the limit\n\n\n          if (str.length > limit) {\n            return str + '...';\n          }\n        }\n\n        str += space ? '\\n' + indent + ']' : ']';\n        return str;\n      }\n      /**\n       * Stringify an object\n       * @param {Object} object\n       * @param {string} space\n       * @param {string} indent\n       * @param {number} limit\n       * @return {string}\n       */\n\n\n      function stringifyObject(object, space, indent, limit) {\n        var childIndent = space ? indent + space : undefined;\n        var first = true;\n        var str = space ? '{\\n' : '{';\n\n        if (typeof object.toJSON === 'function') {\n          return stringifyValue(object.toJSON(), space, indent, limit);\n        }\n\n        for (var key in object) {\n          if (jsonUtils_hasOwnProperty(object, key)) {\n            var value = object[key];\n\n            if (first) {\n              first = false;\n            } else {\n              str += space ? ',\\n' : ',';\n            }\n\n            str += space ? childIndent + '\"' + key + '\": ' : '\"' + key + '\":';\n            str += stringifyValue(value, space, childIndent, limit); // stop as soon as we're exceeding the limit\n\n            if (str.length > limit) {\n              return str + '...';\n            }\n          }\n        }\n\n        str += space ? '\\n' + indent + '}' : '}';\n        return str;\n      }\n      /**\n       * Repeat a string a number of times.\n       * Simple linear solution, we only need up to 10 iterations in practice\n       * @param {string} text\n       * @param {number} times\n       * @return {string}\n       */\n\n\n      function repeat(text, times) {\n        var res = '';\n\n        while (times-- > 0) {\n          res += text;\n        }\n\n        return res;\n      }\n      /**\n       * Limit the length of text\n       * @param {string} text\n       * @param {number} [limit]\n       * @return {string}\n       */\n\n\n      function slice(text, limit) {\n        return typeof limit === 'number' ? text.slice(0, limit) : text;\n      }\n      /**\n       * Test whether some text contains a JSON array, i.e. the first\n       * non-white space character is a [\n       * @param {string} jsonText\n       * @return {boolean}\n       */\n\n\n      function containsArray(jsonText) {\n        return /^\\s*\\[/.test(jsonText);\n      }\n\n      function jsonUtils_hasOwnProperty(object, key) {\n        return Object.prototype.hasOwnProperty.call(object, key);\n      } // EXTERNAL MODULE: ./src/js/util.js\n\n\n      var util = __webpack_require__(0); // EXTERNAL MODULE: ./src/js/constants.js\n\n\n      var constants = __webpack_require__(2); // CONCATENATED MODULE: ./src/js/showTransformModal.js\n\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return showTransformModal;\n      });\n      /**\n       * Show advanced filter and transform modal using JMESPath\n       * @param {HTMLElement} container   The container where to center\n       *                                  the modal and create an overlay\n       * @param {JSON} json               The json data to be transformed\n       * @param {function} onTransform    Callback invoked with the created\n       *                                  query as callback\n       */\n\n\n      function showTransformModal(container, json, onTransform) {\n        var value = json;\n        var content = '<label class=\"pico-modal-contents\">' + '<div class=\"pico-modal-header\">' + Object(i18n[\"c\"\n        /* translate */\n        ])('transform') + '</div>' + '<p>' + 'Enter a <a href=\"http://jmespath.org\" target=\"_blank\">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>' + 'To learn JMESPath, go to <a href=\"http://jmespath.org/tutorial.html\" target=\"_blank\">the interactive tutorial</a>.' + '</p>' + '<div class=\"jsoneditor-jmespath-label\">' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformWizardLabel') + ' </div>' + '<div id=\"wizard\" class=\"jsoneditor-jmespath-block jsoneditor-jmespath-wizard\">' + '  <table class=\"jsoneditor-jmespath-wizard-table\">' + '    <tbody>' + '      <tr>' + '        <th>' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformWizardFilter') + '</th>' + '        <td class=\"jsoneditor-jmespath-filter\">' + '          <div class=\"jsoneditor-inline jsoneditor-jmespath-filter-field\" >' + '            <select id=\"filterField\">' + '            </select>' + '          </div>' + '          <div class=\"jsoneditor-inline jsoneditor-jmespath-filter-relation\" >' + '            <select id=\"filterRelation\">' + '              <option value=\"==\">==</option>' + '              <option value=\"!=\">!=</option>' + '              <option value=\"<\">&lt;</option>' + '              <option value=\"<=\">&lt;=</option>' + '              <option value=\">\">&gt;</option>' + '              <option value=\">=\">&gt;=</option>' + '            </select>' + '          </div>' + '          <div class=\"jsoneditor-inline jsoneditor-jmespath-filter-value\" >' + '            <input placeholder=\"value...\" id=\"filterValue\" />' + '          </div>' + '        </td>' + '      </tr>' + '      <tr>' + '        <th>' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformWizardSortBy') + '</th>' + '        <td class=\"jsoneditor-jmespath-filter\">' + '          <div class=\"jsoneditor-inline jsoneditor-jmespath-sort-field\">' + '            <select id=\"sortField\">' + '            </select>' + '          </div>' + '          <div class=\"jsoneditor-inline jsoneditor-jmespath-sort-order\" >' + '            <select id=\"sortOrder\">' + '              <option value=\"asc\">Ascending</option>' + '              <option value=\"desc\">Descending</option>' + '            </select>' + '          </div>' + '        </td>' + '      </tr>' + '      <tr id=\"selectFieldsPart\">' + '        <th>' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformWizardSelectFields') + '</th>' + '        <td class=\"jsoneditor-jmespath-filter\">' + '          <select class=\"jsoneditor-jmespath-select-fields\" id=\"selectFields\" multiple></select>' + '        </td>' + '      </tr>' + '    </tbody>' + '  </table>' + '</div>' + '<div class=\"jsoneditor-jmespath-label\">' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformQueryLabel') + ' </div>' + '<div class=\"jsoneditor-jmespath-block\">' + '  <textarea id=\"query\" ' + '            rows=\"4\" ' + '            autocomplete=\"off\" ' + '            autocorrect=\"off\" ' + '            autocapitalize=\"off\" ' + '            spellcheck=\"false\"' + '            title=\"' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformQueryTitle') + '\">[*]</textarea>' + '</div>' + '<div class=\"jsoneditor-jmespath-label\">' + Object(i18n[\"c\"\n        /* translate */\n        ])('transformPreviewLabel') + ' </div>' + '<div class=\"jsoneditor-jmespath-block\">' + '  <textarea id=\"preview\" ' + '      class=\"jsoneditor-transform-preview\"' + '      readonly> </textarea>' + '</div>' + '<div class=\"jsoneditor-jmespath-block jsoneditor-modal-actions\">' + '  <input type=\"submit\" id=\"ok\" value=\"' + Object(i18n[\"c\"\n        /* translate */\n        ])('ok') + '\" autofocus />' + '</div>' + '</div>';\n        picoModal_default()({\n          parent: container,\n          content: content,\n          overlayClass: 'jsoneditor-modal-overlay',\n          overlayStyles: {\n            backgroundColor: 'rgb(1,1,1)',\n            opacity: 0.3\n          },\n          modalClass: 'jsoneditor-modal jsoneditor-modal-transform',\n          focus: false\n        }).afterCreate(function (modal) {\n          var elem = modal.modalElem();\n          var wizard = elem.querySelector('#wizard');\n          var ok = elem.querySelector('#ok');\n          var filterField = elem.querySelector('#filterField');\n          var filterRelation = elem.querySelector('#filterRelation');\n          var filterValue = elem.querySelector('#filterValue');\n          var sortField = elem.querySelector('#sortField');\n          var sortOrder = elem.querySelector('#sortOrder');\n          var selectFields = elem.querySelector('#selectFields');\n          var query = elem.querySelector('#query');\n          var preview = elem.querySelector('#preview');\n\n          if (!Array.isArray(value)) {\n            wizard.style.fontStyle = 'italic';\n            wizard.innerHTML = '(wizard not available for objects, only for arrays)';\n          }\n\n          var sortablePaths = Object(util[\"getChildPaths\"])(json);\n          sortablePaths.forEach(function (path) {\n            var formattedPath = preprocessPath(path);\n            var filterOption = document.createElement('option');\n            filterOption.text = formattedPath;\n            filterOption.value = formattedPath;\n            filterField.appendChild(filterOption);\n            var sortOption = document.createElement('option');\n            sortOption.text = formattedPath;\n            sortOption.value = formattedPath;\n            sortField.appendChild(sortOption);\n          });\n          var selectablePaths = Object(util[\"getChildPaths\"])(json, true).filter(function (path) {\n            return path !== '';\n          });\n\n          if (selectablePaths.length > 0) {\n            selectablePaths.forEach(function (path) {\n              var formattedPath = preprocessPath(path);\n              var option = document.createElement('option');\n              option.text = formattedPath;\n              option.value = formattedPath;\n              selectFields.appendChild(option);\n            });\n          } else {\n            var selectFieldsPart = elem.querySelector('#selectFieldsPart');\n\n            if (selectFieldsPart) {\n              selectFieldsPart.style.display = 'none';\n            }\n          }\n\n          var selectrFilterField = new selectr_default.a(filterField, {\n            defaultSelected: false,\n            clearable: true,\n            allowDeselect: true,\n            placeholder: 'field...'\n          });\n          var selectrFilterRelation = new selectr_default.a(filterRelation, {\n            defaultSelected: false,\n            clearable: true,\n            allowDeselect: true,\n            placeholder: 'compare...'\n          });\n          var selectrSortField = new selectr_default.a(sortField, {\n            defaultSelected: false,\n            clearable: true,\n            allowDeselect: true,\n            placeholder: 'field...'\n          });\n          var selectrSortOrder = new selectr_default.a(sortOrder, {\n            defaultSelected: false,\n            clearable: true,\n            allowDeselect: true,\n            placeholder: 'order...'\n          });\n          var selectrSelectFields = new selectr_default.a(selectFields, {\n            multiple: true,\n            clearable: true,\n            defaultSelected: false,\n            placeholder: 'select fields...'\n          });\n          selectrFilterField.on('selectr.change', generateQueryFromWizard);\n          selectrFilterRelation.on('selectr.change', generateQueryFromWizard);\n          filterValue.oninput = generateQueryFromWizard;\n          selectrSortField.on('selectr.change', generateQueryFromWizard);\n          selectrSortOrder.on('selectr.change', generateQueryFromWizard);\n          selectrSelectFields.on('selectr.change', generateQueryFromWizard);\n\n          elem.querySelector('.pico-modal-contents').onclick = function (event) {\n            // prevent the first clear button (in any select box) from getting\n            // focus when clicking anywhere in the modal. Only allow clicking links.\n            if (event.target.nodeName !== 'A') {\n              event.preventDefault();\n            }\n          };\n\n          query.value = Array.isArray(value) ? '[*]' : '@';\n\n          function preprocessPath(path) {\n            return path === '' ? '@' : path[0] === '.' ? path.slice(1) : path;\n          }\n\n          function generateQueryFromWizard() {\n            if (filterField.value && filterRelation.value && filterValue.value) {\n              var field1 = filterField.value;\n              var examplePath = field1 !== '@' ? ['0'].concat(Object(util[\"parsePath\"])('.' + field1)) : ['0'];\n              var exampleValue = Object(util[\"get\"])(value, examplePath);\n              var value1 = typeof exampleValue === 'string' ? filterValue.value : Object(util[\"parseString\"])(filterValue.value);\n              query.value = '[? ' + field1 + ' ' + filterRelation.value + ' ' + '`' + JSON.stringify(value1) + '`' + ']';\n            } else {\n              query.value = '[*]';\n            }\n\n            if (sortField.value && sortOrder.value) {\n              var field2 = sortField.value;\n\n              if (sortOrder.value === 'desc') {\n                query.value += ' | reverse(sort_by(@, &' + field2 + '))';\n              } else {\n                query.value += ' | sort_by(@, &' + field2 + ')';\n              }\n            }\n\n            if (selectFields.value) {\n              var values = [];\n\n              for (var i = 0; i < selectFields.options.length; i++) {\n                if (selectFields.options[i].selected) {\n                  var selectedValue = selectFields.options[i].value;\n                  values.push(selectedValue);\n                }\n              }\n\n              if (query.value[query.value.length - 1] !== ']') {\n                query.value += ' | [*]';\n              }\n\n              if (values.length === 1) {\n                query.value += '.' + values[0];\n              } else if (values.length > 1) {\n                query.value += '.{' + values.map(function (value) {\n                  var parts = value.split('.');\n                  var last = parts[parts.length - 1];\n                  return last + ': ' + value;\n                }).join(', ') + '}';\n              } else {// values.length === 0\n                // ignore\n              }\n            }\n\n            debouncedUpdatePreview();\n          }\n\n          function updatePreview() {\n            try {\n              var transformed = jmespath_default.a.search(value, query.value);\n              preview.className = 'jsoneditor-transform-preview';\n              preview.value = stringifyPartial(transformed, 2, constants[\"b\"\n              /* MAX_PREVIEW_CHARACTERS */\n              ]);\n              ok.disabled = false;\n            } catch (err) {\n              preview.className = 'jsoneditor-transform-preview jsoneditor-error';\n              preview.value = err.toString();\n              ok.disabled = true;\n            }\n          }\n\n          var debouncedUpdatePreview = Object(util[\"debounce\"])(updatePreview, 300);\n          query.oninput = debouncedUpdatePreview;\n          debouncedUpdatePreview();\n\n          ok.onclick = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            modal.close();\n            onTransform(query.value);\n          };\n\n          setTimeout(function () {\n            query.select();\n            query.focus();\n            query.selectionStart = 3;\n            query.selectionEnd = 3;\n          });\n        }).afterClose(function (modal) {\n          modal.destroy();\n        }).show();\n      }\n      /***/\n\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /*!\n       * Selectr 2.4.0\n       * https://github.com/Mobius1/Selectr\n       *\n       * Released under the MIT license\n       */\n\n      /**\n       * Default configuration options\n       * @type {Object}\n       */\n\n      var defaultConfig = {\n        /**\n         * Emulates browser behaviour by selecting the first option by default\n         * @type {Boolean}\n         */\n        defaultSelected: true,\n\n        /**\n         * Sets the width of the container\n         * @type {String}\n         */\n        width: \"auto\",\n\n        /**\n         * Enables/ disables the container\n         * @type {Boolean}\n         */\n        disabled: false,\n\n        /**\n         * Enables / disables the search function\n         * @type {Boolean}\n         */\n        searchable: true,\n\n        /**\n         * Enable disable the clear button\n         * @type {Boolean}\n         */\n        clearable: false,\n\n        /**\n         * Sort the tags / multiselect options\n         * @type {Boolean}\n         */\n        sortSelected: false,\n\n        /**\n         * Allow deselecting of select-one options\n         * @type {Boolean}\n         */\n        allowDeselect: false,\n\n        /**\n         * Close the dropdown when scrolling (@AlexanderReiswich, #11)\n         * @type {Boolean}\n         */\n        closeOnScroll: false,\n\n        /**\n         * Allow the use of the native dropdown (@jonnyscholes, #14)\n         * @type {Boolean}\n         */\n        nativeDropdown: false,\n\n        /**\n         * Set the main placeholder\n         * @type {String}\n         */\n        placeholder: \"Select an option...\",\n\n        /**\n         * Allow the tagging feature\n         * @type {Boolean}\n         */\n        taggable: false,\n\n        /**\n         * Set the tag input placeholder (@labikmartin, #21, #22)\n         * @type {String}\n         */\n        tagPlaceholder: \"Enter a tag...\"\n      };\n      /**\n       * Event Emitter\n       */\n\n      var Events = function Events() {};\n      /**\n       * Event Prototype\n       * @type {Object}\n       */\n\n\n      Events.prototype = {\n        /**\n         * Add custom event listener\n         * @param  {String} event Event type\n         * @param  {Function} func   Callback\n         * @return {Void}\n         */\n        on: function on(event, func) {\n          this._events = this._events || {};\n          this._events[event] = this._events[event] || [];\n\n          this._events[event].push(func);\n        },\n\n        /**\n         * Remove custom event listener\n         * @param  {String} event Event type\n         * @param  {Function} func   Callback\n         * @return {Void}\n         */\n        off: function off(event, func) {\n          this._events = this._events || {};\n          if (event in this._events === false) return;\n\n          this._events[event].splice(this._events[event].indexOf(func), 1);\n        },\n\n        /**\n         * Fire a custom event\n         * @param  {String} event Event type\n         * @return {Void}\n         */\n        emit: function emit(event\n        /* , args... */\n        ) {\n          this._events = this._events || {};\n          if (event in this._events === false) return;\n\n          for (var i = 0; i < this._events[event].length; i++) {\n            this._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n          }\n        }\n      };\n      /**\n       * Event mixin\n       * @param  {Object} obj\n       * @return {Object}\n       */\n\n      Events.mixin = function (obj) {\n        var props = ['on', 'off', 'emit'];\n\n        for (var i = 0; i < props.length; i++) {\n          if (typeof obj === 'function') {\n            obj.prototype[props[i]] = Events.prototype[props[i]];\n          } else {\n            obj[props[i]] = Events.prototype[props[i]];\n          }\n        }\n\n        return obj;\n      };\n      /**\n       * Helpers\n       * @type {Object}\n       */\n\n\n      var util = {\n        extend: function extend(src, props) {\n          props = props || {};\n          var p;\n\n          for (p in src) {\n            if (src.hasOwnProperty(p)) {\n              if (!props.hasOwnProperty(p)) {\n                props[p] = src[p];\n              }\n            }\n          }\n\n          return props;\n        },\n        each: function each(a, b, c) {\n          if (\"[object Object]\" === Object.prototype.toString.call(a)) {\n            for (var d in a) {\n              if (Object.prototype.hasOwnProperty.call(a, d)) {\n                b.call(c, d, a[d], a);\n              }\n            }\n          } else {\n            for (var e = 0, f = a.length; e < f; e++) {\n              b.call(c, e, a[e], a);\n            }\n          }\n        },\n        createElement: function createElement(e, a) {\n          var d = document,\n              el = d.createElement(e);\n\n          if (a && \"[object Object]\" === Object.prototype.toString.call(a)) {\n            var i;\n\n            for (i in a) {\n              if (i in el) el[i] = a[i];else if (\"html\" === i) el.innerHTML = a[i];else if (\"text\" === i) {\n                var t = d.createTextNode(a[i]);\n                el.appendChild(t);\n              } else el.setAttribute(i, a[i]);\n            }\n          }\n\n          return el;\n        },\n        hasClass: function hasClass(a, b) {\n          if (a) return a.classList ? a.classList.contains(b) : !!a.className && !!a.className.match(new RegExp(\"(\\\\s|^)\" + b + \"(\\\\s|$)\"));\n        },\n        addClass: function addClass(a, b) {\n          if (!util.hasClass(a, b)) {\n            if (a.classList) {\n              a.classList.add(b);\n            } else {\n              a.className = a.className.trim() + \" \" + b;\n            }\n          }\n        },\n        removeClass: function removeClass(a, b) {\n          if (util.hasClass(a, b)) {\n            if (a.classList) {\n              a.classList.remove(b);\n            } else {\n              a.className = a.className.replace(new RegExp(\"(^|\\\\s)\" + b.split(\" \").join(\"|\") + \"(\\\\s|$)\", \"gi\"), \" \");\n            }\n          }\n        },\n        closest: function closest(el, fn) {\n          return el && el !== document.body && (fn(el) ? el : util.closest(el.parentNode, fn));\n        },\n        isInt: function isInt(val) {\n          return typeof val === 'number' && isFinite(val) && Math.floor(val) === val;\n        },\n        debounce: function debounce(a, b, c) {\n          var d;\n          return function () {\n            var e = this,\n                f = arguments,\n                g = function g() {\n              d = null;\n              if (!c) a.apply(e, f);\n            },\n                h = c && !d;\n\n            clearTimeout(d);\n            d = setTimeout(g, b);\n\n            if (h) {\n              a.apply(e, f);\n            }\n          };\n        },\n        rect: function rect(el, abs) {\n          var w = window;\n          var r = el.getBoundingClientRect();\n          var x = abs ? w.pageXOffset : 0;\n          var y = abs ? w.pageYOffset : 0;\n          return {\n            bottom: r.bottom + y,\n            height: r.height,\n            left: r.left + x,\n            right: r.right + x,\n            top: r.top + y,\n            width: r.width\n          };\n        },\n        includes: function includes(a, b) {\n          return a.indexOf(b) > -1;\n        },\n        truncate: function truncate(el) {\n          while (el.firstChild) {\n            el.removeChild(el.firstChild);\n          }\n        }\n      };\n\n      function isset(obj, prop) {\n        return obj.hasOwnProperty(prop) && (obj[prop] === true || obj[prop].length);\n      }\n      /**\n       * Append an item to the list\n       * @param  {Object} item\n       * @param  {Object} custom\n       * @return {Void}\n       */\n\n\n      function appendItem(item, parent, custom) {\n        if (item.parentNode) {\n          if (!item.parentNode.parentNode) {\n            parent.appendChild(item.parentNode);\n          }\n        } else {\n          parent.appendChild(item);\n        }\n\n        util.removeClass(item, \"excluded\");\n\n        if (!custom) {\n          item.innerHTML = item.textContent;\n        }\n      }\n      /**\n       * Render the item list\n       * @return {Void}\n       */\n\n\n      var render = function render() {\n        if (this.items.length) {\n          var f = document.createDocumentFragment();\n\n          if (this.config.pagination) {\n            var pages = this.pages.slice(0, this.pageIndex);\n            util.each(pages, function (i, items) {\n              util.each(items, function (j, item) {\n                appendItem(item, f, this.customOption);\n              }, this);\n            }, this);\n          } else {\n            util.each(this.items, function (i, item) {\n              appendItem(item, f, this.customOption);\n            }, this);\n          }\n\n          if (f.childElementCount) {\n            util.removeClass(this.items[this.navIndex], \"active\");\n            this.navIndex = f.querySelector(\".selectr-option\").idx;\n            util.addClass(this.items[this.navIndex], \"active\");\n          }\n\n          this.tree.appendChild(f);\n        }\n      };\n      /**\n       * Dismiss / close the dropdown\n       * @param  {obj} e\n       * @return {void}\n       */\n\n\n      var dismiss = function dismiss(e) {\n        var target = e.target;\n\n        if (!this.container.contains(target) && (this.opened || util.hasClass(this.container, \"notice\"))) {\n          this.close();\n        }\n      };\n      /**\n       * Build a list item from the HTMLOptionElement\n       * @param  {int} i      HTMLOptionElement index\n       * @param  {HTMLOptionElement} option\n       * @param  {bool} group  Has parent optgroup\n       * @return {void}\n       */\n\n\n      var createItem = function createItem(option, data) {\n        data = data || option;\n        var content = this.customOption ? this.config.renderOption(data) : option.textContent;\n        var opt = util.createElement(\"li\", {\n          \"class\": \"selectr-option\",\n          html: content,\n          role: \"treeitem\",\n          \"aria-selected\": false\n        });\n        opt.idx = option.idx;\n        this.items.push(opt);\n\n        if (option.defaultSelected) {\n          this.defaultSelected.push(option.idx);\n        }\n\n        if (option.disabled) {\n          opt.disabled = true;\n          util.addClass(opt, \"disabled\");\n        }\n\n        return opt;\n      };\n      /**\n       * Build the container\n       * @return {Void}\n       */\n\n\n      var build = function build() {\n        this.requiresPagination = this.config.pagination && this.config.pagination > 0; // Set width\n\n        if (isset(this.config, \"width\")) {\n          if (util.isInt(this.config.width)) {\n            this.width = this.config.width + \"px\";\n          } else {\n            if (this.config.width === \"auto\") {\n              this.width = \"100%\";\n            } else if (util.includes(this.config.width, \"%\")) {\n              this.width = this.config.width;\n            }\n          }\n        }\n\n        this.container = util.createElement(\"div\", {\n          \"class\": \"selectr-container\"\n        }); // Custom className\n\n        if (this.config.customClass) {\n          util.addClass(this.container, this.config.customClass);\n        } // Mobile device\n\n\n        if (this.mobileDevice) {\n          util.addClass(this.container, \"selectr-mobile\");\n        } else {\n          util.addClass(this.container, \"selectr-desktop\");\n        } // Hide the HTMLSelectElement and prevent focus\n\n\n        this.el.tabIndex = -1; // Native dropdown\n\n        if (this.config.nativeDropdown || this.mobileDevice) {\n          util.addClass(this.el, \"selectr-visible\");\n        } else {\n          util.addClass(this.el, \"selectr-hidden\");\n        }\n\n        this.selected = util.createElement(\"div\", {\n          \"class\": \"selectr-selected\",\n          disabled: this.disabled,\n          tabIndex: 1,\n          // enable tabIndex (#9)\n          \"aria-expanded\": false\n        });\n        this.label = util.createElement(this.el.multiple ? \"ul\" : \"span\", {\n          \"class\": \"selectr-label\"\n        });\n        var dropdown = util.createElement(\"div\", {\n          \"class\": \"selectr-options-container\"\n        });\n        this.tree = util.createElement(\"ul\", {\n          \"class\": \"selectr-options\",\n          role: \"tree\",\n          \"aria-hidden\": true,\n          \"aria-expanded\": false\n        });\n        this.notice = util.createElement(\"div\", {\n          \"class\": \"selectr-notice\"\n        });\n        this.el.setAttribute(\"aria-hidden\", true);\n\n        if (this.disabled) {\n          this.el.disabled = true;\n        }\n\n        if (this.el.multiple) {\n          util.addClass(this.label, \"selectr-tags\");\n          util.addClass(this.container, \"multiple\"); // Collection of tags\n\n          this.tags = []; // Collection of selected values\n\n          this.selectedValues = this.getSelectedProperties('value'); // Collection of selected indexes\n\n          this.selectedIndexes = this.getSelectedProperties('idx');\n        }\n\n        this.selected.appendChild(this.label);\n\n        if (this.config.clearable) {\n          this.selectClear = util.createElement(\"button\", {\n            \"class\": \"selectr-clear\",\n            type: \"button\"\n          });\n          this.container.appendChild(this.selectClear);\n          util.addClass(this.container, \"clearable\");\n        }\n\n        if (this.config.taggable) {\n          var li = util.createElement('li', {\n            \"class\": 'input-tag'\n          });\n          this.input = util.createElement(\"input\", {\n            \"class\": \"selectr-tag-input\",\n            placeholder: this.config.tagPlaceholder,\n            tagIndex: 0,\n            autocomplete: \"off\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            spellcheck: \"false\",\n            role: \"textbox\",\n            type: \"search\"\n          });\n          li.appendChild(this.input);\n          this.label.appendChild(li);\n          util.addClass(this.container, \"taggable\");\n          this.tagSeperators = [\",\"];\n\n          if (this.config.tagSeperators) {\n            this.tagSeperators = this.tagSeperators.concat(this.config.tagSeperators);\n          }\n        }\n\n        if (this.config.searchable) {\n          this.input = util.createElement(\"input\", {\n            \"class\": \"selectr-input\",\n            tagIndex: -1,\n            autocomplete: \"off\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            spellcheck: \"false\",\n            role: \"textbox\",\n            type: \"search\"\n          });\n          this.inputClear = util.createElement(\"button\", {\n            \"class\": \"selectr-input-clear\",\n            type: \"button\"\n          });\n          this.inputContainer = util.createElement(\"div\", {\n            \"class\": \"selectr-input-container\"\n          });\n          this.inputContainer.appendChild(this.input);\n          this.inputContainer.appendChild(this.inputClear);\n          dropdown.appendChild(this.inputContainer);\n        }\n\n        dropdown.appendChild(this.notice);\n        dropdown.appendChild(this.tree); // List of items for the dropdown\n\n        this.items = []; // Establish options\n\n        this.options = []; // Check for options in the element\n\n        if (this.el.options.length) {\n          this.options = [].slice.call(this.el.options);\n        } // Element may have optgroups so\n        // iterate element.children instead of element.options\n\n\n        var group = false,\n            j = 0;\n\n        if (this.el.children.length) {\n          util.each(this.el.children, function (i, element) {\n            if (element.nodeName === \"OPTGROUP\") {\n              group = util.createElement(\"ul\", {\n                \"class\": \"selectr-optgroup\",\n                role: \"group\",\n                html: \"<li class='selectr-optgroup--label'>\" + element.label + \"</li>\"\n              });\n              util.each(element.children, function (x, el) {\n                el.idx = j;\n                group.appendChild(createItem.call(this, el, group));\n                j++;\n              }, this);\n            } else {\n              element.idx = j;\n              createItem.call(this, element);\n              j++;\n            }\n          }, this);\n        } // Options defined by the data option\n\n\n        if (this.config.data && Array.isArray(this.config.data)) {\n          this.data = [];\n          var optgroup = false,\n              option;\n          group = false;\n          j = 0;\n          util.each(this.config.data, function (i, opt) {\n            // Check for group options\n            if (isset(opt, \"children\")) {\n              optgroup = util.createElement(\"optgroup\", {\n                label: opt.text\n              });\n              group = util.createElement(\"ul\", {\n                \"class\": \"selectr-optgroup\",\n                role: \"group\",\n                html: \"<li class='selectr-optgroup--label'>\" + opt.text + \"</li>\"\n              });\n              util.each(opt.children, function (x, data) {\n                option = new Option(data.text, data.value, false, data.hasOwnProperty(\"selected\") && data.selected === true);\n                option.disabled = isset(data, \"disabled\");\n                this.options.push(option);\n                optgroup.appendChild(option);\n                option.idx = j;\n                group.appendChild(createItem.call(this, option, data));\n                this.data[j] = data;\n                j++;\n              }, this);\n            } else {\n              option = new Option(opt.text, opt.value, false, opt.hasOwnProperty(\"selected\") && opt.selected === true);\n              option.disabled = isset(opt, \"disabled\");\n              this.options.push(option);\n              option.idx = j;\n              createItem.call(this, option, opt);\n              this.data[j] = opt;\n              j++;\n            }\n          }, this);\n        }\n\n        this.setSelected(true);\n        var first;\n        this.navIndex = 0;\n\n        for (var i = 0; i < this.items.length; i++) {\n          first = this.items[i];\n\n          if (!util.hasClass(first, \"disabled\")) {\n            util.addClass(first, \"active\");\n            this.navIndex = i;\n            break;\n          }\n        } // Check for pagination / infinite scroll\n\n\n        if (this.requiresPagination) {\n          this.pageIndex = 1; // Create the pages\n\n          this.paginate();\n        }\n\n        this.container.appendChild(this.selected);\n        this.container.appendChild(dropdown);\n        this.placeEl = util.createElement(\"div\", {\n          \"class\": \"selectr-placeholder\"\n        }); // Set the placeholder\n\n        this.setPlaceholder();\n        this.selected.appendChild(this.placeEl); // Disable if required\n\n        if (this.disabled) {\n          this.disable();\n        }\n\n        this.el.parentNode.insertBefore(this.container, this.el);\n        this.container.appendChild(this.el);\n      };\n      /**\n       * Navigate through the dropdown\n       * @param  {obj} e\n       * @return {void}\n       */\n\n\n      var navigate = function navigate(e) {\n        e = e || window.event; // Filter out the keys we don\"t want\n\n        if (!this.items.length || !this.opened || !util.includes([13, 38, 40], e.which)) {\n          this.navigating = false;\n          return;\n        }\n\n        e.preventDefault();\n\n        if (e.which === 13) {\n          if (this.config.taggable && this.input.value.length > 0) {\n            return false;\n          }\n\n          return this.change(this.navIndex);\n        }\n\n        var direction,\n            prevEl = this.items[this.navIndex];\n\n        switch (e.which) {\n          case 38:\n            direction = 0;\n\n            if (this.navIndex > 0) {\n              this.navIndex--;\n            }\n\n            break;\n\n          case 40:\n            direction = 1;\n\n            if (this.navIndex < this.items.length - 1) {\n              this.navIndex++;\n            }\n\n        }\n\n        this.navigating = true; // Instead of wasting memory holding a copy of this.items\n        // with disabled / excluded options omitted, skip them instead\n\n        while (util.hasClass(this.items[this.navIndex], \"disabled\") || util.hasClass(this.items[this.navIndex], \"excluded\")) {\n          if (direction) {\n            this.navIndex++;\n          } else {\n            this.navIndex--;\n          }\n\n          if (this.searching) {\n            if (this.navIndex > this.tree.lastElementChild.idx) {\n              this.navIndex = this.tree.lastElementChild.idx;\n              break;\n            } else if (this.navIndex < this.tree.firstElementChild.idx) {\n              this.navIndex = this.tree.firstElementChild.idx;\n              break;\n            }\n          }\n        } // Autoscroll the dropdown during navigation\n\n\n        var r = util.rect(this.items[this.navIndex]);\n\n        if (!direction) {\n          if (this.navIndex === 0) {\n            this.tree.scrollTop = 0;\n          } else if (r.top - this.optsRect.top < 0) {\n            this.tree.scrollTop = this.tree.scrollTop + (r.top - this.optsRect.top);\n          }\n        } else {\n          if (this.navIndex === 0) {\n            this.tree.scrollTop = 0;\n          } else if (r.top + r.height > this.optsRect.top + this.optsRect.height) {\n            this.tree.scrollTop = this.tree.scrollTop + (r.top + r.height - (this.optsRect.top + this.optsRect.height));\n          } // Load another page if needed\n\n\n          if (this.navIndex === this.tree.childElementCount - 1 && this.requiresPagination) {\n            load.call(this);\n          }\n        }\n\n        if (prevEl) {\n          util.removeClass(prevEl, \"active\");\n        }\n\n        util.addClass(this.items[this.navIndex], \"active\");\n      };\n      /**\n       * Add a tag\n       * @param  {HTMLElement} item\n       */\n\n\n      var addTag = function addTag(item) {\n        var that = this,\n            r;\n        var docFrag = document.createDocumentFragment();\n        var option = this.options[item.idx];\n        var data = this.data ? this.data[item.idx] : option;\n        var content = this.customSelected ? this.config.renderSelection(data) : option.textContent;\n        var tag = util.createElement(\"li\", {\n          \"class\": \"selectr-tag\",\n          html: content\n        });\n        var btn = util.createElement(\"button\", {\n          \"class\": \"selectr-tag-remove\",\n          type: \"button\"\n        });\n        tag.appendChild(btn); // Set property to check against later\n\n        tag.idx = item.idx;\n        tag.tag = option.value;\n        this.tags.push(tag);\n\n        if (this.config.sortSelected) {\n          var tags = this.tags.slice(); // Deal with values that contain numbers\n\n          r = function r(val, arr) {\n            val.replace(/(\\d+)|(\\D+)/g, function (that, $1, $2) {\n              arr.push([$1 || Infinity, $2 || \"\"]);\n            });\n          };\n\n          tags.sort(function (a, b) {\n            var x = [],\n                y = [],\n                ac,\n                bc;\n\n            if (that.config.sortSelected === true) {\n              ac = a.tag;\n              bc = b.tag;\n            } else if (that.config.sortSelected === 'text') {\n              ac = a.textContent;\n              bc = b.textContent;\n            }\n\n            r(ac, x);\n            r(bc, y);\n\n            while (x.length && y.length) {\n              var ax = x.shift();\n              var by = y.shift();\n              var nn = ax[0] - by[0] || ax[1].localeCompare(by[1]);\n              if (nn) return nn;\n            }\n\n            return x.length - y.length;\n          });\n          util.each(tags, function (i, tg) {\n            docFrag.appendChild(tg);\n          });\n          this.label.innerHTML = \"\";\n        } else {\n          docFrag.appendChild(tag);\n        }\n\n        if (this.config.taggable) {\n          this.label.insertBefore(docFrag, this.input.parentNode);\n        } else {\n          this.label.appendChild(docFrag);\n        }\n      };\n      /**\n       * Remove a tag\n       * @param  {HTMLElement} item\n       * @return {void}\n       */\n\n\n      var removeTag = function removeTag(item) {\n        var tag = false;\n        util.each(this.tags, function (i, t) {\n          if (t.idx === item.idx) {\n            tag = t;\n          }\n        }, this);\n\n        if (tag) {\n          this.label.removeChild(tag);\n          this.tags.splice(this.tags.indexOf(tag), 1);\n        }\n      };\n      /**\n       * Load the next page of items\n       * @return {void}\n       */\n\n\n      var load = function load() {\n        var tree = this.tree;\n        var scrollTop = tree.scrollTop;\n        var scrollHeight = tree.scrollHeight;\n        var offsetHeight = tree.offsetHeight;\n        var atBottom = scrollTop >= scrollHeight - offsetHeight;\n\n        if (atBottom && this.pageIndex < this.pages.length) {\n          var f = document.createDocumentFragment();\n          util.each(this.pages[this.pageIndex], function (i, item) {\n            appendItem(item, f, this.customOption);\n          }, this);\n          tree.appendChild(f);\n          this.pageIndex++;\n          this.emit(\"selectr.paginate\", {\n            items: this.items.length,\n            total: this.data.length,\n            page: this.pageIndex,\n            pages: this.pages.length\n          });\n        }\n      };\n      /**\n       * Clear a search\n       * @return {void}\n       */\n\n\n      var clearSearch = function clearSearch() {\n        if (this.config.searchable || this.config.taggable) {\n          this.input.value = null;\n          this.searching = false;\n\n          if (this.config.searchable) {\n            util.removeClass(this.inputContainer, \"active\");\n          }\n\n          if (util.hasClass(this.container, \"notice\")) {\n            util.removeClass(this.container, \"notice\");\n            util.addClass(this.container, \"open\");\n            this.input.focus();\n          }\n\n          util.each(this.items, function (i, item) {\n            // Items that didn't match need the class\n            // removing to make them visible again\n            util.removeClass(item, \"excluded\"); // Remove the span element for underlining matched items\n\n            if (!this.customOption) {\n              item.innerHTML = item.textContent;\n            }\n          }, this);\n        }\n      };\n      /**\n       * Query matching for searches\n       * @param  {string} query\n       * @param  {HTMLOptionElement} option\n       * @return {bool}\n       */\n\n\n      var match = function match(query, option) {\n        var result = new RegExp(query, \"i\").exec(option.textContent);\n\n        if (result) {\n          return option.textContent.replace(result[0], \"<span class='selectr-match'>\" + result[0] + \"</span>\");\n        }\n\n        return false;\n      }; // Main Lib\n\n\n      var Selectr = function Selectr(el, config) {\n        config = config || {};\n\n        if (!el) {\n          throw new Error(\"You must supply either a HTMLSelectElement or a CSS3 selector string.\");\n        }\n\n        this.el = el; // CSS3 selector string\n\n        if (typeof el === \"string\") {\n          this.el = document.querySelector(el);\n        }\n\n        if (this.el === null) {\n          throw new Error(\"The element you passed to Selectr can not be found.\");\n        }\n\n        if (this.el.nodeName.toLowerCase() !== \"select\") {\n          throw new Error(\"The element you passed to Selectr is not a HTMLSelectElement.\");\n        }\n\n        this.render(config);\n      };\n      /**\n       * Render the instance\n       * @param  {object} config\n       * @return {void}\n       */\n\n\n      Selectr.prototype.render = function (config) {\n        if (this.rendered) return; // Merge defaults with user set config\n\n        this.config = util.extend(defaultConfig, config); // Store type\n\n        this.originalType = this.el.type; // Store tabIndex\n\n        this.originalIndex = this.el.tabIndex; // Store defaultSelected options for form reset\n\n        this.defaultSelected = []; // Store the original option count\n\n        this.originalOptionCount = this.el.options.length;\n\n        if (this.config.multiple || this.config.taggable) {\n          this.el.multiple = true;\n        } // Disabled?\n\n\n        this.disabled = isset(this.config, \"disabled\");\n        this.opened = false;\n\n        if (this.config.taggable) {\n          this.config.searchable = false;\n        }\n\n        this.navigating = false;\n        this.mobileDevice = false;\n\n        if (/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)) {\n          this.mobileDevice = true;\n        }\n\n        this.customOption = this.config.hasOwnProperty(\"renderOption\") && typeof this.config.renderOption === \"function\";\n        this.customSelected = this.config.hasOwnProperty(\"renderSelection\") && typeof this.config.renderSelection === \"function\"; // Enable event emitter\n\n        Events.mixin(this);\n        build.call(this);\n        this.bindEvents();\n        this.update();\n        this.optsRect = util.rect(this.tree);\n        this.rendered = true; // Fixes macOS Safari bug #28\n\n        if (!this.el.multiple) {\n          this.el.selectedIndex = this.selectedIndex;\n        }\n\n        var that = this;\n        setTimeout(function () {\n          that.emit(\"selectr.init\");\n        }, 20);\n      };\n\n      Selectr.prototype.getSelected = function () {\n        var selected = this.el.querySelectorAll('option:checked');\n        return selected;\n      };\n\n      Selectr.prototype.getSelectedProperties = function (prop) {\n        var selected = this.getSelected();\n        var values = [].slice.call(selected).map(function (option) {\n          return option[prop];\n        }).filter(function (i) {\n          return i !== null && i !== undefined;\n        });\n        return values;\n      };\n      /**\n       * Attach the required event listeners\n       */\n\n\n      Selectr.prototype.bindEvents = function () {\n        var that = this;\n        this.events = {};\n        this.events.dismiss = dismiss.bind(this);\n        this.events.navigate = navigate.bind(this);\n        this.events.reset = this.reset.bind(this);\n\n        if (this.config.nativeDropdown || this.mobileDevice) {\n          this.container.addEventListener(\"touchstart\", function (e) {\n            if (e.changedTouches[0].target === that.el) {\n              that.toggle();\n            }\n          });\n\n          if (this.config.nativeDropdown || this.mobileDevice) {\n            this.container.addEventListener(\"click\", function (e) {\n              e.preventDefault(); // Jos: Added to prevent emitting clear directly after select\n\n              e.stopPropagation(); // Jos: Added to prevent emitting clear directly after select\n\n              if (e.target === that.el) {\n                that.toggle();\n              }\n            });\n          }\n\n          var getChangedOptions = function getChangedOptions(last, current) {\n            var added = [],\n                removed = last.slice(0);\n            var idx;\n\n            for (var i = 0; i < current.length; i++) {\n              idx = removed.indexOf(current[i]);\n              if (idx > -1) removed.splice(idx, 1);else added.push(current[i]);\n            }\n\n            return [added, removed];\n          }; // Listen for the change on the native select\n          // and update accordingly\n\n\n          this.el.addEventListener(\"change\", function (e) {\n            if (that.el.multiple) {\n              var indexes = that.getSelectedProperties('idx');\n              var changes = getChangedOptions(that.selectedIndexes, indexes);\n              util.each(changes[0], function (i, idx) {\n                that.select(idx);\n              }, that);\n              util.each(changes[1], function (i, idx) {\n                that.deselect(idx);\n              }, that);\n            } else {\n              if (that.el.selectedIndex > -1) {\n                that.select(that.el.selectedIndex);\n              }\n            }\n          });\n        } // Open the dropdown with Enter key if focused\n\n\n        if (this.config.nativeDropdown) {\n          this.container.addEventListener(\"keydown\", function (e) {\n            if (e.key === \"Enter\" && that.selected === document.activeElement) {\n              // Show the native\n              that.toggle(); // Focus on the native multiselect\n\n              setTimeout(function () {\n                that.el.focus();\n              }, 200);\n            }\n          });\n        } // Non-native dropdown\n\n\n        this.selected.addEventListener(\"click\", function (e) {\n          if (!that.disabled) {\n            that.toggle();\n          }\n\n          e.preventDefault();\n          e.stopPropagation(); // Jos: Added to prevent emitting clear directly after select\n        }); // Remove tag\n\n        this.label.addEventListener(\"click\", function (e) {\n          if (util.hasClass(e.target, \"selectr-tag-remove\")) {\n            that.deselect(e.target.parentNode.idx);\n          }\n        }); // Clear input\n\n        if (this.selectClear) {\n          this.selectClear.addEventListener(\"click\", this.clear.bind(this));\n        } // Prevent text selection\n\n\n        this.tree.addEventListener(\"mousedown\", function (e) {\n          e.preventDefault();\n        }); // Select / deselect items\n\n        this.tree.addEventListener(\"click\", function (e) {\n          e.preventDefault(); // Jos: Added to prevent emitting clear directly after select\n\n          e.stopPropagation(); // Jos: Added to prevent emitting clear directly after select\n\n          var item = util.closest(e.target, function (el) {\n            return el && util.hasClass(el, \"selectr-option\");\n          });\n\n          if (item) {\n            if (!util.hasClass(item, \"disabled\")) {\n              if (util.hasClass(item, \"selected\")) {\n                if (that.el.multiple || !that.el.multiple && that.config.allowDeselect) {\n                  that.deselect(item.idx);\n                }\n              } else {\n                that.select(item.idx);\n              }\n\n              if (that.opened && !that.el.multiple) {\n                that.close();\n              }\n            }\n          }\n        }); // Mouseover list items\n\n        this.tree.addEventListener(\"mouseover\", function (e) {\n          if (util.hasClass(e.target, \"selectr-option\")) {\n            if (!util.hasClass(e.target, \"disabled\")) {\n              util.removeClass(that.items[that.navIndex], \"active\");\n              util.addClass(e.target, \"active\");\n              that.navIndex = [].slice.call(that.items).indexOf(e.target);\n            }\n          }\n        }); // Searchable\n\n        if (this.config.searchable) {\n          // Show / hide the search input clear button\n          this.input.addEventListener(\"focus\", function (e) {\n            that.searching = true;\n          });\n          this.input.addEventListener(\"blur\", function (e) {\n            that.searching = false;\n          });\n          this.input.addEventListener(\"keyup\", function (e) {\n            that.search();\n\n            if (!that.config.taggable) {\n              // Show / hide the search input clear button\n              if (this.value.length) {\n                util.addClass(this.parentNode, \"active\");\n              } else {\n                util.removeClass(this.parentNode, \"active\");\n              }\n            }\n          }); // Clear the search input\n\n          this.inputClear.addEventListener(\"click\", function (e) {\n            that.input.value = null;\n            clearSearch.call(that);\n\n            if (!that.tree.childElementCount) {\n              render.call(that);\n            }\n          });\n        }\n\n        if (this.config.taggable) {\n          this.input.addEventListener(\"keyup\", function (e) {\n            that.search();\n\n            if (that.config.taggable && this.value.length) {\n              var val = this.value.trim();\n\n              if (e.which === 13 || util.includes(that.tagSeperators, e.key)) {\n                util.each(that.tagSeperators, function (i, k) {\n                  val = val.replace(k, '');\n                });\n                var option = that.add({\n                  value: val,\n                  text: val,\n                  selected: true\n                }, true);\n\n                if (!option) {\n                  this.value = '';\n                  that.setMessage('That tag is already in use.');\n                } else {\n                  that.close();\n                  clearSearch.call(that);\n                }\n              }\n            }\n          });\n        }\n\n        this.update = util.debounce(function () {\n          // Optionally close dropdown on scroll / resize (#11)\n          if (that.opened && that.config.closeOnScroll) {\n            that.close();\n          }\n\n          if (that.width) {\n            that.container.style.width = that.width;\n          }\n\n          that.invert();\n        }, 50);\n\n        if (this.requiresPagination) {\n          this.paginateItems = util.debounce(function () {\n            load.call(this);\n          }, 50);\n          this.tree.addEventListener(\"scroll\", this.paginateItems.bind(this));\n        } // Dismiss when clicking outside the container\n\n\n        document.addEventListener(\"click\", this.events.dismiss);\n        window.addEventListener(\"keydown\", this.events.navigate);\n        window.addEventListener(\"resize\", this.update);\n        window.addEventListener(\"scroll\", this.update); // Listen for form.reset() (@ambrooks, #13)\n\n        if (this.el.form) {\n          this.el.form.addEventListener(\"reset\", this.events.reset);\n        }\n      };\n      /**\n       * Check for selected options\n       * @param {bool} reset\n       */\n\n\n      Selectr.prototype.setSelected = function (reset) {\n        // Select first option as with a native select-one element - #21, #24\n        if (!this.config.data && !this.el.multiple && this.el.options.length) {\n          // Browser has selected the first option by default\n          if (this.el.selectedIndex === 0) {\n            if (!this.el.options[0].defaultSelected && !this.config.defaultSelected) {\n              this.el.selectedIndex = -1;\n            }\n          }\n\n          this.selectedIndex = this.el.selectedIndex;\n\n          if (this.selectedIndex > -1) {\n            this.select(this.selectedIndex);\n          }\n        } // If we're changing a select-one to select-multiple via the config\n        // and there are no selected options, the first option will be selected by the browser\n        // Let's prevent that here.\n\n\n        if (this.config.multiple && this.originalType === \"select-one\" && !this.config.data) {\n          if (this.el.options[0].selected && !this.el.options[0].defaultSelected) {\n            this.el.options[0].selected = false;\n          }\n        }\n\n        util.each(this.options, function (i, option) {\n          if (option.selected && option.defaultSelected) {\n            this.select(option.idx);\n          }\n        }, this);\n\n        if (this.config.selectedValue) {\n          this.setValue(this.config.selectedValue);\n        }\n\n        if (this.config.data) {\n          if (!this.el.multiple && this.config.defaultSelected && this.el.selectedIndex < 0) {\n            this.select(0);\n          }\n\n          var j = 0;\n          util.each(this.config.data, function (i, opt) {\n            // Check for group options\n            if (isset(opt, \"children\")) {\n              util.each(opt.children, function (x, item) {\n                if (item.hasOwnProperty(\"selected\") && item.selected === true) {\n                  this.select(j);\n                }\n\n                j++;\n              }, this);\n            } else {\n              if (opt.hasOwnProperty(\"selected\") && opt.selected === true) {\n                this.select(j);\n              }\n\n              j++;\n            }\n          }, this);\n        }\n      };\n      /**\n       * Destroy the instance\n       * @return {void}\n       */\n\n\n      Selectr.prototype.destroy = function () {\n        if (!this.rendered) return;\n        this.emit(\"selectr.destroy\"); // Revert to select-single if programtically set to multiple\n\n        if (this.originalType === 'select-one') {\n          this.el.multiple = false;\n        }\n\n        if (this.config.data) {\n          this.el.innerHTML = \"\";\n        } // Remove the className from select element\n\n\n        util.removeClass(this.el, 'selectr-hidden'); // Remove reset listener from parent form\n\n        if (this.el.form) {\n          util.off(this.el.form, \"reset\", this.events.reset);\n        } // Remove event listeners attached to doc and win\n\n\n        util.off(document, \"click\", this.events.dismiss);\n        util.off(document, \"keydown\", this.events.navigate);\n        util.off(window, \"resize\", this.update);\n        util.off(window, \"scroll\", this.update); // Replace the container with the original select element\n\n        this.container.parentNode.replaceChild(this.el, this.container);\n        this.rendered = false;\n      };\n      /**\n       * Change an options state\n       * @param  {Number} index\n       * @return {void}\n       */\n\n\n      Selectr.prototype.change = function (index) {\n        var item = this.items[index],\n            option = this.options[index];\n\n        if (option.disabled) {\n          return;\n        }\n\n        if (option.selected && util.hasClass(item, \"selected\")) {\n          this.deselect(index);\n        } else {\n          this.select(index);\n        }\n\n        if (this.opened && !this.el.multiple) {\n          this.close();\n        }\n      };\n      /**\n       * Select an option\n       * @param  {Number} index\n       * @return {void}\n       */\n\n\n      Selectr.prototype.select = function (index) {\n        var item = this.items[index],\n            options = [].slice.call(this.el.options),\n            option = this.options[index];\n\n        if (this.el.multiple) {\n          if (util.includes(this.selectedIndexes, index)) {\n            return false;\n          }\n\n          if (this.config.maxSelections && this.tags.length === this.config.maxSelections) {\n            this.setMessage(\"A maximum of \" + this.config.maxSelections + \" items can be selected.\", true);\n            return false;\n          }\n\n          this.selectedValues.push(option.value);\n          this.selectedIndexes.push(index);\n          addTag.call(this, item);\n        } else {\n          var data = this.data ? this.data[index] : option;\n          this.label.innerHTML = this.customSelected ? this.config.renderSelection(data) : option.textContent;\n          this.selectedValue = option.value;\n          this.selectedIndex = index;\n          util.each(this.options, function (i, o) {\n            var opt = this.items[i];\n\n            if (i !== index) {\n              if (opt) {\n                util.removeClass(opt, \"selected\");\n              }\n\n              o.selected = false;\n              o.removeAttribute(\"selected\");\n            }\n          }, this);\n        }\n\n        if (!util.includes(options, option)) {\n          this.el.add(option);\n        }\n\n        item.setAttribute(\"aria-selected\", true);\n        util.addClass(item, \"selected\");\n        util.addClass(this.container, \"has-selected\");\n        option.selected = true;\n        option.setAttribute(\"selected\", \"\");\n        this.emit(\"selectr.change\", option);\n        this.emit(\"selectr.select\", option);\n      };\n      /**\n       * Deselect an option\n       * @param  {Number} index\n       * @return {void}\n       */\n\n\n      Selectr.prototype.deselect = function (index, force) {\n        var item = this.items[index],\n            option = this.options[index];\n\n        if (this.el.multiple) {\n          var selIndex = this.selectedIndexes.indexOf(index);\n          this.selectedIndexes.splice(selIndex, 1);\n          var valIndex = this.selectedValues.indexOf(option.value);\n          this.selectedValues.splice(valIndex, 1);\n          removeTag.call(this, item);\n\n          if (!this.tags.length) {\n            util.removeClass(this.container, \"has-selected\");\n          }\n        } else {\n          if (!force && !this.config.clearable && !this.config.allowDeselect) {\n            return false;\n          }\n\n          this.label.innerHTML = \"\";\n          this.selectedValue = null;\n          this.el.selectedIndex = this.selectedIndex = -1;\n          util.removeClass(this.container, \"has-selected\");\n        }\n\n        this.items[index].setAttribute(\"aria-selected\", false);\n        util.removeClass(this.items[index], \"selected\");\n        option.selected = false;\n        option.removeAttribute(\"selected\");\n        this.emit(\"selectr.change\", null);\n        this.emit(\"selectr.deselect\", option);\n      };\n      /**\n       * Programmatically set selected values\n       * @param {String|Array} value - A string or an array of strings\n       */\n\n\n      Selectr.prototype.setValue = function (value) {\n        var isArray = Array.isArray(value);\n\n        if (!isArray) {\n          value = value.toString().trim();\n        } // Can't pass array to select-one\n\n\n        if (!this.el.multiple && isArray) {\n          return false;\n        }\n\n        util.each(this.options, function (i, option) {\n          if (isArray && util.includes(value.toString(), option.value) || option.value === value) {\n            this.change(option.idx);\n          }\n        }, this);\n      };\n      /**\n       * Set the selected value(s)\n       * @param  {bool} toObject Return only the raw values or an object\n       * @param  {bool} toJson   Return the object as a JSON string\n       * @return {mixed}         Array or String\n       */\n\n\n      Selectr.prototype.getValue = function (toObject, toJson) {\n        var value;\n\n        if (this.el.multiple) {\n          if (toObject) {\n            if (this.selectedIndexes.length) {\n              value = {};\n              value.values = [];\n              util.each(this.selectedIndexes, function (i, index) {\n                var option = this.options[index];\n                value.values[i] = {\n                  value: option.value,\n                  text: option.textContent\n                };\n              }, this);\n            }\n          } else {\n            value = this.selectedValues.slice();\n          }\n        } else {\n          if (toObject) {\n            var option = this.options[this.selectedIndex];\n            value = {\n              value: option.value,\n              text: option.textContent\n            };\n          } else {\n            value = this.selectedValue;\n          }\n        }\n\n        if (toObject && toJson) {\n          value = JSON.stringify(value);\n        }\n\n        return value;\n      };\n      /**\n       * Add a new option or options\n       * @param {object} data\n       */\n\n\n      Selectr.prototype.add = function (data, checkDuplicate) {\n        if (data) {\n          this.data = this.data || [];\n          this.items = this.items || [];\n          this.options = this.options || [];\n\n          if (Array.isArray(data)) {\n            // We have an array on items\n            util.each(data, function (i, obj) {\n              this.add(obj, checkDuplicate);\n            }, this);\n          } // User passed a single object to the method\n          // or Selectr passed an object from an array\n          else if (\"[object Object]\" === Object.prototype.toString.call(data)) {\n              if (checkDuplicate) {\n                var dupe = false;\n                util.each(this.options, function (i, option) {\n                  if (option.value.toLowerCase() === data.value.toLowerCase()) {\n                    dupe = true;\n                  }\n                });\n\n                if (dupe) {\n                  return false;\n                }\n              }\n\n              var option = util.createElement('option', data);\n              this.data.push(data); // Add the new option to the list\n\n              this.options.push(option); // Add the index for later use\n\n              option.idx = this.options.length > 0 ? this.options.length - 1 : 0; // Create a new item\n\n              createItem.call(this, option); // Select the item if required\n\n              if (data.selected) {\n                this.select(option.idx);\n              }\n\n              return option;\n            } // We may have had an empty select so update\n          // the placeholder to reflect the changes.\n\n\n          this.setPlaceholder(); // Recount the pages\n\n          if (this.config.pagination) {\n            this.paginate();\n          }\n\n          return true;\n        }\n      };\n      /**\n       * Remove an option or options\n       * @param  {Mixed} o Array, integer (index) or string (value)\n       * @return {Void}\n       */\n\n\n      Selectr.prototype.remove = function (o) {\n        var options = [];\n\n        if (Array.isArray(o)) {\n          util.each(o, function (i, opt) {\n            if (util.isInt(opt)) {\n              options.push(this.getOptionByIndex(opt));\n            } else if (typeof o === \"string\") {\n              options.push(this.getOptionByValue(opt));\n            }\n          }, this);\n        } else if (util.isInt(o)) {\n          options.push(this.getOptionByIndex(o));\n        } else if (typeof o === \"string\") {\n          options.push(this.getOptionByValue(o));\n        }\n\n        if (options.length) {\n          var index;\n          util.each(options, function (i, option) {\n            index = option.idx; // Remove the HTMLOptionElement\n\n            this.el.remove(option); // Remove the reference from the option array\n\n            this.options.splice(index, 1); // If the item has a parentNode (group element) it needs to be removed\n            // otherwise the render function will still append it to the dropdown\n\n            var parentNode = this.items[index].parentNode;\n\n            if (parentNode) {\n              parentNode.removeChild(this.items[index]);\n            } // Remove reference from the items array\n\n\n            this.items.splice(index, 1); // Reset the indexes\n\n            util.each(this.options, function (i, opt) {\n              opt.idx = i;\n              this.items[i].idx = i;\n            }, this);\n          }, this); // We may have had an empty select now so update\n          // the placeholder to reflect the changes.\n\n          this.setPlaceholder(); // Recount the pages\n\n          if (this.config.pagination) {\n            this.paginate();\n          }\n        }\n      };\n      /**\n       * Remove all options\n       */\n\n\n      Selectr.prototype.removeAll = function () {\n        // Clear any selected options\n        this.clear(true); // Remove the HTMLOptionElements\n\n        util.each(this.el.options, function (i, option) {\n          this.el.remove(option);\n        }, this); // Empty the dropdown\n\n        util.truncate(this.tree); // Reset variables\n\n        this.items = [];\n        this.options = [];\n        this.data = [];\n        this.navIndex = 0;\n\n        if (this.requiresPagination) {\n          this.requiresPagination = false;\n          this.pageIndex = 1;\n          this.pages = [];\n        } // Update the placeholder\n\n\n        this.setPlaceholder();\n      };\n      /**\n       * Perform a search\n       * @param  {string} query The query string\n       */\n\n\n      Selectr.prototype.search = function (string) {\n        if (this.navigating) return;\n        string = string || this.input.value;\n        var f = document.createDocumentFragment(); // Remove message\n\n        this.removeMessage(); // Clear the dropdown\n\n        util.truncate(this.tree);\n\n        if (string.length > 1) {\n          // Check the options for the matching string\n          util.each(this.options, function (i, option) {\n            var item = this.items[option.idx];\n            var includes = util.includes(option.textContent.toLowerCase(), string.toLowerCase());\n\n            if (includes && !option.disabled) {\n              appendItem(item, f, this.customOption);\n              util.removeClass(item, \"excluded\"); // Underline the matching results\n\n              if (!this.customOption) {\n                item.innerHTML = match(string, option);\n              }\n            } else {\n              util.addClass(item, \"excluded\");\n            }\n          }, this);\n\n          if (!f.childElementCount) {\n            if (!this.config.taggable) {\n              this.setMessage(\"no results.\");\n            }\n          } else {\n            // Highlight top result (@binary-koan #26)\n            var prevEl = this.items[this.navIndex];\n            var firstEl = f.firstElementChild;\n            util.removeClass(prevEl, \"active\");\n            this.navIndex = firstEl.idx;\n            util.addClass(firstEl, \"active\");\n          }\n        } else {\n          render.call(this);\n        }\n\n        this.tree.appendChild(f);\n      };\n      /**\n       * Toggle the dropdown\n       * @return {void}\n       */\n\n\n      Selectr.prototype.toggle = function () {\n        if (!this.disabled) {\n          if (this.opened) {\n            this.close();\n          } else {\n            this.open();\n          }\n        }\n      };\n      /**\n       * Open the dropdown\n       * @return {void}\n       */\n\n\n      Selectr.prototype.open = function () {\n        var that = this;\n\n        if (!this.options.length) {\n          return false;\n        }\n\n        if (!this.opened) {\n          this.emit(\"selectr.open\");\n        }\n\n        this.opened = true;\n\n        if (this.mobileDevice || this.config.nativeDropdown) {\n          util.addClass(this.container, \"native-open\");\n\n          if (this.config.data) {\n            // Dump the options into the select\n            // otherwise the native dropdown will be empty\n            util.each(this.options, function (i, option) {\n              this.el.add(option);\n            }, this);\n          }\n\n          return;\n        }\n\n        util.addClass(this.container, \"open\");\n        render.call(this);\n        this.invert();\n        this.tree.scrollTop = 0;\n        util.removeClass(this.container, \"notice\");\n        this.selected.setAttribute(\"aria-expanded\", true);\n        this.tree.setAttribute(\"aria-hidden\", false);\n        this.tree.setAttribute(\"aria-expanded\", true);\n\n        if (this.config.searchable && !this.config.taggable) {\n          setTimeout(function () {\n            that.input.focus(); // Allow tab focus\n\n            that.input.tabIndex = 0;\n          }, 10);\n        }\n      };\n      /**\n       * Close the dropdown\n       * @return {void}\n       */\n\n\n      Selectr.prototype.close = function () {\n        if (this.opened) {\n          this.emit(\"selectr.close\");\n        }\n\n        this.opened = false;\n\n        if (this.mobileDevice || this.config.nativeDropdown) {\n          util.removeClass(this.container, \"native-open\");\n          return;\n        }\n\n        var notice = util.hasClass(this.container, \"notice\");\n\n        if (this.config.searchable && !notice) {\n          this.input.blur(); // Disable tab focus\n\n          this.input.tabIndex = -1;\n          this.searching = false;\n        }\n\n        if (notice) {\n          util.removeClass(this.container, \"notice\");\n          this.notice.textContent = \"\";\n        }\n\n        util.removeClass(this.container, \"open\");\n        util.removeClass(this.container, \"native-open\");\n        this.selected.setAttribute(\"aria-expanded\", false);\n        this.tree.setAttribute(\"aria-hidden\", true);\n        this.tree.setAttribute(\"aria-expanded\", false);\n        util.truncate(this.tree);\n        clearSearch.call(this);\n      };\n      /**\n       * Enable the element\n       * @return {void}\n       */\n\n\n      Selectr.prototype.enable = function () {\n        this.disabled = false;\n        this.el.disabled = false;\n        this.selected.tabIndex = this.originalIndex;\n\n        if (this.el.multiple) {\n          util.each(this.tags, function (i, t) {\n            t.lastElementChild.tabIndex = 0;\n          });\n        }\n\n        util.removeClass(this.container, \"selectr-disabled\");\n      };\n      /**\n       * Disable the element\n       * @param  {boolean} container Disable the container only (allow value submit with form)\n       * @return {void}\n       */\n\n\n      Selectr.prototype.disable = function (container) {\n        if (!container) {\n          this.el.disabled = true;\n        }\n\n        this.selected.tabIndex = -1;\n\n        if (this.el.multiple) {\n          util.each(this.tags, function (i, t) {\n            t.lastElementChild.tabIndex = -1;\n          });\n        }\n\n        this.disabled = true;\n        util.addClass(this.container, \"selectr-disabled\");\n      };\n      /**\n       * Reset to initial state\n       * @return {void}\n       */\n\n\n      Selectr.prototype.reset = function () {\n        if (!this.disabled) {\n          this.clear();\n          this.setSelected(true);\n          util.each(this.defaultSelected, function (i, idx) {\n            this.select(idx);\n          }, this);\n          this.emit(\"selectr.reset\");\n        }\n      };\n      /**\n       * Clear all selections\n       * @return {void}\n       */\n\n\n      Selectr.prototype.clear = function (force) {\n        if (this.el.multiple) {\n          // Loop over the selectedIndexes so we don't have to loop over all the options\n          // which can be costly if there are a lot of them\n          if (this.selectedIndexes.length) {\n            // Copy the array or we'll get an error\n            var indexes = this.selectedIndexes.slice();\n            util.each(indexes, function (i, idx) {\n              this.deselect(idx);\n            }, this);\n          }\n        } else {\n          if (this.selectedIndex > -1) {\n            this.deselect(this.selectedIndex, force);\n          }\n        }\n\n        this.emit(\"selectr.clear\");\n      };\n      /**\n       * Return serialised data\n       * @param  {boolean} toJson\n       * @return {mixed} Returns either an object or JSON string\n       */\n\n\n      Selectr.prototype.serialise = function (toJson) {\n        var data = [];\n        util.each(this.options, function (i, option) {\n          var obj = {\n            value: option.value,\n            text: option.textContent\n          };\n\n          if (option.selected) {\n            obj.selected = true;\n          }\n\n          if (option.disabled) {\n            obj.disabled = true;\n          }\n\n          data[i] = obj;\n        });\n        return toJson ? JSON.stringify(data) : data;\n      };\n      /**\n       * Localised version of serialise() method\n       */\n\n\n      Selectr.prototype.serialize = function (toJson) {\n        return this.serialise(toJson);\n      };\n      /**\n       * Sets the placeholder\n       * @param {String} placeholder\n       */\n\n\n      Selectr.prototype.setPlaceholder = function (placeholder) {\n        // Set the placeholder\n        placeholder = placeholder || this.config.placeholder || this.el.getAttribute(\"placeholder\");\n\n        if (!this.options.length) {\n          placeholder = \"No options available\";\n        }\n\n        this.placeEl.innerHTML = placeholder;\n      };\n      /**\n       * Paginate the option list\n       * @return {Array}\n       */\n\n\n      Selectr.prototype.paginate = function () {\n        if (this.items.length) {\n          var that = this;\n          this.pages = this.items.map(function (v, i) {\n            return i % that.config.pagination === 0 ? that.items.slice(i, i + that.config.pagination) : null;\n          }).filter(function (pages) {\n            return pages;\n          });\n          return this.pages;\n        }\n      };\n      /**\n       * Display a message\n       * @param  {String} message The message\n       */\n\n\n      Selectr.prototype.setMessage = function (message, close) {\n        if (close) {\n          this.close();\n        }\n\n        util.addClass(this.container, \"notice\");\n        this.notice.textContent = message;\n      };\n      /**\n       * Dismiss the current message\n       */\n\n\n      Selectr.prototype.removeMessage = function () {\n        util.removeClass(this.container, \"notice\");\n        this.notice.innerHTML = \"\";\n      };\n      /**\n       * Keep the dropdown within the window\n       * @return {void}\n       */\n\n\n      Selectr.prototype.invert = function () {\n        var rt = util.rect(this.selected),\n            oh = this.tree.parentNode.offsetHeight,\n            wh = window.innerHeight,\n            doInvert = rt.top + rt.height + oh > wh;\n\n        if (doInvert) {\n          util.addClass(this.container, \"inverted\");\n          this.isInverted = true;\n        } else {\n          util.removeClass(this.container, \"inverted\");\n          this.isInverted = false;\n        }\n\n        this.optsRect = util.rect(this.tree);\n      };\n      /**\n       * Get an option via it's index\n       * @param  {Integer} index The index of the HTMLOptionElement required\n       * @return {HTMLOptionElement}\n       */\n\n\n      Selectr.prototype.getOptionByIndex = function (index) {\n        return this.options[index];\n      };\n      /**\n       * Get an option via it's value\n       * @param  {String} value The value of the HTMLOptionElement required\n       * @return {HTMLOptionElement}\n       */\n\n\n      Selectr.prototype.getOptionByValue = function (value) {\n        var option = false;\n\n        for (var i = 0, l = this.options.length; i < l; i++) {\n          if (this.options[i].value.trim() === value.toString().trim()) {\n            option = this.options[i];\n            break;\n          }\n        }\n\n        return option;\n      };\n\n      module.exports = Selectr;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports) {\n      /*\r\n       * Natural Sort algorithm for Javascript - Version 0.7 - Released under MIT license\r\n       * Author: Jim Palmer (based on chunking idea from Dave Koelle)\r\n       */\n\n      /*jshint unused:false */\n      module.exports = function naturalSort(a, b) {\n        \"use strict\";\n\n        var re = /(^([+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?$|^0x[0-9a-f]+$|\\d+)/gi,\n            sre = /(^[ ]*|[ ]*$)/g,\n            dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/,\n            hre = /^0x[0-9a-f]+$/i,\n            ore = /^0/,\n            i = function i(s) {\n          return naturalSort.insensitive && ('' + s).toLowerCase() || '' + s;\n        },\n            // convert all to strings strip whitespace\n        x = i(a).replace(sre, '') || '',\n            y = i(b).replace(sre, '') || '',\n            // chunk/tokenize\n        xN = x.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0'),\n            yN = y.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0'),\n            // numeric, hex or date detection\n        xD = parseInt(x.match(hre), 16) || xN.length !== 1 && x.match(dre) && Date.parse(x),\n            yD = parseInt(y.match(hre), 16) || xD && y.match(dre) && Date.parse(y) || null,\n            oFxNcL,\n            oFyNcL; // first try and sort Hex codes or Dates\n\n\n        if (yD) {\n          if (xD < yD) {\n            return -1;\n          } else if (xD > yD) {\n            return 1;\n          }\n        } // natural sorting through split numeric strings and default strings\n\n\n        for (var cLoc = 0, numS = Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {\n          // find floats not starting with '0', string or 0 if not defined (Clint Priest)\n          oFxNcL = !(xN[cLoc] || '').match(ore) && parseFloat(xN[cLoc]) || xN[cLoc] || 0;\n          oFyNcL = !(yN[cLoc] || '').match(ore) && parseFloat(yN[cLoc]) || yN[cLoc] || 0; // handle numeric vs string comparison - number < string - (Kyle Adams)\n\n          if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\n            return isNaN(oFxNcL) ? 1 : -1;\n          } // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n          else if (typeof oFxNcL !== typeof oFyNcL) {\n              oFxNcL += '';\n              oFyNcL += '';\n            }\n\n          if (oFxNcL < oFyNcL) {\n            return -1;\n          }\n\n          if (oFxNcL > oFyNcL) {\n            return 1;\n          }\n        }\n\n        return 0;\n      };\n      /***/\n\n    },\n    /* 12 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return createAbsoluteAnchor;\n      });\n      /* harmony import */\n\n\n      var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n      /**\n       * Create an anchor element absolutely positioned in the `parent`\n       * element.\n       * @param {HTMLElement} anchor\n       * @param {HTMLElement} parent\n       * @param {function(HTMLElement)} [onDestroy]  Callback when the anchor is destroyed\n       * @param {boolean} [destroyOnMouseOut=false] If true, anchor will be removed on mouse out\n       * @returns {HTMLElement}\n       */\n\n\n      function createAbsoluteAnchor(anchor, parent, onDestroy) {\n        var destroyOnMouseOut = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var root = getRootNode(anchor);\n        var eventListeners = {};\n        var anchorRect = anchor.getBoundingClientRect();\n        var frameRect = parent.getBoundingClientRect();\n        var absoluteAnchor = document.createElement('div');\n        absoluteAnchor.className = 'jsoneditor-anchor';\n        absoluteAnchor.style.position = 'absolute';\n        absoluteAnchor.style.left = anchorRect.left - frameRect.left + 'px';\n        absoluteAnchor.style.top = anchorRect.top - frameRect.top + 'px';\n        absoluteAnchor.style.width = anchorRect.width - 2 + 'px';\n        absoluteAnchor.style.height = anchorRect.height - 2 + 'px';\n        absoluteAnchor.style.boxSizing = 'border-box';\n        parent.appendChild(absoluteAnchor);\n\n        function destroy() {\n          // remove temporary absolutely positioned anchor\n          if (absoluteAnchor && absoluteAnchor.parentNode) {\n            absoluteAnchor.parentNode.removeChild(absoluteAnchor); // remove all event listeners\n            // all event listeners are supposed to be attached to document.\n\n            for (var name in eventListeners) {\n              if (hasOwnProperty(eventListeners, name)) {\n                var fn = eventListeners[name];\n\n                if (fn) {\n                  Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"removeEventListener\"])(root, name, fn);\n                }\n\n                delete eventListeners[name];\n              }\n            }\n\n            if (typeof onDestroy === 'function') {\n              onDestroy(anchor);\n            }\n          }\n        }\n\n        function isOutside(target) {\n          return target !== absoluteAnchor && !Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isChildOf\"])(target, absoluteAnchor);\n        } // create and attach event listeners\n\n\n        function destroyIfOutside(event) {\n          if (isOutside(event.target)) {\n            destroy();\n          }\n        }\n\n        eventListeners.mousedown = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"addEventListener\"])(root, 'mousedown', destroyIfOutside);\n        eventListeners.mousewheel = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"addEventListener\"])(root, 'mousewheel', destroyIfOutside);\n\n        if (destroyOnMouseOut) {\n          var destroyTimer = null;\n\n          absoluteAnchor.onmouseover = function () {\n            clearTimeout(destroyTimer);\n            destroyTimer = null;\n          };\n\n          absoluteAnchor.onmouseout = function () {\n            if (!destroyTimer) {\n              destroyTimer = setTimeout(destroy, 200);\n            }\n          };\n        }\n\n        absoluteAnchor.destroy = destroy;\n        return absoluteAnchor;\n      }\n      /**\n       * Node.getRootNode shim\n       * @param  {HTMLElement} node node to check\n       * @return {HTMLElement}      node's rootNode or `window` if there is ShadowDOM is not supported.\n       */\n\n\n      function getRootNode(node) {\n        return typeof node.getRootNode === 'function' ? node.getRootNode() : window;\n      }\n\n      function hasOwnProperty(object, key) {\n        return Object.prototype.hasOwnProperty.call(object, key);\n      }\n      /***/\n\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var VanillaPicker;\n\n      if (window.Picker) {\n        // use the already loaded instance of VanillaPicker\n        VanillaPicker = window.Picker;\n      } else {\n        try {\n          // load color picker\n          VanillaPicker = __webpack_require__(40);\n        } catch (err) {// probably running the minimalist bundle\n        }\n      }\n\n      module.exports = VanillaPicker;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n      /**\n      * Permission is hereby granted, free of charge, to any person obtaining a copy\n      * of this software and associated documentation files (the \"Software\"), to deal\n      * in the Software without restriction, including without limitation the rights\n      * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n      * copies of the Software, and to permit persons to whom the Software is\n      * furnished to do so, subject to the following conditions:\n      *\n      * The above copyright notice and this permission notice shall be included in\n      * all copies or substantial portions of the Software.\n      *\n      * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n      * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n      * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n      * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n      * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n      * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n      * SOFTWARE.\n      */\n\n\n      (function (root, factory) {\n        \"use strict\";\n\n        if (true) {\n          !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        } else {}\n      })(this, function () {\n        /**\n         * A self-contained modal library\n         */\n        \"use strict\";\n        /** Returns whether a value is a dom node */\n\n        function isNode(value) {\n          if (typeof Node === \"object\") {\n            return value instanceof Node;\n          } else {\n            return value && typeof value === \"object\" && typeof value.nodeType === \"number\";\n          }\n        }\n        /** Returns whether a value is a string */\n\n\n        function isString(value) {\n          return typeof value === \"string\";\n        }\n        /**\n         * Generates observable objects that can be watched and triggered\n         */\n\n\n        function observable() {\n          var callbacks = [];\n          return {\n            watch: callbacks.push.bind(callbacks),\n            trigger: function trigger(context, detail) {\n              var unprevented = true;\n              var event = {\n                detail: detail,\n                preventDefault: function preventDefault() {\n                  unprevented = false;\n                }\n              };\n\n              for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i](context, event);\n              }\n\n              return unprevented;\n            }\n          };\n        }\n        /** Whether an element is hidden */\n\n\n        function isHidden(elem) {\n          // @see http://stackoverflow.com/questions/19669786\n          return window.getComputedStyle(elem).display === 'none';\n        }\n        /**\n         * A small interface for creating and managing a dom element\n         */\n\n\n        function Elem(elem) {\n          this.elem = elem;\n        }\n        /** Creates a new div */\n\n\n        Elem.make = function (parent, tag) {\n          if (typeof parent === \"string\") {\n            parent = document.querySelector(parent);\n          }\n\n          var elem = document.createElement(tag || 'div');\n          (parent || document.body).appendChild(elem);\n          return new Elem(elem);\n        };\n\n        Elem.prototype = {\n          /** Creates a child of this node */\n          child: function child(tag) {\n            return Elem.make(this.elem, tag);\n          },\n\n          /** Applies a set of styles to an element */\n          stylize: function stylize(styles) {\n            styles = styles || {};\n\n            if (typeof styles.opacity !== \"undefined\") {\n              styles.filter = \"alpha(opacity=\" + styles.opacity * 100 + \")\";\n            }\n\n            for (var prop in styles) {\n              if (styles.hasOwnProperty(prop)) {\n                this.elem.style[prop] = styles[prop];\n              }\n            }\n\n            return this;\n          },\n\n          /** Adds a class name */\n          clazz: function clazz(_clazz) {\n            this.elem.className += \" \" + _clazz;\n            return this;\n          },\n\n          /** Sets the HTML */\n          html: function html(content) {\n            if (isNode(content)) {\n              this.elem.appendChild(content);\n            } else {\n              this.elem.innerHTML = content;\n            }\n\n            return this;\n          },\n\n          /** Adds a click handler to this element */\n          onClick: function onClick(callback) {\n            this.elem.addEventListener('click', callback);\n            return this;\n          },\n\n          /** Removes this element from the DOM */\n          destroy: function destroy() {\n            this.elem.parentNode.removeChild(this.elem);\n          },\n\n          /** Hides this element */\n          hide: function hide() {\n            this.elem.style.display = \"none\";\n          },\n\n          /** Shows this element */\n          show: function show() {\n            this.elem.style.display = \"block\";\n          },\n\n          /** Sets an attribute on this element */\n          attr: function attr(name, value) {\n            if (value !== undefined) {\n              this.elem.setAttribute(name, value);\n            }\n\n            return this;\n          },\n\n          /** Executes a callback on all the ancestors of an element */\n          anyAncestor: function anyAncestor(predicate) {\n            var elem = this.elem;\n\n            while (elem) {\n              if (predicate(new Elem(elem))) {\n                return true;\n              } else {\n                elem = elem.parentNode;\n              }\n            }\n\n            return false;\n          },\n\n          /** Whether this element is visible */\n          isVisible: function isVisible() {\n            return !isHidden(this.elem);\n          }\n        };\n        /** Generates the grey-out effect */\n\n        function buildOverlay(getOption, close) {\n          return Elem.make(getOption(\"parent\")).clazz(\"pico-overlay\").clazz(getOption(\"overlayClass\", \"\")).stylize({\n            display: \"none\",\n            position: \"fixed\",\n            top: \"0px\",\n            left: \"0px\",\n            height: \"100%\",\n            width: \"100%\",\n            zIndex: 10000\n          }).stylize(getOption('overlayStyles', {\n            opacity: 0.5,\n            background: \"#000\"\n          })).onClick(function () {\n            if (getOption('overlayClose', true)) {\n              close();\n            }\n          });\n        } // An auto incrementing ID assigned to each modal\n\n\n        var autoinc = 1;\n        /** Builds the content of a modal */\n\n        function buildModal(getOption, close) {\n          var width = getOption('width', 'auto');\n\n          if (typeof width === \"number\") {\n            width = \"\" + width + \"px\";\n          }\n\n          var id = getOption(\"modalId\", \"pico-\" + autoinc++);\n          var elem = Elem.make(getOption(\"parent\")).clazz(\"pico-content\").clazz(getOption(\"modalClass\", \"\")).stylize({\n            display: 'none',\n            position: 'fixed',\n            zIndex: 10001,\n            left: \"50%\",\n            top: \"38.1966%\",\n            maxHeight: '90%',\n            boxSizing: 'border-box',\n            width: width,\n            '-ms-transform': 'translate(-50%,-38.1966%)',\n            '-moz-transform': 'translate(-50%,-38.1966%)',\n            '-webkit-transform': 'translate(-50%,-38.1966%)',\n            '-o-transform': 'translate(-50%,-38.1966%)',\n            transform: 'translate(-50%,-38.1966%)'\n          }).stylize(getOption('modalStyles', {\n            overflow: 'auto',\n            backgroundColor: \"white\",\n            padding: \"20px\",\n            borderRadius: \"5px\"\n          })).html(getOption('content')).attr(\"id\", id).attr(\"role\", \"dialog\").attr(\"aria-labelledby\", getOption(\"ariaLabelledBy\")).attr(\"aria-describedby\", getOption(\"ariaDescribedBy\", id)).onClick(function (event) {\n            var isCloseClick = new Elem(event.target).anyAncestor(function (elem) {\n              return /\\bpico-close\\b/.test(elem.elem.className);\n            });\n\n            if (isCloseClick) {\n              close();\n            }\n          });\n          return elem;\n        }\n        /** Builds the close button */\n\n\n        function buildClose(elem, getOption) {\n          if (getOption('closeButton', true)) {\n            return elem.child('button').html(getOption('closeHtml', \"&#xD7;\")).clazz(\"pico-close\").clazz(getOption(\"closeClass\", \"\")).stylize(getOption('closeStyles', {\n              borderRadius: \"2px\",\n              border: 0,\n              padding: 0,\n              cursor: \"pointer\",\n              height: \"15px\",\n              width: \"15px\",\n              position: \"absolute\",\n              top: \"5px\",\n              right: \"5px\",\n              fontSize: \"16px\",\n              textAlign: \"center\",\n              lineHeight: \"15px\",\n              background: \"#CCC\"\n            })).attr(\"aria-label\", getOption(\"close-label\", \"Close\"));\n          }\n        }\n        /** Builds a method that calls a method and returns an element */\n\n\n        function buildElemAccessor(builder) {\n          return function () {\n            return builder().elem;\n          };\n        } // An observable that is triggered whenever the escape key is pressed\n\n\n        var escapeKey = observable(); // An observable that is triggered when the user hits the tab key\n\n        var tabKey = observable();\n        /** A global event handler to detect the escape key being pressed */\n\n        document.documentElement.addEventListener('keydown', function onKeyPress(event) {\n          var keycode = event.which || event.keyCode; // If this is the escape key\n\n          if (keycode === 27) {\n            escapeKey.trigger();\n          } // If this is the tab key\n          else if (keycode === 9) {\n              tabKey.trigger(event);\n            }\n        });\n        /** Attaches focus management events */\n\n        function manageFocus(iface, isEnabled) {\n          /** Whether an element matches a selector */\n          function matches(elem, selector) {\n            var fn = elem.msMatchesSelector || elem.webkitMatchesSelector || elem.matches;\n            return fn.call(elem, selector);\n          }\n          /**\n           * Returns whether an element is focusable\n           * @see http://stackoverflow.com/questions/18261595\n           */\n\n\n          function canFocus(elem) {\n            if (isHidden(elem) || matches(elem, \":disabled\") || elem.hasAttribute(\"contenteditable\")) {\n              return false;\n            } else {\n              return elem.hasAttribute(\"tabindex\") || matches(elem, \"input,select,textarea,button,a[href],area[href],iframe\");\n            }\n          }\n          /** Returns the first descendant that can be focused */\n\n\n          function firstFocusable(elem) {\n            var items = elem.getElementsByTagName(\"*\");\n\n            for (var i = 0; i < items.length; i++) {\n              if (canFocus(items[i])) {\n                return items[i];\n              }\n            }\n          }\n          /** Returns the last descendant that can be focused */\n\n\n          function lastFocusable(elem) {\n            var items = elem.getElementsByTagName(\"*\");\n\n            for (var i = items.length; i--;) {\n              if (canFocus(items[i])) {\n                return items[i];\n              }\n            }\n          } // The element focused before the modal opens\n\n\n          var focused; // Records the currently focused element so state can be returned\n          // after the modal closes\n\n          iface.beforeShow(function getActiveFocus() {\n            focused = document.activeElement;\n          }); // Shift focus into the modal\n\n          iface.afterShow(function focusModal() {\n            if (isEnabled()) {\n              var focusable = firstFocusable(iface.modalElem());\n\n              if (focusable) {\n                focusable.focus();\n              }\n            }\n          }); // Restore the previously focused element when the modal closes\n\n          iface.afterClose(function returnFocus() {\n            if (isEnabled() && focused) {\n              focused.focus();\n            }\n\n            focused = null;\n          }); // Capture tab key presses and loop them within the modal\n\n          tabKey.watch(function tabKeyPress(event) {\n            if (isEnabled() && iface.isVisible()) {\n              var first = firstFocusable(iface.modalElem());\n              var last = lastFocusable(iface.modalElem());\n              var from = event.shiftKey ? first : last;\n\n              if (from === document.activeElement) {\n                (event.shiftKey ? last : first).focus();\n                event.preventDefault();\n              }\n            }\n          });\n        }\n        /** Manages setting the 'overflow: hidden' on the body tag */\n\n\n        function manageBodyOverflow(iface, isEnabled) {\n          var origOverflow;\n          var body = new Elem(document.body);\n          iface.beforeShow(function () {\n            // Capture the current values so they can be restored\n            origOverflow = body.elem.style.overflow;\n\n            if (isEnabled()) {\n              body.stylize({\n                overflow: \"hidden\"\n              });\n            }\n          });\n          iface.afterClose(function () {\n            body.stylize({\n              overflow: origOverflow\n            });\n          });\n        }\n        /**\n         * Displays a modal\n         */\n\n\n        return function picoModal(_options) {\n          if (isString(_options) || isNode(_options)) {\n            _options = {\n              content: _options\n            };\n          }\n\n          var afterCreateEvent = observable();\n          var beforeShowEvent = observable();\n          var afterShowEvent = observable();\n          var beforeCloseEvent = observable();\n          var afterCloseEvent = observable();\n          /**\n           * Returns a named option if it has been explicitly defined. Otherwise,\n           * it returns the given default value\n           */\n\n          function getOption(opt, defaultValue) {\n            var value = _options[opt];\n\n            if (typeof value === \"function\") {\n              value = value(defaultValue);\n            }\n\n            return value === undefined ? defaultValue : value;\n          } // The various DOM elements that constitute the modal\n\n\n          var modalElem = build.bind(window, 'modal');\n          var shadowElem = build.bind(window, 'overlay');\n          var closeElem = build.bind(window, 'close'); // This will eventually contain the modal API returned to the user\n\n          var iface;\n          /** Hides this modal */\n\n          function forceClose(detail) {\n            shadowElem().hide();\n            modalElem().hide();\n            afterCloseEvent.trigger(iface, detail);\n          }\n          /** Gracefully hides this modal */\n\n\n          function close(detail) {\n            if (beforeCloseEvent.trigger(iface, detail)) {\n              forceClose(detail);\n            }\n          }\n          /** Wraps a method so it returns the modal interface */\n\n\n          function returnIface(callback) {\n            return function () {\n              callback.apply(this, arguments);\n              return iface;\n            };\n          } // The constructed dom nodes\n\n\n          var built;\n          /** Builds a method that calls a method and returns an element */\n\n          function build(name, detail) {\n            if (!built) {\n              var modal = buildModal(getOption, close);\n              built = {\n                modal: modal,\n                overlay: buildOverlay(getOption, close),\n                close: buildClose(modal, getOption)\n              };\n              afterCreateEvent.trigger(iface, detail);\n            }\n\n            return built[name];\n          }\n\n          iface = {\n            /** Returns the wrapping modal element */\n            modalElem: buildElemAccessor(modalElem),\n\n            /** Returns the close button element */\n            closeElem: buildElemAccessor(closeElem),\n\n            /** Returns the overlay element */\n            overlayElem: buildElemAccessor(shadowElem),\n\n            /** Builds the dom without showing the modal */\n            buildDom: returnIface(build.bind(null, null)),\n\n            /** Returns whether this modal is currently being shown */\n            isVisible: function isVisible() {\n              return !!(built && modalElem && modalElem().isVisible());\n            },\n\n            /** Shows this modal */\n            show: function show(detail) {\n              if (beforeShowEvent.trigger(iface, detail)) {\n                shadowElem().show();\n                closeElem();\n                modalElem().show();\n                afterShowEvent.trigger(iface, detail);\n              }\n\n              return this;\n            },\n\n            /** Hides this modal */\n            close: returnIface(close),\n\n            /**\n             * Force closes this modal. This will not call beforeClose\n             * events and will just immediately hide the modal\n             */\n            forceClose: returnIface(forceClose),\n\n            /** Destroys this modal */\n            destroy: function destroy() {\n              modalElem().destroy();\n              shadowElem().destroy();\n              shadowElem = modalElem = closeElem = undefined;\n            },\n\n            /**\n             * Updates the options for this modal. This will only let you\n             * change options that are re-evaluted regularly, such as\n             * `overlayClose`.\n             */\n            options: function options(opts) {\n              Object.keys(opts).map(function (key) {\n                _options[key] = opts[key];\n              });\n            },\n\n            /** Executes after the DOM nodes are created */\n            afterCreate: returnIface(afterCreateEvent.watch),\n\n            /** Executes a callback before this modal is closed */\n            beforeShow: returnIface(beforeShowEvent.watch),\n\n            /** Executes a callback after this modal is shown */\n            afterShow: returnIface(afterShowEvent.watch),\n\n            /** Executes a callback before this modal is closed */\n            beforeClose: returnIface(beforeCloseEvent.watch),\n\n            /** Executes a callback after this modal is closed */\n            afterClose: returnIface(afterCloseEvent.watch)\n          };\n          manageFocus(iface, getOption.bind(null, \"focus\", true));\n          manageBodyOverflow(iface, getOption.bind(null, \"bodyOverflow\", true)); // If a user presses the 'escape' key, close the modal.\n\n          escapeKey.watch(function escapeKeyPress() {\n            if (getOption(\"escCloses\", true) && iface.isVisible()) {\n              iface.close();\n            }\n          });\n          return iface;\n        };\n      });\n      /***/\n\n    },\n    /* 15 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return ErrorTable;\n      });\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * Show errors and schema warnings in a clickable table view\n       * @param {Object} config\n       * @property {boolean} errorTableVisible\n       * @property {function (boolean) : void} onToggleVisibility\n       * @property {function (number)} [onFocusLine]\n       * @property {function (number)} onChangeHeight\n       * @constructor\n       */\n\n\n      var ErrorTable = /*#__PURE__*/function () {\n        function ErrorTable(config) {\n          _classCallCheck(this, ErrorTable);\n\n          this.errorTableVisible = config.errorTableVisible;\n          this.onToggleVisibility = config.onToggleVisibility;\n\n          this.onFocusLine = config.onFocusLine || function () {};\n\n          this.onChangeHeight = config.onChangeHeight;\n          this.dom = {};\n          var validationErrorsContainer = document.createElement('div');\n          validationErrorsContainer.className = 'jsoneditor-validation-errors-container';\n          this.dom.validationErrorsContainer = validationErrorsContainer;\n          var additionalErrorsIndication = document.createElement('div');\n          additionalErrorsIndication.style.display = 'none';\n          additionalErrorsIndication.className = 'jsoneditor-additional-errors fadein';\n          additionalErrorsIndication.innerHTML = 'Scroll for more &#9663;';\n          this.dom.additionalErrorsIndication = additionalErrorsIndication;\n          validationErrorsContainer.appendChild(additionalErrorsIndication);\n          var validationErrorIcon = document.createElement('span');\n          validationErrorIcon.className = 'jsoneditor-validation-error-icon';\n          validationErrorIcon.style.display = 'none';\n          this.dom.validationErrorIcon = validationErrorIcon;\n          var validationErrorCount = document.createElement('span');\n          validationErrorCount.className = 'jsoneditor-validation-error-count';\n          validationErrorCount.style.display = 'none';\n          this.dom.validationErrorCount = validationErrorCount;\n          this.dom.parseErrorIndication = document.createElement('span');\n          this.dom.parseErrorIndication.className = 'jsoneditor-parse-error-icon';\n          this.dom.parseErrorIndication.style.display = 'none';\n        }\n\n        _createClass(ErrorTable, [{\n          key: \"getErrorTable\",\n          value: function getErrorTable() {\n            return this.dom.validationErrorsContainer;\n          }\n        }, {\n          key: \"getErrorCounter\",\n          value: function getErrorCounter() {\n            return this.dom.validationErrorCount;\n          }\n        }, {\n          key: \"getWarningIcon\",\n          value: function getWarningIcon() {\n            return this.dom.validationErrorIcon;\n          }\n        }, {\n          key: \"getErrorIcon\",\n          value: function getErrorIcon() {\n            return this.dom.parseErrorIndication;\n          }\n        }, {\n          key: \"toggleTableVisibility\",\n          value: function toggleTableVisibility() {\n            this.errorTableVisible = !this.errorTableVisible;\n            this.onToggleVisibility(this.errorTableVisible);\n          }\n        }, {\n          key: \"setErrors\",\n          value: function setErrors(errors, errorLocations) {\n            var _this = this; // clear any previous errors\n\n\n            if (this.dom.validationErrors) {\n              this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors);\n              this.dom.validationErrors = null;\n              this.dom.additionalErrorsIndication.style.display = 'none';\n            } // create the table with errors\n            // keep default behavior for parse errors\n\n\n            if (this.errorTableVisible && errors.length > 0) {\n              var validationErrors = document.createElement('div');\n              validationErrors.className = 'jsoneditor-validation-errors';\n              validationErrors.innerHTML = '<table class=\"jsoneditor-text-errors\"><tbody></tbody></table>';\n              var tbody = validationErrors.getElementsByTagName('tbody')[0];\n              errors.forEach(function (error) {\n                var message;\n\n                if (typeof error === 'string') {\n                  message = '<td colspan=\"2\"><pre>' + error + '</pre></td>';\n                } else {\n                  message = '<td>' + (error.dataPath || '') + '</td>' + '<td><pre>' + error.message + '</pre></td>';\n                }\n\n                var line;\n\n                if (!isNaN(error.line)) {\n                  line = error.line;\n                } else if (error.dataPath) {\n                  var errLoc = errorLocations.find(function (loc) {\n                    return loc.path === error.dataPath;\n                  });\n\n                  if (errLoc) {\n                    line = errLoc.line + 1;\n                  }\n                }\n\n                var trEl = document.createElement('tr');\n                trEl.className = !isNaN(line) ? 'jump-to-line' : '';\n\n                if (error.type === 'error') {\n                  trEl.className += ' parse-error';\n                } else {\n                  trEl.className += ' validation-error';\n                }\n\n                trEl.innerHTML = '<td><button class=\"jsoneditor-schema-error\"></button></td><td style=\"white-space:nowrap;\">' + (!isNaN(line) ? 'Ln ' + line : '') + '</td>' + message;\n\n                trEl.onclick = function () {\n                  _this.onFocusLine(line);\n                };\n\n                tbody.appendChild(trEl);\n              });\n              this.dom.validationErrors = validationErrors;\n              this.dom.validationErrorsContainer.appendChild(validationErrors);\n              this.dom.additionalErrorsIndication.title = errors.length + ' errors total';\n\n              if (this.dom.validationErrorsContainer.clientHeight < this.dom.validationErrorsContainer.scrollHeight) {\n                this.dom.additionalErrorsIndication.style.display = 'block';\n\n                this.dom.validationErrorsContainer.onscroll = function () {\n                  _this.dom.additionalErrorsIndication.style.display = _this.dom.validationErrorsContainer.clientHeight > 0 && _this.dom.validationErrorsContainer.scrollTop === 0 ? 'block' : 'none';\n                };\n              } else {\n                this.dom.validationErrorsContainer.onscroll = undefined;\n              }\n\n              var height = this.dom.validationErrorsContainer.clientHeight + (this.dom.statusBar ? this.dom.statusBar.clientHeight : 0); // this.content.style.marginBottom = (-height) + 'px';\n              // this.content.style.paddingBottom = height + 'px';\n\n              this.onChangeHeight(height);\n            } else {\n              this.onChangeHeight(0);\n            } // update the status bar\n\n\n            var validationErrorsCount = errors.filter(function (error) {\n              return error.type !== 'error';\n            }).length;\n\n            if (validationErrorsCount > 0) {\n              this.dom.validationErrorCount.style.display = 'inline';\n              this.dom.validationErrorCount.innerText = validationErrorsCount;\n              this.dom.validationErrorCount.onclick = this.toggleTableVisibility.bind(this);\n              this.dom.validationErrorIcon.style.display = 'inline';\n              this.dom.validationErrorIcon.title = validationErrorsCount + ' schema validation error(s) found';\n              this.dom.validationErrorIcon.onclick = this.toggleTableVisibility.bind(this);\n            } else {\n              this.dom.validationErrorCount.style.display = 'none';\n              this.dom.validationErrorIcon.style.display = 'none';\n            } // update the parse error icon\n\n\n            var hasParseErrors = errors.some(function (error) {\n              return error.type === 'error';\n            });\n\n            if (hasParseErrors) {\n              var line = errors[0].line;\n              this.dom.parseErrorIndication.style.display = 'block';\n              this.dom.parseErrorIndication.title = !isNaN(line) ? 'parse error on line ' + line : 'parse error - check that the json is valid';\n              this.dom.parseErrorIndication.onclick = this.toggleTableVisibility.bind(this);\n            } else {\n              this.dom.parseErrorIndication.style.display = 'none';\n            }\n          }\n        }]);\n\n        return ErrorTable;\n      }();\n      /***/\n\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports) {\n      module.exports = function (module) {\n        if (!module.webpackPolyfill) {\n          module.deprecate = function () {};\n\n          module.paths = []; // module.parent = undefined by default\n\n          if (!module.children) module.children = [];\n          Object.defineProperty(module, \"loaded\", {\n            enumerable: true,\n            get: function get() {\n              return module.l;\n            }\n          });\n          Object.defineProperty(module, \"id\", {\n            enumerable: true,\n            get: function get() {\n              return module.i;\n            }\n          });\n          module.webpackPolyfill = 1;\n        }\n\n        return module;\n      };\n      /***/\n\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var URI = __webpack_require__(45),\n          equal = __webpack_require__(18),\n          util = __webpack_require__(5),\n          SchemaObject = __webpack_require__(25),\n          traverse = __webpack_require__(47);\n\n      module.exports = resolve;\n      resolve.normalizeId = normalizeId;\n      resolve.fullPath = getFullPath;\n      resolve.url = resolveUrl;\n      resolve.ids = resolveIds;\n      resolve.inlineRef = inlineRef;\n      resolve.schema = resolveSchema;\n      /**\n       * [resolve and compile the references ($ref)]\n       * @this   Ajv\n       * @param  {Function} compile reference to schema compilation funciton (localCompile)\n       * @param  {Object} root object with information about the root schema for the current schema\n       * @param  {String} ref reference to resolve\n       * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n       */\n\n      function resolve(compile, root, ref) {\n        /* jshint validthis: true */\n        var refVal = this._refs[ref];\n\n        if (typeof refVal == 'string') {\n          if (this._refs[refVal]) refVal = this._refs[refVal];else return resolve.call(this, compile, root, refVal);\n        }\n\n        refVal = refVal || this._schemas[ref];\n\n        if (refVal instanceof SchemaObject) {\n          return inlineRef(refVal.schema, this._opts.inlineRefs) ? refVal.schema : refVal.validate || this._compile(refVal);\n        }\n\n        var res = resolveSchema.call(this, root, ref);\n        var schema, v, baseId;\n\n        if (res) {\n          schema = res.schema;\n          root = res.root;\n          baseId = res.baseId;\n        }\n\n        if (schema instanceof SchemaObject) {\n          v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n        } else if (schema !== undefined) {\n          v = inlineRef(schema, this._opts.inlineRefs) ? schema : compile.call(this, schema, root, undefined, baseId);\n        }\n\n        return v;\n      }\n      /**\n       * Resolve schema, its root and baseId\n       * @this Ajv\n       * @param  {Object} root root object with properties schema, refVal, refs\n       * @param  {String} ref  reference to resolve\n       * @return {Object} object with properties schema, root, baseId\n       */\n\n\n      function resolveSchema(root, ref) {\n        /* jshint validthis: true */\n        var p = URI.parse(ref),\n            refPath = _getFullPath(p),\n            baseId = getFullPath(this._getId(root.schema));\n\n        if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n          var id = normalizeId(refPath);\n          var refVal = this._refs[id];\n\n          if (typeof refVal == 'string') {\n            return resolveRecursive.call(this, root, refVal, p);\n          } else if (refVal instanceof SchemaObject) {\n            if (!refVal.validate) this._compile(refVal);\n            root = refVal;\n          } else {\n            refVal = this._schemas[id];\n\n            if (refVal instanceof SchemaObject) {\n              if (!refVal.validate) this._compile(refVal);\n              if (id == normalizeId(ref)) return {\n                schema: refVal,\n                root: root,\n                baseId: baseId\n              };\n              root = refVal;\n            } else {\n              return;\n            }\n          }\n\n          if (!root.schema) return;\n          baseId = getFullPath(this._getId(root.schema));\n        }\n\n        return getJsonPointer.call(this, p, baseId, root.schema, root);\n      }\n      /* @this Ajv */\n\n\n      function resolveRecursive(root, ref, parsedRef) {\n        /* jshint validthis: true */\n        var res = resolveSchema.call(this, root, ref);\n\n        if (res) {\n          var schema = res.schema;\n          var baseId = res.baseId;\n          root = res.root;\n\n          var id = this._getId(schema);\n\n          if (id) baseId = resolveUrl(baseId, id);\n          return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n        }\n      }\n\n      var PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n      /* @this Ajv */\n\n      function getJsonPointer(parsedRef, baseId, schema, root) {\n        /* jshint validthis: true */\n        parsedRef.fragment = parsedRef.fragment || '';\n        if (parsedRef.fragment.slice(0, 1) != '/') return;\n        var parts = parsedRef.fragment.split('/');\n\n        for (var i = 1; i < parts.length; i++) {\n          var part = parts[i];\n\n          if (part) {\n            part = util.unescapeFragment(part);\n            schema = schema[part];\n            if (schema === undefined) break;\n            var id;\n\n            if (!PREVENT_SCOPE_CHANGE[part]) {\n              id = this._getId(schema);\n              if (id) baseId = resolveUrl(baseId, id);\n\n              if (schema.$ref) {\n                var $ref = resolveUrl(baseId, schema.$ref);\n                var res = resolveSchema.call(this, root, $ref);\n\n                if (res) {\n                  schema = res.schema;\n                  root = res.root;\n                  baseId = res.baseId;\n                }\n              }\n            }\n          }\n        }\n\n        if (schema !== undefined && schema !== root.schema) return {\n          schema: schema,\n          root: root,\n          baseId: baseId\n        };\n      }\n\n      var SIMPLE_INLINED = util.toHash(['type', 'format', 'pattern', 'maxLength', 'minLength', 'maxProperties', 'minProperties', 'maxItems', 'minItems', 'maximum', 'minimum', 'uniqueItems', 'multipleOf', 'required', 'enum']);\n\n      function inlineRef(schema, limit) {\n        if (limit === false) return false;\n        if (limit === undefined || limit === true) return checkNoRef(schema);else if (limit) return countKeys(schema) <= limit;\n      }\n\n      function checkNoRef(schema) {\n        var item;\n\n        if (Array.isArray(schema)) {\n          for (var i = 0; i < schema.length; i++) {\n            item = schema[i];\n            if (typeof item == 'object' && !checkNoRef(item)) return false;\n          }\n        } else {\n          for (var key in schema) {\n            if (key == '$ref') return false;\n            item = schema[key];\n            if (typeof item == 'object' && !checkNoRef(item)) return false;\n          }\n        }\n\n        return true;\n      }\n\n      function countKeys(schema) {\n        var count = 0,\n            item;\n\n        if (Array.isArray(schema)) {\n          for (var i = 0; i < schema.length; i++) {\n            item = schema[i];\n            if (typeof item == 'object') count += countKeys(item);\n            if (count == Infinity) return Infinity;\n          }\n        } else {\n          for (var key in schema) {\n            if (key == '$ref') return Infinity;\n\n            if (SIMPLE_INLINED[key]) {\n              count++;\n            } else {\n              item = schema[key];\n              if (typeof item == 'object') count += countKeys(item) + 1;\n              if (count == Infinity) return Infinity;\n            }\n          }\n        }\n\n        return count;\n      }\n\n      function getFullPath(id, normalize) {\n        if (normalize !== false) id = normalizeId(id);\n        var p = URI.parse(id);\n        return _getFullPath(p);\n      }\n\n      function _getFullPath(p) {\n        return URI.serialize(p).split('#')[0] + '#';\n      }\n\n      var TRAILING_SLASH_HASH = /#\\/?$/;\n\n      function normalizeId(id) {\n        return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n      }\n\n      function resolveUrl(baseId, id) {\n        id = normalizeId(id);\n        return URI.resolve(baseId, id);\n      }\n      /* @this Ajv */\n\n\n      function resolveIds(schema) {\n        var schemaId = normalizeId(this._getId(schema));\n        var baseIds = {\n          '': schemaId\n        };\n        var fullPaths = {\n          '': getFullPath(schemaId, false)\n        };\n        var localRefs = {};\n        var self = this;\n        traverse(schema, {\n          allKeys: true\n        }, function (sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n          if (jsonPtr === '') return;\n\n          var id = self._getId(sch);\n\n          var baseId = baseIds[parentJsonPtr];\n          var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n          if (keyIndex !== undefined) fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n          if (typeof id == 'string') {\n            id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n            var refVal = self._refs[id];\n            if (typeof refVal == 'string') refVal = self._refs[refVal];\n\n            if (refVal && refVal.schema) {\n              if (!equal(sch, refVal.schema)) throw new Error('id \"' + id + '\" resolves to more than one schema');\n            } else if (id != normalizeId(fullPath)) {\n              if (id[0] == '#') {\n                if (localRefs[id] && !equal(sch, localRefs[id])) throw new Error('id \"' + id + '\" resolves to more than one schema');\n                localRefs[id] = sch;\n              } else {\n                self._refs[id] = fullPath;\n              }\n            }\n          }\n\n          baseIds[jsonPtr] = baseId;\n          fullPaths[jsonPtr] = fullPath;\n        });\n        return localRefs;\n      }\n      /***/\n\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var isArray = Array.isArray;\n      var keyList = Object.keys;\n      var hasProp = Object.prototype.hasOwnProperty;\n\n      module.exports = function equal(a, b) {\n        if (a === b) return true;\n\n        if (a && b && typeof a == 'object' && typeof b == 'object') {\n          var arrA = isArray(a),\n              arrB = isArray(b),\n              i,\n              length,\n              key;\n\n          if (arrA && arrB) {\n            length = a.length;\n            if (length != b.length) return false;\n\n            for (i = length; i-- !== 0;) {\n              if (!equal(a[i], b[i])) return false;\n            }\n\n            return true;\n          }\n\n          if (arrA != arrB) return false;\n          var dateA = a instanceof Date,\n              dateB = b instanceof Date;\n          if (dateA != dateB) return false;\n          if (dateA && dateB) return a.getTime() == b.getTime();\n          var regexpA = a instanceof RegExp,\n              regexpB = b instanceof RegExp;\n          if (regexpA != regexpB) return false;\n          if (regexpA && regexpB) return a.toString() == b.toString();\n          var keys = keyList(a);\n          length = keys.length;\n          if (length !== keyList(b).length) return false;\n\n          for (i = length; i-- !== 0;) {\n            if (!hasProp.call(b, keys[i])) return false;\n          }\n\n          for (i = length; i-- !== 0;) {\n            key = keys[i];\n            if (!equal(a[key], b[key])) return false;\n          }\n\n          return true;\n        }\n\n        return a !== a && b !== b;\n      };\n      /***/\n\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var resolve = __webpack_require__(17);\n\n      module.exports = {\n        Validation: errorSubclass(ValidationError),\n        MissingRef: errorSubclass(MissingRefError)\n      };\n\n      function ValidationError(errors) {\n        this.message = 'validation failed';\n        this.errors = errors;\n        this.ajv = this.validation = true;\n      }\n\n      MissingRefError.message = function (baseId, ref) {\n        return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n      };\n\n      function MissingRefError(baseId, ref, message) {\n        this.message = message || MissingRefError.message(baseId, ref);\n        this.missingRef = resolve.url(baseId, ref);\n        this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n      }\n\n      function errorSubclass(Subclass) {\n        Subclass.prototype = Object.create(Error.prototype);\n        Subclass.prototype.constructor = Subclass;\n        return Subclass;\n      }\n      /***/\n\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var ace;\n\n      if (window.ace) {\n        // use the already loaded instance of Ace\n        ace = window.ace;\n      } else {\n        try {\n          // load Ace editor\n          ace = __webpack_require__(36); // load required Ace plugins\n\n          __webpack_require__(37);\n\n          __webpack_require__(38); // embed Ace json worker\n          // https://github.com/ajaxorg/ace/issues/3913\n\n\n          var jsonWorkerDataUrl = __webpack_require__(39);\n\n          ace.config.setModuleUrl('ace/mode/json_worker', jsonWorkerDataUrl);\n        } catch (err) {// failed to load Ace (can be minimalist bundle).\n          // No worries, the editor will fall back to plain text if needed.\n        }\n      }\n\n      module.exports = ace;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__); // EXTERNAL MODULE: ./src/js/ace/index.js\n\n\n      var ace = __webpack_require__(20);\n\n      var ace_default = /*#__PURE__*/__webpack_require__.n(ace); // EXTERNAL MODULE: ./node_modules/jmespath/jmespath.js\n\n\n      var jmespath = __webpack_require__(4);\n\n      var jmespath_default = /*#__PURE__*/__webpack_require__.n(jmespath); // EXTERNAL MODULE: ./src/js/i18n.js\n\n\n      var i18n = __webpack_require__(1); // EXTERNAL MODULE: ./src/js/ModeSwitcher.js\n\n\n      var ModeSwitcher = __webpack_require__(7); // EXTERNAL MODULE: ./src/js/ErrorTable.js\n\n\n      var ErrorTable = __webpack_require__(15); // EXTERNAL MODULE: ./src/js/util.js\n\n\n      var util = __webpack_require__(0); // CONCATENATED MODULE: ./src/js/validationUtils.js\n\n      /**\n       * Execute custom validation if configured.\n       *\n       * Returns a promise resolving with the custom errors (or an empty array).\n       */\n\n\n      function validateCustom(json, onValidate) {\n        if (!onValidate) {\n          return Promise.resolve([]);\n        }\n\n        try {\n          var customValidateResults = onValidate(json);\n          var resultPromise = Object(util[\"isPromise\"])(customValidateResults) ? customValidateResults : Promise.resolve(customValidateResults);\n          return resultPromise.then(function (customValidationPathErrors) {\n            if (Array.isArray(customValidationPathErrors)) {\n              return customValidationPathErrors.filter(function (error) {\n                var valid = Object(util[\"isValidValidationError\"])(error);\n\n                if (!valid) {\n                  console.warn('Ignoring a custom validation error with invalid structure. ' + 'Expected structure: {path: [...], message: \"...\"}. ' + 'Actual error:', error);\n                }\n\n                return valid;\n              }).map(function (error) {\n                return (// change data structure into the structure matching the JSON schema errors\n                  {\n                    dataPath: Object(util[\"stringifyPath\"])(error.path),\n                    message: error.message,\n                    type: 'customValidation'\n                  }\n                );\n              });\n            } else {\n              return [];\n            }\n          });\n        } catch (err) {\n          return Promise.reject(err);\n        }\n      } // EXTERNAL MODULE: ./src/js/showSortModal.js\n\n\n      var showSortModal = __webpack_require__(6); // EXTERNAL MODULE: ./src/js/showTransformModal.js + 1 modules\n\n\n      var showTransformModal = __webpack_require__(9); // EXTERNAL MODULE: ./src/js/FocusTracker.js\n\n\n      var FocusTracker = __webpack_require__(8); // EXTERNAL MODULE: ./src/js/constants.js\n\n\n      var constants = __webpack_require__(2); // EXTERNAL MODULE: ./src/js/tryRequireThemeJsonEditor.js\n\n\n      var tryRequireThemeJsonEditor = __webpack_require__(34); // CONCATENATED MODULE: ./src/js/textmode.js\n\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"textModeMixins\", function () {\n        return textModeMixins;\n      });\n\n      function _typeof(obj) {\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          _typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          _typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n\n        return _typeof(obj);\n      } // create a mixin with the functions for text mode\n\n\n      var textmode = {};\n      var DEFAULT_THEME = 'ace/theme/jsoneditor';\n      /**\n       * Create a text editor\n       * @param {Element} container\n       * @param {Object} [options]   Object with options. See docs for details.\n       * @private\n       */\n\n      textmode.create = function (container) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (typeof options.statusBar === 'undefined') {\n          options.statusBar = true;\n        } // setting default for textmode\n\n\n        options.mainMenuBar = options.mainMenuBar !== false;\n        options.enableSort = options.enableSort !== false;\n        options.enableTransform = options.enableTransform !== false;\n        this.options = options; // indentation\n\n        if (typeof options.indentation === 'number') {\n          this.indentation = Number(options.indentation);\n        } else {\n          this.indentation = 2; // number of spaces\n        } // grab ace from options if provided\n\n\n        var _ace = options.ace ? options.ace : ace_default.a; // TODO: make the option options.ace deprecated, it's not needed anymore (see #309)\n        // determine mode\n\n\n        this.mode = options.mode === 'code' ? 'code' : 'text';\n\n        if (this.mode === 'code') {\n          // verify whether Ace editor is available and supported\n          if (typeof _ace === 'undefined') {\n            this.mode = 'text';\n            console.warn('Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.');\n          }\n        } // determine theme\n\n\n        this.theme = options.theme || DEFAULT_THEME;\n\n        if (this.theme === DEFAULT_THEME && _ace) {\n          Object(tryRequireThemeJsonEditor[\"tryRequireThemeJsonEditor\"])();\n        }\n\n        if (options.onTextSelectionChange) {\n          this.onTextSelectionChange(options.onTextSelectionChange);\n        }\n\n        var me = this;\n        this.container = container;\n        this.dom = {};\n        this.aceEditor = undefined; // ace code editor\n\n        this.textarea = undefined; // plain text editor (fallback when Ace is not available)\n\n        this.validateSchema = null;\n        this.annotations = [];\n        this.lastSchemaErrors = undefined; // create a debounced validate function\n\n        this._debouncedValidate = Object(util[\"debounce\"])(this.validate.bind(this), this.DEBOUNCE_INTERVAL);\n        this.width = container.clientWidth;\n        this.height = container.clientHeight;\n        this.frame = document.createElement('div');\n        this.frame.className = 'jsoneditor jsoneditor-mode-' + this.options.mode;\n\n        this.frame.onclick = function (event) {\n          // prevent default submit action when the editor is located inside a form\n          event.preventDefault();\n        };\n\n        this.frame.onkeydown = function (event) {\n          me._onKeyDown(event);\n        }; // setting the FocusTracker on 'this.frame' to track the editor's focus event\n\n\n        var focusTrackerConfig = {\n          target: this.frame,\n          onFocus: this.options.onFocus || null,\n          onBlur: this.options.onBlur || null\n        };\n        this.frameFocusTracker = new FocusTracker[\"a\"\n        /* FocusTracker */\n        ](focusTrackerConfig);\n        this.content = document.createElement('div');\n        this.content.className = 'jsoneditor-outer';\n\n        if (this.options.mainMenuBar) {\n          Object(util[\"addClassName\"])(this.content, 'has-main-menu-bar'); // create menu\n\n          this.menu = document.createElement('div');\n          this.menu.className = 'jsoneditor-menu';\n          this.frame.appendChild(this.menu); // create format button\n\n          var buttonFormat = document.createElement('button');\n          buttonFormat.type = 'button';\n          buttonFormat.className = 'jsoneditor-format';\n          buttonFormat.title = 'Format JSON data, with proper indentation and line feeds (Ctrl+\\\\)';\n          this.menu.appendChild(buttonFormat);\n\n          buttonFormat.onclick = function () {\n            try {\n              me.format();\n\n              me._onChange();\n            } catch (err) {\n              me._onError(err);\n            }\n          }; // create compact button\n\n\n          var buttonCompact = document.createElement('button');\n          buttonCompact.type = 'button';\n          buttonCompact.className = 'jsoneditor-compact';\n          buttonCompact.title = 'Compact JSON data, remove all whitespaces (Ctrl+Shift+\\\\)';\n          this.menu.appendChild(buttonCompact);\n\n          buttonCompact.onclick = function () {\n            try {\n              me.compact();\n\n              me._onChange();\n            } catch (err) {\n              me._onError(err);\n            }\n          }; // create sort button\n\n\n          if (this.options.enableSort) {\n            var _sort = document.createElement('button');\n\n            _sort.type = 'button';\n            _sort.className = 'jsoneditor-sort';\n            _sort.title = Object(i18n[\"c\"\n            /* translate */\n            ])('sortTitleShort');\n\n            _sort.onclick = function () {\n              me._showSortModal();\n            };\n\n            this.menu.appendChild(_sort);\n          } // create transform button\n\n\n          if (this.options.enableTransform) {\n            var transform = document.createElement('button');\n            transform.type = 'button';\n            transform.title = Object(i18n[\"c\"\n            /* translate */\n            ])('transformTitleShort');\n            transform.className = 'jsoneditor-transform';\n\n            transform.onclick = function () {\n              me._showTransformModal();\n            };\n\n            this.menu.appendChild(transform);\n          } // create repair button\n\n\n          var buttonRepair = document.createElement('button');\n          buttonRepair.type = 'button';\n          buttonRepair.className = 'jsoneditor-repair';\n          buttonRepair.title = 'Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.';\n          this.menu.appendChild(buttonRepair);\n\n          buttonRepair.onclick = function () {\n            try {\n              me.repair();\n\n              me._onChange();\n            } catch (err) {\n              me._onError(err);\n            }\n          }; // create mode box\n\n\n          if (this.options && this.options.modes && this.options.modes.length) {\n            this.modeSwitcher = new ModeSwitcher[\"a\"\n            /* ModeSwitcher */\n            ](this.menu, this.options.modes, this.options.mode, function onSwitch(mode) {\n              // switch mode and restore focus\n              me.setMode(mode);\n              me.modeSwitcher.focus();\n            });\n          }\n\n          if (this.mode === 'code') {\n            var poweredBy = document.createElement('a');\n            poweredBy.appendChild(document.createTextNode('powered by ace'));\n            poweredBy.href = 'http://ace.ajax.org';\n            poweredBy.target = '_blank';\n            poweredBy.className = 'jsoneditor-poweredBy';\n\n            poweredBy.onclick = function () {\n              // TODO: this anchor falls below the margin of the content,\n              // therefore the normal a.href does not work. We use a click event\n              // for now, but this should be fixed.\n              window.open(poweredBy.href, poweredBy.target);\n            };\n\n            this.menu.appendChild(poweredBy);\n          }\n        }\n\n        var emptyNode = {};\n        var isReadOnly = this.options.onEditable && _typeof(this.options.onEditable === 'function') && !this.options.onEditable(emptyNode);\n        this.frame.appendChild(this.content);\n        this.container.appendChild(this.frame);\n\n        if (this.mode === 'code') {\n          this.editorDom = document.createElement('div');\n          this.editorDom.style.height = '100%'; // TODO: move to css\n\n          this.editorDom.style.width = '100%'; // TODO: move to css\n\n          this.content.appendChild(this.editorDom);\n\n          var aceEditor = _ace.edit(this.editorDom);\n\n          var aceSession = aceEditor.getSession();\n          aceEditor.$blockScrolling = Infinity;\n          aceEditor.setTheme(this.theme);\n          aceEditor.setOptions({\n            readOnly: isReadOnly\n          });\n          aceEditor.setShowPrintMargin(false);\n          aceEditor.setFontSize('13px');\n          aceSession.setMode('ace/mode/json');\n          aceSession.setTabSize(this.indentation);\n          aceSession.setUseSoftTabs(true);\n          aceSession.setUseWrapMode(true); // replace ace setAnnotations with custom function that also covers jsoneditor annotations\n\n          var originalSetAnnotations = aceSession.setAnnotations;\n\n          aceSession.setAnnotations = function (annotations) {\n            originalSetAnnotations.call(this, annotations && annotations.length ? annotations : me.annotations);\n          };\n\n          aceEditor.commands.bindKey('Ctrl-L', null); // disable Ctrl+L (is used by the browser to select the address bar)\n\n          aceEditor.commands.bindKey('Command-L', null); // disable Ctrl+L (is used by the browser to select the address bar)\n\n          this.aceEditor = aceEditor; // register onchange event\n\n          aceEditor.on('change', this._onChange.bind(this));\n          aceEditor.on('changeSelection', this._onSelect.bind(this));\n        } else {\n          // load a plain text textarea\n          var textarea = document.createElement('textarea');\n          textarea.className = 'jsoneditor-text';\n          textarea.spellcheck = false;\n          this.content.appendChild(textarea);\n          this.textarea = textarea;\n          this.textarea.readOnly = isReadOnly; // register onchange event\n\n          if (this.textarea.oninput === null) {\n            this.textarea.oninput = this._onChange.bind(this);\n          } else {\n            // oninput is undefined. For IE8-\n            this.textarea.onchange = this._onChange.bind(this);\n          }\n\n          textarea.onselect = this._onSelect.bind(this);\n          textarea.onmousedown = this._onMouseDown.bind(this);\n          textarea.onblur = this._onBlur.bind(this);\n        }\n\n        this.errorTable = new ErrorTable[\"a\"\n        /* ErrorTable */\n        ]({\n          errorTableVisible: this.mode === 'text',\n          onToggleVisibility: function onToggleVisibility() {\n            me.validate();\n          },\n          onFocusLine: function onFocusLine(line) {\n            me.isFocused = true;\n\n            if (!isNaN(line)) {\n              me.setTextSelection({\n                row: line,\n                column: 1\n              }, {\n                row: line,\n                column: 1000\n              });\n            }\n          },\n          onChangeHeight: function onChangeHeight(height) {\n            // TODO: change CSS to using flex box, remove setting height using JavaScript\n            var statusBarHeight = me.dom.statusBar ? me.dom.statusBar.clientHeight : 0;\n            var totalHeight = height + statusBarHeight + 1;\n            me.content.style.marginBottom = -totalHeight + 'px';\n            me.content.style.paddingBottom = totalHeight + 'px';\n          }\n        });\n        this.frame.appendChild(this.errorTable.getErrorTable());\n\n        if (options.statusBar) {\n          Object(util[\"addClassName\"])(this.content, 'has-status-bar');\n          this.curserInfoElements = {};\n          var statusBar = document.createElement('div');\n          this.dom.statusBar = statusBar;\n          statusBar.className = 'jsoneditor-statusbar';\n          this.frame.appendChild(statusBar);\n          var lnLabel = document.createElement('span');\n          lnLabel.className = 'jsoneditor-curserinfo-label';\n          lnLabel.innerText = 'Ln:';\n          var lnVal = document.createElement('span');\n          lnVal.className = 'jsoneditor-curserinfo-val';\n          lnVal.innerText = '1';\n          statusBar.appendChild(lnLabel);\n          statusBar.appendChild(lnVal);\n          var colLabel = document.createElement('span');\n          colLabel.className = 'jsoneditor-curserinfo-label';\n          colLabel.innerText = 'Col:';\n          var colVal = document.createElement('span');\n          colVal.className = 'jsoneditor-curserinfo-val';\n          colVal.innerText = '1';\n          statusBar.appendChild(colLabel);\n          statusBar.appendChild(colVal);\n          this.curserInfoElements.colVal = colVal;\n          this.curserInfoElements.lnVal = lnVal;\n          var countLabel = document.createElement('span');\n          countLabel.className = 'jsoneditor-curserinfo-label';\n          countLabel.innerText = 'characters selected';\n          countLabel.style.display = 'none';\n          var countVal = document.createElement('span');\n          countVal.className = 'jsoneditor-curserinfo-count';\n          countVal.innerText = '0';\n          countVal.style.display = 'none';\n          this.curserInfoElements.countLabel = countLabel;\n          this.curserInfoElements.countVal = countVal;\n          statusBar.appendChild(countVal);\n          statusBar.appendChild(countLabel);\n          statusBar.appendChild(this.errorTable.getErrorCounter());\n          statusBar.appendChild(this.errorTable.getWarningIcon());\n          statusBar.appendChild(this.errorTable.getErrorIcon());\n        }\n\n        this.setSchema(this.options.schema, this.options.schemaRefs);\n      };\n      /**\n       * Handle a change:\n       * - Validate JSON schema\n       * - Send a callback to the onChange listener if provided\n       * @private\n       */\n\n\n      textmode._onChange = function () {\n        if (this.onChangeDisabled) {\n          return;\n        } // validate JSON schema (if configured)\n\n\n        this._debouncedValidate(); // trigger the onChange callback\n\n\n        if (this.options.onChange) {\n          try {\n            this.options.onChange();\n          } catch (err) {\n            console.error('Error in onChange callback: ', err);\n          }\n        } // trigger the onChangeText callback\n\n\n        if (this.options.onChangeText) {\n          try {\n            this.options.onChangeText(this.getText());\n          } catch (err) {\n            console.error('Error in onChangeText callback: ', err);\n          }\n        }\n      };\n      /**\n       * Open a sort modal\n       * @private\n       */\n\n\n      textmode._showSortModal = function () {\n        var me = this;\n        var container = this.options.modalAnchor || constants[\"a\"\n        /* DEFAULT_MODAL_ANCHOR */\n        ];\n        var json = this.get();\n\n        function onSort(sortedBy) {\n          if (Array.isArray(json)) {\n            var sortedJson = Object(util[\"sort\"])(json, sortedBy.path, sortedBy.direction);\n            me.sortedBy = sortedBy;\n            me.set(sortedJson);\n          }\n\n          if (Object(util[\"isObject\"])(json)) {\n            var _sortedJson = Object(util[\"sortObjectKeys\"])(json, sortedBy.direction);\n\n            me.sortedBy = sortedBy;\n            me.set(_sortedJson);\n          }\n        }\n\n        Object(showSortModal[\"a\"\n        /* showSortModal */\n        ])(container, json, onSort, me.sortedBy);\n      };\n      /**\n       * Open a transform modal\n       * @private\n       */\n\n\n      textmode._showTransformModal = function () {\n        var me = this;\n        var anchor = this.options.modalAnchor || constants[\"a\"\n        /* DEFAULT_MODAL_ANCHOR */\n        ];\n        var json = this.get();\n        Object(showTransformModal[\"a\"\n        /* showTransformModal */\n        ])(anchor, json, function (query) {\n          var updatedJson = jmespath_default.a.search(json, query);\n          me.set(updatedJson);\n        });\n      };\n      /**\n       * Handle text selection\n       * Calculates the cursor position and selection range and updates menu\n       * @private\n       */\n\n\n      textmode._onSelect = function () {\n        this._updateCursorInfo();\n\n        this._emitSelectionChange();\n      };\n      /**\n       * Event handler for keydown. Handles shortcut keys\n       * @param {Event} event\n       * @private\n       */\n\n\n      textmode._onKeyDown = function (event) {\n        var keynum = event.which || event.keyCode;\n        var handled = false;\n\n        if (keynum === 220 && event.ctrlKey) {\n          if (event.shiftKey) {\n            // Ctrl+Shift+\\\n            this.compact();\n\n            this._onChange();\n          } else {\n            // Ctrl+\\\n            this.format();\n\n            this._onChange();\n          }\n\n          handled = true;\n        }\n\n        if (handled) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        this._updateCursorInfo();\n\n        this._emitSelectionChange();\n      };\n      /**\n       * Event handler for mousedown.\n       * @private\n       */\n\n\n      textmode._onMouseDown = function () {\n        this._updateCursorInfo();\n\n        this._emitSelectionChange();\n      };\n      /**\n       * Event handler for blur.\n       * @private\n       */\n\n\n      textmode._onBlur = function () {\n        var me = this; // this allows to avoid blur when clicking inner elements (like the errors panel)\n        // just make sure to set the isFocused to true on the inner element onclick callback\n\n        setTimeout(function () {\n          if (!me.isFocused) {\n            me._updateCursorInfo();\n\n            me._emitSelectionChange();\n          }\n\n          me.isFocused = false;\n        });\n      };\n      /**\n       * Update the cursor info and the status bar, if presented\n       */\n\n\n      textmode._updateCursorInfo = function () {\n        var me = this;\n        var line, col, count;\n\n        if (this.textarea) {\n          setTimeout(function () {\n            // this to verify we get the most updated textarea cursor selection\n            var selectionRange = Object(util[\"getInputSelection\"])(me.textarea);\n\n            if (selectionRange.startIndex !== selectionRange.endIndex) {\n              count = selectionRange.endIndex - selectionRange.startIndex;\n            }\n\n            if (count && me.cursorInfo && me.cursorInfo.line === selectionRange.end.row && me.cursorInfo.column === selectionRange.end.column) {\n              line = selectionRange.start.row;\n              col = selectionRange.start.column;\n            } else {\n              line = selectionRange.end.row;\n              col = selectionRange.end.column;\n            }\n\n            me.cursorInfo = {\n              line: line,\n              column: col,\n              count: count\n            };\n\n            if (me.options.statusBar) {\n              updateDisplay();\n            }\n          }, 0);\n        } else if (this.aceEditor && this.curserInfoElements) {\n          var curserPos = this.aceEditor.getCursorPosition();\n          var selectedText = this.aceEditor.getSelectedText();\n          line = curserPos.row + 1;\n          col = curserPos.column + 1;\n          count = selectedText.length;\n          me.cursorInfo = {\n            line: line,\n            column: col,\n            count: count\n          };\n\n          if (this.options.statusBar) {\n            updateDisplay();\n          }\n        }\n\n        function updateDisplay() {\n          if (me.curserInfoElements.countVal.innerText !== count) {\n            me.curserInfoElements.countVal.innerText = count;\n            me.curserInfoElements.countVal.style.display = count ? 'inline' : 'none';\n            me.curserInfoElements.countLabel.style.display = count ? 'inline' : 'none';\n          }\n\n          me.curserInfoElements.lnVal.innerText = line;\n          me.curserInfoElements.colVal.innerText = col;\n        }\n      };\n      /**\n       * emits selection change callback, if given\n       * @private\n       */\n\n\n      textmode._emitSelectionChange = function () {\n        if (this._selectionChangedHandler) {\n          var currentSelection = this.getTextSelection();\n\n          this._selectionChangedHandler(currentSelection.start, currentSelection.end, currentSelection.text);\n        }\n      };\n      /**\n       * refresh ERROR annotations state\n       * error annotations are handled by the ace json mode (ace/mode/json)\n       * validation annotations are handled by this mode\n       * therefore in order to refresh we send only the annotations of error type in order to maintain its state\n       * @private\n       */\n\n\n      textmode._refreshAnnotations = function () {\n        var session = this.aceEditor && this.aceEditor.getSession();\n\n        if (session) {\n          var errEnnotations = session.getAnnotations().filter(function (annotation) {\n            return annotation.type === 'error';\n          });\n          session.setAnnotations(errEnnotations);\n        }\n      };\n      /**\n       * Destroy the editor. Clean up DOM, event listeners, and web workers.\n       */\n\n\n      textmode.destroy = function () {\n        // remove old ace editor\n        if (this.aceEditor) {\n          this.aceEditor.destroy();\n          this.aceEditor = null;\n        }\n\n        if (this.frame && this.container && this.frame.parentNode === this.container) {\n          this.container.removeChild(this.frame);\n        }\n\n        if (this.modeSwitcher) {\n          this.modeSwitcher.destroy();\n          this.modeSwitcher = null;\n        }\n\n        this.textarea = null;\n        this._debouncedValidate = null; // Removing the FocusTracker set to track the editor's focus event\n\n        this.frameFocusTracker.destroy();\n      };\n      /**\n       * Compact the code in the text editor\n       */\n\n\n      textmode.compact = function () {\n        var json = this.get();\n        var text = JSON.stringify(json);\n\n        this._setText(text, false);\n      };\n      /**\n       * Format the code in the text editor\n       */\n\n\n      textmode.format = function () {\n        var json = this.get();\n        var text = JSON.stringify(json, null, this.indentation);\n\n        this._setText(text, false);\n      };\n      /**\n       * Repair the code in the text editor\n       */\n\n\n      textmode.repair = function () {\n        var text = this.getText();\n        var repairedText = Object(util[\"repair\"])(text);\n\n        this._setText(repairedText, false);\n      };\n      /**\n       * Set focus to the formatter\n       */\n\n\n      textmode.focus = function () {\n        if (this.textarea) {\n          this.textarea.focus();\n        }\n\n        if (this.aceEditor) {\n          this.aceEditor.focus();\n        }\n      };\n      /**\n       * Resize the formatter\n       */\n\n\n      textmode.resize = function () {\n        if (this.aceEditor) {\n          var force = false;\n          this.aceEditor.resize(force);\n        }\n      };\n      /**\n       * Set json data in the formatter\n       * @param {*} json\n       */\n\n\n      textmode.set = function (json) {\n        this.setText(JSON.stringify(json, null, this.indentation));\n      };\n      /**\n       * Update data. Same as calling `set` in text/code mode.\n       * @param {*} json\n       */\n\n\n      textmode.update = function (json) {\n        this.updateText(JSON.stringify(json, null, this.indentation));\n      };\n      /**\n       * Get json data from the formatter\n       * @return {*} json\n       */\n\n\n      textmode.get = function () {\n        var text = this.getText();\n        return Object(util[\"parse\"])(text); // this can throw an error\n      };\n      /**\n       * Get the text contents of the editor\n       * @return {String} jsonText\n       */\n\n\n      textmode.getText = function () {\n        if (this.textarea) {\n          return this.textarea.value;\n        }\n\n        if (this.aceEditor) {\n          return this.aceEditor.getValue();\n        }\n\n        return '';\n      };\n      /**\n       * Set the text contents of the editor and optionally clear the history\n       * @param {String} jsonText\n       * @param {boolean} clearHistory   Only applicable for mode 'code'\n       * @private\n       */\n\n\n      textmode._setText = function (jsonText, clearHistory) {\n        var text = this.options.escapeUnicode === true ? Object(util[\"escapeUnicodeChars\"])(jsonText) : jsonText;\n\n        if (this.textarea) {\n          this.textarea.value = text;\n        }\n\n        if (this.aceEditor) {\n          // prevent emitting onChange events while setting new text\n          this.onChangeDisabled = true;\n          this.aceEditor.setValue(text, -1);\n          this.onChangeDisabled = false;\n\n          if (clearHistory) {\n            // prevent initial undo action clearing the initial contents\n            var me = this;\n            setTimeout(function () {\n              if (me.aceEditor) {\n                me.aceEditor.session.getUndoManager().reset();\n              }\n            }, 0);\n          }\n        } // validate JSON schema\n\n\n        this._debouncedValidate();\n      };\n      /**\n       * Set the text contents of the editor\n       * @param {String} jsonText\n       */\n\n\n      textmode.setText = function (jsonText) {\n        this._setText(jsonText, true);\n      };\n      /**\n       * Update the text contents\n       * @param {string} jsonText\n       */\n\n\n      textmode.updateText = function (jsonText) {\n        // don't update if there are no changes\n        if (this.getText() === jsonText) {\n          return;\n        }\n\n        this._setText(jsonText, false);\n      };\n      /**\n       * Validate current JSON object against the configured JSON schema\n       * Throws an exception when no JSON schema is configured\n       */\n\n\n      textmode.validate = function () {\n        var _this = this;\n\n        var schemaErrors = [];\n        var parseErrors = [];\n        var json;\n\n        try {\n          json = this.get(); // this can fail when there is no valid json\n          // execute JSON schema validation (ajv)\n\n          if (this.validateSchema) {\n            var valid = this.validateSchema(json);\n\n            if (!valid) {\n              schemaErrors = this.validateSchema.errors.map(function (error) {\n                error.type = 'validation';\n                return Object(util[\"improveSchemaError\"])(error);\n              });\n            }\n          } // execute custom validation and after than merge and render all errors\n          // TODO: implement a better mechanism for only using the last validation action\n\n\n          this.validationSequence = (this.validationSequence || 0) + 1;\n          var me = this;\n          var seq = this.validationSequence;\n          validateCustom(json, this.options.onValidate).then(function (customValidationErrors) {\n            // only apply when there was no other validation started whilst resolving async results\n            if (seq === me.validationSequence) {\n              var errors = schemaErrors.concat(parseErrors).concat(customValidationErrors);\n\n              me._renderErrors(errors);\n\n              if (typeof _this.options.onValidationError === 'function') {\n                if (Object(util[\"isValidationErrorChanged\"])(errors, _this.lastSchemaErrors)) {\n                  _this.options.onValidationError.call(_this, errors);\n                }\n\n                _this.lastSchemaErrors = errors;\n              }\n            }\n          })[\"catch\"](function (err) {\n            console.error('Custom validation function did throw an error', err);\n          });\n        } catch (err) {\n          if (this.getText()) {\n            // try to extract the line number from the jsonlint error message\n            var match = /\\w*line\\s*(\\d+)\\w*/g.exec(err.message);\n            var line;\n\n            if (match) {\n              line = +match[1];\n            }\n\n            parseErrors = [{\n              type: 'error',\n              message: err.message.replace(/\\n/g, '<br>'),\n              line: line\n            }];\n          }\n\n          this._renderErrors(parseErrors);\n\n          if (typeof this.options.onValidationError === 'function') {\n            if (Object(util[\"isValidationErrorChanged\"])(parseErrors, this.lastSchemaErrors)) {\n              this.options.onValidationError.call(this, parseErrors);\n            }\n\n            this.lastSchemaErrors = parseErrors;\n          }\n        }\n      };\n\n      textmode._renderErrors = function (errors) {\n        var jsonText = this.getText();\n        var errorPaths = [];\n        errors.reduce(function (acc, curr) {\n          if (typeof curr.dataPath === 'string' && acc.indexOf(curr.dataPath) === -1) {\n            acc.push(curr.dataPath);\n          }\n\n          return acc;\n        }, errorPaths);\n        var errorLocations = Object(util[\"getPositionForPath\"])(jsonText, errorPaths); // render annotations in Ace Editor (if any)\n\n        if (this.aceEditor) {\n          this.annotations = errorLocations.map(function (errLoc) {\n            var validationErrors = errors.filter(function (err) {\n              return err.dataPath === errLoc.path;\n            });\n            var message = validationErrors.map(function (err) {\n              return err.message;\n            }).join('\\n');\n\n            if (message) {\n              return {\n                row: errLoc.line,\n                column: errLoc.column,\n                text: 'Schema validation error' + (validationErrors.length !== 1 ? 's' : '') + ': \\n' + message,\n                type: 'warning',\n                source: 'jsoneditor'\n              };\n            }\n\n            return {};\n          });\n\n          this._refreshAnnotations();\n        } // render errors in the errors table (if any)\n\n\n        this.errorTable.setErrors(errors, errorLocations); // update the height of the ace editor\n\n        if (this.aceEditor) {\n          var force = false;\n          this.aceEditor.resize(force);\n        }\n      };\n      /**\n       * Get the selection details\n       * @returns {{start:{row:Number, column:Number},end:{row:Number, column:Number},text:String}}\n       */\n\n\n      textmode.getTextSelection = function () {\n        var selection = {};\n\n        if (this.textarea) {\n          var selectionRange = Object(util[\"getInputSelection\"])(this.textarea);\n\n          if (this.cursorInfo && this.cursorInfo.line === selectionRange.end.row && this.cursorInfo.column === selectionRange.end.column) {\n            // selection direction is bottom => up\n            selection.start = selectionRange.end;\n            selection.end = selectionRange.start;\n          } else {\n            selection = selectionRange;\n          }\n\n          return {\n            start: selection.start,\n            end: selection.end,\n            text: this.textarea.value.substring(selectionRange.startIndex, selectionRange.endIndex)\n          };\n        }\n\n        if (this.aceEditor) {\n          var aceSelection = this.aceEditor.getSelection();\n          var selectedText = this.aceEditor.getSelectedText();\n          var range = aceSelection.getRange();\n          var lead = aceSelection.getSelectionLead();\n\n          if (lead.row === range.end.row && lead.column === range.end.column) {\n            selection = range;\n          } else {\n            // selection direction is bottom => up\n            selection.start = range.end;\n            selection.end = range.start;\n          }\n\n          return {\n            start: {\n              row: selection.start.row + 1,\n              column: selection.start.column + 1\n            },\n            end: {\n              row: selection.end.row + 1,\n              column: selection.end.column + 1\n            },\n            text: selectedText\n          };\n        }\n      };\n      /**\n       * Callback registration for selection change\n       * @param {selectionCallback} callback\n       *\n       * @callback selectionCallback\n       */\n\n\n      textmode.onTextSelectionChange = function (callback) {\n        if (typeof callback === 'function') {\n          this._selectionChangedHandler = Object(util[\"debounce\"])(callback, this.DEBOUNCE_INTERVAL);\n        }\n      };\n      /**\n       * Set selection on editor's text\n       * @param {{row:Number, column:Number}} startPos selection start position\n       * @param {{row:Number, column:Number}} endPos selected end position\n       */\n\n\n      textmode.setTextSelection = function (startPos, endPos) {\n        if (!startPos || !endPos) return;\n\n        if (this.textarea) {\n          var startIndex = Object(util[\"getIndexForPosition\"])(this.textarea, startPos.row, startPos.column);\n          var endIndex = Object(util[\"getIndexForPosition\"])(this.textarea, endPos.row, endPos.column);\n\n          if (startIndex > -1 && endIndex > -1) {\n            if (this.textarea.setSelectionRange) {\n              this.textarea.focus();\n              this.textarea.setSelectionRange(startIndex, endIndex);\n            } else if (this.textarea.createTextRange) {\n              // IE < 9\n              var range = this.textarea.createTextRange();\n              range.collapse(true);\n              range.moveEnd('character', endIndex);\n              range.moveStart('character', startIndex);\n              range.select();\n            }\n\n            var rows = (this.textarea.value.match(/\\n/g) || []).length + 1;\n            var lineHeight = this.textarea.scrollHeight / rows;\n            var selectionScrollPos = startPos.row * lineHeight;\n            this.textarea.scrollTop = selectionScrollPos > this.textarea.clientHeight ? selectionScrollPos - this.textarea.clientHeight / 2 : 0;\n          }\n        } else if (this.aceEditor) {\n          var _range = {\n            start: {\n              row: startPos.row - 1,\n              column: startPos.column - 1\n            },\n            end: {\n              row: endPos.row - 1,\n              column: endPos.column - 1\n            }\n          };\n          this.aceEditor.selection.setRange(_range);\n          this.aceEditor.scrollToLine(startPos.row - 1, true);\n        }\n      };\n\n      function load() {\n        try {\n          this.format();\n        } catch (err) {// in case of an error, just move on, failing formatting is not a big deal\n        }\n      } // define modes\n\n\n      var textModeMixins = [{\n        mode: 'text',\n        mixin: textmode,\n        data: 'text',\n        load: load\n      }, {\n        mode: 'code',\n        mixin: textmode,\n        data: 'text',\n        load: load\n      }];\n      /***/\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* Jison generated parser */\n      var jsonlint = function () {\n        var parser = {\n          trace: function trace() {},\n          yy: {},\n          symbols_: {\n            \"error\": 2,\n            \"JSONString\": 3,\n            \"STRING\": 4,\n            \"JSONNumber\": 5,\n            \"NUMBER\": 6,\n            \"JSONNullLiteral\": 7,\n            \"NULL\": 8,\n            \"JSONBooleanLiteral\": 9,\n            \"TRUE\": 10,\n            \"FALSE\": 11,\n            \"JSONText\": 12,\n            \"JSONValue\": 13,\n            \"EOF\": 14,\n            \"JSONObject\": 15,\n            \"JSONArray\": 16,\n            \"{\": 17,\n            \"}\": 18,\n            \"JSONMemberList\": 19,\n            \"JSONMember\": 20,\n            \":\": 21,\n            \",\": 22,\n            \"[\": 23,\n            \"]\": 24,\n            \"JSONElementList\": 25,\n            \"$accept\": 0,\n            \"$end\": 1\n          },\n          terminals_: {\n            2: \"error\",\n            4: \"STRING\",\n            6: \"NUMBER\",\n            8: \"NULL\",\n            10: \"TRUE\",\n            11: \"FALSE\",\n            14: \"EOF\",\n            17: \"{\",\n            18: \"}\",\n            21: \":\",\n            22: \",\",\n            23: \"[\",\n            24: \"]\"\n          },\n          productions_: [0, [3, 1], [5, 1], [7, 1], [9, 1], [9, 1], [12, 2], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [15, 2], [15, 3], [20, 3], [19, 1], [19, 3], [16, 2], [16, 3], [25, 1], [25, 3]],\n          performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n            var $0 = $$.length - 1;\n\n            switch (yystate) {\n              case 1:\n                // replace escaped characters with actual character\n                this.$ = yytext.replace(/\\\\(\\\\|\")/g, \"$\" + \"1\").replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\v/g, '\\v').replace(/\\\\f/g, '\\f').replace(/\\\\b/g, '\\b');\n                break;\n\n              case 2:\n                this.$ = Number(yytext);\n                break;\n\n              case 3:\n                this.$ = null;\n                break;\n\n              case 4:\n                this.$ = true;\n                break;\n\n              case 5:\n                this.$ = false;\n                break;\n\n              case 6:\n                return this.$ = $$[$0 - 1];\n                break;\n\n              case 13:\n                this.$ = {};\n                break;\n\n              case 14:\n                this.$ = $$[$0 - 1];\n                break;\n\n              case 15:\n                this.$ = [$$[$0 - 2], $$[$0]];\n                break;\n\n              case 16:\n                this.$ = {};\n                this.$[$$[$0][0]] = $$[$0][1];\n                break;\n\n              case 17:\n                this.$ = $$[$0 - 2];\n                $$[$0 - 2][$$[$0][0]] = $$[$0][1];\n                break;\n\n              case 18:\n                this.$ = [];\n                break;\n\n              case 19:\n                this.$ = $$[$0 - 1];\n                break;\n\n              case 20:\n                this.$ = [$$[$0]];\n                break;\n\n              case 21:\n                this.$ = $$[$0 - 2];\n                $$[$0 - 2].push($$[$0]);\n                break;\n            }\n          },\n          table: [{\n            3: 5,\n            4: [1, 12],\n            5: 6,\n            6: [1, 13],\n            7: 3,\n            8: [1, 9],\n            9: 4,\n            10: [1, 10],\n            11: [1, 11],\n            12: 1,\n            13: 2,\n            15: 7,\n            16: 8,\n            17: [1, 14],\n            23: [1, 15]\n          }, {\n            1: [3]\n          }, {\n            14: [1, 16]\n          }, {\n            14: [2, 7],\n            18: [2, 7],\n            22: [2, 7],\n            24: [2, 7]\n          }, {\n            14: [2, 8],\n            18: [2, 8],\n            22: [2, 8],\n            24: [2, 8]\n          }, {\n            14: [2, 9],\n            18: [2, 9],\n            22: [2, 9],\n            24: [2, 9]\n          }, {\n            14: [2, 10],\n            18: [2, 10],\n            22: [2, 10],\n            24: [2, 10]\n          }, {\n            14: [2, 11],\n            18: [2, 11],\n            22: [2, 11],\n            24: [2, 11]\n          }, {\n            14: [2, 12],\n            18: [2, 12],\n            22: [2, 12],\n            24: [2, 12]\n          }, {\n            14: [2, 3],\n            18: [2, 3],\n            22: [2, 3],\n            24: [2, 3]\n          }, {\n            14: [2, 4],\n            18: [2, 4],\n            22: [2, 4],\n            24: [2, 4]\n          }, {\n            14: [2, 5],\n            18: [2, 5],\n            22: [2, 5],\n            24: [2, 5]\n          }, {\n            14: [2, 1],\n            18: [2, 1],\n            21: [2, 1],\n            22: [2, 1],\n            24: [2, 1]\n          }, {\n            14: [2, 2],\n            18: [2, 2],\n            22: [2, 2],\n            24: [2, 2]\n          }, {\n            3: 20,\n            4: [1, 12],\n            18: [1, 17],\n            19: 18,\n            20: 19\n          }, {\n            3: 5,\n            4: [1, 12],\n            5: 6,\n            6: [1, 13],\n            7: 3,\n            8: [1, 9],\n            9: 4,\n            10: [1, 10],\n            11: [1, 11],\n            13: 23,\n            15: 7,\n            16: 8,\n            17: [1, 14],\n            23: [1, 15],\n            24: [1, 21],\n            25: 22\n          }, {\n            1: [2, 6]\n          }, {\n            14: [2, 13],\n            18: [2, 13],\n            22: [2, 13],\n            24: [2, 13]\n          }, {\n            18: [1, 24],\n            22: [1, 25]\n          }, {\n            18: [2, 16],\n            22: [2, 16]\n          }, {\n            21: [1, 26]\n          }, {\n            14: [2, 18],\n            18: [2, 18],\n            22: [2, 18],\n            24: [2, 18]\n          }, {\n            22: [1, 28],\n            24: [1, 27]\n          }, {\n            22: [2, 20],\n            24: [2, 20]\n          }, {\n            14: [2, 14],\n            18: [2, 14],\n            22: [2, 14],\n            24: [2, 14]\n          }, {\n            3: 20,\n            4: [1, 12],\n            20: 29\n          }, {\n            3: 5,\n            4: [1, 12],\n            5: 6,\n            6: [1, 13],\n            7: 3,\n            8: [1, 9],\n            9: 4,\n            10: [1, 10],\n            11: [1, 11],\n            13: 30,\n            15: 7,\n            16: 8,\n            17: [1, 14],\n            23: [1, 15]\n          }, {\n            14: [2, 19],\n            18: [2, 19],\n            22: [2, 19],\n            24: [2, 19]\n          }, {\n            3: 5,\n            4: [1, 12],\n            5: 6,\n            6: [1, 13],\n            7: 3,\n            8: [1, 9],\n            9: 4,\n            10: [1, 10],\n            11: [1, 11],\n            13: 31,\n            15: 7,\n            16: 8,\n            17: [1, 14],\n            23: [1, 15]\n          }, {\n            18: [2, 17],\n            22: [2, 17]\n          }, {\n            18: [2, 15],\n            22: [2, 15]\n          }, {\n            22: [2, 21],\n            24: [2, 21]\n          }],\n          defaultActions: {\n            16: [2, 6]\n          },\n          parseError: function parseError(str, hash) {\n            throw new Error(str);\n          },\n          parse: function parse(input) {\n            var self = this,\n                stack = [0],\n                vstack = [null],\n                // semantic value stack\n            lstack = [],\n                // location stack\n            table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1; //this.reductionCount = this.shiftCount = 0;\n\n            this.lexer.setInput(input);\n            this.lexer.yy = this.yy;\n            this.yy.lexer = this.lexer;\n            if (typeof this.lexer.yylloc == 'undefined') this.lexer.yylloc = {};\n            var yyloc = this.lexer.yylloc;\n            lstack.push(yyloc);\n            if (typeof this.yy.parseError === 'function') this.parseError = this.yy.parseError;\n\n            function popStack(n) {\n              stack.length = stack.length - 2 * n;\n              vstack.length = vstack.length - n;\n              lstack.length = lstack.length - n;\n            }\n\n            function lex() {\n              var token;\n              token = self.lexer.lex() || 1; // $end = 1\n              // if token isn't its numeric value, convert\n\n              if (typeof token !== 'number') {\n                token = self.symbols_[token] || token;\n              }\n\n              return token;\n            }\n\n            var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n\n            while (true) {\n              // retreive state number from top of stack\n              state = stack[stack.length - 1]; // use default actions if available\n\n              if (this.defaultActions[state]) {\n                action = this.defaultActions[state];\n              } else {\n                if (symbol == null) symbol = lex(); // read action for current state and first input\n\n                action = table[state] && table[state][symbol];\n              } // handle parse error\n\n\n              _handle_error: if (typeof action === 'undefined' || !action.length || !action[0]) {\n                if (!recovering) {\n                  // Report error\n                  expected = [];\n\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > 2) {\n                      expected.push(\"'\" + this.terminals_[p] + \"'\");\n                    }\n                  }\n\n                  var errStr = '';\n\n                  if (this.lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(', ') + \", got '\" + this.terminals_[symbol] + \"'\";\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + \": Unexpected \" + (symbol == 1\n                    /*EOF*/\n                    ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n                  }\n\n                  this.parseError(errStr, {\n                    text: this.lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: this.lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                } // just recovered from another error\n\n\n                if (recovering == 3) {\n                  if (symbol == EOF) {\n                    throw new Error(errStr || 'Parsing halted.');\n                  } // discard current lookahead and grab another\n\n\n                  yyleng = this.lexer.yyleng;\n                  yytext = this.lexer.yytext;\n                  yylineno = this.lexer.yylineno;\n                  yyloc = this.lexer.yylloc;\n                  symbol = lex();\n                } // try to recover from error\n\n\n                while (1) {\n                  // check for error recovery rule in this state\n                  if (TERROR.toString() in table[state]) {\n                    break;\n                  }\n\n                  if (state == 0) {\n                    throw new Error(errStr || 'Parsing halted.');\n                  }\n\n                  popStack(1);\n                  state = stack[stack.length - 1];\n                }\n\n                preErrorSymbol = symbol; // save the lookahead token\n\n                symbol = TERROR; // insert generic error symbol as new lookahead\n\n                state = stack[stack.length - 1];\n                action = table[state] && table[state][TERROR];\n                recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n              } // this shouldn't happen, unless resolve defaults are off\n\n\n              if (action[0] instanceof Array && action.length > 1) {\n                throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n              }\n\n              switch (action[0]) {\n                case 1:\n                  // shift\n                  //this.shiftCount++;\n                  stack.push(symbol);\n                  vstack.push(this.lexer.yytext);\n                  lstack.push(this.lexer.yylloc);\n                  stack.push(action[1]); // push state\n\n                  symbol = null;\n\n                  if (!preErrorSymbol) {\n                    // normal execution/no error\n                    yyleng = this.lexer.yyleng;\n                    yytext = this.lexer.yytext;\n                    yylineno = this.lexer.yylineno;\n                    yyloc = this.lexer.yylloc;\n                    if (recovering > 0) recovering--;\n                  } else {\n                    // error just occurred, resume old lookahead f/ before error\n                    symbol = preErrorSymbol;\n                    preErrorSymbol = null;\n                  }\n\n                  break;\n\n                case 2:\n                  // reduce\n                  //this.reductionCount++;\n                  len = this.productions_[action[1]][1]; // perform semantic action\n\n                  yyval.$ = vstack[vstack.length - len]; // default to $$ = $1\n                  // default location, uses first token for firsts, last for lasts\n\n                  yyval._$ = {\n                    first_line: lstack[lstack.length - (len || 1)].first_line,\n                    last_line: lstack[lstack.length - 1].last_line,\n                    first_column: lstack[lstack.length - (len || 1)].first_column,\n                    last_column: lstack[lstack.length - 1].last_column\n                  };\n                  r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n\n                  if (typeof r !== 'undefined') {\n                    return r;\n                  } // pop off stack\n\n\n                  if (len) {\n                    stack = stack.slice(0, -1 * len * 2);\n                    vstack = vstack.slice(0, -1 * len);\n                    lstack = lstack.slice(0, -1 * len);\n                  }\n\n                  stack.push(this.productions_[action[1]][0]); // push nonterminal (reduce)\n\n                  vstack.push(yyval.$);\n                  lstack.push(yyval._$); // goto new state = table[STATE][NONTERMINAL]\n\n                  newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                  stack.push(newState);\n                  break;\n\n                case 3:\n                  // accept\n                  return true;\n              }\n            }\n\n            return true;\n          }\n        };\n        /* Jison generated lexer */\n\n        var lexer = function () {\n          var lexer = {\n            EOF: 1,\n            parseError: function parseError(str, hash) {\n              if (this.yy.parseError) {\n                this.yy.parseError(str, hash);\n              } else {\n                throw new Error(str);\n              }\n            },\n            setInput: function setInput(input) {\n              this._input = input;\n              this._more = this._less = this.done = false;\n              this.yylineno = this.yyleng = 0;\n              this.yytext = this.matched = this.match = '';\n              this.conditionStack = ['INITIAL'];\n              this.yylloc = {\n                first_line: 1,\n                first_column: 0,\n                last_line: 1,\n                last_column: 0\n              };\n              return this;\n            },\n            input: function input() {\n              var ch = this._input[0];\n              this.yytext += ch;\n              this.yyleng++;\n              this.match += ch;\n              this.matched += ch;\n              var lines = ch.match(/\\n/);\n              if (lines) this.yylineno++;\n              this._input = this._input.slice(1);\n              return ch;\n            },\n            unput: function unput(ch) {\n              this._input = ch + this._input;\n              return this;\n            },\n            more: function more() {\n              this._more = true;\n              return this;\n            },\n            less: function less(n) {\n              this._input = this.match.slice(n) + this._input;\n            },\n            pastInput: function pastInput() {\n              var past = this.matched.substr(0, this.matched.length - this.match.length);\n              return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n            },\n            upcomingInput: function upcomingInput() {\n              var next = this.match;\n\n              if (next.length < 20) {\n                next += this._input.substr(0, 20 - next.length);\n              }\n\n              return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n            },\n            showPosition: function showPosition() {\n              var pre = this.pastInput();\n              var c = new Array(pre.length + 1).join(\"-\");\n              return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n            },\n            next: function next() {\n              if (this.done) {\n                return this.EOF;\n              }\n\n              if (!this._input) this.done = true;\n              var token, match, tempMatch, index, col, lines;\n\n              if (!this._more) {\n                this.yytext = '';\n                this.match = '';\n              }\n\n              var rules = this._currentRules();\n\n              for (var i = 0; i < rules.length; i++) {\n                tempMatch = this._input.match(this.rules[rules[i]]);\n\n                if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                  match = tempMatch;\n                  index = i;\n                  if (!this.options.flex) break;\n                }\n              }\n\n              if (match) {\n                lines = match[0].match(/\\n.*/g);\n                if (lines) this.yylineno += lines.length;\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - 1 : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.yyleng = this.yytext.length;\n                this._more = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) this.done = false;\n                if (token) return token;else return;\n              }\n\n              if (this._input === \"\") {\n                return this.EOF;\n              } else {\n                this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                  text: \"\",\n                  token: null,\n                  line: this.yylineno\n                });\n              }\n            },\n            lex: function lex() {\n              var r = this.next();\n\n              if (typeof r !== 'undefined') {\n                return r;\n              } else {\n                return this.lex();\n              }\n            },\n            begin: function begin(condition) {\n              this.conditionStack.push(condition);\n            },\n            popState: function popState() {\n              return this.conditionStack.pop();\n            },\n            _currentRules: function _currentRules() {\n              return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n            },\n            topState: function topState() {\n              return this.conditionStack[this.conditionStack.length - 2];\n            },\n            pushState: function begin(condition) {\n              this.begin(condition);\n            }\n          };\n          lexer.options = {};\n\n          lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n            var YYSTATE = YY_START;\n\n            switch ($avoiding_name_collisions) {\n              case 0:\n                /* skip whitespace */\n                break;\n\n              case 1:\n                return 6;\n                break;\n\n              case 2:\n                yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2);\n                return 4;\n                break;\n\n              case 3:\n                return 17;\n                break;\n\n              case 4:\n                return 18;\n                break;\n\n              case 5:\n                return 23;\n                break;\n\n              case 6:\n                return 24;\n                break;\n\n              case 7:\n                return 22;\n                break;\n\n              case 8:\n                return 21;\n                break;\n\n              case 9:\n                return 10;\n                break;\n\n              case 10:\n                return 11;\n                break;\n\n              case 11:\n                return 8;\n                break;\n\n              case 12:\n                return 14;\n                break;\n\n              case 13:\n                return 'INVALID';\n                break;\n            }\n          };\n\n          lexer.rules = [/^(?:\\s+)/, /^(?:(-?([0-9]|[1-9][0-9]+))(\\.[0-9]+)?([eE][-+]?[0-9]+)?\\b)/, /^(?:\"(?:\\\\[\\\\\"bfnrt/]|\\\\u[a-fA-F0-9]{4}|[^\\\\\\0-\\x09\\x0a-\\x1f\"])*\")/, /^(?:\\{)/, /^(?:\\})/, /^(?:\\[)/, /^(?:\\])/, /^(?:,)/, /^(?::)/, /^(?:true\\b)/, /^(?:false\\b)/, /^(?:null\\b)/, /^(?:$)/, /^(?:.)/];\n          lexer.conditions = {\n            \"INITIAL\": {\n              \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],\n              \"inclusive\": true\n            }\n          };\n          ;\n          return lexer;\n        }();\n\n        parser.lexer = lexer;\n        return parser;\n      }();\n\n      if (true) {\n        exports.parser = jsonlint;\n        exports.parse = jsonlint.parse.bind(jsonlint);\n      }\n      /***/\n\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports) {\n      module.exports = function () {\n        throw new Error(\"define cannot be used indirect\");\n      };\n      /***/\n\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports) {\n      if (typeof Element !== 'undefined') {\n        // Polyfill for array remove\n        (function () {\n          function polyfill(item) {\n            if ('remove' in item) {\n              return;\n            }\n\n            Object.defineProperty(item, 'remove', {\n              configurable: true,\n              enumerable: true,\n              writable: true,\n              value: function remove() {\n                if (this.parentNode !== undefined) {\n                  this.parentNode.removeChild(this);\n                }\n              }\n            });\n          }\n\n          if (typeof window.Element !== 'undefined') {\n            polyfill(window.Element.prototype);\n          }\n\n          if (typeof window.CharacterData !== 'undefined') {\n            polyfill(window.CharacterData.prototype);\n          }\n\n          if (typeof window.DocumentType !== 'undefined') {\n            polyfill(window.DocumentType.prototype);\n          }\n        })();\n      } // Polyfill for Array.find\n\n\n      if (!Array.prototype.find) {\n        // eslint-disable-next-line no-extend-native\n        Array.prototype.find = function (callback) {\n          for (var i = 0; i < this.length; i++) {\n            var element = this[i];\n\n            if (callback.call(this, element, i, this)) {\n              return element;\n            }\n          }\n        };\n      } // Polyfill for String.trim\n\n\n      if (!String.prototype.trim) {\n        // eslint-disable-next-line no-extend-native\n        String.prototype.trim = function () {\n          return this.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        };\n      }\n      /***/\n\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var util = __webpack_require__(5);\n\n      module.exports = SchemaObject;\n\n      function SchemaObject(obj) {\n        util.copy(obj, this);\n      }\n      /***/\n\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function (data, opts) {\n        if (!opts) opts = {};\n        if (typeof opts === 'function') opts = {\n          cmp: opts\n        };\n        var cycles = typeof opts.cycles === 'boolean' ? opts.cycles : false;\n\n        var cmp = opts.cmp && function (f) {\n          return function (node) {\n            return function (a, b) {\n              var aobj = {\n                key: a,\n                value: node[a]\n              };\n              var bobj = {\n                key: b,\n                value: node[b]\n              };\n              return f(aobj, bobj);\n            };\n          };\n        }(opts.cmp);\n\n        var seen = [];\n        return function stringify(node) {\n          if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n          }\n\n          if (node === undefined) return;\n          if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n          if (typeof node !== 'object') return JSON.stringify(node);\n          var i, out;\n\n          if (Array.isArray(node)) {\n            out = '[';\n\n            for (i = 0; i < node.length; i++) {\n              if (i) out += ',';\n              out += stringify(node[i]) || 'null';\n            }\n\n            return out + ']';\n          }\n\n          if (node === null) return 'null';\n\n          if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n          }\n\n          var seenIndex = seen.push(node) - 1;\n          var keys = Object.keys(node).sort(cmp && cmp(node));\n          out = '';\n\n          for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n          }\n\n          seen.splice(seenIndex, 1);\n          return '{' + out + '}';\n        }(data);\n      };\n      /***/\n\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_validate(it, $keyword, $ruleType) {\n        var out = '';\n\n        var $async = it.schema.$async === true,\n            $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n            $id = it.self._getId(it.schema);\n\n        if (it.opts.strictKeywords) {\n          var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n\n          if ($unknownKwd) {\n            var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n            if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);else throw new Error($keywordsMsg);\n          }\n        }\n\n        if (it.isTop) {\n          out += ' var validate = ';\n\n          if ($async) {\n            it.async = true;\n            out += 'async ';\n          }\n\n          out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n\n          if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n            out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n          }\n        }\n\n        if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n          var $keyword = 'false schema';\n          var $lvl = it.level;\n          var $dataLvl = it.dataLevel;\n          var $schema = it.schema[$keyword];\n          var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n          var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n          var $breakOnError = !it.opts.allErrors;\n          var $errorKeyword;\n          var $data = 'data' + ($dataLvl || '');\n          var $valid = 'valid' + $lvl;\n\n          if (it.schema === false) {\n            if (it.isTop) {\n              $breakOnError = true;\n            } else {\n              out += ' var ' + $valid + ' = false; ';\n            }\n\n            var $$outStack = $$outStack || [];\n            $$outStack.push(out);\n            out = '';\n            /* istanbul ignore else */\n\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: {} ';\n\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'boolean schema is false\\' ';\n              }\n\n              if (it.opts.verbose) {\n                out += ' , schema: false , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n              }\n\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n\n            var __err = out;\n            out = $$outStack.pop();\n\n            if (!it.compositeRule && $breakOnError) {\n              /* istanbul ignore if */\n              if (it.async) {\n                out += ' throw new ValidationError([' + __err + ']); ';\n              } else {\n                out += ' validate.errors = [' + __err + ']; return false; ';\n              }\n            } else {\n              out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n            }\n          } else {\n            if (it.isTop) {\n              if ($async) {\n                out += ' return data; ';\n              } else {\n                out += ' validate.errors = null; return true; ';\n              }\n            } else {\n              out += ' var ' + $valid + ' = true; ';\n            }\n          }\n\n          if (it.isTop) {\n            out += ' }; return validate; ';\n          }\n\n          return out;\n        }\n\n        if (it.isTop) {\n          var $top = it.isTop,\n              $lvl = it.level = 0,\n              $dataLvl = it.dataLevel = 0,\n              $data = 'data';\n          it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n          it.baseId = it.baseId || it.rootId;\n          delete it.isTop;\n          it.dataPathArr = [undefined];\n\n          if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n            var $defaultMsg = 'default is ignored in the schema root';\n            if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);else throw new Error($defaultMsg);\n          }\n\n          out += ' var vErrors = null; ';\n          out += ' var errors = 0;     ';\n          out += ' if (rootData === undefined) rootData = data; ';\n        } else {\n          var $lvl = it.level,\n              $dataLvl = it.dataLevel,\n              $data = 'data' + ($dataLvl || '');\n          if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n          if ($async && !it.async) throw new Error('async schema in sync schema');\n          out += ' var errs_' + $lvl + ' = errors;';\n        }\n\n        var $valid = 'valid' + $lvl,\n            $breakOnError = !it.opts.allErrors,\n            $closingBraces1 = '',\n            $closingBraces2 = '';\n        var $errorKeyword;\n        var $typeSchema = it.schema.type,\n            $typeIsArray = Array.isArray($typeSchema);\n\n        if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n          if ($typeIsArray) {\n            if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n          } else if ($typeSchema != 'null') {\n            $typeSchema = [$typeSchema, 'null'];\n            $typeIsArray = true;\n          }\n        }\n\n        if ($typeIsArray && $typeSchema.length == 1) {\n          $typeSchema = $typeSchema[0];\n          $typeIsArray = false;\n        }\n\n        if (it.schema.$ref && $refKeywords) {\n          if (it.opts.extendRefs == 'fail') {\n            throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n          } else if (it.opts.extendRefs !== true) {\n            $refKeywords = false;\n            it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n          }\n        }\n\n        if (it.schema.$comment && it.opts.$comment) {\n          out += ' ' + it.RULES.all.$comment.code(it, '$comment');\n        }\n\n        if ($typeSchema) {\n          if (it.opts.coerceTypes) {\n            var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n          }\n\n          var $rulesGroup = it.RULES.types[$typeSchema];\n\n          if ($coerceToTypes || $typeIsArray || $rulesGroup === true || $rulesGroup && !$shouldUseGroup($rulesGroup)) {\n            var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n            var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type',\n                $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n            out += ' if (' + it.util[$method]($typeSchema, $data, true) + ') { ';\n\n            if ($coerceToTypes) {\n              var $dataType = 'dataType' + $lvl,\n                  $coerced = 'coerced' + $lvl;\n              out += ' var ' + $dataType + ' = typeof ' + $data + '; ';\n\n              if (it.opts.coerceTypes == 'array') {\n                out += ' if (' + $dataType + ' == \\'object\\' && Array.isArray(' + $data + ')) ' + $dataType + ' = \\'array\\'; ';\n              }\n\n              out += ' var ' + $coerced + ' = undefined; ';\n              var $bracesCoercion = '';\n              var arr1 = $coerceToTypes;\n\n              if (arr1) {\n                var $type,\n                    $i = -1,\n                    l1 = arr1.length - 1;\n\n                while ($i < l1) {\n                  $type = arr1[$i += 1];\n\n                  if ($i) {\n                    out += ' if (' + $coerced + ' === undefined) { ';\n                    $bracesCoercion += '}';\n                  }\n\n                  if (it.opts.coerceTypes == 'array' && $type != 'array') {\n                    out += ' if (' + $dataType + ' == \\'array\\' && ' + $data + '.length == 1) { ' + $coerced + ' = ' + $data + ' = ' + $data + '[0]; ' + $dataType + ' = typeof ' + $data + ';  } ';\n                  }\n\n                  if ($type == 'string') {\n                    out += ' if (' + $dataType + ' == \\'number\\' || ' + $dataType + ' == \\'boolean\\') ' + $coerced + ' = \\'\\' + ' + $data + '; else if (' + $data + ' === null) ' + $coerced + ' = \\'\\'; ';\n                  } else if ($type == 'number' || $type == 'integer') {\n                    out += ' if (' + $dataType + ' == \\'boolean\\' || ' + $data + ' === null || (' + $dataType + ' == \\'string\\' && ' + $data + ' && ' + $data + ' == +' + $data + ' ';\n\n                    if ($type == 'integer') {\n                      out += ' && !(' + $data + ' % 1)';\n                    }\n\n                    out += ')) ' + $coerced + ' = +' + $data + '; ';\n                  } else if ($type == 'boolean') {\n                    out += ' if (' + $data + ' === \\'false\\' || ' + $data + ' === 0 || ' + $data + ' === null) ' + $coerced + ' = false; else if (' + $data + ' === \\'true\\' || ' + $data + ' === 1) ' + $coerced + ' = true; ';\n                  } else if ($type == 'null') {\n                    out += ' if (' + $data + ' === \\'\\' || ' + $data + ' === 0 || ' + $data + ' === false) ' + $coerced + ' = null; ';\n                  } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n                    out += ' if (' + $dataType + ' == \\'string\\' || ' + $dataType + ' == \\'number\\' || ' + $dataType + ' == \\'boolean\\' || ' + $data + ' == null) ' + $coerced + ' = [' + $data + ']; ';\n                  }\n                }\n              }\n\n              out += ' ' + $bracesCoercion + ' if (' + $coerced + ' === undefined) {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = '';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { type: \\'';\n\n                if ($typeIsArray) {\n                  out += '' + $typeSchema.join(\",\");\n                } else {\n                  out += '' + $typeSchema;\n                }\n\n                out += '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n\n                  if ($typeIsArray) {\n                    out += '' + $typeSchema.join(\",\");\n                  } else {\n                    out += '' + $typeSchema;\n                  }\n\n                  out += '\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              var __err = out;\n              out = $$outStack.pop();\n\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + __err + ']); ';\n                } else {\n                  out += ' validate.errors = [' + __err + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n\n              out += ' } else {  ';\n              var $parentData = $dataLvl ? 'data' + ($dataLvl - 1 || '') : 'parentData',\n                  $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n              out += ' ' + $data + ' = ' + $coerced + '; ';\n\n              if (!$dataLvl) {\n                out += 'if (' + $parentData + ' !== undefined)';\n              }\n\n              out += ' ' + $parentData + '[' + $parentDataProperty + '] = ' + $coerced + '; } ';\n            } else {\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = '';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { type: \\'';\n\n                if ($typeIsArray) {\n                  out += '' + $typeSchema.join(\",\");\n                } else {\n                  out += '' + $typeSchema;\n                }\n\n                out += '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n\n                  if ($typeIsArray) {\n                    out += '' + $typeSchema.join(\",\");\n                  } else {\n                    out += '' + $typeSchema;\n                  }\n\n                  out += '\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              var __err = out;\n              out = $$outStack.pop();\n\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + __err + ']); ';\n                } else {\n                  out += ' validate.errors = [' + __err + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n            }\n\n            out += ' } ';\n          }\n        }\n\n        if (it.schema.$ref && !$refKeywords) {\n          out += ' ' + it.RULES.all.$ref.code(it, '$ref') + ' ';\n\n          if ($breakOnError) {\n            out += ' } if (errors === ';\n\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + $lvl;\n            }\n\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        } else {\n          var arr2 = it.RULES;\n\n          if (arr2) {\n            var $rulesGroup,\n                i2 = -1,\n                l2 = arr2.length - 1;\n\n            while (i2 < l2) {\n              $rulesGroup = arr2[i2 += 1];\n\n              if ($shouldUseGroup($rulesGroup)) {\n                if ($rulesGroup.type) {\n                  out += ' if (' + it.util.checkDataType($rulesGroup.type, $data) + ') { ';\n                }\n\n                if (it.opts.useDefaults) {\n                  if ($rulesGroup.type == 'object' && it.schema.properties) {\n                    var $schema = it.schema.properties,\n                        $schemaKeys = Object.keys($schema);\n                    var arr3 = $schemaKeys;\n\n                    if (arr3) {\n                      var $propertyKey,\n                          i3 = -1,\n                          l3 = arr3.length - 1;\n\n                      while (i3 < l3) {\n                        $propertyKey = arr3[i3 += 1];\n                        var $sch = $schema[$propertyKey];\n\n                        if ($sch.default !== undefined) {\n                          var $passData = $data + it.util.getProperty($propertyKey);\n\n                          if (it.compositeRule) {\n                            if (it.opts.strictDefaults) {\n                              var $defaultMsg = 'default is ignored for: ' + $passData;\n                              if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);else throw new Error($defaultMsg);\n                            }\n                          } else {\n                            out += ' if (' + $passData + ' === undefined ';\n\n                            if (it.opts.useDefaults == 'empty') {\n                              out += ' || ' + $passData + ' === null || ' + $passData + ' === \\'\\' ';\n                            }\n\n                            out += ' ) ' + $passData + ' = ';\n\n                            if (it.opts.useDefaults == 'shared') {\n                              out += ' ' + it.useDefault($sch.default) + ' ';\n                            } else {\n                              out += ' ' + JSON.stringify($sch.default) + ' ';\n                            }\n\n                            out += '; ';\n                          }\n                        }\n                      }\n                    }\n                  } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n                    var arr4 = it.schema.items;\n\n                    if (arr4) {\n                      var $sch,\n                          $i = -1,\n                          l4 = arr4.length - 1;\n\n                      while ($i < l4) {\n                        $sch = arr4[$i += 1];\n\n                        if ($sch.default !== undefined) {\n                          var $passData = $data + '[' + $i + ']';\n\n                          if (it.compositeRule) {\n                            if (it.opts.strictDefaults) {\n                              var $defaultMsg = 'default is ignored for: ' + $passData;\n                              if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);else throw new Error($defaultMsg);\n                            }\n                          } else {\n                            out += ' if (' + $passData + ' === undefined ';\n\n                            if (it.opts.useDefaults == 'empty') {\n                              out += ' || ' + $passData + ' === null || ' + $passData + ' === \\'\\' ';\n                            }\n\n                            out += ' ) ' + $passData + ' = ';\n\n                            if (it.opts.useDefaults == 'shared') {\n                              out += ' ' + it.useDefault($sch.default) + ' ';\n                            } else {\n                              out += ' ' + JSON.stringify($sch.default) + ' ';\n                            }\n\n                            out += '; ';\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n\n                var arr5 = $rulesGroup.rules;\n\n                if (arr5) {\n                  var $rule,\n                      i5 = -1,\n                      l5 = arr5.length - 1;\n\n                  while (i5 < l5) {\n                    $rule = arr5[i5 += 1];\n\n                    if ($shouldUseRule($rule)) {\n                      var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n\n                      if ($code) {\n                        out += ' ' + $code + ' ';\n\n                        if ($breakOnError) {\n                          $closingBraces1 += '}';\n                        }\n                      }\n                    }\n                  }\n                }\n\n                if ($breakOnError) {\n                  out += ' ' + $closingBraces1 + ' ';\n                  $closingBraces1 = '';\n                }\n\n                if ($rulesGroup.type) {\n                  out += ' } ';\n\n                  if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n                    out += ' else { ';\n                    var $schemaPath = it.schemaPath + '.type',\n                        $errSchemaPath = it.errSchemaPath + '/type';\n                    var $$outStack = $$outStack || [];\n                    $$outStack.push(out);\n                    out = '';\n                    /* istanbul ignore else */\n\n                    if (it.createErrors !== false) {\n                      out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { type: \\'';\n\n                      if ($typeIsArray) {\n                        out += '' + $typeSchema.join(\",\");\n                      } else {\n                        out += '' + $typeSchema;\n                      }\n\n                      out += '\\' } ';\n\n                      if (it.opts.messages !== false) {\n                        out += ' , message: \\'should be ';\n\n                        if ($typeIsArray) {\n                          out += '' + $typeSchema.join(\",\");\n                        } else {\n                          out += '' + $typeSchema;\n                        }\n\n                        out += '\\' ';\n                      }\n\n                      if (it.opts.verbose) {\n                        out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                      }\n\n                      out += ' } ';\n                    } else {\n                      out += ' {} ';\n                    }\n\n                    var __err = out;\n                    out = $$outStack.pop();\n\n                    if (!it.compositeRule && $breakOnError) {\n                      /* istanbul ignore if */\n                      if (it.async) {\n                        out += ' throw new ValidationError([' + __err + ']); ';\n                      } else {\n                        out += ' validate.errors = [' + __err + ']; return false; ';\n                      }\n                    } else {\n                      out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n                    }\n\n                    out += ' } ';\n                  }\n                }\n\n                if ($breakOnError) {\n                  out += ' if (errors === ';\n\n                  if ($top) {\n                    out += '0';\n                  } else {\n                    out += 'errs_' + $lvl;\n                  }\n\n                  out += ') { ';\n                  $closingBraces2 += '}';\n                }\n              }\n            }\n          }\n        }\n\n        if ($breakOnError) {\n          out += ' ' + $closingBraces2 + ' ';\n        }\n\n        if ($top) {\n          if ($async) {\n            out += ' if (errors === 0) return data;           ';\n            out += ' else throw new ValidationError(vErrors); ';\n          } else {\n            out += ' validate.errors = vErrors; ';\n            out += ' return errors === 0;       ';\n          }\n\n          out += ' }; return validate;';\n        } else {\n          out += ' var ' + $valid + ' = errors === errs_' + $lvl + ';';\n        }\n\n        out = it.util.cleanUpCode(out);\n\n        if ($top) {\n          out = it.util.finalCleanUpCode(out, $async);\n        }\n\n        function $shouldUseGroup($rulesGroup) {\n          var rules = $rulesGroup.rules;\n\n          for (var i = 0; i < rules.length; i++) {\n            if ($shouldUseRule(rules[i])) return true;\n          }\n        }\n\n        function $shouldUseRule($rule) {\n          return it.schema[$rule.keyword] !== undefined || $rule.implements && $ruleImplementsSomeKeyword($rule);\n        }\n\n        function $ruleImplementsSomeKeyword($rule) {\n          var impl = $rule.implements;\n\n          for (var i = 0; i < impl.length; i++) {\n            if (it.schema[impl[i]] !== undefined) return true;\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate__limit(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $errorKeyword;\n        var $data = 'data' + ($dataLvl || '');\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $isMax = $keyword == 'maximum',\n            $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n            $schemaExcl = it.schema[$exclusiveKeyword],\n            $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n            $op = $isMax ? '<' : '>',\n            $notOp = $isMax ? '>' : '<',\n            $errorKeyword = undefined;\n\n        if ($isDataExcl) {\n          var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n              $exclusive = 'exclusive' + $lvl,\n              $exclType = 'exclType' + $lvl,\n              $exclIsNumber = 'exclIsNumber' + $lvl,\n              $opExpr = 'op' + $lvl,\n              $opStr = '\\' + ' + $opExpr + ' + \\'';\n          out += ' var schemaExcl' + $lvl + ' = ' + $schemaValueExcl + '; ';\n          $schemaValueExcl = 'schemaExcl' + $lvl;\n          out += ' var ' + $exclusive + '; var ' + $exclType + ' = typeof ' + $schemaValueExcl + '; if (' + $exclType + ' != \\'boolean\\' && ' + $exclType + ' != \\'undefined\\' && ' + $exclType + ' != \\'number\\') { ';\n          var $errorKeyword = $exclusiveKeyword;\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: {} ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'' + $exclusiveKeyword + ' should be boolean\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          var __err = out;\n          out = $$outStack.pop();\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + __err + ']); ';\n            } else {\n              out += ' validate.errors = [' + __err + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n\n          out += ' } else if ( ';\n\n          if ($isData) {\n            out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'number\\') || ';\n          }\n\n          out += ' ' + $exclType + ' == \\'number\\' ? ( (' + $exclusive + ' = ' + $schemaValue + ' === undefined || ' + $schemaValueExcl + ' ' + $op + '= ' + $schemaValue + ') ? ' + $data + ' ' + $notOp + '= ' + $schemaValueExcl + ' : ' + $data + ' ' + $notOp + ' ' + $schemaValue + ' ) : ( (' + $exclusive + ' = ' + $schemaValueExcl + ' === true) ? ' + $data + ' ' + $notOp + '= ' + $schemaValue + ' : ' + $data + ' ' + $notOp + ' ' + $schemaValue + ' ) || ' + $data + ' !== ' + $data + ') { var op' + $lvl + ' = ' + $exclusive + ' ? \\'' + $op + '\\' : \\'' + $op + '=\\'; ';\n\n          if ($schema === undefined) {\n            $errorKeyword = $exclusiveKeyword;\n            $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n            $schemaValue = $schemaValueExcl;\n            $isData = $isDataExcl;\n          }\n        } else {\n          var $exclIsNumber = typeof $schemaExcl == 'number',\n              $opStr = $op;\n\n          if ($exclIsNumber && $isData) {\n            var $opExpr = '\\'' + $opStr + '\\'';\n            out += ' if ( ';\n\n            if ($isData) {\n              out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'number\\') || ';\n            }\n\n            out += ' ( ' + $schemaValue + ' === undefined || ' + $schemaExcl + ' ' + $op + '= ' + $schemaValue + ' ? ' + $data + ' ' + $notOp + '= ' + $schemaExcl + ' : ' + $data + ' ' + $notOp + ' ' + $schemaValue + ' ) || ' + $data + ' !== ' + $data + ') { ';\n          } else {\n            if ($exclIsNumber && $schema === undefined) {\n              $exclusive = true;\n              $errorKeyword = $exclusiveKeyword;\n              $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n              $schemaValue = $schemaExcl;\n              $notOp += '=';\n            } else {\n              if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n\n              if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n                $exclusive = true;\n                $errorKeyword = $exclusiveKeyword;\n                $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n                $notOp += '=';\n              } else {\n                $exclusive = false;\n                $opStr += '=';\n              }\n            }\n\n            var $opExpr = '\\'' + $opStr + '\\'';\n            out += ' if ( ';\n\n            if ($isData) {\n              out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'number\\') || ';\n            }\n\n            out += ' ' + $data + ' ' + $notOp + ' ' + $schemaValue + ' || ' + $data + ' !== ' + $data + ') { ';\n          }\n        }\n\n        $errorKeyword = $errorKeyword || $keyword;\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { comparison: ' + $opExpr + ', limit: ' + $schemaValue + ', exclusive: ' + $exclusive + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ' + $opStr + ' ';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue;\n            } else {\n              out += '' + $schemaValue + '\\'';\n            }\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + $schema;\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += ' } ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate__limitItems(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $errorKeyword;\n        var $data = 'data' + ($dataLvl || '');\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $op = $keyword == 'maxItems' ? '>' : '<';\n        out += 'if ( ';\n\n        if ($isData) {\n          out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'number\\') || ';\n        }\n\n        out += ' ' + $data + '.length ' + $op + ' ' + $schemaValue + ') { ';\n        var $errorKeyword = $keyword;\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { limit: ' + $schemaValue + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should NOT have ';\n\n            if ($keyword == 'maxItems') {\n              out += 'more';\n            } else {\n              out += 'fewer';\n            }\n\n            out += ' than ';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue + ' + \\'';\n            } else {\n              out += '' + $schema;\n            }\n\n            out += ' items\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + $schema;\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += '} ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate__limitLength(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $errorKeyword;\n        var $data = 'data' + ($dataLvl || '');\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $op = $keyword == 'maxLength' ? '>' : '<';\n        out += 'if ( ';\n\n        if ($isData) {\n          out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'number\\') || ';\n        }\n\n        if (it.opts.unicode === false) {\n          out += ' ' + $data + '.length ';\n        } else {\n          out += ' ucs2length(' + $data + ') ';\n        }\n\n        out += ' ' + $op + ' ' + $schemaValue + ') { ';\n        var $errorKeyword = $keyword;\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { limit: ' + $schemaValue + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should NOT be ';\n\n            if ($keyword == 'maxLength') {\n              out += 'longer';\n            } else {\n              out += 'shorter';\n            }\n\n            out += ' than ';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue + ' + \\'';\n            } else {\n              out += '' + $schema;\n            }\n\n            out += ' characters\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + $schema;\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += '} ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $errorKeyword;\n        var $data = 'data' + ($dataLvl || '');\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $op = $keyword == 'maxProperties' ? '>' : '<';\n        out += 'if ( ';\n\n        if ($isData) {\n          out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'number\\') || ';\n        }\n\n        out += ' Object.keys(' + $data + ').length ' + $op + ' ' + $schemaValue + ') { ';\n        var $errorKeyword = $keyword;\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { limit: ' + $schemaValue + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should NOT have ';\n\n            if ($keyword == 'maxProperties') {\n              out += 'more';\n            } else {\n              out += 'fewer';\n            }\n\n            out += ' than ';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue + ' + \\'';\n            } else {\n              out += '' + $schema;\n            }\n\n            out += ' properties\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + $schema;\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += '} ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 32 */\n\n    /***/\n    function (module) {\n      module.exports = JSON.parse(\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-07/schema#\\\",\\\"$id\\\":\\\"http://json-schema.org/draft-07/schema#\\\",\\\"title\\\":\\\"Core schema meta-schema\\\",\\\"definitions\\\":{\\\"schemaArray\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"items\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"nonNegativeInteger\\\":{\\\"type\\\":\\\"integer\\\",\\\"minimum\\\":0},\\\"nonNegativeIntegerDefault0\\\":{\\\"allOf\\\":[{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},{\\\"default\\\":0}]},\\\"simpleTypes\\\":{\\\"enum\\\":[\\\"array\\\",\\\"boolean\\\",\\\"integer\\\",\\\"null\\\",\\\"number\\\",\\\"object\\\",\\\"string\\\"]},\\\"stringArray\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"uniqueItems\\\":true,\\\"default\\\":[]}},\\\"type\\\":[\\\"object\\\",\\\"boolean\\\"],\\\"properties\\\":{\\\"$id\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri-reference\\\"},\\\"$schema\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri\\\"},\\\"$ref\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri-reference\\\"},\\\"$comment\\\":{\\\"type\\\":\\\"string\\\"},\\\"title\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"type\\\":\\\"string\\\"},\\\"default\\\":true,\\\"readOnly\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"examples\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":true},\\\"multipleOf\\\":{\\\"type\\\":\\\"number\\\",\\\"exclusiveMinimum\\\":0},\\\"maximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMaximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"minimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMinimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"maxLength\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minLength\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"regex\\\"},\\\"additionalItems\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"items\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"}],\\\"default\\\":true},\\\"maxItems\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minItems\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"uniqueItems\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"contains\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"maxProperties\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minProperties\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"required\\\":{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"},\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"definitions\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"properties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"patternProperties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"propertyNames\\\":{\\\"format\\\":\\\"regex\\\"},\\\"default\\\":{}},\\\"dependencies\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"}]}},\\\"propertyNames\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"const\\\":true,\\\"enum\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":true,\\\"minItems\\\":1,\\\"uniqueItems\\\":true},\\\"type\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},\\\"minItems\\\":1,\\\"uniqueItems\\\":true}]},\\\"format\\\":{\\\"type\\\":\\\"string\\\"},\\\"contentMediaType\\\":{\\\"type\\\":\\\"string\\\"},\\\"contentEncoding\\\":{\\\"type\\\":\\\"string\\\"},\\\"if\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"then\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"else\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"allOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"anyOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"oneOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"not\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"default\\\":true}\");\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var escapedChars = {\n        'b': '\\b',\n        'f': '\\f',\n        'n': '\\n',\n        'r': '\\r',\n        't': '\\t',\n        '\"': '\"',\n        '/': '/',\n        '\\\\': '\\\\'\n      };\n      var A_CODE = 'a'.charCodeAt();\n\n      exports.parse = function (source, _, options) {\n        var pointers = {};\n        var line = 0;\n        var column = 0;\n        var pos = 0;\n        var bigint = options && options.bigint && typeof BigInt != 'undefined';\n        return {\n          data: _parse('', true),\n          pointers: pointers\n        };\n\n        function _parse(ptr, topLevel) {\n          whitespace();\n          var data;\n          map(ptr, 'value');\n          var char = getChar();\n\n          switch (char) {\n            case 't':\n              read('rue');\n              data = true;\n              break;\n\n            case 'f':\n              read('alse');\n              data = false;\n              break;\n\n            case 'n':\n              read('ull');\n              data = null;\n              break;\n\n            case '\"':\n              data = parseString();\n              break;\n\n            case '[':\n              data = parseArray(ptr);\n              break;\n\n            case '{':\n              data = parseObject(ptr);\n              break;\n\n            default:\n              backChar();\n              if ('-0123456789'.indexOf(char) >= 0) data = parseNumber();else unexpectedToken();\n          }\n\n          map(ptr, 'valueEnd');\n          whitespace();\n          if (topLevel && pos < source.length) unexpectedToken();\n          return data;\n        }\n\n        function whitespace() {\n          loop: while (pos < source.length) {\n            switch (source[pos]) {\n              case ' ':\n                column++;\n                break;\n\n              case '\\t':\n                column += 4;\n                break;\n\n              case '\\r':\n                column = 0;\n                break;\n\n              case '\\n':\n                column = 0;\n                line++;\n                break;\n\n              default:\n                break loop;\n            }\n\n            pos++;\n          }\n        }\n\n        function parseString() {\n          var str = '';\n          var char;\n\n          while (true) {\n            char = getChar();\n\n            if (char == '\"') {\n              break;\n            } else if (char == '\\\\') {\n              char = getChar();\n              if (char in escapedChars) str += escapedChars[char];else if (char == 'u') str += getCharCode();else wasUnexpectedToken();\n            } else {\n              str += char;\n            }\n          }\n\n          return str;\n        }\n\n        function parseNumber() {\n          var numStr = '';\n          var integer = true;\n          if (source[pos] == '-') numStr += getChar();\n          numStr += source[pos] == '0' ? getChar() : getDigits();\n\n          if (source[pos] == '.') {\n            numStr += getChar() + getDigits();\n            integer = false;\n          }\n\n          if (source[pos] == 'e' || source[pos] == 'E') {\n            numStr += getChar();\n            if (source[pos] == '+' || source[pos] == '-') numStr += getChar();\n            numStr += getDigits();\n            integer = false;\n          }\n\n          var result = +numStr;\n          return bigint && integer && (result > Number.MAX_SAFE_INTEGER || result < Number.MIN_SAFE_INTEGER) ? BigInt(numStr) : result;\n        }\n\n        function parseArray(ptr) {\n          whitespace();\n          var arr = [];\n          var i = 0;\n          if (getChar() == ']') return arr;\n          backChar();\n\n          while (true) {\n            var itemPtr = ptr + '/' + i;\n            arr.push(_parse(itemPtr));\n            whitespace();\n            var char = getChar();\n            if (char == ']') break;\n            if (char != ',') wasUnexpectedToken();\n            whitespace();\n            i++;\n          }\n\n          return arr;\n        }\n\n        function parseObject(ptr) {\n          whitespace();\n          var obj = {};\n          if (getChar() == '}') return obj;\n          backChar();\n\n          while (true) {\n            var loc = getLoc();\n            if (getChar() != '\"') wasUnexpectedToken();\n            var key = parseString();\n            var propPtr = ptr + '/' + escapeJsonPointer(key);\n            mapLoc(propPtr, 'key', loc);\n            map(propPtr, 'keyEnd');\n            whitespace();\n            if (getChar() != ':') wasUnexpectedToken();\n            whitespace();\n            obj[key] = _parse(propPtr);\n            whitespace();\n            var char = getChar();\n            if (char == '}') break;\n            if (char != ',') wasUnexpectedToken();\n            whitespace();\n          }\n\n          return obj;\n        }\n\n        function read(str) {\n          for (var i = 0; i < str.length; i++) {\n            if (getChar() !== str[i]) wasUnexpectedToken();\n          }\n        }\n\n        function getChar() {\n          checkUnexpectedEnd();\n          var char = source[pos];\n          pos++;\n          column++; // new line?\n\n          return char;\n        }\n\n        function backChar() {\n          pos--;\n          column--;\n        }\n\n        function getCharCode() {\n          var count = 4;\n          var code = 0;\n\n          while (count--) {\n            code <<= 4;\n            var char = getChar().toLowerCase();\n            if (char >= 'a' && char <= 'f') code += char.charCodeAt() - A_CODE + 10;else if (char >= '0' && char <= '9') code += +char;else wasUnexpectedToken();\n          }\n\n          return String.fromCharCode(code);\n        }\n\n        function getDigits() {\n          var digits = '';\n\n          while (source[pos] >= '0' && source[pos] <= '9') {\n            digits += getChar();\n          }\n\n          if (digits.length) return digits;\n          checkUnexpectedEnd();\n          unexpectedToken();\n        }\n\n        function map(ptr, prop) {\n          mapLoc(ptr, prop, getLoc());\n        }\n\n        function mapLoc(ptr, prop, loc) {\n          pointers[ptr] = pointers[ptr] || {};\n          pointers[ptr][prop] = loc;\n        }\n\n        function getLoc() {\n          return {\n            line: line,\n            column: column,\n            pos: pos\n          };\n        }\n\n        function unexpectedToken() {\n          throw new SyntaxError('Unexpected token ' + source[pos] + ' in JSON at position ' + pos);\n        }\n\n        function wasUnexpectedToken() {\n          backChar();\n          unexpectedToken();\n        }\n\n        function checkUnexpectedEnd() {\n          if (pos >= source.length) throw new SyntaxError('Unexpected end of JSON input');\n        }\n      };\n\n      exports.stringify = function (data, _, options) {\n        if (!validType(data)) return;\n        var wsLine = 0;\n        var wsPos, wsColumn;\n        var whitespace = typeof options == 'object' ? options.space : options;\n\n        switch (typeof whitespace) {\n          case 'number':\n            var len = whitespace > 10 ? 10 : whitespace < 0 ? 0 : Math.floor(whitespace);\n            whitespace = len && repeat(len, ' ');\n            wsPos = len;\n            wsColumn = len;\n            break;\n\n          case 'string':\n            whitespace = whitespace.slice(0, 10);\n            wsPos = 0;\n            wsColumn = 0;\n\n            for (var j = 0; j < whitespace.length; j++) {\n              var char = whitespace[j];\n\n              switch (char) {\n                case ' ':\n                  wsColumn++;\n                  break;\n\n                case '\\t':\n                  wsColumn += 4;\n                  break;\n\n                case '\\r':\n                  wsColumn = 0;\n                  break;\n\n                case '\\n':\n                  wsColumn = 0;\n                  wsLine++;\n                  break;\n\n                default:\n                  throw new Error('whitespace characters not allowed in JSON');\n              }\n\n              wsPos++;\n            }\n\n            break;\n\n          default:\n            whitespace = undefined;\n        }\n\n        var json = '';\n        var pointers = {};\n        var line = 0;\n        var column = 0;\n        var pos = 0;\n        var es6 = options && options.es6 && typeof Map == 'function';\n\n        _stringify(data, 0, '');\n\n        return {\n          json: json,\n          pointers: pointers\n        };\n\n        function _stringify(_data, lvl, ptr) {\n          map(ptr, 'value');\n\n          switch (typeof _data) {\n            case 'number':\n            case 'bigint':\n            case 'boolean':\n              out('' + _data);\n              break;\n\n            case 'string':\n              out(quoted(_data));\n              break;\n\n            case 'object':\n              if (_data === null) {\n                out('null');\n              } else if (typeof _data.toJSON == 'function') {\n                out(quoted(_data.toJSON()));\n              } else if (Array.isArray(_data)) {\n                stringifyArray();\n              } else if (es6) {\n                if (_data.constructor.BYTES_PER_ELEMENT) stringifyArray();else if (_data instanceof Map) stringifyMapSet();else if (_data instanceof Set) stringifyMapSet(true);else stringifyObject();\n              } else {\n                stringifyObject();\n              }\n\n          }\n\n          map(ptr, 'valueEnd');\n\n          function stringifyArray() {\n            if (_data.length) {\n              out('[');\n              var itemLvl = lvl + 1;\n\n              for (var i = 0; i < _data.length; i++) {\n                if (i) out(',');\n                indent(itemLvl);\n                var item = validType(_data[i]) ? _data[i] : null;\n                var itemPtr = ptr + '/' + i;\n\n                _stringify(item, itemLvl, itemPtr);\n              }\n\n              indent(lvl);\n              out(']');\n            } else {\n              out('[]');\n            }\n          }\n\n          function stringifyObject() {\n            var keys = Object.keys(_data);\n\n            if (keys.length) {\n              out('{');\n              var propLvl = lvl + 1;\n\n              for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = _data[key];\n\n                if (validType(value)) {\n                  if (i) out(',');\n                  var propPtr = ptr + '/' + escapeJsonPointer(key);\n                  indent(propLvl);\n                  map(propPtr, 'key');\n                  out(quoted(key));\n                  map(propPtr, 'keyEnd');\n                  out(':');\n                  if (whitespace) out(' ');\n\n                  _stringify(value, propLvl, propPtr);\n                }\n              }\n\n              indent(lvl);\n              out('}');\n            } else {\n              out('{}');\n            }\n          }\n\n          function stringifyMapSet(isSet) {\n            if (_data.size) {\n              out('{');\n              var propLvl = lvl + 1;\n              var first = true;\n\n              var entries = _data.entries();\n\n              var entry = entries.next();\n\n              while (!entry.done) {\n                var item = entry.value;\n                var key = item[0];\n                var value = isSet ? true : item[1];\n\n                if (validType(value)) {\n                  if (!first) out(',');\n                  first = false;\n                  var propPtr = ptr + '/' + escapeJsonPointer(key);\n                  indent(propLvl);\n                  map(propPtr, 'key');\n                  out(quoted(key));\n                  map(propPtr, 'keyEnd');\n                  out(':');\n                  if (whitespace) out(' ');\n\n                  _stringify(value, propLvl, propPtr);\n                }\n\n                entry = entries.next();\n              }\n\n              indent(lvl);\n              out('}');\n            } else {\n              out('{}');\n            }\n          }\n        }\n\n        function out(str) {\n          column += str.length;\n          pos += str.length;\n          json += str;\n        }\n\n        function indent(lvl) {\n          if (whitespace) {\n            json += '\\n' + repeat(lvl, whitespace);\n            line++;\n            column = 0;\n\n            while (lvl--) {\n              if (wsLine) {\n                line += wsLine;\n                column = wsColumn;\n              } else {\n                column += wsColumn;\n              }\n\n              pos += wsPos;\n            }\n\n            pos += 1; // \\n character\n          }\n        }\n\n        function map(ptr, prop) {\n          pointers[ptr] = pointers[ptr] || {};\n          pointers[ptr][prop] = {\n            line: line,\n            column: column,\n            pos: pos\n          };\n        }\n\n        function repeat(n, str) {\n          return Array(n + 1).join(str);\n        }\n      };\n\n      var VALID_TYPES = ['number', 'bigint', 'boolean', 'string', 'object'];\n\n      function validType(data) {\n        return VALID_TYPES.indexOf(typeof data) >= 0;\n      }\n\n      var ESC_QUOTE = /\"|\\\\/g;\n      var ESC_B = /[\\b]/g;\n      var ESC_F = /\\f/g;\n      var ESC_N = /\\n/g;\n      var ESC_R = /\\r/g;\n      var ESC_T = /\\t/g;\n\n      function quoted(str) {\n        str = str.replace(ESC_QUOTE, '\\\\$&').replace(ESC_F, '\\\\f').replace(ESC_B, '\\\\b').replace(ESC_N, '\\\\n').replace(ESC_R, '\\\\r').replace(ESC_T, '\\\\t');\n        return '\"' + str + '\"';\n      }\n\n      var ESC_0 = /~/g;\n      var ESC_1 = /\\//g;\n\n      function escapeJsonPointer(str) {\n        return str.replace(ESC_0, '~0').replace(ESC_1, '~1');\n      }\n      /***/\n\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      exports.tryRequireThemeJsonEditor = function () {\n        try {\n          __webpack_require__(41);\n        } catch (err) {\n          console.error(err);\n        }\n      };\n      /***/\n\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var ace = __webpack_require__(20); // may be undefined in case of minimalist bundle\n\n\n      var VanillaPicker = __webpack_require__(13); // may be undefined in case of minimalist bundle\n\n\n      var _require = __webpack_require__(79),\n          treeModeMixins = _require.treeModeMixins;\n\n      var _require2 = __webpack_require__(21),\n          textModeMixins = _require2.textModeMixins;\n\n      var _require3 = __webpack_require__(80),\n          previewModeMixins = _require3.previewModeMixins;\n\n      var _require4 = __webpack_require__(0),\n          clear = _require4.clear,\n          extend = _require4.extend,\n          getInternetExplorerVersion = _require4.getInternetExplorerVersion,\n          parse = _require4.parse;\n\n      var _require5 = __webpack_require__(42),\n          tryRequireAjv = _require5.tryRequireAjv;\n\n      var Ajv = tryRequireAjv();\n\n      if (typeof Promise === 'undefined') {\n        console.error('Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor');\n      }\n      /**\n       * @constructor JSONEditor\n       * @param {Element} container    Container element\n       * @param {Object}  [options]    Object with options. available options:\n       *                               {String} mode        Editor mode. Available values:\n       *                                                    'tree' (default), 'view',\n       *                                                    'form', 'text', and 'code'.\n       *                               {function} onChange  Callback method, triggered\n       *                                                    on change of contents.\n       *                                                    Does not pass the contents itself.\n       *                                                    See also `onChangeJSON` and\n       *                                                    `onChangeText`.\n       *                               {function} onChangeJSON  Callback method, triggered\n       *                                                        in modes on change of contents,\n       *                                                        passing the changed contents\n       *                                                        as JSON.\n       *                                                        Only applicable for modes\n       *                                                        'tree', 'view', and 'form'.\n       *                               {function} onChangeText  Callback method, triggered\n       *                                                        in modes on change of contents,\n       *                                                        passing the changed contents\n       *                                                        as stringified JSON.\n       *                               {function} onError   Callback method, triggered\n       *                                                    when an error occurs\n       *                               {Boolean} search     Enable search box.\n       *                                                    True by default\n       *                                                    Only applicable for modes\n       *                                                    'tree', 'view', and 'form'\n       *                               {Boolean} history    Enable history (undo/redo).\n       *                                                    True by default\n       *                                                    Only applicable for modes\n       *                                                    'tree', 'view', and 'form'\n       *                               {String} name        Field name for the root node.\n       *                                                    Only applicable for modes\n       *                                                    'tree', 'view', and 'form'\n       *                               {Number} indentation     Number of indentation\n       *                                                        spaces. 4 by default.\n       *                                                        Only applicable for\n       *                                                        modes 'text' and 'code'\n       *                               {boolean} escapeUnicode  If true, unicode\n       *                                                        characters are escaped.\n       *                                                        false by default.\n       *                               {boolean} sortObjectKeys If true, object keys are\n       *                                                        sorted before display.\n       *                                                        false by default.\n       *                               {function} onSelectionChange Callback method,\n       *                                                            triggered on node selection change\n       *                                                            Only applicable for modes\n       *                                                            'tree', 'view', and 'form'\n       *                               {function} onTextSelectionChange Callback method,\n       *                                                                triggered on text selection change\n       *                                                                Only applicable for modes\n       *                               {HTMLElement} modalAnchor        The anchor element to apply an\n       *                                                                overlay and display the modals in a\n       *                                                                centered location.\n       *                                                                Defaults to document.body\n       *                                                                'text' and 'code'\n       *                               {function} onEvent Callback method, triggered\n       *                                                  when an event occurs in\n       *                                                  a JSON field or value.\n       *                                                  Only applicable for\n       *                                                  modes 'form', 'tree' and\n       *                                                  'view'\n       *                               {function} onFocus  Callback method, triggered\n       *                                                   when the editor comes into focus,\n       *                                                   passing an object {type, target},\n       *                                                   Applicable for all modes\n       *                               {function} onBlur   Callback method, triggered\n       *                                                   when the editor goes out of focus,\n       *                                                   passing an object {type, target},\n       *                                                   Applicable for all modes\n       *                               {function} onClassName Callback method, triggered\n       *                                                  when a Node DOM is rendered. Function returns\n       *                                                  a css class name to be set on a node.\n       *                                                  Only applicable for\n       *                                                  modes 'form', 'tree' and\n       *                                                  'view'\n       *                               {Number} maxVisibleChilds Number of children allowed for a node\n       *                                                         in 'tree', 'view', or 'form' mode before\n       *                                                         the \"show more/show all\" buttons appear.\n       *                                                         100 by default.\n       *\n       * @param {Object | undefined} json JSON object\n       */\n\n\n      function JSONEditor(container, options, json) {\n        if (!(this instanceof JSONEditor)) {\n          throw new Error('JSONEditor constructor called without \"new\".');\n        } // check for unsupported browser (IE8 and older)\n\n\n        var ieVersion = getInternetExplorerVersion();\n\n        if (ieVersion !== -1 && ieVersion < 9) {\n          throw new Error('Unsupported browser, IE9 or newer required. ' + 'Please install the newest version of your browser.');\n        }\n\n        if (options) {\n          // check for deprecated options\n          if (options.error) {\n            console.warn('Option \"error\" has been renamed to \"onError\"');\n            options.onError = options.error;\n            delete options.error;\n          }\n\n          if (options.change) {\n            console.warn('Option \"change\" has been renamed to \"onChange\"');\n            options.onChange = options.change;\n            delete options.change;\n          }\n\n          if (options.editable) {\n            console.warn('Option \"editable\" has been renamed to \"onEditable\"');\n            options.onEditable = options.editable;\n            delete options.editable;\n          } // warn if onChangeJSON is used when mode can be `text` or `code`\n\n\n          if (options.onChangeJSON) {\n            if (options.mode === 'text' || options.mode === 'code' || options.modes && (options.modes.indexOf('text') !== -1 || options.modes.indexOf('code') !== -1)) {\n              console.warn('Option \"onChangeJSON\" is not applicable to modes \"text\" and \"code\". ' + 'Use \"onChangeText\" or \"onChange\" instead.');\n            }\n          } // validate options\n\n\n          if (options) {\n            Object.keys(options).forEach(function (option) {\n              if (JSONEditor.VALID_OPTIONS.indexOf(option) === -1) {\n                console.warn('Unknown option \"' + option + '\". This option will be ignored');\n              }\n            });\n          }\n        }\n\n        if (arguments.length) {\n          this._create(container, options, json);\n        }\n      }\n      /**\n       * Configuration for all registered modes. Example:\n       * {\n       *     tree: {\n       *         mixin: TreeEditor,\n       *         data: 'json'\n       *     },\n       *     text: {\n       *         mixin: TextEditor,\n       *         data: 'text'\n       *     }\n       * }\n       *\n       * @type { Object.<String, {mixin: Object, data: String} > }\n       */\n\n\n      JSONEditor.modes = {}; // debounce interval for JSON schema vaidation in milliseconds\n\n      JSONEditor.prototype.DEBOUNCE_INTERVAL = 150;\n      JSONEditor.VALID_OPTIONS = ['ajv', 'schema', 'schemaRefs', 'templates', 'ace', 'theme', 'autocomplete', 'onChange', 'onChangeJSON', 'onChangeText', 'onEditable', 'onError', 'onEvent', 'onModeChange', 'onNodeName', 'onValidate', 'onCreateMenu', 'onSelectionChange', 'onTextSelectionChange', 'onClassName', 'onFocus', 'onBlur', 'colorPicker', 'onColorPicker', 'timestampTag', 'escapeUnicode', 'history', 'search', 'mode', 'modes', 'name', 'indentation', 'sortObjectKeys', 'navigationBar', 'statusBar', 'mainMenuBar', 'languages', 'language', 'enableSort', 'enableTransform', 'maxVisibleChilds', 'onValidationError'];\n      /**\n       * Create the JSONEditor\n       * @param {Element} container    Container element\n       * @param {Object}  [options]    See description in constructor\n       * @param {Object | undefined} json JSON object\n       * @private\n       */\n\n      JSONEditor.prototype._create = function (container, options, json) {\n        this.container = container;\n        this.options = options || {};\n        this.json = json || {};\n        var mode = this.options.mode || this.options.modes && this.options.modes[0] || 'tree';\n        this.setMode(mode);\n      };\n      /**\n       * Destroy the editor. Clean up DOM, event listeners, and web workers.\n       */\n\n\n      JSONEditor.prototype.destroy = function () {};\n      /**\n       * Set JSON object in editor\n       * @param {Object | undefined} json      JSON data\n       */\n\n\n      JSONEditor.prototype.set = function (json) {\n        this.json = json;\n      };\n      /**\n       * Get JSON from the editor\n       * @returns {Object} json\n       */\n\n\n      JSONEditor.prototype.get = function () {\n        return this.json;\n      };\n      /**\n       * Set string containing JSON for the editor\n       * @param {String | undefined} jsonText\n       */\n\n\n      JSONEditor.prototype.setText = function (jsonText) {\n        this.json = parse(jsonText);\n      };\n      /**\n       * Get stringified JSON contents from the editor\n       * @returns {String} jsonText\n       */\n\n\n      JSONEditor.prototype.getText = function () {\n        return JSON.stringify(this.json);\n      };\n      /**\n       * Set a field name for the root node.\n       * @param {String | undefined} name\n       */\n\n\n      JSONEditor.prototype.setName = function (name) {\n        if (!this.options) {\n          this.options = {};\n        }\n\n        this.options.name = name;\n      };\n      /**\n       * Get the field name for the root node.\n       * @return {String | undefined} name\n       */\n\n\n      JSONEditor.prototype.getName = function () {\n        return this.options && this.options.name;\n      };\n      /**\n       * Change the mode of the editor.\n       * JSONEditor will be extended with all methods needed for the chosen mode.\n       * @param {String} mode     Available modes: 'tree' (default), 'view', 'form',\n       *                          'text', and 'code'.\n       */\n\n\n      JSONEditor.prototype.setMode = function (mode) {\n        // if the mode is the same as current mode (and it's not the first time), do nothing.\n        if (mode === this.options.mode && this.create) {\n          return;\n        }\n\n        var container = this.container;\n        var options = extend({}, this.options);\n        var oldMode = options.mode;\n        var data;\n        var name;\n        options.mode = mode;\n        var config = JSONEditor.modes[mode];\n\n        if (config) {\n          try {\n            var asText = config.data === 'text';\n            name = this.getName();\n            data = this[asText ? 'getText' : 'get'](); // get text or json\n\n            this.destroy();\n            clear(this);\n            extend(this, config.mixin);\n            this.create(container, options);\n            this.setName(name);\n            this[asText ? 'setText' : 'set'](data); // set text or json\n\n            if (typeof config.load === 'function') {\n              try {\n                config.load.call(this);\n              } catch (err) {\n                console.error(err);\n              }\n            }\n\n            if (typeof options.onModeChange === 'function' && mode !== oldMode) {\n              try {\n                options.onModeChange(mode, oldMode);\n              } catch (err) {\n                console.error(err);\n              }\n            }\n          } catch (err) {\n            this._onError(err);\n          }\n        } else {\n          throw new Error('Unknown mode \"' + options.mode + '\"');\n        }\n      };\n      /**\n       * Get the current mode\n       * @return {string}\n       */\n\n\n      JSONEditor.prototype.getMode = function () {\n        return this.options.mode;\n      };\n      /**\n       * Throw an error. If an error callback is configured in options.error, this\n       * callback will be invoked. Else, a regular error is thrown.\n       * @param {Error} err\n       * @private\n       */\n\n\n      JSONEditor.prototype._onError = function (err) {\n        if (this.options && typeof this.options.onError === 'function') {\n          this.options.onError(err);\n        } else {\n          throw err;\n        }\n      };\n      /**\n       * Set a JSON schema for validation of the JSON object.\n       * To remove the schema, call JSONEditor.setSchema(null)\n       * @param {Object | null} schema\n       * @param {Object.<string, Object>=} schemaRefs Schemas that are referenced using the `$ref` property from the JSON schema that are set in the `schema` option,\n       +  the object structure in the form of `{reference_key: schemaObject}`\n       */\n\n\n      JSONEditor.prototype.setSchema = function (schema, schemaRefs) {\n        // compile a JSON schema validator if a JSON schema is provided\n        if (schema) {\n          var ajv;\n\n          try {\n            // grab ajv from options if provided, else create a new instance\n            if (this.options.ajv) {\n              ajv = this.options.ajv;\n            } else {\n              ajv = Ajv({\n                allErrors: true,\n                verbose: true,\n                schemaId: 'auto',\n                $data: true\n              }); // support both draft-04 and draft-06 alongside the latest draft-07\n\n              ajv.addMetaSchema(__webpack_require__(77));\n              ajv.addMetaSchema(__webpack_require__(78));\n            }\n          } catch (err) {\n            console.warn('Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.');\n          }\n\n          if (ajv) {\n            if (schemaRefs) {\n              for (var ref in schemaRefs) {\n                ajv.removeSchema(ref); // When updating a schema - old refs has to be removed first\n\n                if (schemaRefs[ref]) {\n                  ajv.addSchema(schemaRefs[ref], ref);\n                }\n              }\n\n              this.options.schemaRefs = schemaRefs;\n            }\n\n            this.validateSchema = ajv.compile(schema); // add schema to the options, so that when switching to an other mode,\n            // the set schema is not lost\n\n            this.options.schema = schema; // validate now\n\n            this.validate();\n          }\n\n          this.refresh(); // update DOM\n        } else {\n          // remove current schema\n          this.validateSchema = null;\n          this.options.schema = null;\n          this.options.schemaRefs = null;\n          this.validate(); // to clear current error messages\n\n          this.refresh(); // update DOM\n        }\n      };\n      /**\n       * Validate current JSON object against the configured JSON schema\n       * Throws an exception when no JSON schema is configured\n       */\n\n\n      JSONEditor.prototype.validate = function () {} // must be implemented by treemode and textmode\n\n      /**\n       * Refresh the rendered contents\n       */\n      ;\n\n      JSONEditor.prototype.refresh = function () {} // can be implemented by treemode and textmode\n\n      /**\n       * Register a plugin with one ore multiple modes for the JSON Editor.\n       *\n       * A mode is described as an object with properties:\n       *\n       * - `mode: String`           The name of the mode.\n       * - `mixin: Object`          An object containing the mixin functions which\n       *                            will be added to the JSONEditor. Must contain functions\n       *                            create, get, getText, set, and setText. May have\n       *                            additional functions.\n       *                            When the JSONEditor switches to a mixin, all mixin\n       *                            functions are added to the JSONEditor, and then\n       *                            the function `create(container, options)` is executed.\n       * - `data: 'text' | 'json'`  The type of data that will be used to load the mixin.\n       * - `[load: function]`       An optional function called after the mixin\n       *                            has been loaded.\n       *\n       * @param {Object | Array} mode  A mode object or an array with multiple mode objects.\n       */\n      ;\n\n      JSONEditor.registerMode = function (mode) {\n        var i, prop;\n\n        if (Array.isArray(mode)) {\n          // multiple modes\n          for (i = 0; i < mode.length; i++) {\n            JSONEditor.registerMode(mode[i]);\n          }\n        } else {\n          // validate the new mode\n          if (!('mode' in mode)) throw new Error('Property \"mode\" missing');\n          if (!('mixin' in mode)) throw new Error('Property \"mixin\" missing');\n          if (!('data' in mode)) throw new Error('Property \"data\" missing');\n          var name = mode.mode;\n\n          if (name in JSONEditor.modes) {\n            throw new Error('Mode \"' + name + '\" already registered');\n          } // validate the mixin\n\n\n          if (typeof mode.mixin.create !== 'function') {\n            throw new Error('Required function \"create\" missing on mixin');\n          }\n\n          var reserved = ['setMode', 'registerMode', 'modes'];\n\n          for (i = 0; i < reserved.length; i++) {\n            prop = reserved[i];\n\n            if (prop in mode.mixin) {\n              throw new Error('Reserved property \"' + prop + '\" not allowed in mixin');\n            }\n          }\n\n          JSONEditor.modes[name] = mode;\n        }\n      }; // register tree, text, and preview modes\n\n\n      JSONEditor.registerMode(treeModeMixins);\n      JSONEditor.registerMode(textModeMixins);\n      JSONEditor.registerMode(previewModeMixins); // expose some of the libraries that can be used customized\n\n      JSONEditor.ace = ace;\n      JSONEditor.Ajv = Ajv;\n      JSONEditor.VanillaPicker = VanillaPicker; // default export for TypeScript ES6 projects\n\n      JSONEditor[\"default\"] = JSONEditor;\n      module.exports = JSONEditor;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (module) {\n        /* ***** BEGIN LICENSE BLOCK *****\n        * Distributed under the BSD license:\n        *\n        * Copyright (c) 2010, Ajax.org B.V.\n        * All rights reserved.\n        *\n        * Redistribution and use in source and binary forms, with or without\n        * modification, are permitted provided that the following conditions are met:\n        *     * Redistributions of source code must retain the above copyright\n        *       notice, this list of conditions and the following disclaimer.\n        *     * Redistributions in binary form must reproduce the above copyright\n        *       notice, this list of conditions and the following disclaimer in the\n        *       documentation and/or other materials provided with the distribution.\n        *     * Neither the name of Ajax.org B.V. nor the\n        *       names of its contributors may be used to endorse or promote products\n        *       derived from this software without specific prior written permission.\n        *\n        * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n        * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n        * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n        * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n        * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n        * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n        * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n        * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n        * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n        * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n        *\n        * ***** END LICENSE BLOCK ***** */\n\n        /**\n         * Define a module along with a payload\n         * @param module a name for the payload\n         * @param payload a function to call with (require, exports, module) params\n         */\n        (function () {\n          var ACE_NAMESPACE = \"ace\";\n\n          var global = function () {\n            return this;\n          }();\n\n          if (!global && typeof window != \"undefined\") global = window; // strict mode\n\n          if (!ACE_NAMESPACE && typeof requirejs !== \"undefined\") return;\n\n          var define = function define(module, deps, payload) {\n            if (typeof module !== \"string\") {\n              if (define.original) define.original.apply(this, arguments);else {\n                console.error(\"dropping module because define wasn\\'t a string.\");\n                console.trace();\n              }\n              return;\n            }\n\n            if (arguments.length == 2) payload = deps;\n\n            if (!define.modules[module]) {\n              define.payloads[module] = payload;\n              define.modules[module] = null;\n            }\n          };\n\n          define.modules = {};\n          define.payloads = {};\n          /**\n           * Get at functionality define()ed using the function above\n           */\n\n          var _require = function _require(parentId, module, callback) {\n            if (typeof module === \"string\") {\n              var payload = lookup(parentId, module);\n\n              if (payload != undefined) {\n                callback && callback();\n                return payload;\n              }\n            } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n              var params = [];\n\n              for (var i = 0, l = module.length; i < l; ++i) {\n                var dep = lookup(parentId, module[i]);\n                if (dep == undefined && require.original) return;\n                params.push(dep);\n              }\n\n              return callback && callback.apply(null, params) || true;\n            }\n          };\n\n          var require = function require(module, callback) {\n            var packagedModule = _require(\"\", module, callback);\n\n            if (packagedModule == undefined && require.original) return require.original.apply(this, arguments);\n            return packagedModule;\n          };\n\n          var normalizeModule = function normalizeModule(parentId, moduleName) {\n            // normalize plugin requires\n            if (moduleName.indexOf(\"!\") !== -1) {\n              var chunks = moduleName.split(\"!\");\n              return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n            } // normalize relative requires\n\n\n            if (moduleName.charAt(0) == \".\") {\n              var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n              moduleName = base + \"/\" + moduleName;\n\n              while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n                var previous = moduleName;\n                moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n              }\n            }\n\n            return moduleName;\n          };\n          /**\n           * Internal function to lookup moduleNames and resolve them by calling the\n           * definition function if needed.\n           */\n\n\n          var lookup = function lookup(parentId, moduleName) {\n            moduleName = normalizeModule(parentId, moduleName);\n            var module = define.modules[moduleName];\n\n            if (!module) {\n              module = define.payloads[moduleName];\n\n              if (typeof module === 'function') {\n                var exports = {};\n                var mod = {\n                  id: moduleName,\n                  uri: '',\n                  exports: exports,\n                  packaged: true\n                };\n\n                var req = function req(module, callback) {\n                  return _require(moduleName, module, callback);\n                };\n\n                var returnValue = module(req, exports, mod);\n                exports = returnValue || mod.exports;\n                define.modules[moduleName] = exports;\n                delete define.payloads[moduleName];\n              }\n\n              module = define.modules[moduleName] = exports || module;\n            }\n\n            return module;\n          };\n\n          function exportAce(ns) {\n            var root = global;\n\n            if (ns) {\n              if (!global[ns]) global[ns] = {};\n              root = global[ns];\n            }\n\n            if (!root.define || !root.define.packaged) {\n              define.original = root.define;\n              root.define = define;\n              root.define.packaged = true;\n            }\n\n            if (!root.require || !root.require.packaged) {\n              require.original = root.require;\n              root.require = require;\n              root.require.packaged = true;\n            }\n          }\n\n          exportAce(ACE_NAMESPACE);\n        })();\n\n        ace.define(\"ace/lib/regexp\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var real = {\n            exec: RegExp.prototype.exec,\n            test: RegExp.prototype.test,\n            match: String.prototype.match,\n            replace: String.prototype.replace,\n            split: String.prototype.split\n          },\n              compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined,\n              // check `exec` handling of nonparticipating capturing groups\n          compliantLastIndexIncrement = function () {\n            var x = /^/g;\n            real.test.call(x, \"\");\n            return !x.lastIndex;\n          }();\n\n          if (compliantLastIndexIncrement && compliantExecNpcg) return;\n\n          RegExp.prototype.exec = function (str) {\n            var match = real.exec.apply(this, arguments),\n                name,\n                r2;\n\n            if (typeof str == 'string' && match) {\n              if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                  for (var i = 1; i < arguments.length - 2; i++) {\n                    if (arguments[i] === undefined) match[i] = undefined;\n                  }\n                });\n              }\n\n              if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                  name = this._xregexp.captureNames[i - 1];\n                  if (name) match[name] = match[i];\n                }\n              }\n\n              if (!compliantLastIndexIncrement && this.global && !match[0].length && this.lastIndex > match.index) this.lastIndex--;\n            }\n\n            return match;\n          };\n\n          if (!compliantLastIndexIncrement) {\n            RegExp.prototype.test = function (str) {\n              var match = real.exec.call(this, str);\n              if (match && this.global && !match[0].length && this.lastIndex > match.index) this.lastIndex--;\n              return !!match;\n            };\n          }\n\n          function getNativeFlags(regex) {\n            return (regex.global ? \"g\" : \"\") + (regex.ignoreCase ? \"i\" : \"\") + (regex.multiline ? \"m\" : \"\") + (regex.extended ? \"x\" : \"\") + ( // Proposed for ES4; included in AS3\n            regex.sticky ? \"y\" : \"\");\n          }\n\n          function indexOf(array, item, from) {\n            if (Array.prototype.indexOf) // Use the native array method if available\n              return array.indexOf(item, from);\n\n            for (var i = from || 0; i < array.length; i++) {\n              if (array[i] === item) return i;\n            }\n\n            return -1;\n          }\n        });\n        ace.define(\"ace/lib/es5-shim\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          function Empty() {}\n\n          if (!Function.prototype.bind) {\n            Function.prototype.bind = function bind(that) {\n              // .length is 1\n              var target = this;\n\n              if (typeof target != \"function\") {\n                throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n              }\n\n              var args = slice.call(arguments, 1); // for normal call\n\n              var bound = function bound() {\n                if (this instanceof bound) {\n                  var result = target.apply(this, args.concat(slice.call(arguments)));\n\n                  if (Object(result) === result) {\n                    return result;\n                  }\n\n                  return this;\n                } else {\n                  return target.apply(that, args.concat(slice.call(arguments)));\n                }\n              };\n\n              if (target.prototype) {\n                Empty.prototype = target.prototype;\n                bound.prototype = new Empty();\n                Empty.prototype = null;\n              }\n\n              return bound;\n            };\n          }\n\n          var call = Function.prototype.call;\n          var prototypeOfArray = Array.prototype;\n          var prototypeOfObject = Object.prototype;\n          var slice = prototypeOfArray.slice;\n\n          var _toString = call.bind(prototypeOfObject.toString);\n\n          var owns = call.bind(prototypeOfObject.hasOwnProperty);\n          var defineGetter;\n          var defineSetter;\n          var lookupGetter;\n          var lookupSetter;\n          var supportsAccessors;\n\n          if (supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\")) {\n            defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n            defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n            lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n            lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n          }\n\n          if ([1, 2].splice(0).length != 2) {\n            if (function () {\n              // test IE < 9 to splice bug - see issue #138\n              function makeArray(l) {\n                var a = new Array(l + 2);\n                a[0] = a[1] = 0;\n                return a;\n              }\n\n              var array = [],\n                  lengthBefore;\n              array.splice.apply(array, makeArray(20));\n              array.splice.apply(array, makeArray(26));\n              lengthBefore = array.length; //46\n\n              array.splice(5, 0, \"XXX\"); // add one element\n\n              lengthBefore + 1 == array.length;\n\n              if (lengthBefore + 1 == array.length) {\n                return true; // has right splice implementation without bugs\n              }\n            }()) {\n              //IE 6/7\n              var array_splice = Array.prototype.splice;\n\n              Array.prototype.splice = function (start, deleteCount) {\n                if (!arguments.length) {\n                  return [];\n                } else {\n                  return array_splice.apply(this, [start === void 0 ? 0 : start, deleteCount === void 0 ? this.length - start : deleteCount].concat(slice.call(arguments, 2)));\n                }\n              };\n            } else {\n              //IE8\n              Array.prototype.splice = function (pos, removeCount) {\n                var length = this.length;\n\n                if (pos > 0) {\n                  if (pos > length) pos = length;\n                } else if (pos == void 0) {\n                  pos = 0;\n                } else if (pos < 0) {\n                  pos = Math.max(length + pos, 0);\n                }\n\n                if (!(pos + removeCount < length)) removeCount = length - pos;\n                var removed = this.slice(pos, pos + removeCount);\n                var insert = slice.call(arguments, 2);\n                var add = insert.length;\n\n                if (pos === length) {\n                  if (add) {\n                    this.push.apply(this, insert);\n                  }\n                } else {\n                  var remove = Math.min(removeCount, length - pos);\n                  var tailOldPos = pos + remove;\n                  var tailNewPos = tailOldPos + add - remove;\n                  var tailCount = length - tailOldPos;\n                  var lengthAfterRemove = length - remove;\n\n                  if (tailNewPos < tailOldPos) {\n                    // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                      this[tailNewPos + i] = this[tailOldPos + i];\n                    }\n                  } else if (tailNewPos > tailOldPos) {\n                    // case B\n                    for (i = tailCount; i--;) {\n                      this[tailNewPos + i] = this[tailOldPos + i];\n                    }\n                  } // else, add == remove (nothing to do)\n\n\n                  if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n\n                    this.push.apply(this, insert);\n                  } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n\n                    for (i = 0; i < add; ++i) {\n                      this[pos + i] = insert[i];\n                    }\n                  }\n                }\n\n                return removed;\n              };\n            }\n          }\n\n          if (!Array.isArray) {\n            Array.isArray = function isArray(obj) {\n              return _toString(obj) == \"[object Array]\";\n            };\n          }\n\n          var boxedString = Object(\"a\"),\n              splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\n          if (!Array.prototype.forEach) {\n            Array.prototype.forEach = function forEach(fun\n            /*, thisp*/\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  thisp = arguments[1],\n                  i = -1,\n                  length = self.length >>> 0;\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(); // TODO message\n              }\n\n              while (++i < length) {\n                if (i in self) {\n                  fun.call(thisp, self[i], i, object);\n                }\n              }\n            };\n          }\n\n          if (!Array.prototype.map) {\n            Array.prototype.map = function map(fun\n            /*, thisp*/\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  length = self.length >>> 0,\n                  result = Array(length),\n                  thisp = arguments[1];\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n              }\n\n              for (var i = 0; i < length; i++) {\n                if (i in self) result[i] = fun.call(thisp, self[i], i, object);\n              }\n\n              return result;\n            };\n          }\n\n          if (!Array.prototype.filter) {\n            Array.prototype.filter = function filter(fun\n            /*, thisp */\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  length = self.length >>> 0,\n                  result = [],\n                  value,\n                  thisp = arguments[1];\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n              }\n\n              for (var i = 0; i < length; i++) {\n                if (i in self) {\n                  value = self[i];\n\n                  if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                  }\n                }\n              }\n\n              return result;\n            };\n          }\n\n          if (!Array.prototype.every) {\n            Array.prototype.every = function every(fun\n            /*, thisp */\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  length = self.length >>> 0,\n                  thisp = arguments[1];\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n              }\n\n              for (var i = 0; i < length; i++) {\n                if (i in self && !fun.call(thisp, self[i], i, object)) {\n                  return false;\n                }\n              }\n\n              return true;\n            };\n          }\n\n          if (!Array.prototype.some) {\n            Array.prototype.some = function some(fun\n            /*, thisp */\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  length = self.length >>> 0,\n                  thisp = arguments[1];\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n              }\n\n              for (var i = 0; i < length; i++) {\n                if (i in self && fun.call(thisp, self[i], i, object)) {\n                  return true;\n                }\n              }\n\n              return false;\n            };\n          }\n\n          if (!Array.prototype.reduce) {\n            Array.prototype.reduce = function reduce(fun\n            /*, initial*/\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  length = self.length >>> 0;\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n              }\n\n              if (!length && arguments.length == 1) {\n                throw new TypeError(\"reduce of empty array with no initial value\");\n              }\n\n              var i = 0;\n              var result;\n\n              if (arguments.length >= 2) {\n                result = arguments[1];\n              } else {\n                do {\n                  if (i in self) {\n                    result = self[i++];\n                    break;\n                  }\n\n                  if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                  }\n                } while (true);\n              }\n\n              for (; i < length; i++) {\n                if (i in self) {\n                  result = fun.call(void 0, result, self[i], i, object);\n                }\n              }\n\n              return result;\n            };\n          }\n\n          if (!Array.prototype.reduceRight) {\n            Array.prototype.reduceRight = function reduceRight(fun\n            /*, initial*/\n            ) {\n              var object = toObject(this),\n                  self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                  length = self.length >>> 0;\n\n              if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n              }\n\n              if (!length && arguments.length == 1) {\n                throw new TypeError(\"reduceRight of empty array with no initial value\");\n              }\n\n              var result,\n                  i = length - 1;\n\n              if (arguments.length >= 2) {\n                result = arguments[1];\n              } else {\n                do {\n                  if (i in self) {\n                    result = self[i--];\n                    break;\n                  }\n\n                  if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                  }\n                } while (true);\n              }\n\n              do {\n                if (i in this) {\n                  result = fun.call(void 0, result, self[i], i, object);\n                }\n              } while (i--);\n\n              return result;\n            };\n          }\n\n          if (!Array.prototype.indexOf || [0, 1].indexOf(1, 2) != -1) {\n            Array.prototype.indexOf = function indexOf(sought\n            /*, fromIndex */\n            ) {\n              var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n                  length = self.length >>> 0;\n\n              if (!length) {\n                return -1;\n              }\n\n              var i = 0;\n\n              if (arguments.length > 1) {\n                i = toInteger(arguments[1]);\n              }\n\n              i = i >= 0 ? i : Math.max(0, length + i);\n\n              for (; i < length; i++) {\n                if (i in self && self[i] === sought) {\n                  return i;\n                }\n              }\n\n              return -1;\n            };\n          }\n\n          if (!Array.prototype.lastIndexOf || [0, 1].lastIndexOf(0, -3) != -1) {\n            Array.prototype.lastIndexOf = function lastIndexOf(sought\n            /*, fromIndex */\n            ) {\n              var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n                  length = self.length >>> 0;\n\n              if (!length) {\n                return -1;\n              }\n\n              var i = length - 1;\n\n              if (arguments.length > 1) {\n                i = Math.min(i, toInteger(arguments[1]));\n              }\n\n              i = i >= 0 ? i : length - Math.abs(i);\n\n              for (; i >= 0; i--) {\n                if (i in self && sought === self[i]) {\n                  return i;\n                }\n              }\n\n              return -1;\n            };\n          }\n\n          if (!Object.getPrototypeOf) {\n            Object.getPrototypeOf = function getPrototypeOf(object) {\n              return object.__proto__ || (object.constructor ? object.constructor.prototype : prototypeOfObject);\n            };\n          }\n\n          if (!Object.getOwnPropertyDescriptor) {\n            var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" + \"non-object: \";\n\n            Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n              if (typeof object != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT + object);\n              if (!owns(object, property)) return;\n              var descriptor, getter, setter;\n              descriptor = {\n                enumerable: true,\n                configurable: true\n              };\n\n              if (supportsAccessors) {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                var getter = lookupGetter(object, property);\n                var setter = lookupSetter(object, property);\n                object.__proto__ = prototype;\n\n                if (getter || setter) {\n                  if (getter) descriptor.get = getter;\n                  if (setter) descriptor.set = setter;\n                  return descriptor;\n                }\n              }\n\n              descriptor.value = object[property];\n              return descriptor;\n            };\n          }\n\n          if (!Object.getOwnPropertyNames) {\n            Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n              return Object.keys(object);\n            };\n          }\n\n          if (!Object.create) {\n            var createEmpty;\n\n            if (Object.prototype.__proto__ === null) {\n              createEmpty = function createEmpty() {\n                return {\n                  \"__proto__\": null\n                };\n              };\n            } else {\n              createEmpty = function createEmpty() {\n                var empty = {};\n\n                for (var i in empty) {\n                  empty[i] = null;\n                }\n\n                empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null;\n                return empty;\n              };\n            }\n\n            Object.create = function create(prototype, properties) {\n              var object;\n\n              if (prototype === null) {\n                object = createEmpty();\n              } else {\n                if (typeof prototype != \"object\") throw new TypeError(\"typeof prototype[\" + typeof prototype + \"] != 'object'\");\n\n                var Type = function Type() {};\n\n                Type.prototype = prototype;\n                object = new Type();\n                object.__proto__ = prototype;\n              }\n\n              if (properties !== void 0) Object.defineProperties(object, properties);\n              return object;\n            };\n          }\n\n          function doesDefinePropertyWork(object) {\n            try {\n              Object.defineProperty(object, \"sentinel\", {});\n              return \"sentinel\" in object;\n            } catch (exception) {}\n          }\n\n          if (Object.defineProperty) {\n            var definePropertyWorksOnObject = doesDefinePropertyWork({});\n            var definePropertyWorksOnDom = typeof document == \"undefined\" || doesDefinePropertyWork(document.createElement(\"div\"));\n\n            if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n              var definePropertyFallback = Object.defineProperty;\n            }\n          }\n\n          if (!Object.defineProperty || definePropertyFallback) {\n            var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n            var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \";\n            var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" + \"on this javascript engine\";\n\n            Object.defineProperty = function defineProperty(object, property, descriptor) {\n              if (typeof object != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n              if (typeof descriptor != \"object\" && typeof descriptor != \"function\" || descriptor === null) throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n\n              if (definePropertyFallback) {\n                try {\n                  return definePropertyFallback.call(Object, object, property, descriptor);\n                } catch (exception) {}\n              }\n\n              if (owns(descriptor, \"value\")) {\n                if (supportsAccessors && (lookupGetter(object, property) || lookupSetter(object, property))) {\n                  var prototype = object.__proto__;\n                  object.__proto__ = prototypeOfObject;\n                  delete object[property];\n                  object[property] = descriptor.value;\n                  object.__proto__ = prototype;\n                } else {\n                  object[property] = descriptor.value;\n                }\n              } else {\n                if (!supportsAccessors) throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n                if (owns(descriptor, \"get\")) defineGetter(object, property, descriptor.get);\n                if (owns(descriptor, \"set\")) defineSetter(object, property, descriptor.set);\n              }\n\n              return object;\n            };\n          }\n\n          if (!Object.defineProperties) {\n            Object.defineProperties = function defineProperties(object, properties) {\n              for (var property in properties) {\n                if (owns(properties, property)) Object.defineProperty(object, property, properties[property]);\n              }\n\n              return object;\n            };\n          }\n\n          if (!Object.seal) {\n            Object.seal = function seal(object) {\n              return object;\n            };\n          }\n\n          if (!Object.freeze) {\n            Object.freeze = function freeze(object) {\n              return object;\n            };\n          }\n\n          try {\n            Object.freeze(function () {});\n          } catch (exception) {\n            Object.freeze = function freeze(freezeObject) {\n              return function freeze(object) {\n                if (typeof object == \"function\") {\n                  return object;\n                } else {\n                  return freezeObject(object);\n                }\n              };\n            }(Object.freeze);\n          }\n\n          if (!Object.preventExtensions) {\n            Object.preventExtensions = function preventExtensions(object) {\n              return object;\n            };\n          }\n\n          if (!Object.isSealed) {\n            Object.isSealed = function isSealed(object) {\n              return false;\n            };\n          }\n\n          if (!Object.isFrozen) {\n            Object.isFrozen = function isFrozen(object) {\n              return false;\n            };\n          }\n\n          if (!Object.isExtensible) {\n            Object.isExtensible = function isExtensible(object) {\n              if (Object(object) === object) {\n                throw new TypeError(); // TODO message\n              }\n\n              var name = '';\n\n              while (owns(object, name)) {\n                name += '?';\n              }\n\n              object[name] = true;\n              var returnValue = owns(object, name);\n              delete object[name];\n              return returnValue;\n            };\n          }\n\n          if (!Object.keys) {\n            var hasDontEnumBug = true,\n                dontEnums = [\"toString\", \"toLocaleString\", \"valueOf\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"constructor\"],\n                dontEnumsLength = dontEnums.length;\n\n            for (var key in {\n              \"toString\": null\n            }) {\n              hasDontEnumBug = false;\n            }\n\n            Object.keys = function keys(object) {\n              if (typeof object != \"object\" && typeof object != \"function\" || object === null) {\n                throw new TypeError(\"Object.keys called on a non-object\");\n              }\n\n              var keys = [];\n\n              for (var name in object) {\n                if (owns(object, name)) {\n                  keys.push(name);\n                }\n              }\n\n              if (hasDontEnumBug) {\n                for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                  var dontEnum = dontEnums[i];\n\n                  if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                  }\n                }\n              }\n\n              return keys;\n            };\n          }\n\n          if (!Date.now) {\n            Date.now = function now() {\n              return new Date().getTime();\n            };\n          }\n\n          var ws = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\" + \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" + \"\\u2029\\uFEFF\";\n\n          if (!String.prototype.trim) {\n            ws = \"[\" + ws + \"]\";\n            var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n                trimEndRegexp = new RegExp(ws + ws + \"*$\");\n\n            String.prototype.trim = function trim() {\n              return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n            };\n          }\n\n          function toInteger(n) {\n            n = +n;\n\n            if (n !== n) {\n              // isNaN\n              n = 0;\n            } else if (n !== 0 && n !== 1 / 0 && n !== -(1 / 0)) {\n              n = (n > 0 || -1) * Math.floor(Math.abs(n));\n            }\n\n            return n;\n          }\n\n          function isPrimitive(input) {\n            var type = typeof input;\n            return input === null || type === \"undefined\" || type === \"boolean\" || type === \"number\" || type === \"string\";\n          }\n\n          function toPrimitive(input) {\n            var val, valueOf, toString;\n\n            if (isPrimitive(input)) {\n              return input;\n            }\n\n            valueOf = input.valueOf;\n\n            if (typeof valueOf === \"function\") {\n              val = valueOf.call(input);\n\n              if (isPrimitive(val)) {\n                return val;\n              }\n            }\n\n            toString = input.toString;\n\n            if (typeof toString === \"function\") {\n              val = toString.call(input);\n\n              if (isPrimitive(val)) {\n                return val;\n              }\n            }\n\n            throw new TypeError();\n          }\n\n          var toObject = function toObject(o) {\n            if (o == null) {\n              // this matches both null and undefined\n              throw new TypeError(\"can't convert \" + o + \" to object\");\n            }\n\n            return Object(o);\n          };\n        });\n        ace.define(\"ace/lib/fixoldbrowsers\", [\"require\", \"exports\", \"module\", \"ace/lib/regexp\", \"ace/lib/es5-shim\"], function (require, exports, module) {\n          \"use strict\";\n\n          require(\"./regexp\");\n\n          require(\"./es5-shim\");\n\n          if (typeof Element != \"undefined\" && !Element.prototype.remove) {\n            Object.defineProperty(Element.prototype, \"remove\", {\n              enumerable: false,\n              writable: true,\n              configurable: true,\n              value: function value() {\n                this.parentNode && this.parentNode.removeChild(this);\n              }\n            });\n          }\n        });\n        ace.define(\"ace/lib/useragent\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          exports.OS = {\n            LINUX: \"LINUX\",\n            MAC: \"MAC\",\n            WINDOWS: \"WINDOWS\"\n          };\n\n          exports.getOS = function () {\n            if (exports.isMac) {\n              return exports.OS.MAC;\n            } else if (exports.isLinux) {\n              return exports.OS.LINUX;\n            } else {\n              return exports.OS.WINDOWS;\n            }\n          };\n\n          var _navigator = typeof navigator == \"object\" ? navigator : {};\n\n          var os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\n          var ua = _navigator.userAgent || \"\";\n          var appName = _navigator.appName || \"\";\n          exports.isWin = os == \"win\";\n          exports.isMac = os == \"mac\";\n          exports.isLinux = os == \"linux\";\n          exports.isIE = appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\n\n          exports.isOldIE = exports.isIE && exports.isIE < 9;\n          exports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\n          exports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\n          exports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n          exports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n          exports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n          exports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n          exports.isAndroid = ua.indexOf(\"Android\") >= 0;\n          exports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n          exports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n          if (exports.isIOS) exports.isMac = true;\n          exports.isMobile = exports.isIOS || exports.isAndroid;\n        });\n        ace.define(\"ace/lib/dom\", [\"require\", \"exports\", \"module\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var useragent = require(\"./useragent\");\n\n          var XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\n          exports.buildDom = function buildDom(arr, parent, refs) {\n            if (typeof arr == \"string\" && arr) {\n              var txt = document.createTextNode(arr);\n              if (parent) parent.appendChild(txt);\n              return txt;\n            }\n\n            if (!Array.isArray(arr)) return arr;\n\n            if (typeof arr[0] != \"string\" || !arr[0]) {\n              var els = [];\n\n              for (var i = 0; i < arr.length; i++) {\n                var ch = buildDom(arr[i], parent, refs);\n                ch && els.push(ch);\n              }\n\n              return els;\n            }\n\n            var el = document.createElement(arr[0]);\n            var options = arr[1];\n            var childIndex = 1;\n            if (options && typeof options == \"object\" && !Array.isArray(options)) childIndex = 2;\n\n            for (var i = childIndex; i < arr.length; i++) {\n              buildDom(arr[i], el, refs);\n            }\n\n            if (childIndex == 2) {\n              Object.keys(options).forEach(function (n) {\n                var val = options[n];\n\n                if (n === \"class\") {\n                  el.className = Array.isArray(val) ? val.join(\" \") : val;\n                } else if (typeof val == \"function\" || n == \"value\") {\n                  el[n] = val;\n                } else if (n === \"ref\") {\n                  if (refs) refs[val] = el;\n                } else if (val != null) {\n                  el.setAttribute(n, val);\n                }\n              });\n            }\n\n            if (parent) parent.appendChild(el);\n            return el;\n          };\n\n          exports.getDocumentHead = function (doc) {\n            if (!doc) doc = document;\n            return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n          };\n\n          exports.createElement = function (tag, ns) {\n            return document.createElementNS ? document.createElementNS(ns || XHTML_NS, tag) : document.createElement(tag);\n          };\n\n          exports.removeChildren = function (element) {\n            element.innerHTML = \"\";\n          };\n\n          exports.createTextNode = function (textContent, element) {\n            var doc = element ? element.ownerDocument : document;\n            return doc.createTextNode(textContent);\n          };\n\n          exports.createFragment = function (element) {\n            var doc = element ? element.ownerDocument : document;\n            return doc.createDocumentFragment();\n          };\n\n          exports.hasCssClass = function (el, name) {\n            var classes = (el.className + \"\").split(/\\s+/g);\n            return classes.indexOf(name) !== -1;\n          };\n\n          exports.addCssClass = function (el, name) {\n            if (!exports.hasCssClass(el, name)) {\n              el.className += \" \" + name;\n            }\n          };\n\n          exports.removeCssClass = function (el, name) {\n            var classes = el.className.split(/\\s+/g);\n\n            while (true) {\n              var index = classes.indexOf(name);\n\n              if (index == -1) {\n                break;\n              }\n\n              classes.splice(index, 1);\n            }\n\n            el.className = classes.join(\" \");\n          };\n\n          exports.toggleCssClass = function (el, name) {\n            var classes = el.className.split(/\\s+/g),\n                add = true;\n\n            while (true) {\n              var index = classes.indexOf(name);\n\n              if (index == -1) {\n                break;\n              }\n\n              add = false;\n              classes.splice(index, 1);\n            }\n\n            if (add) classes.push(name);\n            el.className = classes.join(\" \");\n            return add;\n          };\n\n          exports.setCssClass = function (node, className, include) {\n            if (include) {\n              exports.addCssClass(node, className);\n            } else {\n              exports.removeCssClass(node, className);\n            }\n          };\n\n          exports.hasCssString = function (id, doc) {\n            var index = 0,\n                sheets;\n            doc = doc || document;\n\n            if (sheets = doc.querySelectorAll(\"style\")) {\n              while (index < sheets.length) {\n                if (sheets[index++].id === id) return true;\n              }\n            }\n          };\n\n          exports.importCssString = function importCssString(cssText, id, target) {\n            var container = target;\n\n            if (!target || !target.getRootNode) {\n              container = document;\n            } else {\n              container = target.getRootNode();\n              if (!container || container == target) container = document;\n            }\n\n            var doc = container.ownerDocument || container;\n            if (id && exports.hasCssString(id, container)) return null;\n            if (id) cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n            var style = exports.createElement(\"style\");\n            style.appendChild(doc.createTextNode(cssText));\n            if (id) style.id = id;\n            if (container == doc) container = exports.getDocumentHead(doc);\n            container.insertBefore(style, container.firstChild);\n          };\n\n          exports.importCssStylsheet = function (uri, doc) {\n            exports.buildDom([\"link\", {\n              rel: \"stylesheet\",\n              href: uri\n            }], exports.getDocumentHead(doc));\n          };\n\n          exports.scrollbarWidth = function (document) {\n            var inner = exports.createElement(\"ace_inner\");\n            inner.style.width = \"100%\";\n            inner.style.minWidth = \"0px\";\n            inner.style.height = \"200px\";\n            inner.style.display = \"block\";\n            var outer = exports.createElement(\"ace_outer\");\n            var style = outer.style;\n            style.position = \"absolute\";\n            style.left = \"-10000px\";\n            style.overflow = \"hidden\";\n            style.width = \"200px\";\n            style.minWidth = \"0px\";\n            style.height = \"150px\";\n            style.display = \"block\";\n            outer.appendChild(inner);\n            var body = document.documentElement;\n            body.appendChild(outer);\n            var noScrollbar = inner.offsetWidth;\n            style.overflow = \"scroll\";\n            var withScrollbar = inner.offsetWidth;\n\n            if (noScrollbar == withScrollbar) {\n              withScrollbar = outer.clientWidth;\n            }\n\n            body.removeChild(outer);\n            return noScrollbar - withScrollbar;\n          };\n\n          if (typeof document == \"undefined\") {\n            exports.importCssString = function () {};\n          }\n\n          exports.computedStyle = function (element, style) {\n            return window.getComputedStyle(element, \"\") || {};\n          };\n\n          exports.setStyle = function (styles, property, value) {\n            if (styles[property] !== value) {\n              styles[property] = value;\n            }\n          };\n\n          exports.HAS_CSS_ANIMATION = false;\n          exports.HAS_CSS_TRANSFORMS = false;\n          exports.HI_DPI = useragent.isWin ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5 : true;\n\n          if (typeof document !== \"undefined\") {\n            var div = document.createElement(\"div\");\n            if (exports.HI_DPI && div.style.transform !== undefined) exports.HAS_CSS_TRANSFORMS = true;\n            if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\") exports.HAS_CSS_ANIMATION = true;\n            div = null;\n          }\n\n          if (exports.HAS_CSS_TRANSFORMS) {\n            exports.translate = function (element, tx, ty) {\n              element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n            };\n          } else {\n            exports.translate = function (element, tx, ty) {\n              element.style.top = Math.round(ty) + \"px\";\n              element.style.left = Math.round(tx) + \"px\";\n            };\n          }\n        });\n        ace.define(\"ace/lib/oop\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          exports.inherits = function (ctor, superCtor) {\n            ctor.super_ = superCtor;\n            ctor.prototype = Object.create(superCtor.prototype, {\n              constructor: {\n                value: ctor,\n                enumerable: false,\n                writable: true,\n                configurable: true\n              }\n            });\n          };\n\n          exports.mixin = function (obj, mixin) {\n            for (var key in mixin) {\n              obj[key] = mixin[key];\n            }\n\n            return obj;\n          };\n\n          exports.implement = function (proto, mixin) {\n            exports.mixin(proto, mixin);\n          };\n        });\n        ace.define(\"ace/lib/keys\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./oop\");\n\n          var Keys = function () {\n            var ret = {\n              MODIFIER_KEYS: {\n                16: 'Shift',\n                17: 'Ctrl',\n                18: 'Alt',\n                224: 'Meta',\n                91: 'MetaLeft',\n                92: 'MetaRight',\n                93: 'ContextMenu'\n              },\n              KEY_MODS: {\n                \"ctrl\": 1,\n                \"alt\": 2,\n                \"option\": 2,\n                \"shift\": 4,\n                \"super\": 8,\n                \"meta\": 8,\n                \"command\": 8,\n                \"cmd\": 8\n              },\n              FUNCTION_KEYS: {\n                8: \"Backspace\",\n                9: \"Tab\",\n                13: \"Return\",\n                19: \"Pause\",\n                27: \"Esc\",\n                32: \"Space\",\n                33: \"PageUp\",\n                34: \"PageDown\",\n                35: \"End\",\n                36: \"Home\",\n                37: \"Left\",\n                38: \"Up\",\n                39: \"Right\",\n                40: \"Down\",\n                44: \"Print\",\n                45: \"Insert\",\n                46: \"Delete\",\n                96: \"Numpad0\",\n                97: \"Numpad1\",\n                98: \"Numpad2\",\n                99: \"Numpad3\",\n                100: \"Numpad4\",\n                101: \"Numpad5\",\n                102: \"Numpad6\",\n                103: \"Numpad7\",\n                104: \"Numpad8\",\n                105: \"Numpad9\",\n                '-13': \"NumpadEnter\",\n                112: \"F1\",\n                113: \"F2\",\n                114: \"F3\",\n                115: \"F4\",\n                116: \"F5\",\n                117: \"F6\",\n                118: \"F7\",\n                119: \"F8\",\n                120: \"F9\",\n                121: \"F10\",\n                122: \"F11\",\n                123: \"F12\",\n                144: \"Numlock\",\n                145: \"Scrolllock\"\n              },\n              PRINTABLE_KEYS: {\n                32: ' ',\n                48: '0',\n                49: '1',\n                50: '2',\n                51: '3',\n                52: '4',\n                53: '5',\n                54: '6',\n                55: '7',\n                56: '8',\n                57: '9',\n                59: ';',\n                61: '=',\n                65: 'a',\n                66: 'b',\n                67: 'c',\n                68: 'd',\n                69: 'e',\n                70: 'f',\n                71: 'g',\n                72: 'h',\n                73: 'i',\n                74: 'j',\n                75: 'k',\n                76: 'l',\n                77: 'm',\n                78: 'n',\n                79: 'o',\n                80: 'p',\n                81: 'q',\n                82: 'r',\n                83: 's',\n                84: 't',\n                85: 'u',\n                86: 'v',\n                87: 'w',\n                88: 'x',\n                89: 'y',\n                90: 'z',\n                107: '+',\n                109: '-',\n                110: '.',\n                186: ';',\n                187: '=',\n                188: ',',\n                189: '-',\n                190: '.',\n                191: '/',\n                192: '`',\n                219: '[',\n                220: '\\\\',\n                221: ']',\n                222: \"'\",\n                111: '/',\n                106: '*'\n              }\n            };\n            var name, i;\n\n            for (i in ret.FUNCTION_KEYS) {\n              name = ret.FUNCTION_KEYS[i].toLowerCase();\n              ret[name] = parseInt(i, 10);\n            }\n\n            for (i in ret.PRINTABLE_KEYS) {\n              name = ret.PRINTABLE_KEYS[i].toLowerCase();\n              ret[name] = parseInt(i, 10);\n            }\n\n            oop.mixin(ret, ret.MODIFIER_KEYS);\n            oop.mixin(ret, ret.PRINTABLE_KEYS);\n            oop.mixin(ret, ret.FUNCTION_KEYS);\n            ret.enter = ret[\"return\"];\n            ret.escape = ret.esc;\n            ret.del = ret[\"delete\"];\n            ret[173] = '-';\n\n            (function () {\n              var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n\n              for (var i = Math.pow(2, mods.length); i--;) {\n                ret.KEY_MODS[i] = mods.filter(function (x) {\n                  return i & ret.KEY_MODS[x];\n                }).join(\"-\") + \"-\";\n              }\n            })();\n\n            ret.KEY_MODS[0] = \"\";\n            ret.KEY_MODS[-1] = \"input-\";\n            return ret;\n          }();\n\n          oop.mixin(exports, Keys);\n\n          exports.keyCodeToString = function (keyCode) {\n            var keyString = Keys[keyCode];\n            if (typeof keyString != \"string\") keyString = String.fromCharCode(keyCode);\n            return keyString.toLowerCase();\n          };\n        });\n        ace.define(\"ace/lib/event\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var keys = require(\"./keys\");\n\n          var useragent = require(\"./useragent\");\n\n          var pressedKeys = null;\n          var ts = 0;\n\n          exports.addListener = function (elem, type, callback) {\n            if (elem.addEventListener) {\n              return elem.addEventListener(type, callback, false);\n            }\n\n            if (elem.attachEvent) {\n              var wrapper = function wrapper() {\n                callback.call(elem, window.event);\n              };\n\n              callback._wrapper = wrapper;\n              elem.attachEvent(\"on\" + type, wrapper);\n            }\n          };\n\n          exports.removeListener = function (elem, type, callback) {\n            if (elem.removeEventListener) {\n              return elem.removeEventListener(type, callback, false);\n            }\n\n            if (elem.detachEvent) {\n              elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n            }\n          };\n\n          exports.stopEvent = function (e) {\n            exports.stopPropagation(e);\n            exports.preventDefault(e);\n            return false;\n          };\n\n          exports.stopPropagation = function (e) {\n            if (e.stopPropagation) e.stopPropagation();else e.cancelBubble = true;\n          };\n\n          exports.preventDefault = function (e) {\n            if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n          };\n\n          exports.getButton = function (e) {\n            if (e.type == \"dblclick\") return 0;\n            if (e.type == \"contextmenu\" || useragent.isMac && e.ctrlKey && !e.altKey && !e.shiftKey) return 2;\n\n            if (e.preventDefault) {\n              return e.button;\n            } else {\n              return {\n                1: 0,\n                2: 2,\n                4: 1\n              }[e.button];\n            }\n          };\n\n          exports.capture = function (el, eventHandler, releaseCaptureHandler) {\n            function onMouseUp(e) {\n              eventHandler && eventHandler(e);\n              releaseCaptureHandler && releaseCaptureHandler(e);\n              exports.removeListener(document, \"mousemove\", eventHandler, true);\n              exports.removeListener(document, \"mouseup\", onMouseUp, true);\n              exports.removeListener(document, \"dragstart\", onMouseUp, true);\n            }\n\n            exports.addListener(document, \"mousemove\", eventHandler, true);\n            exports.addListener(document, \"mouseup\", onMouseUp, true);\n            exports.addListener(document, \"dragstart\", onMouseUp, true);\n            return onMouseUp;\n          };\n\n          exports.addMouseWheelListener = function (el, callback) {\n            if (\"onmousewheel\" in el) {\n              exports.addListener(el, \"mousewheel\", function (e) {\n                var factor = 8;\n\n                if (e.wheelDeltaX !== undefined) {\n                  e.wheelX = -e.wheelDeltaX / factor;\n                  e.wheelY = -e.wheelDeltaY / factor;\n                } else {\n                  e.wheelX = 0;\n                  e.wheelY = -e.wheelDelta / factor;\n                }\n\n                callback(e);\n              });\n            } else if (\"onwheel\" in el) {\n              exports.addListener(el, \"wheel\", function (e) {\n                var factor = 0.35;\n\n                switch (e.deltaMode) {\n                  case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n\n                  case e.DOM_DELTA_LINE:\n                  case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n                }\n\n                callback(e);\n              });\n            } else {\n              exports.addListener(el, \"DOMMouseScroll\", function (e) {\n                if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                  e.wheelX = (e.detail || 0) * 5;\n                  e.wheelY = 0;\n                } else {\n                  e.wheelX = 0;\n                  e.wheelY = (e.detail || 0) * 5;\n                }\n\n                callback(e);\n              });\n            }\n          };\n\n          exports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName) {\n            var clicks = 0;\n            var startX, startY, timer;\n            var eventNames = {\n              2: \"dblclick\",\n              3: \"tripleclick\",\n              4: \"quadclick\"\n            };\n\n            function onMousedown(e) {\n              if (exports.getButton(e) !== 0) {\n                clicks = 0;\n              } else if (e.detail > 1) {\n                clicks++;\n                if (clicks > 4) clicks = 1;\n              } else {\n                clicks = 1;\n              }\n\n              if (useragent.isIE) {\n                var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n                if (!timer || isNewClick) clicks = 1;\n                if (timer) clearTimeout(timer);\n                timer = setTimeout(function () {\n                  timer = null;\n                }, timeouts[clicks - 1] || 600);\n\n                if (clicks == 1) {\n                  startX = e.clientX;\n                  startY = e.clientY;\n                }\n              }\n\n              e._clicks = clicks;\n              eventHandler[callbackName](\"mousedown\", e);\n              if (clicks > 4) clicks = 0;else if (clicks > 1) return eventHandler[callbackName](eventNames[clicks], e);\n            }\n\n            function onDblclick(e) {\n              clicks = 2;\n              if (timer) clearTimeout(timer);\n              timer = setTimeout(function () {\n                timer = null;\n              }, timeouts[clicks - 1] || 600);\n              eventHandler[callbackName](\"mousedown\", e);\n              eventHandler[callbackName](eventNames[clicks], e);\n            }\n\n            if (!Array.isArray(elements)) elements = [elements];\n            elements.forEach(function (el) {\n              exports.addListener(el, \"mousedown\", onMousedown);\n              if (useragent.isOldIE) exports.addListener(el, \"dblclick\", onDblclick);\n            });\n          };\n\n          var getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window) ? function (e) {\n            return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n          } : function (e) {\n            return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n          };\n\n          exports.getModifierString = function (e) {\n            return keys.KEY_MODS[getModifierHash(e)];\n          };\n\n          function normalizeCommandKeys(callback, e, keyCode) {\n            var hashId = getModifierHash(e);\n\n            if (!useragent.isMac && pressedKeys) {\n              if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\"))) hashId |= 8;\n\n              if (pressedKeys.altGr) {\n                if ((3 & hashId) != 3) pressedKeys.altGr = 0;else return;\n              }\n\n              if (keyCode === 18 || keyCode === 17) {\n                var location = \"location\" in e ? e.location : e.keyLocation;\n\n                if (keyCode === 17 && location === 1) {\n                  if (pressedKeys[keyCode] == 1) ts = e.timeStamp;\n                } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                  var dt = e.timeStamp - ts;\n                  if (dt < 50) pressedKeys.altGr = true;\n                }\n              }\n            }\n\n            if (keyCode in keys.MODIFIER_KEYS) {\n              keyCode = -1;\n            }\n\n            if (!hashId && keyCode === 13) {\n              var location = \"location\" in e ? e.location : e.keyLocation;\n\n              if (location === 3) {\n                callback(e, hashId, -keyCode);\n                if (e.defaultPrevented) return;\n              }\n            }\n\n            if (useragent.isChromeOS && hashId & 8) {\n              callback(e, hashId, keyCode);\n              if (e.defaultPrevented) return;else hashId &= ~8;\n            }\n\n            if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n              return false;\n            }\n\n            return callback(e, hashId, keyCode);\n          }\n\n          exports.addCommandKeyListener = function (el, callback) {\n            var addListener = exports.addListener;\n\n            if (useragent.isOldGecko || useragent.isOpera && !(\"KeyboardEvent\" in window)) {\n              var lastKeyDownKeyCode = null;\n              addListener(el, \"keydown\", function (e) {\n                lastKeyDownKeyCode = e.keyCode;\n              });\n              addListener(el, \"keypress\", function (e) {\n                return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n              });\n            } else {\n              var lastDefaultPrevented = null;\n              addListener(el, \"keydown\", function (e) {\n                pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n                var result = normalizeCommandKeys(callback, e, e.keyCode);\n                lastDefaultPrevented = e.defaultPrevented;\n                return result;\n              });\n              addListener(el, \"keypress\", function (e) {\n                if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                  exports.stopEvent(e);\n                  lastDefaultPrevented = null;\n                }\n              });\n              addListener(el, \"keyup\", function (e) {\n                pressedKeys[e.keyCode] = null;\n              });\n\n              if (!pressedKeys) {\n                resetPressedKeys();\n                addListener(window, \"focus\", resetPressedKeys);\n              }\n            }\n          };\n\n          function resetPressedKeys() {\n            pressedKeys = Object.create(null);\n          }\n\n          if (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n            var postMessageId = 1;\n\n            exports.nextTick = function (callback, win) {\n              win = win || window;\n              var messageName = \"zero-timeout-message-\" + postMessageId++;\n\n              var listener = function listener(e) {\n                if (e.data == messageName) {\n                  exports.stopPropagation(e);\n                  exports.removeListener(win, \"message\", listener);\n                  callback();\n                }\n              };\n\n              exports.addListener(win, \"message\", listener);\n              win.postMessage(messageName, \"*\");\n            };\n          }\n\n          exports.$idleBlocked = false;\n\n          exports.onIdle = function (cb, timeout) {\n            return setTimeout(function handler() {\n              if (!exports.$idleBlocked) {\n                cb();\n              } else {\n                setTimeout(handler, 100);\n              }\n            }, timeout);\n          };\n\n          exports.$idleBlockId = null;\n\n          exports.blockIdle = function (delay) {\n            if (exports.$idleBlockId) clearTimeout(exports.$idleBlockId);\n            exports.$idleBlocked = true;\n            exports.$idleBlockId = setTimeout(function () {\n              exports.$idleBlocked = false;\n            }, delay || 100);\n          };\n\n          exports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame);\n          if (exports.nextFrame) exports.nextFrame = exports.nextFrame.bind(window);else exports.nextFrame = function (callback) {\n            setTimeout(callback, 17);\n          };\n        });\n        ace.define(\"ace/range\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var comparePoints = function comparePoints(p1, p2) {\n            return p1.row - p2.row || p1.column - p2.column;\n          };\n\n          var Range = function Range(startRow, startColumn, endRow, endColumn) {\n            this.start = {\n              row: startRow,\n              column: startColumn\n            };\n            this.end = {\n              row: endRow,\n              column: endColumn\n            };\n          };\n\n          (function () {\n            this.isEqual = function (range) {\n              return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n            };\n\n            this.toString = function () {\n              return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n            };\n\n            this.contains = function (row, column) {\n              return this.compare(row, column) == 0;\n            };\n\n            this.compareRange = function (range) {\n              var cmp,\n                  end = range.end,\n                  start = range.start;\n              cmp = this.compare(end.row, end.column);\n\n              if (cmp == 1) {\n                cmp = this.compare(start.row, start.column);\n\n                if (cmp == 1) {\n                  return 2;\n                } else if (cmp == 0) {\n                  return 1;\n                } else {\n                  return 0;\n                }\n              } else if (cmp == -1) {\n                return -2;\n              } else {\n                cmp = this.compare(start.row, start.column);\n\n                if (cmp == -1) {\n                  return -1;\n                } else if (cmp == 1) {\n                  return 42;\n                } else {\n                  return 0;\n                }\n              }\n            };\n\n            this.comparePoint = function (p) {\n              return this.compare(p.row, p.column);\n            };\n\n            this.containsRange = function (range) {\n              return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n            };\n\n            this.intersects = function (range) {\n              var cmp = this.compareRange(range);\n              return cmp == -1 || cmp == 0 || cmp == 1;\n            };\n\n            this.isEnd = function (row, column) {\n              return this.end.row == row && this.end.column == column;\n            };\n\n            this.isStart = function (row, column) {\n              return this.start.row == row && this.start.column == column;\n            };\n\n            this.setStart = function (row, column) {\n              if (typeof row == \"object\") {\n                this.start.column = row.column;\n                this.start.row = row.row;\n              } else {\n                this.start.row = row;\n                this.start.column = column;\n              }\n            };\n\n            this.setEnd = function (row, column) {\n              if (typeof row == \"object\") {\n                this.end.column = row.column;\n                this.end.row = row.row;\n              } else {\n                this.end.row = row;\n                this.end.column = column;\n              }\n            };\n\n            this.inside = function (row, column) {\n              if (this.compare(row, column) == 0) {\n                if (this.isEnd(row, column) || this.isStart(row, column)) {\n                  return false;\n                } else {\n                  return true;\n                }\n              }\n\n              return false;\n            };\n\n            this.insideStart = function (row, column) {\n              if (this.compare(row, column) == 0) {\n                if (this.isEnd(row, column)) {\n                  return false;\n                } else {\n                  return true;\n                }\n              }\n\n              return false;\n            };\n\n            this.insideEnd = function (row, column) {\n              if (this.compare(row, column) == 0) {\n                if (this.isStart(row, column)) {\n                  return false;\n                } else {\n                  return true;\n                }\n              }\n\n              return false;\n            };\n\n            this.compare = function (row, column) {\n              if (!this.isMultiLine()) {\n                if (row === this.start.row) {\n                  return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n                }\n              }\n\n              if (row < this.start.row) return -1;\n              if (row > this.end.row) return 1;\n              if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n              if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n              return 0;\n            };\n\n            this.compareStart = function (row, column) {\n              if (this.start.row == row && this.start.column == column) {\n                return -1;\n              } else {\n                return this.compare(row, column);\n              }\n            };\n\n            this.compareEnd = function (row, column) {\n              if (this.end.row == row && this.end.column == column) {\n                return 1;\n              } else {\n                return this.compare(row, column);\n              }\n            };\n\n            this.compareInside = function (row, column) {\n              if (this.end.row == row && this.end.column == column) {\n                return 1;\n              } else if (this.start.row == row && this.start.column == column) {\n                return -1;\n              } else {\n                return this.compare(row, column);\n              }\n            };\n\n            this.clipRows = function (firstRow, lastRow) {\n              if (this.end.row > lastRow) var end = {\n                row: lastRow + 1,\n                column: 0\n              };else if (this.end.row < firstRow) var end = {\n                row: firstRow,\n                column: 0\n              };\n              if (this.start.row > lastRow) var start = {\n                row: lastRow + 1,\n                column: 0\n              };else if (this.start.row < firstRow) var start = {\n                row: firstRow,\n                column: 0\n              };\n              return Range.fromPoints(start || this.start, end || this.end);\n            };\n\n            this.extend = function (row, column) {\n              var cmp = this.compare(row, column);\n              if (cmp == 0) return this;else if (cmp == -1) var start = {\n                row: row,\n                column: column\n              };else var end = {\n                row: row,\n                column: column\n              };\n              return Range.fromPoints(start || this.start, end || this.end);\n            };\n\n            this.isEmpty = function () {\n              return this.start.row === this.end.row && this.start.column === this.end.column;\n            };\n\n            this.isMultiLine = function () {\n              return this.start.row !== this.end.row;\n            };\n\n            this.clone = function () {\n              return Range.fromPoints(this.start, this.end);\n            };\n\n            this.collapseRows = function () {\n              if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n            };\n\n            this.toScreenRange = function (session) {\n              var screenPosStart = session.documentToScreenPosition(this.start);\n              var screenPosEnd = session.documentToScreenPosition(this.end);\n              return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n            };\n\n            this.moveBy = function (row, column) {\n              this.start.row += row;\n              this.start.column += column;\n              this.end.row += row;\n              this.end.column += column;\n            };\n          }).call(Range.prototype);\n\n          Range.fromPoints = function (start, end) {\n            return new Range(start.row, start.column, end.row, end.column);\n          };\n\n          Range.comparePoints = comparePoints;\n\n          Range.comparePoints = function (p1, p2) {\n            return p1.row - p2.row || p1.column - p2.column;\n          };\n\n          exports.Range = Range;\n        });\n        ace.define(\"ace/lib/lang\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          exports.last = function (a) {\n            return a[a.length - 1];\n          };\n\n          exports.stringReverse = function (string) {\n            return string.split(\"\").reverse().join(\"\");\n          };\n\n          exports.stringRepeat = function (string, count) {\n            var result = '';\n\n            while (count > 0) {\n              if (count & 1) result += string;\n              if (count >>= 1) string += string;\n            }\n\n            return result;\n          };\n\n          var trimBeginRegexp = /^\\s\\s*/;\n          var trimEndRegexp = /\\s\\s*$/;\n\n          exports.stringTrimLeft = function (string) {\n            return string.replace(trimBeginRegexp, '');\n          };\n\n          exports.stringTrimRight = function (string) {\n            return string.replace(trimEndRegexp, '');\n          };\n\n          exports.copyObject = function (obj) {\n            var copy = {};\n\n            for (var key in obj) {\n              copy[key] = obj[key];\n            }\n\n            return copy;\n          };\n\n          exports.copyArray = function (array) {\n            var copy = [];\n\n            for (var i = 0, l = array.length; i < l; i++) {\n              if (array[i] && typeof array[i] == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n            }\n\n            return copy;\n          };\n\n          exports.deepCopy = function deepCopy(obj) {\n            if (typeof obj !== \"object\" || !obj) return obj;\n            var copy;\n\n            if (Array.isArray(obj)) {\n              copy = [];\n\n              for (var key = 0; key < obj.length; key++) {\n                copy[key] = deepCopy(obj[key]);\n              }\n\n              return copy;\n            }\n\n            if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n            copy = {};\n\n            for (var key in obj) {\n              copy[key] = deepCopy(obj[key]);\n            }\n\n            return copy;\n          };\n\n          exports.arrayToMap = function (arr) {\n            var map = {};\n\n            for (var i = 0; i < arr.length; i++) {\n              map[arr[i]] = 1;\n            }\n\n            return map;\n          };\n\n          exports.createMap = function (props) {\n            var map = Object.create(null);\n\n            for (var i in props) {\n              map[i] = props[i];\n            }\n\n            return map;\n          };\n\n          exports.arrayRemove = function (array, value) {\n            for (var i = 0; i <= array.length; i++) {\n              if (value === array[i]) {\n                array.splice(i, 1);\n              }\n            }\n          };\n\n          exports.escapeRegExp = function (str) {\n            return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n          };\n\n          exports.escapeHTML = function (str) {\n            return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n          };\n\n          exports.getMatchOffsets = function (string, regExp) {\n            var matches = [];\n            string.replace(regExp, function (str) {\n              matches.push({\n                offset: arguments[arguments.length - 2],\n                length: str.length\n              });\n            });\n            return matches;\n          };\n\n          exports.deferredCall = function (fcn) {\n            var timer = null;\n\n            var callback = function callback() {\n              timer = null;\n              fcn();\n            };\n\n            var deferred = function deferred(timeout) {\n              deferred.cancel();\n              timer = setTimeout(callback, timeout || 0);\n              return deferred;\n            };\n\n            deferred.schedule = deferred;\n\n            deferred.call = function () {\n              this.cancel();\n              fcn();\n              return deferred;\n            };\n\n            deferred.cancel = function () {\n              clearTimeout(timer);\n              timer = null;\n              return deferred;\n            };\n\n            deferred.isPending = function () {\n              return timer;\n            };\n\n            return deferred;\n          };\n\n          exports.delayedCall = function (fcn, defaultTimeout) {\n            var timer = null;\n\n            var callback = function callback() {\n              timer = null;\n              fcn();\n            };\n\n            var _self = function _self(timeout) {\n              if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n            };\n\n            _self.delay = function (timeout) {\n              timer && clearTimeout(timer);\n              timer = setTimeout(callback, timeout || defaultTimeout);\n            };\n\n            _self.schedule = _self;\n\n            _self.call = function () {\n              this.cancel();\n              fcn();\n            };\n\n            _self.cancel = function () {\n              timer && clearTimeout(timer);\n              timer = null;\n            };\n\n            _self.isPending = function () {\n              return timer;\n            };\n\n            return _self;\n          };\n        });\n        ace.define(\"ace/clipboard\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var $cancelT;\n          module.exports = {\n            lineMode: false,\n            pasteCancelled: function pasteCancelled() {\n              if ($cancelT && $cancelT > Date.now() - 50) return true;\n              return $cancelT = false;\n            },\n            cancel: function cancel() {\n              $cancelT = Date.now();\n            }\n          };\n        });\n        ace.define(\"ace/keyboard/textinput\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/clipboard\", \"ace/lib/keys\"], function (require, exports, module) {\n          \"use strict\";\n\n          var event = require(\"../lib/event\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          var dom = require(\"../lib/dom\");\n\n          var lang = require(\"../lib/lang\");\n\n          var clipboard = require(\"../clipboard\");\n\n          var BROKEN_SETDATA = useragent.isChrome < 18;\n          var USE_IE_MIME_TYPE = useragent.isIE;\n          var HAS_FOCUS_ARGS = useragent.isChrome > 63;\n          var MAX_LINE_LENGTH = 400;\n\n          var KEYS = require(\"../lib/keys\");\n\n          var MODS = KEYS.KEY_MODS;\n          var isIOS = useragent.isIOS;\n          var valueResetRegex = isIOS ? /\\s/ : /\\n/;\n\n          var TextInput = function TextInput(parentNode, host) {\n            var text = dom.createElement(\"textarea\");\n            text.className = \"ace_text-input\";\n            text.setAttribute(\"wrap\", \"off\");\n            text.setAttribute(\"autocorrect\", \"off\");\n            text.setAttribute(\"autocapitalize\", \"off\");\n            text.setAttribute(\"spellcheck\", false);\n            text.style.opacity = \"0\";\n            parentNode.insertBefore(text, parentNode.firstChild);\n            var copied = false;\n            var pasted = false;\n            var inComposition = false;\n            var sendingText = false;\n            var tempStyle = '';\n            if (!useragent.isMobile) text.style.fontSize = \"1px\";\n            var commandMode = false;\n            var ignoreFocusEvents = false;\n            var lastValue = \"\";\n            var lastSelectionStart = 0;\n            var lastSelectionEnd = 0;\n            var lastRestoreEnd = 0;\n\n            try {\n              var isFocused = document.activeElement === text;\n            } catch (e) {}\n\n            event.addListener(text, \"blur\", function (e) {\n              if (ignoreFocusEvents) return;\n              host.onBlur(e);\n              isFocused = false;\n            });\n            event.addListener(text, \"focus\", function (e) {\n              if (ignoreFocusEvents) return;\n              isFocused = true;\n\n              if (useragent.isEdge) {\n                try {\n                  if (!document.hasFocus()) return;\n                } catch (e) {}\n              }\n\n              host.onFocus(e);\n              if (useragent.isEdge) setTimeout(resetSelection);else resetSelection();\n            });\n            this.$focusScroll = false;\n\n            this.focus = function () {\n              if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\") return text.focus({\n                preventScroll: true\n              });\n              var top = text.style.top;\n              text.style.position = \"fixed\";\n              text.style.top = \"0px\";\n\n              try {\n                var isTransformed = text.getBoundingClientRect().top != 0;\n              } catch (e) {\n                return;\n              }\n\n              var ancestors = [];\n\n              if (isTransformed) {\n                var t = text.parentElement;\n\n                while (t && t.nodeType == 1) {\n                  ancestors.push(t);\n                  t.setAttribute(\"ace_nocontext\", true);\n                  if (!t.parentElement && t.getRootNode) t = t.getRootNode().host;else t = t.parentElement;\n                }\n              }\n\n              text.focus({\n                preventScroll: true\n              });\n\n              if (isTransformed) {\n                ancestors.forEach(function (p) {\n                  p.removeAttribute(\"ace_nocontext\");\n                });\n              }\n\n              setTimeout(function () {\n                text.style.position = \"\";\n                if (text.style.top == \"0px\") text.style.top = top;\n              }, 0);\n            };\n\n            this.blur = function () {\n              text.blur();\n            };\n\n            this.isFocused = function () {\n              return isFocused;\n            };\n\n            host.on(\"beforeEndOperation\", function () {\n              if (host.curOp && host.curOp.command.name == \"insertstring\") return;\n\n              if (inComposition) {\n                lastValue = text.value = \"\";\n                onCompositionEnd();\n              }\n\n              resetSelection();\n            });\n            var resetSelection = isIOS ? function (value) {\n              if (!isFocused || copied && !value || sendingText) return;\n              if (!value) value = \"\";\n              var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n              if (newValue != text.value) text.value = lastValue = newValue;\n              var selectionStart = 4;\n              var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n              if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n                text.setSelectionRange(selectionStart, selectionEnd);\n              }\n\n              lastSelectionStart = selectionStart;\n              lastSelectionEnd = selectionEnd;\n            } : function () {\n              if (inComposition || sendingText) return;\n              if (!isFocused && !afterContextMenu) return;\n              inComposition = true;\n              var selection = host.selection;\n              var range = selection.getRange();\n              var row = selection.cursor.row;\n              var selectionStart = range.start.column;\n              var selectionEnd = range.end.column;\n              var line = host.session.getLine(row);\n\n              if (range.start.row != row) {\n                var prevLine = host.session.getLine(row - 1);\n                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                selectionEnd += prevLine.length + 1;\n                line = prevLine + \"\\n\" + line;\n              } else if (range.end.row != row) {\n                var nextLine = host.session.getLine(row + 1);\n                selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;\n                selectionEnd += line.length + 1;\n                line = line + \"\\n\" + nextLine;\n              }\n\n              if (line.length > MAX_LINE_LENGTH) {\n                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                  line = line.slice(0, MAX_LINE_LENGTH);\n                } else {\n                  line = \"\\n\";\n                  selectionStart = 0;\n                  selectionEnd = 1;\n                }\n              }\n\n              var newValue = line + \"\\n\\n\";\n\n              if (newValue != lastValue) {\n                text.value = lastValue = newValue;\n                lastSelectionStart = lastSelectionEnd = newValue.length;\n              }\n\n              if (afterContextMenu) {\n                lastSelectionStart = text.selectionStart;\n                lastSelectionEnd = text.selectionEnd;\n              }\n\n              if (lastSelectionEnd != selectionEnd || lastSelectionStart != selectionStart || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n              ) {\n                  try {\n                    text.setSelectionRange(selectionStart, selectionEnd);\n                    lastSelectionStart = selectionStart;\n                    lastSelectionEnd = selectionEnd;\n                  } catch (e) {}\n                }\n\n              inComposition = false;\n            };\n            if (isFocused) host.onFocus();\n\n            var isAllSelected = function isAllSelected(text) {\n              return text.selectionStart === 0 && text.selectionEnd >= lastValue.length && text.value === lastValue && lastValue && text.selectionEnd !== lastSelectionEnd;\n            };\n\n            var onSelect = function onSelect(e) {\n              if (inComposition) return;\n\n              if (copied) {\n                copied = false;\n              } else if (isAllSelected(text)) {\n                host.selectAll();\n                resetSelection();\n              }\n            };\n\n            var inputHandler = null;\n\n            this.setInputHandler = function (cb) {\n              inputHandler = cb;\n            };\n\n            this.getInputHandler = function () {\n              return inputHandler;\n            };\n\n            var afterContextMenu = false;\n\n            var sendText = function sendText(value, fromInput) {\n              if (afterContextMenu) afterContextMenu = false;\n\n              if (pasted) {\n                resetSelection();\n                if (value) host.onPaste(value);\n                pasted = false;\n                return \"\";\n              } else {\n                var selectionStart = text.selectionStart;\n                var selectionEnd = text.selectionEnd;\n                var extendLeft = lastSelectionStart;\n                var extendRight = lastValue.length - lastSelectionEnd;\n                var inserted = value;\n                var restoreStart = value.length - selectionStart;\n                var restoreEnd = value.length - selectionEnd;\n                var i = 0;\n\n                while (extendLeft > 0 && lastValue[i] == value[i]) {\n                  i++;\n                  extendLeft--;\n                }\n\n                inserted = inserted.slice(i);\n                i = 1;\n\n                while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n                  i++;\n                  extendRight--;\n                }\n\n                restoreStart -= i - 1;\n                restoreEnd -= i - 1;\n                var endIndex = inserted.length - i + 1;\n\n                if (endIndex < 0) {\n                  extendLeft = -endIndex;\n                  endIndex = 0;\n                }\n\n                inserted = inserted.slice(0, endIndex);\n                if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd) return \"\";\n                sendingText = true;\n\n                if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                  host.onTextInput(inserted);\n                } else {\n                  host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                  });\n                }\n\n                sendingText = false;\n                lastValue = value;\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                lastRestoreEnd = restoreEnd;\n                return inserted;\n              }\n            };\n\n            var onInput = function onInput(e) {\n              if (inComposition) return onCompositionUpdate();\n\n              if (e && e.inputType) {\n                if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n                if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n              }\n\n              var data = text.value;\n              var inserted = sendText(data, true);\n              if (data.length > MAX_LINE_LENGTH + 100 || valueResetRegex.test(inserted)) resetSelection();\n            };\n\n            var handleClipboardData = function handleClipboardData(e, data, forceIEMime) {\n              var clipboardData = e.clipboardData || window.clipboardData;\n              if (!clipboardData || BROKEN_SETDATA) return;\n              var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n\n              try {\n                if (data) {\n                  return clipboardData.setData(mime, data) !== false;\n                } else {\n                  return clipboardData.getData(mime);\n                }\n              } catch (e) {\n                if (!forceIEMime) return handleClipboardData(e, data, true);\n              }\n            };\n\n            var doCopy = function doCopy(e, isCut) {\n              var data = host.getCopyText();\n              if (!data) return event.preventDefault(e);\n\n              if (handleClipboardData(e, data)) {\n                if (isIOS) {\n                  resetSelection(data);\n                  copied = data;\n                  setTimeout(function () {\n                    copied = false;\n                  }, 10);\n                }\n\n                isCut ? host.onCut() : host.onCopy();\n                event.preventDefault(e);\n              } else {\n                copied = true;\n                text.value = data;\n                text.select();\n                setTimeout(function () {\n                  copied = false;\n                  resetSelection();\n                  isCut ? host.onCut() : host.onCopy();\n                });\n              }\n            };\n\n            var onCut = function onCut(e) {\n              doCopy(e, true);\n            };\n\n            var onCopy = function onCopy(e) {\n              doCopy(e, false);\n            };\n\n            var onPaste = function onPaste(e) {\n              var data = handleClipboardData(e);\n              if (clipboard.pasteCancelled()) return;\n\n              if (typeof data == \"string\") {\n                if (data) host.onPaste(data, e);\n                if (useragent.isIE) setTimeout(resetSelection);\n                event.preventDefault(e);\n              } else {\n                text.value = \"\";\n                pasted = true;\n              }\n            };\n\n            event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n            event.addListener(text, \"select\", onSelect);\n            event.addListener(text, \"input\", onInput);\n            event.addListener(text, \"cut\", onCut);\n            event.addListener(text, \"copy\", onCopy);\n            event.addListener(text, \"paste\", onPaste);\n\n            if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n              event.addListener(parentNode, \"keydown\", function (e) {\n                if (useragent.isMac && !e.metaKey || !e.ctrlKey) return;\n\n                switch (e.keyCode) {\n                  case 67:\n                    onCopy(e);\n                    break;\n\n                  case 86:\n                    onPaste(e);\n                    break;\n\n                  case 88:\n                    onCut(e);\n                    break;\n                }\n              });\n            }\n\n            var onCompositionStart = function onCompositionStart(e) {\n              if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n              inComposition = {};\n              if (commandMode) return;\n              setTimeout(onCompositionUpdate, 0);\n              host.on(\"mousedown\", cancelComposition);\n              var range = host.getSelectionRange();\n              range.end.row = range.start.row;\n              range.end.column = range.start.column;\n              inComposition.markerRange = range;\n              inComposition.selectionStart = lastSelectionStart;\n              host.onCompositionStart(inComposition);\n\n              if (inComposition.useTextareaForIME) {\n                text.value = \"\";\n                lastValue = \"\";\n                lastSelectionStart = 0;\n                lastSelectionEnd = 0;\n              } else {\n                if (text.msGetInputContext) inComposition.context = text.msGetInputContext();\n                if (text.getInputContext) inComposition.context = text.getInputContext();\n              }\n            };\n\n            var onCompositionUpdate = function onCompositionUpdate() {\n              if (!inComposition || !host.onCompositionUpdate || host.$readOnly) return;\n              if (commandMode) return cancelComposition();\n\n              if (inComposition.useTextareaForIME) {\n                host.onCompositionUpdate(text.value);\n              } else {\n                var data = text.value;\n                sendText(data);\n\n                if (inComposition.markerRange) {\n                  if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart = inComposition.context.compositionStartOffset;\n                  }\n\n                  inComposition.markerRange.end.column = inComposition.markerRange.start.column + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n                }\n              }\n            };\n\n            var onCompositionEnd = function onCompositionEnd(e) {\n              if (!host.onCompositionEnd || host.$readOnly) return;\n              inComposition = false;\n              host.onCompositionEnd();\n              host.off(\"mousedown\", cancelComposition);\n              if (e) onInput();\n            };\n\n            function cancelComposition() {\n              ignoreFocusEvents = true;\n              text.blur();\n              text.focus();\n              ignoreFocusEvents = false;\n            }\n\n            var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n\n            function onKeyup(e) {\n              if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n                if (!inComposition) lastValue = text.value;\n                lastSelectionStart = lastSelectionEnd = -1;\n                resetSelection();\n              }\n\n              syncComposition();\n            }\n\n            event.addListener(text, \"compositionstart\", onCompositionStart);\n            event.addListener(text, \"compositionupdate\", onCompositionUpdate);\n            event.addListener(text, \"keyup\", onKeyup);\n            event.addListener(text, \"keydown\", syncComposition);\n            event.addListener(text, \"compositionend\", onCompositionEnd);\n\n            this.getElement = function () {\n              return text;\n            };\n\n            this.setCommandMode = function (value) {\n              commandMode = value;\n              text.readOnly = false;\n            };\n\n            this.setReadOnly = function (readOnly) {\n              if (!commandMode) text.readOnly = readOnly;\n            };\n\n            this.setCopyWithEmptySelection = function (value) {};\n\n            this.onContextMenu = function (e) {\n              afterContextMenu = true;\n              resetSelection();\n\n              host._emit(\"nativecontextmenu\", {\n                target: host,\n                domEvent: e\n              });\n\n              this.moveToMouse(e, true);\n            };\n\n            this.moveToMouse = function (e, bringToFront) {\n              if (!tempStyle) tempStyle = text.style.cssText;\n              text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\") + (useragent.isIE ? \"opacity:0.1;\" : \"\") + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n              var rect = host.container.getBoundingClientRect();\n              var style = dom.computedStyle(host.container);\n              var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n              var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n              var maxTop = rect.bottom - top - text.clientHeight - 2;\n\n              var move = function move(e) {\n                dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n              };\n\n              move(e);\n              if (e.type != \"mousedown\") return;\n              host.renderer.$isMousePressed = true;\n              clearTimeout(closeTimeout);\n              if (useragent.isWin) event.capture(host.container, move, onContextMenuClose);\n            };\n\n            this.onContextMenuClose = onContextMenuClose;\n            var closeTimeout;\n\n            function onContextMenuClose() {\n              clearTimeout(closeTimeout);\n              closeTimeout = setTimeout(function () {\n                if (tempStyle) {\n                  text.style.cssText = tempStyle;\n                  tempStyle = '';\n                }\n\n                host.renderer.$isMousePressed = false;\n                if (host.renderer.$keepTextAreaAtCursor) host.renderer.$moveTextAreaToCursor();\n              }, 0);\n            }\n\n            var onContextMenu = function onContextMenu(e) {\n              host.textInput.onContextMenu(e);\n              onContextMenuClose();\n            };\n\n            event.addListener(text, \"mouseup\", onContextMenu);\n            event.addListener(text, \"mousedown\", function (e) {\n              e.preventDefault();\n              onContextMenuClose();\n            });\n            event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n            event.addListener(text, \"contextmenu\", onContextMenu);\n            if (isIOS) addIosSelectionHandler(parentNode, host, text);\n\n            function addIosSelectionHandler(parentNode, host, text) {\n              var typingResetTimeout = null;\n              var typing = false;\n              text.addEventListener(\"keydown\", function (e) {\n                if (typingResetTimeout) clearTimeout(typingResetTimeout);\n                typing = true;\n              }, true);\n              text.addEventListener(\"keyup\", function (e) {\n                typingResetTimeout = setTimeout(function () {\n                  typing = false;\n                }, 100);\n              }, true);\n\n              var detectArrowKeys = function detectArrowKeys(e) {\n                if (document.activeElement !== text) return;\n                if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n                if (copied) {\n                  return;\n                }\n\n                var selectionStart = text.selectionStart;\n                var selectionEnd = text.selectionEnd;\n                var key = null;\n                var modifier = 0;\n\n                if (selectionStart == 0) {\n                  key = KEYS.up;\n                } else if (selectionStart == 1) {\n                  key = KEYS.home;\n                } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                  key = KEYS.end;\n                } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                  key = KEYS.left;\n                  modifier = MODS.option;\n                } else if (selectionStart < lastSelectionStart || selectionStart == lastSelectionStart && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {\n                  key = KEYS.left;\n                } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                  key = KEYS.down;\n                } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                  key = KEYS.right;\n                  modifier = MODS.option;\n                } else if (selectionEnd > lastSelectionEnd || selectionEnd == lastSelectionEnd && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {\n                  key = KEYS.right;\n                }\n\n                if (selectionStart !== selectionEnd) modifier |= MODS.shift;\n\n                if (key) {\n                  var result = host.onCommandKey({}, modifier, key);\n\n                  if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command) host.execCommand(command);\n                  }\n\n                  lastSelectionStart = selectionStart;\n                  lastSelectionEnd = selectionEnd;\n                  resetSelection(\"\");\n                }\n              };\n\n              document.addEventListener(\"selectionchange\", detectArrowKeys);\n              host.on(\"destroy\", function () {\n                document.removeEventListener(\"selectionchange\", detectArrowKeys);\n              });\n            }\n          };\n\n          exports.TextInput = TextInput;\n        });\n        ace.define(\"ace/mouse/default_handlers\", [\"require\", \"exports\", \"module\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var useragent = require(\"../lib/useragent\");\n\n          var DRAG_OFFSET = 0; // pixels\n\n          var SCROLL_COOLDOWN_T = 550; // milliseconds\n\n          function DefaultHandlers(mouseHandler) {\n            mouseHandler.$clickSelection = null;\n            var editor = mouseHandler.editor;\n            editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n            editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n            editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n            editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n            editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n            var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\", \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n            exports.forEach(function (x) {\n              mouseHandler[x] = this[x];\n            }, this);\n            mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n            mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n          }\n\n          (function () {\n            this.onMouseDown = function (ev) {\n              var inSelection = ev.inSelection();\n              var pos = ev.getDocumentPosition();\n              this.mousedownEvent = ev;\n              var editor = this.editor;\n              var button = ev.getButton();\n\n              if (button !== 0) {\n                var selectionRange = editor.getSelectionRange();\n                var selectionEmpty = selectionRange.isEmpty();\n                if (selectionEmpty || button == 1) editor.selection.moveToPosition(pos);\n\n                if (button == 2) {\n                  editor.textInput.onContextMenu(ev.domEvent);\n                  if (!useragent.isMozilla) ev.preventDefault();\n                }\n\n                return;\n              }\n\n              this.mousedownEvent.time = Date.now();\n\n              if (inSelection && !editor.isFocused()) {\n                editor.focus();\n\n                if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                  this.setState(\"focusWait\");\n                  this.captureMouse(ev);\n                  return;\n                }\n              }\n\n              this.captureMouse(ev);\n              this.startSelect(pos, ev.domEvent._clicks > 1);\n              return ev.preventDefault();\n            };\n\n            this.startSelect = function (pos, waitForClickSelection) {\n              pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n              var editor = this.editor;\n              if (!this.mousedownEvent) return;\n              if (this.mousedownEvent.getShiftKey()) editor.selection.selectToPosition(pos);else if (!waitForClickSelection) editor.selection.moveToPosition(pos);\n              if (!waitForClickSelection) this.select();\n\n              if (editor.renderer.scroller.setCapture) {\n                editor.renderer.scroller.setCapture();\n              }\n\n              editor.setStyle(\"ace_selecting\");\n              this.setState(\"select\");\n            };\n\n            this.select = function () {\n              var anchor,\n                  editor = this.editor;\n              var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n\n              if (this.$clickSelection) {\n                var cmp = this.$clickSelection.comparePoint(cursor);\n\n                if (cmp == -1) {\n                  anchor = this.$clickSelection.end;\n                } else if (cmp == 1) {\n                  anchor = this.$clickSelection.start;\n                } else {\n                  var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                  cursor = orientedRange.cursor;\n                  anchor = orientedRange.anchor;\n                }\n\n                editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n              }\n\n              editor.selection.selectToPosition(cursor);\n              editor.renderer.scrollCursorIntoView();\n            };\n\n            this.extendSelectionBy = function (unitName) {\n              var anchor,\n                  editor = this.editor;\n              var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n              var range = editor.selection[unitName](cursor.row, cursor.column);\n\n              if (this.$clickSelection) {\n                var cmpStart = this.$clickSelection.comparePoint(range.start);\n                var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n                if (cmpStart == -1 && cmpEnd <= 0) {\n                  anchor = this.$clickSelection.end;\n                  if (range.end.row != cursor.row || range.end.column != cursor.column) cursor = range.start;\n                } else if (cmpEnd == 1 && cmpStart >= 0) {\n                  anchor = this.$clickSelection.start;\n                  if (range.start.row != cursor.row || range.start.column != cursor.column) cursor = range.end;\n                } else if (cmpStart == -1 && cmpEnd == 1) {\n                  cursor = range.end;\n                  anchor = range.start;\n                } else {\n                  var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                  cursor = orientedRange.cursor;\n                  anchor = orientedRange.anchor;\n                }\n\n                editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n              }\n\n              editor.selection.selectToPosition(cursor);\n              editor.renderer.scrollCursorIntoView();\n            };\n\n            this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function () {\n              this.$clickSelection = null;\n              this.editor.unsetStyle(\"ace_selecting\");\n\n              if (this.editor.renderer.scroller.releaseCapture) {\n                this.editor.renderer.scroller.releaseCapture();\n              }\n            };\n\n            this.focusWait = function () {\n              var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n              var time = Date.now();\n              if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout) this.startSelect(this.mousedownEvent.getDocumentPosition());\n            };\n\n            this.onDoubleClick = function (ev) {\n              var pos = ev.getDocumentPosition();\n              var editor = this.editor;\n              var session = editor.session;\n              var range = session.getBracketRange(pos);\n\n              if (range) {\n                if (range.isEmpty()) {\n                  range.start.column--;\n                  range.end.column++;\n                }\n\n                this.setState(\"select\");\n              } else {\n                range = editor.selection.getWordRange(pos.row, pos.column);\n                this.setState(\"selectByWords\");\n              }\n\n              this.$clickSelection = range;\n              this.select();\n            };\n\n            this.onTripleClick = function (ev) {\n              var pos = ev.getDocumentPosition();\n              var editor = this.editor;\n              this.setState(\"selectByLines\");\n              var range = editor.getSelectionRange();\n\n              if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n                this.$clickSelection = editor.selection.getLineRange(range.start.row);\n                this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n              } else {\n                this.$clickSelection = editor.selection.getLineRange(pos.row);\n              }\n\n              this.select();\n            };\n\n            this.onQuadClick = function (ev) {\n              var editor = this.editor;\n              editor.selectAll();\n              this.$clickSelection = editor.getSelectionRange();\n              this.setState(\"selectAll\");\n            };\n\n            this.onMouseWheel = function (ev) {\n              if (ev.getAccelKey()) return;\n\n              if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n                ev.wheelX = ev.wheelY;\n                ev.wheelY = 0;\n              }\n\n              var editor = this.editor;\n              if (!this.$lastScroll) this.$lastScroll = {\n                t: 0,\n                vx: 0,\n                vy: 0,\n                allowed: 0\n              };\n              var prevScroll = this.$lastScroll;\n              var t = ev.domEvent.timeStamp;\n              var dt = t - prevScroll.t;\n              var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n              var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n\n              if (dt < SCROLL_COOLDOWN_T) {\n                vx = (vx + prevScroll.vx) / 2;\n                vy = (vy + prevScroll.vy) / 2;\n              }\n\n              var direction = Math.abs(vx / vy);\n              var canScroll = false;\n              if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0)) canScroll = true;\n              if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed)) canScroll = true;\n\n              if (canScroll) {\n                prevScroll.allowed = t;\n              } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n                var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n\n                if (isSlower) {\n                  canScroll = true;\n                  prevScroll.allowed = t;\n                } else {\n                  prevScroll.allowed = 0;\n                }\n              }\n\n              prevScroll.t = t;\n              prevScroll.vx = vx;\n              prevScroll.vy = vy;\n\n              if (canScroll) {\n                editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n                return ev.stop();\n              }\n            };\n          }).call(DefaultHandlers.prototype);\n          exports.DefaultHandlers = DefaultHandlers;\n\n          function calcDistance(ax, ay, bx, by) {\n            return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n          }\n\n          function calcRangeOrientation(range, cursor) {\n            if (range.start.row == range.end.row) var cmp = 2 * cursor.column - range.start.column - range.end.column;else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column) var cmp = cursor.column - 4;else var cmp = 2 * cursor.row - range.start.row - range.end.row;\n            if (cmp < 0) return {\n              cursor: range.start,\n              anchor: range.end\n            };else return {\n              cursor: range.end,\n              anchor: range.start\n            };\n          }\n        });\n        ace.define(\"ace/tooltip\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var dom = require(\"./lib/dom\");\n\n          function Tooltip(parentNode) {\n            this.isOpen = false;\n            this.$element = null;\n            this.$parentNode = parentNode;\n          }\n\n          (function () {\n            this.$init = function () {\n              this.$element = dom.createElement(\"div\");\n              this.$element.className = \"ace_tooltip\";\n              this.$element.style.display = \"none\";\n              this.$parentNode.appendChild(this.$element);\n              return this.$element;\n            };\n\n            this.getElement = function () {\n              return this.$element || this.$init();\n            };\n\n            this.setText = function (text) {\n              this.getElement().textContent = text;\n            };\n\n            this.setHtml = function (html) {\n              this.getElement().innerHTML = html;\n            };\n\n            this.setPosition = function (x, y) {\n              this.getElement().style.left = x + \"px\";\n              this.getElement().style.top = y + \"px\";\n            };\n\n            this.setClassName = function (className) {\n              dom.addCssClass(this.getElement(), className);\n            };\n\n            this.show = function (text, x, y) {\n              if (text != null) this.setText(text);\n              if (x != null && y != null) this.setPosition(x, y);\n\n              if (!this.isOpen) {\n                this.getElement().style.display = \"block\";\n                this.isOpen = true;\n              }\n            };\n\n            this.hide = function () {\n              if (this.isOpen) {\n                this.getElement().style.display = \"none\";\n                this.isOpen = false;\n              }\n            };\n\n            this.getHeight = function () {\n              return this.getElement().offsetHeight;\n            };\n\n            this.getWidth = function () {\n              return this.getElement().offsetWidth;\n            };\n\n            this.destroy = function () {\n              this.isOpen = false;\n\n              if (this.$element && this.$element.parentNode) {\n                this.$element.parentNode.removeChild(this.$element);\n              }\n            };\n          }).call(Tooltip.prototype);\n          exports.Tooltip = Tooltip;\n        });\n        ace.define(\"ace/mouse/default_gutter_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event\", \"ace/tooltip\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          var oop = require(\"../lib/oop\");\n\n          var event = require(\"../lib/event\");\n\n          var Tooltip = require(\"../tooltip\").Tooltip;\n\n          function GutterHandler(mouseHandler) {\n            var editor = mouseHandler.editor;\n            var gutter = editor.renderer.$gutterLayer;\n            var tooltip = new GutterTooltip(editor.container);\n            mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n              if (!editor.isFocused() || e.getButton() != 0) return;\n              var gutterRegion = gutter.getRegion(e);\n              if (gutterRegion == \"foldWidgets\") return;\n              var row = e.getDocumentPosition().row;\n              var selection = editor.session.selection;\n              if (e.getShiftKey()) selection.selectTo(row, 0);else {\n                if (e.domEvent.detail == 2) {\n                  editor.selectAll();\n                  return e.preventDefault();\n                }\n\n                mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n              }\n              mouseHandler.setState(\"selectByLines\");\n              mouseHandler.captureMouse(e);\n              return e.preventDefault();\n            });\n            var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n            function showTooltip() {\n              var row = mouseEvent.getDocumentPosition().row;\n              var annotation = gutter.$annotations[row];\n              if (!annotation) return hideTooltip();\n              var maxRow = editor.session.getLength();\n\n              if (row == maxRow) {\n                var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n                var pos = mouseEvent.$pos;\n                if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column)) return hideTooltip();\n              }\n\n              if (tooltipAnnotation == annotation) return;\n              tooltipAnnotation = annotation.text.join(\"<br/>\");\n              tooltip.setHtml(tooltipAnnotation);\n              tooltip.show();\n\n              editor._signal(\"showGutterTooltip\", tooltip);\n\n              editor.on(\"mousewheel\", hideTooltip);\n\n              if (mouseHandler.$tooltipFollowsMouse) {\n                moveTooltip(mouseEvent);\n              } else {\n                var gutterElement = mouseEvent.domEvent.target;\n                var rect = gutterElement.getBoundingClientRect();\n                var style = tooltip.getElement().style;\n                style.left = rect.right + \"px\";\n                style.top = rect.bottom + \"px\";\n              }\n            }\n\n            function hideTooltip() {\n              if (tooltipTimeout) tooltipTimeout = clearTimeout(tooltipTimeout);\n\n              if (tooltipAnnotation) {\n                tooltip.hide();\n                tooltipAnnotation = null;\n\n                editor._signal(\"hideGutterTooltip\", tooltip);\n\n                editor.removeEventListener(\"mousewheel\", hideTooltip);\n              }\n            }\n\n            function moveTooltip(e) {\n              tooltip.setPosition(e.x, e.y);\n            }\n\n            mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n              var target = e.domEvent.target || e.domEvent.srcElement;\n              if (dom.hasCssClass(target, \"ace_fold-widget\")) return hideTooltip();\n              if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse) moveTooltip(e);\n              mouseEvent = e;\n              if (tooltipTimeout) return;\n              tooltipTimeout = setTimeout(function () {\n                tooltipTimeout = null;\n                if (mouseEvent && !mouseHandler.isMousePressed) showTooltip();else hideTooltip();\n              }, 50);\n            });\n            event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n              mouseEvent = null;\n              if (!tooltipAnnotation || tooltipTimeout) return;\n              tooltipTimeout = setTimeout(function () {\n                tooltipTimeout = null;\n                hideTooltip();\n              }, 50);\n            });\n            editor.on(\"changeSession\", hideTooltip);\n          }\n\n          function GutterTooltip(parentNode) {\n            Tooltip.call(this, parentNode);\n          }\n\n          oop.inherits(GutterTooltip, Tooltip);\n          (function () {\n            this.setPosition = function (x, y) {\n              var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n              var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n              var width = this.getWidth();\n              var height = this.getHeight();\n              x += 15;\n              y += 15;\n\n              if (x + width > windowWidth) {\n                x -= x + width - windowWidth;\n              }\n\n              if (y + height > windowHeight) {\n                y -= 20 + height;\n              }\n\n              Tooltip.prototype.setPosition.call(this, x, y);\n            };\n          }).call(GutterTooltip.prototype);\n          exports.GutterHandler = GutterHandler;\n        });\n        ace.define(\"ace/mouse/mouse_event\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var event = require(\"../lib/event\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          var MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n            this.domEvent = domEvent;\n            this.editor = editor;\n            this.x = this.clientX = domEvent.clientX;\n            this.y = this.clientY = domEvent.clientY;\n            this.$pos = null;\n            this.$inSelection = null;\n            this.propagationStopped = false;\n            this.defaultPrevented = false;\n          };\n\n          (function () {\n            this.stopPropagation = function () {\n              event.stopPropagation(this.domEvent);\n              this.propagationStopped = true;\n            };\n\n            this.preventDefault = function () {\n              event.preventDefault(this.domEvent);\n              this.defaultPrevented = true;\n            };\n\n            this.stop = function () {\n              this.stopPropagation();\n              this.preventDefault();\n            };\n\n            this.getDocumentPosition = function () {\n              if (this.$pos) return this.$pos;\n              this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n              return this.$pos;\n            };\n\n            this.inSelection = function () {\n              if (this.$inSelection !== null) return this.$inSelection;\n              var editor = this.editor;\n              var selectionRange = editor.getSelectionRange();\n              if (selectionRange.isEmpty()) this.$inSelection = false;else {\n                var pos = this.getDocumentPosition();\n                this.$inSelection = selectionRange.contains(pos.row, pos.column);\n              }\n              return this.$inSelection;\n            };\n\n            this.getButton = function () {\n              return event.getButton(this.domEvent);\n            };\n\n            this.getShiftKey = function () {\n              return this.domEvent.shiftKey;\n            };\n\n            this.getAccelKey = useragent.isMac ? function () {\n              return this.domEvent.metaKey;\n            } : function () {\n              return this.domEvent.ctrlKey;\n            };\n          }).call(MouseEvent.prototype);\n        });\n        ace.define(\"ace/mouse/dragdrop_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          var event = require(\"../lib/event\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          var AUTOSCROLL_DELAY = 200;\n          var SCROLL_CURSOR_DELAY = 200;\n          var SCROLL_CURSOR_HYSTERESIS = 5;\n\n          function DragdropHandler(mouseHandler) {\n            var editor = mouseHandler.editor;\n            var blankImage = dom.createElement(\"img\");\n            blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n            if (useragent.isOpera) blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n            var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n            exports.forEach(function (x) {\n              mouseHandler[x] = this[x];\n            }, this);\n            editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n            var mouseTarget = editor.container;\n            var dragSelectionMarker, x, y;\n            var timerId, range;\n            var dragCursor,\n                counter = 0;\n            var dragOperation;\n            var isInternal;\n            var autoScrollStartTime;\n            var cursorMovedTime;\n            var cursorPointOnCaretMoved;\n\n            this.onDragStart = function (e) {\n              if (this.cancelDrag || !mouseTarget.draggable) {\n                var self = this;\n                setTimeout(function () {\n                  self.startSelect();\n                  self.captureMouse(e);\n                }, 0);\n                return e.preventDefault();\n              }\n\n              range = editor.getSelectionRange();\n              var dataTransfer = e.dataTransfer;\n              dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n\n              if (useragent.isOpera) {\n                editor.container.appendChild(blankImage);\n                blankImage.scrollTop = 0;\n              }\n\n              dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n\n              if (useragent.isOpera) {\n                editor.container.removeChild(blankImage);\n              }\n\n              dataTransfer.clearData();\n              dataTransfer.setData(\"Text\", editor.session.getTextRange());\n              isInternal = true;\n              this.setState(\"drag\");\n            };\n\n            this.onDragEnd = function (e) {\n              mouseTarget.draggable = false;\n              isInternal = false;\n              this.setState(null);\n\n              if (!editor.getReadOnly()) {\n                var dropEffect = e.dataTransfer.dropEffect;\n                if (!dragOperation && dropEffect == \"move\") editor.session.remove(editor.getSelectionRange());\n                editor.$resetCursorStyle();\n              }\n\n              this.editor.unsetStyle(\"ace_dragging\");\n              this.editor.renderer.setCursorStyle(\"\");\n            };\n\n            this.onDragEnter = function (e) {\n              if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n              x = e.clientX;\n              y = e.clientY;\n              if (!dragSelectionMarker) addDragMarker();\n              counter++;\n              e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n              return event.preventDefault(e);\n            };\n\n            this.onDragOver = function (e) {\n              if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n              x = e.clientX;\n              y = e.clientY;\n\n              if (!dragSelectionMarker) {\n                addDragMarker();\n                counter++;\n              }\n\n              if (onMouseMoveTimer !== null) onMouseMoveTimer = null;\n              e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n              return event.preventDefault(e);\n            };\n\n            this.onDragLeave = function (e) {\n              counter--;\n\n              if (counter <= 0 && dragSelectionMarker) {\n                clearDragMarker();\n                dragOperation = null;\n                return event.preventDefault(e);\n              }\n            };\n\n            this.onDrop = function (e) {\n              if (!dragCursor) return;\n              var dataTransfer = e.dataTransfer;\n\n              if (isInternal) {\n                switch (dragOperation) {\n                  case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                      range = {\n                        start: dragCursor,\n                        end: dragCursor\n                      };\n                    } else {\n                      range = editor.moveText(range, dragCursor);\n                    }\n\n                    break;\n\n                  case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n                }\n              } else {\n                var dropData = dataTransfer.getData('Text');\n                range = {\n                  start: dragCursor,\n                  end: editor.session.insert(dragCursor, dropData)\n                };\n                editor.focus();\n                dragOperation = null;\n              }\n\n              clearDragMarker();\n              return event.preventDefault(e);\n            };\n\n            event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n            event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n            event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n            event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n            event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n            event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n            function scrollCursorIntoView(cursor, prevCursor) {\n              var now = Date.now();\n              var vMovement = !prevCursor || cursor.row != prevCursor.row;\n              var hMovement = !prevCursor || cursor.column != prevCursor.column;\n\n              if (!cursorMovedTime || vMovement || hMovement) {\n                editor.moveCursorToPosition(cursor);\n                cursorMovedTime = now;\n                cursorPointOnCaretMoved = {\n                  x: x,\n                  y: y\n                };\n              } else {\n                var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n\n                if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                  cursorMovedTime = null;\n                } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                  editor.renderer.scrollCursorIntoView();\n                  cursorMovedTime = null;\n                }\n              }\n            }\n\n            function autoScroll(cursor, prevCursor) {\n              var now = Date.now();\n              var lineHeight = editor.renderer.layerConfig.lineHeight;\n              var characterWidth = editor.renderer.layerConfig.characterWidth;\n              var editorRect = editor.renderer.scroller.getBoundingClientRect();\n              var offsets = {\n                x: {\n                  left: x - editorRect.left,\n                  right: editorRect.right - x\n                },\n                y: {\n                  top: y - editorRect.top,\n                  bottom: editorRect.bottom - y\n                }\n              };\n              var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n              var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n              var scrollCursor = {\n                row: cursor.row,\n                column: cursor.column\n              };\n\n              if (nearestXOffset / characterWidth <= 2) {\n                scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : +2;\n              }\n\n              if (nearestYOffset / lineHeight <= 1) {\n                scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : +1;\n              }\n\n              var vScroll = cursor.row != scrollCursor.row;\n              var hScroll = cursor.column != scrollCursor.column;\n              var vMovement = !prevCursor || cursor.row != prevCursor.row;\n\n              if (vScroll || hScroll && !vMovement) {\n                if (!autoScrollStartTime) autoScrollStartTime = now;else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY) editor.renderer.scrollCursorIntoView(scrollCursor);\n              } else {\n                autoScrollStartTime = null;\n              }\n            }\n\n            function onDragInterval() {\n              var prevCursor = dragCursor;\n              dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n              scrollCursorIntoView(dragCursor, prevCursor);\n              autoScroll(dragCursor, prevCursor);\n            }\n\n            function addDragMarker() {\n              range = editor.selection.toOrientedRange();\n              dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n              editor.clearSelection();\n              if (editor.isFocused()) editor.renderer.$cursorLayer.setBlinking(false);\n              clearInterval(timerId);\n              onDragInterval();\n              timerId = setInterval(onDragInterval, 20);\n              counter = 0;\n              event.addListener(document, \"mousemove\", onMouseMove);\n            }\n\n            function clearDragMarker() {\n              clearInterval(timerId);\n              editor.session.removeMarker(dragSelectionMarker);\n              dragSelectionMarker = null;\n              editor.selection.fromOrientedRange(range);\n              if (editor.isFocused() && !isInternal) editor.$resetCursorStyle();\n              range = null;\n              dragCursor = null;\n              counter = 0;\n              autoScrollStartTime = null;\n              cursorMovedTime = null;\n              event.removeListener(document, \"mousemove\", onMouseMove);\n            }\n\n            var onMouseMoveTimer = null;\n\n            function onMouseMove() {\n              if (onMouseMoveTimer == null) {\n                onMouseMoveTimer = setTimeout(function () {\n                  if (onMouseMoveTimer != null && dragSelectionMarker) clearDragMarker();\n                }, 20);\n              }\n            }\n\n            function canAccept(dataTransfer) {\n              var types = dataTransfer.types;\n              return !types || Array.prototype.some.call(types, function (type) {\n                return type == 'text/plain' || type == 'Text';\n              });\n            }\n\n            function getDropEffect(e) {\n              var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n              var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n              var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n              var effectAllowed = \"uninitialized\";\n\n              try {\n                effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n              } catch (e) {}\n\n              var dropEffect = \"none\";\n              if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";else if (moveAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"move\";else if (copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";\n              return dropEffect;\n            }\n          }\n\n          (function () {\n            this.dragWait = function () {\n              var interval = Date.now() - this.mousedownEvent.time;\n              if (interval > this.editor.getDragDelay()) this.startDrag();\n            };\n\n            this.dragWaitEnd = function () {\n              var target = this.editor.container;\n              target.draggable = false;\n              this.startSelect(this.mousedownEvent.getDocumentPosition());\n              this.selectEnd();\n            };\n\n            this.dragReadyEnd = function (e) {\n              this.editor.$resetCursorStyle();\n              this.editor.unsetStyle(\"ace_dragging\");\n              this.editor.renderer.setCursorStyle(\"\");\n              this.dragWaitEnd();\n            };\n\n            this.startDrag = function () {\n              this.cancelDrag = false;\n              var editor = this.editor;\n              var target = editor.container;\n              target.draggable = true;\n              editor.renderer.$cursorLayer.setBlinking(false);\n              editor.setStyle(\"ace_dragging\");\n              var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n              editor.renderer.setCursorStyle(cursorStyle);\n              this.setState(\"dragReady\");\n            };\n\n            this.onMouseDrag = function (e) {\n              var target = this.editor.container;\n\n              if (useragent.isIE && this.state == \"dragReady\") {\n                var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n                if (distance > 3) target.dragDrop();\n              }\n\n              if (this.state === \"dragWait\") {\n                var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n\n                if (distance > 0) {\n                  target.draggable = false;\n                  this.startSelect(this.mousedownEvent.getDocumentPosition());\n                }\n              }\n            };\n\n            this.onMouseDown = function (e) {\n              if (!this.$dragEnabled) return;\n              this.mousedownEvent = e;\n              var editor = this.editor;\n              var inSelection = e.inSelection();\n              var button = e.getButton();\n              var clickCount = e.domEvent.detail || 1;\n\n              if (clickCount === 1 && button === 0 && inSelection) {\n                if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;\n                this.mousedownEvent.time = Date.now();\n                var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n                if (\"unselectable\" in eventTarget) eventTarget.unselectable = \"on\";\n\n                if (editor.getDragDelay()) {\n                  if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                  }\n\n                  this.setState(\"dragWait\");\n                } else {\n                  this.startDrag();\n                }\n\n                this.captureMouse(e, this.onMouseDrag.bind(this));\n                e.defaultPrevented = true;\n              }\n            };\n          }).call(DragdropHandler.prototype);\n\n          function calcDistance(ax, ay, bx, by) {\n            return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n          }\n\n          exports.DragdropHandler = DragdropHandler;\n        });\n        ace.define(\"ace/mouse/touch_handler\", [\"require\", \"exports\", \"module\", \"ace/mouse/mouse_event\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var MouseEvent = require(\"./mouse_event\").MouseEvent;\n\n          var dom = require(\"../lib/dom\");\n\n          exports.addTouchListeners = function (el, editor) {\n            var mode = \"scroll\";\n            var startX;\n            var startY;\n            var touchStartT;\n            var lastT;\n            var longTouchTimer;\n            var animationTimer;\n            var animationSteps = 0;\n            var pos;\n            var clickCount = 0;\n            var vX = 0;\n            var vY = 0;\n            var pressed;\n            var contextMenu;\n\n            function createContextMenu() {\n              var clipboard = window.navigator && window.navigator.clipboard;\n              var isOpen = false;\n\n              var updateMenu = function updateMenu() {\n                var selected = editor.getCopyText();\n                var hasUndo = editor.session.getUndoManager().hasUndo();\n                contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\", !selected && [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"selectall\"\n                }, \"Select All\"], selected && [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"copy\"\n                }, \"Copy\"], selected && [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"cut\"\n                }, \"Cut\"], clipboard && [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"paste\"\n                }, \"Paste\"], hasUndo && [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"undo\"\n                }, \"Undo\"], [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"find\"\n                }, \"Find\"], [\"span\", {\n                  class: \"ace_mobile-button\",\n                  action: \"openCommandPallete\"\n                }, \"Pallete\"]] : [\"span\"]), contextMenu.firstChild);\n              };\n\n              var handleClick = function handleClick(e) {\n                var action = e.target.getAttribute(\"action\");\n\n                if (action == \"more\" || !isOpen) {\n                  isOpen = !isOpen;\n                  return updateMenu();\n                }\n\n                if (action == \"paste\") {\n                  clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                  });\n                } else if (action) {\n                  if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard) clipboard.writeText(editor.getCopyText());else document.execCommand(\"copy\");\n                  }\n\n                  editor.execCommand(action);\n                }\n\n                contextMenu.firstChild.style.display = \"none\";\n                isOpen = false;\n                if (action != \"openCommandPallete\") editor.focus();\n              };\n\n              contextMenu = dom.buildDom([\"div\", {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function ontouchstart(e) {\n                  mode = \"menu\";\n                  e.stopPropagation();\n                  e.preventDefault();\n                  editor.textInput.focus();\n                },\n                ontouchend: function ontouchend(e) {\n                  e.stopPropagation();\n                  e.preventDefault();\n                  handleClick(e);\n                },\n                onclick: handleClick\n              }, [\"span\"], [\"span\", {\n                class: \"ace_mobile-button\",\n                action: \"more\"\n              }, \"...\"]], editor.container);\n            }\n\n            function showContextMenu() {\n              if (!contextMenu) createContextMenu();\n              var cursor = editor.selection.cursor;\n              var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n              var rect = editor.container.getBoundingClientRect();\n              contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n              contextMenu.style.right = \"10px\";\n              contextMenu.style.display = \"\";\n              contextMenu.firstChild.style.display = \"none\";\n              editor.on(\"input\", hideContextMenu);\n            }\n\n            function hideContextMenu(e) {\n              if (contextMenu) contextMenu.style.display = \"none\";\n              editor.off(\"input\", hideContextMenu);\n            }\n\n            function handleLongTap() {\n              longTouchTimer = null;\n              clearTimeout(longTouchTimer);\n              var range = editor.selection.getRange();\n              var inSelection = range.contains(pos.row, pos.column);\n\n              if (range.isEmpty() || !inSelection) {\n                editor.selection.moveToPosition(pos);\n                editor.selection.selectWord();\n              }\n\n              mode = \"wait\";\n              showContextMenu();\n            }\n\n            function switchToSelectionMode() {\n              longTouchTimer = null;\n              clearTimeout(longTouchTimer);\n              editor.selection.moveToPosition(pos);\n              var range = clickCount >= 2 ? editor.selection.getLineRange(pos.row) : editor.session.getBracketRange(pos);\n\n              if (range && !range.isEmpty()) {\n                editor.selection.setRange(range);\n              } else {\n                editor.selection.selectWord();\n              }\n\n              mode = \"wait\";\n            }\n\n            el.addEventListener(\"contextmenu\", function (e) {\n              if (!pressed) return;\n              var textarea = editor.textInput.getElement();\n              textarea.focus();\n            });\n            el.addEventListener(\"touchstart\", function (e) {\n              var touches = e.touches;\n\n              if (longTouchTimer || touches.length > 1) {\n                clearTimeout(longTouchTimer);\n                longTouchTimer = null;\n                touchStartT = -1;\n                mode = \"zoom\";\n                return;\n              }\n\n              pressed = editor.$mouseHandler.isMousePressed = true;\n              var h = editor.renderer.layerConfig.lineHeight;\n              var w = editor.renderer.layerConfig.lineHeight;\n              var t = e.timeStamp;\n              lastT = t;\n              var touchObj = touches[0];\n              var x = touchObj.clientX;\n              var y = touchObj.clientY;\n              if (Math.abs(startX - x) + Math.abs(startY - y) > h) touchStartT = -1;\n              startX = e.clientX = x;\n              startY = e.clientY = y;\n              vX = vY = 0;\n              var ev = new MouseEvent(e, editor);\n              pos = ev.getDocumentPosition();\n\n              if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n                clickCount++;\n                e.preventDefault();\n                e.button = 0;\n                switchToSelectionMode();\n              } else {\n                clickCount = 0;\n                var cursor = editor.selection.cursor;\n                var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n                var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n                var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n                var rect = editor.renderer.scroller.getBoundingClientRect();\n\n                var weightedDistance = function weightedDistance(x, y) {\n                  x = x / w;\n                  y = y / h - 0.75;\n                  return x * x + y * y;\n                };\n\n                if (e.clientX < rect.left) {\n                  mode = \"zoom\";\n                  return;\n                }\n\n                var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left, e.clientY - rect.top - cursorPos.top);\n                var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left, e.clientY - rect.top - anchorPos.top);\n                if (diff1 < 3.5 && diff2 < 3.5) mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                if (diff2 < 3.5) mode = \"anchor\";else if (diff1 < 3.5) mode = \"cursor\";else mode = \"scroll\";\n                longTouchTimer = setTimeout(handleLongTap, 450);\n              }\n\n              touchStartT = t;\n            });\n            el.addEventListener(\"touchend\", function (e) {\n              pressed = editor.$mouseHandler.isMousePressed = false;\n              if (animationTimer) clearInterval(animationTimer);\n\n              if (mode == \"zoom\") {\n                mode = \"\";\n                animationSteps = 0;\n              } else if (longTouchTimer) {\n                editor.selection.moveToPosition(pos);\n                animationSteps = 0;\n                showContextMenu();\n              } else if (mode == \"scroll\") {\n                animate();\n                e.preventDefault();\n                hideContextMenu();\n              } else {\n                showContextMenu();\n              }\n\n              clearTimeout(longTouchTimer);\n              longTouchTimer = null;\n            });\n            el.addEventListener(\"touchmove\", function (e) {\n              if (longTouchTimer) {\n                clearTimeout(longTouchTimer);\n                longTouchTimer = null;\n              }\n\n              var touches = e.touches;\n              if (touches.length > 1 || mode == \"zoom\") return;\n              var touchObj = touches[0];\n              var wheelX = startX - touchObj.clientX;\n              var wheelY = startY - touchObj.clientY;\n\n              if (mode == \"wait\") {\n                if (wheelX * wheelX + wheelY * wheelY > 4) mode = \"cursor\";else return e.preventDefault();\n              }\n\n              startX = touchObj.clientX;\n              startY = touchObj.clientY;\n              e.clientX = touchObj.clientX;\n              e.clientY = touchObj.clientY;\n              var t = e.timeStamp;\n              var dt = t - lastT;\n              lastT = t;\n\n              if (mode == \"scroll\") {\n                var mouseEvent = new MouseEvent(e, editor);\n                mouseEvent.speed = 1;\n                mouseEvent.wheelX = wheelX;\n                mouseEvent.wheelY = wheelY;\n                if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n                if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n\n                if (dt != 0) {\n                  vX = wheelX / dt;\n                  vY = wheelY / dt;\n                }\n\n                editor._emit(\"mousewheel\", mouseEvent);\n\n                if (!mouseEvent.propagationStopped) {\n                  vX = vY = 0;\n                }\n              } else {\n                var ev = new MouseEvent(e, editor);\n                var pos = ev.getDocumentPosition();\n                if (mode == \"cursor\") editor.selection.moveCursorToPosition(pos);else if (mode == \"anchor\") editor.selection.setSelectionAnchor(pos.row, pos.column);\n                editor.renderer.scrollCursorIntoView(pos);\n                e.preventDefault();\n              }\n            });\n\n            function animate() {\n              animationSteps += 60;\n              animationTimer = setInterval(function () {\n                if (animationSteps-- <= 0) {\n                  clearInterval(animationTimer);\n                  animationTimer = null;\n                }\n\n                if (Math.abs(vX) < 0.01) vX = 0;\n                if (Math.abs(vY) < 0.01) vY = 0;\n                if (animationSteps < 20) vX = 0.9 * vX;\n                if (animationSteps < 20) vY = 0.9 * vY;\n                var oldScrollTop = editor.session.getScrollTop();\n                editor.renderer.scrollBy(10 * vX, 10 * vY);\n                if (oldScrollTop == editor.session.getScrollTop()) animationSteps = 0;\n              }, 10);\n            }\n          };\n        });\n        ace.define(\"ace/lib/net\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"./dom\");\n\n          exports.get = function (url, callback) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, true);\n\n            xhr.onreadystatechange = function () {\n              if (xhr.readyState === 4) {\n                callback(xhr.responseText);\n              }\n            };\n\n            xhr.send(null);\n          };\n\n          exports.loadScript = function (path, callback) {\n            var head = dom.getDocumentHead();\n            var s = document.createElement('script');\n            s.src = path;\n            head.appendChild(s);\n\n            s.onload = s.onreadystatechange = function (_, isAbort) {\n              if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n                s = s.onload = s.onreadystatechange = null;\n                if (!isAbort) callback();\n              }\n            };\n          };\n\n          exports.qualifyURL = function (url) {\n            var a = document.createElement('a');\n            a.href = url;\n            return a.href;\n          };\n        });\n        ace.define(\"ace/lib/event_emitter\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var EventEmitter = {};\n\n          var stopPropagation = function stopPropagation() {\n            this.propagationStopped = true;\n          };\n\n          var preventDefault = function preventDefault() {\n            this.defaultPrevented = true;\n          };\n\n          EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n            this._eventRegistry || (this._eventRegistry = {});\n            this._defaultHandlers || (this._defaultHandlers = {});\n            var listeners = this._eventRegistry[eventName] || [];\n            var defaultHandler = this._defaultHandlers[eventName];\n            if (!listeners.length && !defaultHandler) return;\n            if (typeof e != \"object\" || !e) e = {};\n            if (!e.type) e.type = eventName;\n            if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n            if (!e.preventDefault) e.preventDefault = preventDefault;\n            listeners = listeners.slice();\n\n            for (var i = 0; i < listeners.length; i++) {\n              listeners[i](e, this);\n              if (e.propagationStopped) break;\n            }\n\n            if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n          };\n\n          EventEmitter._signal = function (eventName, e) {\n            var listeners = (this._eventRegistry || {})[eventName];\n            if (!listeners) return;\n            listeners = listeners.slice();\n\n            for (var i = 0; i < listeners.length; i++) {\n              listeners[i](e, this);\n            }\n          };\n\n          EventEmitter.once = function (eventName, callback) {\n            var _self = this;\n\n            this.addEventListener(eventName, function newCallback() {\n              _self.removeEventListener(eventName, newCallback);\n\n              callback.apply(null, arguments);\n            });\n\n            if (!callback) {\n              return new Promise(function (resolve) {\n                callback = resolve;\n              });\n            }\n          };\n\n          EventEmitter.setDefaultHandler = function (eventName, callback) {\n            var handlers = this._defaultHandlers;\n            if (!handlers) handlers = this._defaultHandlers = {\n              _disabled_: {}\n            };\n\n            if (handlers[eventName]) {\n              var old = handlers[eventName];\n              var disabled = handlers._disabled_[eventName];\n              if (!disabled) handlers._disabled_[eventName] = disabled = [];\n              disabled.push(old);\n              var i = disabled.indexOf(callback);\n              if (i != -1) disabled.splice(i, 1);\n            }\n\n            handlers[eventName] = callback;\n          };\n\n          EventEmitter.removeDefaultHandler = function (eventName, callback) {\n            var handlers = this._defaultHandlers;\n            if (!handlers) return;\n            var disabled = handlers._disabled_[eventName];\n\n            if (handlers[eventName] == callback) {\n              if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n            } else if (disabled) {\n              var i = disabled.indexOf(callback);\n              if (i != -1) disabled.splice(i, 1);\n            }\n          };\n\n          EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners) listeners = this._eventRegistry[eventName] = [];\n            if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n            return callback;\n          };\n\n          EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners) return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1) listeners.splice(index, 1);\n          };\n\n          EventEmitter.removeAllListeners = function (eventName) {\n            if (this._eventRegistry) this._eventRegistry[eventName] = [];\n          };\n\n          exports.EventEmitter = EventEmitter;\n        });\n        ace.define(\"ace/lib/app_config\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          \"no use strict\";\n\n          var oop = require(\"./oop\");\n\n          var EventEmitter = require(\"./event_emitter\").EventEmitter;\n\n          var optionsProvider = {\n            setOptions: function setOptions(optList) {\n              Object.keys(optList).forEach(function (key) {\n                this.setOption(key, optList[key]);\n              }, this);\n            },\n            getOptions: function getOptions(optionNames) {\n              var result = {};\n\n              if (!optionNames) {\n                var options = this.$options;\n                optionNames = Object.keys(options).filter(function (key) {\n                  return !options[key].hidden;\n                });\n              } else if (!Array.isArray(optionNames)) {\n                result = optionNames;\n                optionNames = Object.keys(result);\n              }\n\n              optionNames.forEach(function (key) {\n                result[key] = this.getOption(key);\n              }, this);\n              return result;\n            },\n            setOption: function setOption(name, value) {\n              if (this[\"$\" + name] === value) return;\n              var opt = this.$options[name];\n\n              if (!opt) {\n                return warn('misspelled option \"' + name + '\"');\n              }\n\n              if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n              if (!opt.handlesSet) this[\"$\" + name] = value;\n              if (opt && opt.set) opt.set.call(this, value);\n            },\n            getOption: function getOption(name) {\n              var opt = this.$options[name];\n\n              if (!opt) {\n                return warn('misspelled option \"' + name + '\"');\n              }\n\n              if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n              return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n            }\n          };\n\n          function warn(message) {\n            if (typeof console != \"undefined\" && console.warn) console.warn.apply(console, arguments);\n          }\n\n          function reportError(msg, data) {\n            var e = new Error(msg);\n            e.data = data;\n            if (typeof console == \"object\" && console.error) console.error(e);\n            setTimeout(function () {\n              throw e;\n            });\n          }\n\n          var AppConfig = function AppConfig() {\n            this.$defaultOptions = {};\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.defineOptions = function (obj, path, options) {\n              if (!obj.$options) this.$defaultOptions[path] = obj.$options = {};\n              Object.keys(options).forEach(function (key) {\n                var opt = options[key];\n                if (typeof opt == \"string\") opt = {\n                  forwardTo: opt\n                };\n                opt.name || (opt.name = key);\n                obj.$options[opt.name] = opt;\n                if (\"initialValue\" in opt) obj[\"$\" + opt.name] = opt.initialValue;\n              });\n              oop.implement(obj, optionsProvider);\n              return this;\n            };\n\n            this.resetOptions = function (obj) {\n              Object.keys(obj.$options).forEach(function (key) {\n                var opt = obj.$options[key];\n                if (\"value\" in opt) obj.setOption(key, opt.value);\n              });\n            };\n\n            this.setDefaultValue = function (path, name, value) {\n              if (!path) {\n                for (path in this.$defaultOptions) {\n                  if (this.$defaultOptions[path][name]) break;\n                }\n\n                if (!this.$defaultOptions[path][name]) return false;\n              }\n\n              var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n\n              if (opts[name]) {\n                if (opts.forwardTo) this.setDefaultValue(opts.forwardTo, name, value);else opts[name].value = value;\n              }\n            };\n\n            this.setDefaultValues = function (path, optionHash) {\n              Object.keys(optionHash).forEach(function (key) {\n                this.setDefaultValue(path, key, optionHash[key]);\n              }, this);\n            };\n\n            this.warn = warn;\n            this.reportError = reportError;\n          }).call(AppConfig.prototype);\n          exports.AppConfig = AppConfig;\n        });\n        ace.define(\"ace/config\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/app_config\"], function (require, exports, module) {\n          \"no use strict\";\n\n          var lang = require(\"./lib/lang\");\n\n          var oop = require(\"./lib/oop\");\n\n          var net = require(\"./lib/net\");\n\n          var AppConfig = require(\"./lib/app_config\").AppConfig;\n\n          module.exports = exports = new AppConfig();\n\n          var global = function () {\n            return this || typeof window != \"undefined\" && window;\n          }();\n\n          var options = {\n            packaged: false,\n            workerPath: null,\n            modePath: null,\n            themePath: null,\n            basePath: \"\",\n            suffix: \".js\",\n            $moduleUrls: {},\n            loadWorkerFromBlob: true,\n            sharedPopups: false\n          };\n\n          exports.get = function (key) {\n            if (!options.hasOwnProperty(key)) throw new Error(\"Unknown config key: \" + key);\n            return options[key];\n          };\n\n          exports.set = function (key, value) {\n            if (options.hasOwnProperty(key)) options[key] = value;else if (this.setDefaultValue(\"\", key, value) == false) throw new Error(\"Unknown config key: \" + key);\n          };\n\n          exports.all = function () {\n            return lang.copyObject(options);\n          };\n\n          exports.$modes = {};\n\n          exports.moduleUrl = function (name, component) {\n            if (options.$moduleUrls[name]) return options.$moduleUrls[name];\n            var parts = name.split(\"/\");\n            component = component || parts[parts.length - 2] || \"\";\n            var sep = component == \"snippets\" ? \"/\" : \"-\";\n            var base = parts[parts.length - 1];\n\n            if (component == \"worker\" && sep == \"-\") {\n              var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n              base = base.replace(re, \"\");\n            }\n\n            if ((!base || base == component) && parts.length > 1) base = parts[parts.length - 2];\n            var path = options[component + \"Path\"];\n\n            if (path == null) {\n              path = options.basePath;\n            } else if (sep == \"/\") {\n              component = sep = \"\";\n            }\n\n            if (path && path.slice(-1) != \"/\") path += \"/\";\n            return path + component + sep + base + this.get(\"suffix\");\n          };\n\n          exports.setModuleUrl = function (name, subst) {\n            return options.$moduleUrls[name] = subst;\n          };\n\n          exports.$loading = {};\n\n          exports.loadModule = function (moduleName, onLoad) {\n            var module, moduleType;\n\n            if (Array.isArray(moduleName)) {\n              moduleType = moduleName[0];\n              moduleName = moduleName[1];\n            }\n\n            try {\n              module = require(moduleName);\n            } catch (e) {}\n\n            if (module && !exports.$loading[moduleName]) return onLoad && onLoad(module);\n            if (!exports.$loading[moduleName]) exports.$loading[moduleName] = [];\n            exports.$loading[moduleName].push(onLoad);\n            if (exports.$loading[moduleName].length > 1) return;\n\n            var afterLoad = function afterLoad() {\n              require([moduleName], function (module) {\n                exports._emit(\"load.module\", {\n                  name: moduleName,\n                  module: module\n                });\n\n                var listeners = exports.$loading[moduleName];\n                exports.$loading[moduleName] = null;\n                listeners.forEach(function (onLoad) {\n                  onLoad && onLoad(module);\n                });\n              });\n            };\n\n            if (!exports.get(\"packaged\")) return afterLoad();\n            net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n\n            _reportErrorIfPathIsNotConfigured();\n          };\n\n          var _reportErrorIfPathIsNotConfigured = function reportErrorIfPathIsNotConfigured() {\n            if (!options.basePath && !options.workerPath && !options.modePath && !options.themePath && !Object.keys(options.$moduleUrls).length) {\n              console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n\n              _reportErrorIfPathIsNotConfigured = function reportErrorIfPathIsNotConfigured() {};\n            }\n          };\n\n          init(true);\n\n          function init(packaged) {\n            if (!global || !global.document) return;\n            options.packaged = packaged || require.packaged || module.packaged || global.define && __webpack_require__(23).packaged;\n            var scriptOptions = {};\n            var scriptUrl = \"\";\n            var currentScript = document.currentScript || document._currentScript; // native or polyfill\n\n            var currentDocument = currentScript && currentScript.ownerDocument || document;\n            var scripts = currentDocument.getElementsByTagName(\"script\");\n\n            for (var i = 0; i < scripts.length; i++) {\n              var script = scripts[i];\n              var src = script.src || script.getAttribute(\"src\");\n              if (!src) continue;\n              var attributes = script.attributes;\n\n              for (var j = 0, l = attributes.length; j < l; j++) {\n                var attr = attributes[j];\n\n                if (attr.name.indexOf(\"data-ace-\") === 0) {\n                  scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n                }\n              }\n\n              var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n              if (m) scriptUrl = m[1];\n            }\n\n            if (scriptUrl) {\n              scriptOptions.base = scriptOptions.base || scriptUrl;\n              scriptOptions.packaged = true;\n            }\n\n            scriptOptions.basePath = scriptOptions.base;\n            scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n            scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n            scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n            delete scriptOptions.base;\n\n            for (var key in scriptOptions) {\n              if (typeof scriptOptions[key] !== \"undefined\") exports.set(key, scriptOptions[key]);\n            }\n          }\n\n          exports.init = init;\n\n          function deHyphenate(str) {\n            return str.replace(/-(.)/g, function (m, m1) {\n              return m1.toUpperCase();\n            });\n          }\n\n          exports.version = \"1.4.7\";\n        });\n        ace.define(\"ace/mouse/mouse_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/mouse/default_handlers\", \"ace/mouse/default_gutter_handler\", \"ace/mouse/mouse_event\", \"ace/mouse/dragdrop_handler\", \"ace/mouse/touch_handler\", \"ace/config\"], function (require, exports, module) {\n          \"use strict\";\n\n          var event = require(\"../lib/event\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          var DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\n\n          var DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\n\n          var MouseEvent = require(\"./mouse_event\").MouseEvent;\n\n          var DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\n\n          var addTouchListeners = require(\"./touch_handler\").addTouchListeners;\n\n          var config = require(\"../config\");\n\n          var MouseHandler = function MouseHandler(editor) {\n            var _self = this;\n\n            this.editor = editor;\n            new DefaultHandlers(this);\n            new DefaultGutterHandler(this);\n            new DragdropHandler(this);\n\n            var focusEditor = function focusEditor(e) {\n              var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n              if (windowBlurred) window.focus();\n              editor.focus();\n            };\n\n            var mouseTarget = editor.renderer.getMouseEventTarget();\n            event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n            event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n            event.addMultiMouseDownListener([mouseTarget, editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner, editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner, editor.textInput && editor.textInput.getElement()].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\");\n            event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n            addTouchListeners(editor.container, editor);\n            var gutterEl = editor.renderer.$gutter;\n            event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n            event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n            event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n            event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n            event.addListener(mouseTarget, \"mousedown\", focusEditor);\n            event.addListener(gutterEl, \"mousedown\", focusEditor);\n\n            if (useragent.isIE && editor.renderer.scrollBarV) {\n              event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor);\n              event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor);\n            }\n\n            editor.on(\"mousemove\", function (e) {\n              if (_self.state || _self.$dragDelay || !_self.$dragEnabled) return;\n              var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n              var range = editor.session.selection.getRange();\n              var renderer = editor.renderer;\n\n              if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n                renderer.setCursorStyle(\"default\");\n              } else {\n                renderer.setCursorStyle(\"\");\n              }\n            });\n          };\n\n          (function () {\n            this.onMouseEvent = function (name, e) {\n              this.editor._emit(name, new MouseEvent(e, this.editor));\n            };\n\n            this.onMouseMove = function (name, e) {\n              var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n              if (!listeners || !listeners.length) return;\n\n              this.editor._emit(name, new MouseEvent(e, this.editor));\n            };\n\n            this.onMouseWheel = function (name, e) {\n              var mouseEvent = new MouseEvent(e, this.editor);\n              mouseEvent.speed = this.$scrollSpeed * 2;\n              mouseEvent.wheelX = e.wheelX;\n              mouseEvent.wheelY = e.wheelY;\n\n              this.editor._emit(name, mouseEvent);\n            };\n\n            this.setState = function (state) {\n              this.state = state;\n            };\n\n            this.captureMouse = function (ev, mouseMoveHandler) {\n              this.x = ev.x;\n              this.y = ev.y;\n              this.isMousePressed = true;\n              var editor = this.editor;\n              var renderer = this.editor.renderer;\n              renderer.$isMousePressed = true;\n              var self = this;\n\n              var onMouseMove = function onMouseMove(e) {\n                if (!e) return;\n                if (useragent.isWebKit && !e.which && self.releaseMouse) return self.releaseMouse();\n                self.x = e.clientX;\n                self.y = e.clientY;\n                mouseMoveHandler && mouseMoveHandler(e);\n                self.mouseEvent = new MouseEvent(e, self.editor);\n                self.$mouseMoved = true;\n              };\n\n              var onCaptureEnd = function onCaptureEnd(e) {\n                editor.off(\"beforeEndOperation\", onOperationEnd);\n                clearInterval(timerId);\n                onCaptureInterval();\n                self[self.state + \"End\"] && self[self.state + \"End\"](e);\n                self.state = \"\";\n                self.isMousePressed = renderer.$isMousePressed = false;\n                if (renderer.$keepTextAreaAtCursor) renderer.$moveTextAreaToCursor();\n                self.$onCaptureMouseMove = self.releaseMouse = null;\n                e && self.onMouseEvent(\"mouseup\", e);\n                editor.endOperation();\n              };\n\n              var onCaptureInterval = function onCaptureInterval() {\n                self[self.state] && self[self.state]();\n                self.$mouseMoved = false;\n              };\n\n              if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n                return setTimeout(function () {\n                  onCaptureEnd(ev);\n                });\n              }\n\n              var onOperationEnd = function onOperationEnd(e) {\n                if (!self.releaseMouse) return;\n\n                if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                  self[self.state + \"End\"] && self[self.state + \"End\"]();\n                  self.state = \"\";\n                  self.releaseMouse();\n                }\n              };\n\n              editor.on(\"beforeEndOperation\", onOperationEnd);\n              editor.startOperation({\n                command: {\n                  name: \"mouse\"\n                }\n              });\n              self.$onCaptureMouseMove = onMouseMove;\n              self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n              var timerId = setInterval(onCaptureInterval, 20);\n            };\n\n            this.releaseMouse = null;\n\n            this.cancelContextMenu = function () {\n              var stop = function (e) {\n                if (e && e.domEvent && e.domEvent.type != \"contextmenu\") return;\n                this.editor.off(\"nativecontextmenu\", stop);\n                if (e && e.domEvent) event.stopEvent(e.domEvent);\n              }.bind(this);\n\n              setTimeout(stop, 10);\n              this.editor.on(\"nativecontextmenu\", stop);\n            };\n          }).call(MouseHandler.prototype);\n          config.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n            scrollSpeed: {\n              initialValue: 2\n            },\n            dragDelay: {\n              initialValue: useragent.isMac ? 150 : 0\n            },\n            dragEnabled: {\n              initialValue: true\n            },\n            focusTimeout: {\n              initialValue: 0\n            },\n            tooltipFollowsMouse: {\n              initialValue: true\n            }\n          });\n          exports.MouseHandler = MouseHandler;\n        });\n        ace.define(\"ace/mouse/fold_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          function FoldHandler(editor) {\n            editor.on(\"click\", function (e) {\n              var position = e.getDocumentPosition();\n              var session = editor.session;\n              var fold = session.getFoldAt(position.row, position.column, 1);\n\n              if (fold) {\n                if (e.getAccelKey()) session.removeFold(fold);else session.expandFold(fold);\n                e.stop();\n              }\n\n              var target = e.domEvent && e.domEvent.target;\n\n              if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n                if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                  session.setOption(\"wrap\", !session.getUseWrapMode());\n                  editor.renderer.scrollCursorIntoView();\n                }\n              }\n            });\n            editor.on(\"gutterclick\", function (e) {\n              var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n              if (gutterRegion == \"foldWidgets\") {\n                var row = e.getDocumentPosition().row;\n                var session = editor.session;\n                if (session.foldWidgets && session.foldWidgets[row]) editor.session.onFoldWidgetClick(row, e);\n                if (!editor.isFocused()) editor.focus();\n                e.stop();\n              }\n            });\n            editor.on(\"gutterdblclick\", function (e) {\n              var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n              if (gutterRegion == \"foldWidgets\") {\n                var row = e.getDocumentPosition().row;\n                var session = editor.session;\n                var data = session.getParentFoldRangeData(row, true);\n                var range = data.range || data.firstRange;\n\n                if (range) {\n                  row = range.start.row;\n                  var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                  if (fold) {\n                    session.removeFold(fold);\n                  } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({\n                      row: range.start.row,\n                      column: 0\n                    });\n                  }\n                }\n\n                e.stop();\n              }\n            });\n          }\n\n          exports.FoldHandler = FoldHandler;\n        });\n        ace.define(\"ace/keyboard/keybinding\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/event\"], function (require, exports, module) {\n          \"use strict\";\n\n          var keyUtil = require(\"../lib/keys\");\n\n          var event = require(\"../lib/event\");\n\n          var KeyBinding = function KeyBinding(editor) {\n            this.$editor = editor;\n            this.$data = {\n              editor: editor\n            };\n            this.$handlers = [];\n            this.setDefaultHandler(editor.commands);\n          };\n\n          (function () {\n            this.setDefaultHandler = function (kb) {\n              this.removeKeyboardHandler(this.$defaultHandler);\n              this.$defaultHandler = kb;\n              this.addKeyboardHandler(kb, 0);\n            };\n\n            this.setKeyboardHandler = function (kb) {\n              var h = this.$handlers;\n              if (h[h.length - 1] == kb) return;\n\n              while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler) {\n                this.removeKeyboardHandler(h[h.length - 1]);\n              }\n\n              this.addKeyboardHandler(kb, 1);\n            };\n\n            this.addKeyboardHandler = function (kb, pos) {\n              if (!kb) return;\n              if (typeof kb == \"function\" && !kb.handleKeyboard) kb.handleKeyboard = kb;\n              var i = this.$handlers.indexOf(kb);\n              if (i != -1) this.$handlers.splice(i, 1);\n              if (pos == undefined) this.$handlers.push(kb);else this.$handlers.splice(pos, 0, kb);\n              if (i == -1 && kb.attach) kb.attach(this.$editor);\n            };\n\n            this.removeKeyboardHandler = function (kb) {\n              var i = this.$handlers.indexOf(kb);\n              if (i == -1) return false;\n              this.$handlers.splice(i, 1);\n              kb.detach && kb.detach(this.$editor);\n              return true;\n            };\n\n            this.getKeyboardHandler = function () {\n              return this.$handlers[this.$handlers.length - 1];\n            };\n\n            this.getStatusText = function () {\n              var data = this.$data;\n              var editor = data.editor;\n              return this.$handlers.map(function (h) {\n                return h.getStatusText && h.getStatusText(editor, data) || \"\";\n              }).filter(Boolean).join(\" \");\n            };\n\n            this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n              var toExecute;\n              var success = false;\n              var commands = this.$editor.commands;\n\n              for (var i = this.$handlers.length; i--;) {\n                toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n                if (!toExecute || !toExecute.command) continue;\n\n                if (toExecute.command == \"null\") {\n                  success = true;\n                } else {\n                  success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n                }\n\n                if (success && e && hashId != -1 && toExecute.passEvent != true && toExecute.command.passEvent != true) {\n                  event.stopEvent(e);\n                }\n\n                if (success) break;\n              }\n\n              if (!success && hashId == -1) {\n                toExecute = {\n                  command: \"insertstring\"\n                };\n                success = commands.exec(\"insertstring\", this.$editor, keyString);\n              }\n\n              if (success && this.$editor._signal) this.$editor._signal(\"keyboardActivity\", toExecute);\n              return success;\n            };\n\n            this.onCommandKey = function (e, hashId, keyCode) {\n              var keyString = keyUtil.keyCodeToString(keyCode);\n              return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n            };\n\n            this.onTextInput = function (text) {\n              return this.$callKeyboardHandlers(-1, text);\n            };\n          }).call(KeyBinding.prototype);\n          exports.KeyBinding = KeyBinding;\n        });\n        ace.define(\"ace/lib/bidiutil\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var ArabicAlefBetIntervalsBegine = [\"\\u0621\", \"\\u0641\"];\n          var ArabicAlefBetIntervalsEnd = [\"\\u063A\", \"\\u064A\"];\n          var dir = 0,\n              hiLevel = 0;\n          var lastArabic = false,\n              hasUBAT_AL = false,\n              hasUBAT_B = false,\n              hasUBAT_S = false,\n              hasBlockSep = false,\n              hasSegSep = false;\n          var impTab_LTR = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]];\n          var impTab_RTL = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]];\n          var LTR = 0,\n              RTL = 1;\n          var L = 0;\n          var R = 1;\n          var EN = 2;\n          var AN = 3;\n          var ON = 4;\n          var B = 5;\n          var S = 6;\n          var AL = 7;\n          var WS = 8;\n          var CS = 9;\n          var ES = 10;\n          var ET = 11;\n          var NSM = 12;\n          var LRE = 13;\n          var RLE = 14;\n          var PDF = 15;\n          var LRO = 16;\n          var RLO = 17;\n          var BN = 18;\n          var UnicodeTBL00 = [BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S, WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS, EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN, BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON, ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON];\n          var UnicodeTBL20 = [WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS, ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS];\n\n          function _computeLevels(chars, levels, len, charTypes) {\n            var impTab = dir ? impTab_RTL : impTab_LTR,\n                prevState = null,\n                newClass = null,\n                newLevel = null,\n                newState = 0,\n                action = null,\n                cond = null,\n                condPos = -1,\n                i = null,\n                ix = null,\n                classes = [];\n\n            if (!charTypes) {\n              for (i = 0, charTypes = []; i < len; i++) {\n                charTypes[i] = _getCharacterType(chars[i]);\n              }\n            }\n\n            hiLevel = dir;\n            lastArabic = false;\n            hasUBAT_AL = false;\n            hasUBAT_B = false;\n            hasUBAT_S = false;\n\n            for (ix = 0; ix < len; ix++) {\n              prevState = newState;\n              classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n              newState = impTab[prevState][newClass];\n              action = newState & 0xF0;\n              newState &= 0x0F;\n              levels[ix] = newLevel = impTab[newState][5];\n\n              if (action > 0) {\n                if (action == 0x10) {\n                  for (i = condPos; i < ix; i++) {\n                    levels[i] = 1;\n                  }\n\n                  condPos = -1;\n                } else {\n                  condPos = -1;\n                }\n              }\n\n              cond = impTab[newState][6];\n\n              if (cond) {\n                if (condPos == -1) {\n                  condPos = ix;\n                }\n              } else {\n                if (condPos > -1) {\n                  for (i = condPos; i < ix; i++) {\n                    levels[i] = newLevel;\n                  }\n\n                  condPos = -1;\n                }\n              }\n\n              if (charTypes[ix] == B) {\n                levels[ix] = 0;\n              }\n\n              hiLevel |= newLevel;\n            }\n\n            if (hasUBAT_S) {\n              for (i = 0; i < len; i++) {\n                if (charTypes[i] == S) {\n                  levels[i] = dir;\n\n                  for (var j = i - 1; j >= 0; j--) {\n                    if (charTypes[j] == WS) {\n                      levels[j] = dir;\n                    } else {\n                      break;\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          function _invertLevel(lev, levels, _array) {\n            if (hiLevel < lev) {\n              return;\n            }\n\n            if (lev == 1 && dir == RTL && !hasUBAT_B) {\n              _array.reverse();\n\n              return;\n            }\n\n            var len = _array.length,\n                start = 0,\n                end,\n                lo,\n                hi,\n                tmp;\n\n            while (start < len) {\n              if (levels[start] >= lev) {\n                end = start + 1;\n\n                while (end < len && levels[end] >= lev) {\n                  end++;\n                }\n\n                for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                  tmp = _array[lo];\n                  _array[lo] = _array[hi];\n                  _array[hi] = tmp;\n                }\n\n                start = end;\n              }\n\n              start++;\n            }\n          }\n\n          function _getCharClass(chars, types, classes, ix) {\n            var cType = types[ix],\n                wType,\n                nType,\n                len,\n                i;\n\n            switch (cType) {\n              case L:\n              case R:\n                lastArabic = false;\n\n              case ON:\n              case AN:\n                return cType;\n\n              case EN:\n                return lastArabic ? AN : EN;\n\n              case AL:\n                lastArabic = true;\n                hasUBAT_AL = true;\n                return R;\n\n              case WS:\n                return ON;\n\n              case CS:\n                if (ix < 1 || ix + 1 >= types.length || (wType = classes[ix - 1]) != EN && wType != AN || (nType = types[ix + 1]) != EN && nType != AN) {\n                  return ON;\n                }\n\n                if (lastArabic) {\n                  nType = AN;\n                }\n\n                return nType == wType ? nType : ON;\n\n              case ES:\n                wType = ix > 0 ? classes[ix - 1] : B;\n\n                if (wType == EN && ix + 1 < types.length && types[ix + 1] == EN) {\n                  return EN;\n                }\n\n                return ON;\n\n              case ET:\n                if (ix > 0 && classes[ix - 1] == EN) {\n                  return EN;\n                }\n\n                if (lastArabic) {\n                  return ON;\n                }\n\n                i = ix + 1;\n                len = types.length;\n\n                while (i < len && types[i] == ET) {\n                  i++;\n                }\n\n                if (i < len && types[i] == EN) {\n                  return EN;\n                }\n\n                return ON;\n\n              case NSM:\n                len = types.length;\n                i = ix + 1;\n\n                while (i < len && types[i] == NSM) {\n                  i++;\n                }\n\n                if (i < len) {\n                  var c = chars[ix],\n                      rtlCandidate = c >= 0x0591 && c <= 0x08FF || c == 0xFB1E;\n                  wType = types[i];\n\n                  if (rtlCandidate && (wType == R || wType == AL)) {\n                    return R;\n                  }\n                }\n\n                if (ix < 1 || (wType = types[ix - 1]) == B) {\n                  return ON;\n                }\n\n                return classes[ix - 1];\n\n              case B:\n                lastArabic = false;\n                hasUBAT_B = true;\n                return dir;\n\n              case S:\n                hasUBAT_S = true;\n                return ON;\n\n              case LRE:\n              case RLE:\n              case LRO:\n              case RLO:\n              case PDF:\n                lastArabic = false;\n\n              case BN:\n                return ON;\n            }\n          }\n\n          function _getCharacterType(ch) {\n            var uc = ch.charCodeAt(0),\n                hi = uc >> 8;\n\n            if (hi == 0) {\n              return uc > 0x00BF ? L : UnicodeTBL00[uc];\n            } else if (hi == 5) {\n              return /[\\u0591-\\u05f4]/.test(ch) ? R : L;\n            } else if (hi == 6) {\n              if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch)) return NSM;else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch)) return AN;else if (uc == 0x066A) return ET;else if (/[\\u06f0-\\u06f9]/.test(ch)) return EN;else return AL;\n            } else if (hi == 0x20 && uc <= 0x205F) {\n              return UnicodeTBL20[uc & 0xFF];\n            } else if (hi == 0xFE) {\n              return uc >= 0xFE70 ? AL : ON;\n            }\n\n            return ON;\n          }\n\n          function _isArabicDiacritics(ch) {\n            return ch >= \"\\u064B\" && ch <= \"\\u0655\";\n          }\n\n          exports.L = L;\n          exports.R = R;\n          exports.EN = EN;\n          exports.ON_R = 3;\n          exports.AN = 4;\n          exports.R_H = 5;\n          exports.B = 6;\n          exports.RLE = 7;\n          exports.DOT = \"\\xB7\";\n\n          exports.doBidiReorder = function (text, textCharTypes, isRtl) {\n            if (text.length < 2) return {};\n            var chars = text.split(\"\"),\n                logicalFromVisual = new Array(chars.length),\n                bidiLevels = new Array(chars.length),\n                levels = [];\n            dir = isRtl ? RTL : LTR;\n\n            _computeLevels(chars, levels, chars.length, textCharTypes);\n\n            for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++) {\n              ;\n            }\n\n            _invertLevel(2, levels, logicalFromVisual);\n\n            _invertLevel(1, levels, logicalFromVisual);\n\n            for (var i = 0; i < logicalFromVisual.length - 1; i++) {\n              //fix levels to reflect character width\n              if (textCharTypes[i] === AN) {\n                levels[i] = exports.AN;\n              } else if (levels[i] === R && (textCharTypes[i] > AL && textCharTypes[i] < LRE || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n                levels[i] = exports.ON_R;\n              } else if (i > 0 && chars[i - 1] === \"\\u0644\" && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n                levels[i - 1] = levels[i] = exports.R_H;\n                i++;\n              }\n            }\n\n            if (chars[chars.length - 1] === exports.DOT) levels[chars.length - 1] = exports.B;\n            if (chars[0] === \"\\u202B\") levels[0] = exports.RLE;\n\n            for (var i = 0; i < logicalFromVisual.length; i++) {\n              bidiLevels[i] = levels[logicalFromVisual[i]];\n            }\n\n            return {\n              'logicalFromVisual': logicalFromVisual,\n              'bidiLevels': bidiLevels\n            };\n          };\n\n          exports.hasBidiCharacters = function (text, textCharTypes) {\n            var ret = false;\n\n            for (var i = 0; i < text.length; i++) {\n              textCharTypes[i] = _getCharacterType(text.charAt(i));\n              if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN)) ret = true;\n            }\n\n            return ret;\n          };\n\n          exports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n            for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n              if (rowMap.logicalFromVisual[i] == logIdx) return i;\n            }\n\n            return 0;\n          };\n        });\n        ace.define(\"ace/bidihandler\", [\"require\", \"exports\", \"module\", \"ace/lib/bidiutil\", \"ace/lib/lang\"], function (require, exports, module) {\n          \"use strict\";\n\n          var bidiUtil = require(\"./lib/bidiutil\");\n\n          var lang = require(\"./lib/lang\");\n\n          var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\n\n          var BidiHandler = function BidiHandler(session) {\n            this.session = session;\n            this.bidiMap = {};\n            this.currentRow = null;\n            this.bidiUtil = bidiUtil;\n            this.charWidths = [];\n            this.EOL = \"\\xAC\";\n            this.showInvisibles = true;\n            this.isRtlDir = false;\n            this.$isRtl = false;\n            this.line = \"\";\n            this.wrapIndent = 0;\n            this.EOF = \"\\xB6\";\n            this.RLE = \"\\u202B\";\n            this.contentWidth = 0;\n            this.fontMetrics = null;\n            this.rtlLineOffset = 0;\n            this.wrapOffset = 0;\n            this.isMoveLeftOperation = false;\n            this.seenBidi = bidiRE.test(session.getValue());\n          };\n\n          (function () {\n            this.isBidiRow = function (screenRow, docRow, splitIndex) {\n              if (!this.seenBidi) return false;\n\n              if (screenRow !== this.currentRow) {\n                this.currentRow = screenRow;\n                this.updateRowLine(docRow, splitIndex);\n                this.updateBidiMap();\n              }\n\n              return this.bidiMap.bidiLevels;\n            };\n\n            this.onChange = function (delta) {\n              if (!this.seenBidi) {\n                if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                  this.seenBidi = true;\n                  this.currentRow = null;\n                }\n              } else {\n                this.currentRow = null;\n              }\n            };\n\n            this.getDocumentRow = function () {\n              var docRow = 0;\n              var rowCache = this.session.$screenRowCache;\n\n              if (rowCache.length) {\n                var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n                if (index >= 0) docRow = this.session.$docRowCache[index];\n              }\n\n              return docRow;\n            };\n\n            this.getSplitIndex = function () {\n              var splitIndex = 0;\n              var rowCache = this.session.$screenRowCache;\n\n              if (rowCache.length) {\n                var currentIndex,\n                    prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n\n                while (this.currentRow - splitIndex > 0) {\n                  currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                  if (currentIndex !== prevIndex) break;\n                  prevIndex = currentIndex;\n                  splitIndex++;\n                }\n              } else {\n                splitIndex = this.currentRow;\n              }\n\n              return splitIndex;\n            };\n\n            this.updateRowLine = function (docRow, splitIndex) {\n              if (docRow === undefined) docRow = this.getDocumentRow();\n              var isLastRow = docRow === this.session.getLength() - 1,\n                  endOfLine = isLastRow ? this.EOF : this.EOL;\n              this.wrapIndent = 0;\n              this.line = this.session.getLine(docRow);\n              this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n\n              if (this.session.$useWrapMode) {\n                var splits = this.session.$wrapData[docRow];\n\n                if (splits) {\n                  if (splitIndex === undefined) splitIndex = this.getSplitIndex();\n\n                  if (splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splitIndex]) : this.line.substring(splits[splits.length - 1]);\n                  } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                  }\n                }\n\n                if (splitIndex == splits.length) this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n              } else {\n                this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n              }\n\n              var session = this.session,\n                  shift = 0,\n                  size;\n              this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n                if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                  size = ch === '\\t' ? session.getScreenTabSize(i + shift) : 2;\n                  shift += size - 1;\n                  return lang.stringRepeat(bidiUtil.DOT, size);\n                }\n\n                return ch;\n              });\n\n              if (this.isRtlDir) {\n                this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == bidiUtil.DOT ? this.line.substr(0, this.line.length - 1) : this.line;\n                this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n              }\n            };\n\n            this.updateBidiMap = function () {\n              var textCharTypes = [];\n\n              if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n                this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n              } else {\n                this.bidiMap = {};\n              }\n            };\n\n            this.markAsDirty = function () {\n              this.currentRow = null;\n            };\n\n            this.updateCharacterWidths = function (fontMetrics) {\n              if (this.characterWidth === fontMetrics.$characterSize.width) return;\n              this.fontMetrics = fontMetrics;\n              var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n              var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05D4\");\n              this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n              this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n              this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n              this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n              this.currentRow = null;\n            };\n\n            this.setShowInvisibles = function (showInvisibles) {\n              this.showInvisibles = showInvisibles;\n              this.currentRow = null;\n            };\n\n            this.setEolChar = function (eolChar) {\n              this.EOL = eolChar;\n            };\n\n            this.setContentWidth = function (width) {\n              this.contentWidth = width;\n            };\n\n            this.isRtlLine = function (row) {\n              if (this.$isRtl) return true;\n              if (row != undefined) return this.session.getLine(row).charAt(0) == this.RLE;else return this.isRtlDir;\n            };\n\n            this.setRtlDirection = function (editor, isRtlDir) {\n              var cursor = editor.getCursorPosition();\n\n              for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n                if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE) editor.session.doc.removeInLine(row, 0, 1);else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE) editor.session.doc.insert({\n                  column: 0,\n                  row: row\n                }, editor.session.$bidiHandler.RLE);\n              }\n            };\n\n            this.getPosLeft = function (col) {\n              col -= this.wrapIndent;\n              var leftBoundary = this.line.charAt(0) === this.RLE ? 1 : 0;\n              var logicalIdx = col > leftBoundary ? this.session.getOverwrite() ? col : col - 1 : leftBoundary;\n              var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n                  levels = this.bidiMap.bidiLevels,\n                  left = 0;\n              if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0) visualIdx++;\n\n              for (var i = 0; i < visualIdx; i++) {\n                left += this.charWidths[levels[i]];\n              }\n\n              if (!this.session.getOverwrite() && col > leftBoundary && levels[visualIdx] % 2 === 0) left += this.charWidths[levels[visualIdx]];\n              if (this.wrapIndent) left += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n              if (this.isRtlDir) left += this.rtlLineOffset;\n              return left;\n            };\n\n            this.getSelections = function (startCol, endCol) {\n              var map = this.bidiMap,\n                  levels = map.bidiLevels,\n                  level,\n                  selections = [],\n                  offset = 0,\n                  selColMin = Math.min(startCol, endCol) - this.wrapIndent,\n                  selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                  isSelected = false,\n                  isSelectedPrev = false,\n                  selectionStart = 0;\n              if (this.wrapIndent) offset += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n              for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n                logIdx = map.logicalFromVisual[visIdx];\n                level = levels[visIdx];\n                isSelected = logIdx >= selColMin && logIdx < selColMax;\n\n                if (isSelected && !isSelectedPrev) {\n                  selectionStart = offset;\n                } else if (!isSelected && isSelectedPrev) {\n                  selections.push({\n                    left: selectionStart,\n                    width: offset - selectionStart\n                  });\n                }\n\n                offset += this.charWidths[level];\n                isSelectedPrev = isSelected;\n              }\n\n              if (isSelected && visIdx === levels.length) {\n                selections.push({\n                  left: selectionStart,\n                  width: offset - selectionStart\n                });\n              }\n\n              if (this.isRtlDir) {\n                for (var i = 0; i < selections.length; i++) {\n                  selections[i].left += this.rtlLineOffset;\n                }\n              }\n\n              return selections;\n            };\n\n            this.offsetToCol = function (posX) {\n              if (this.isRtlDir) posX -= this.rtlLineOffset;\n              var logicalIdx = 0,\n                  posX = Math.max(posX, 0),\n                  offset = 0,\n                  visualIdx = 0,\n                  levels = this.bidiMap.bidiLevels,\n                  charWidth = this.charWidths[levels[visualIdx]];\n              if (this.wrapIndent) posX -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n              while (posX > offset + charWidth / 2) {\n                offset += charWidth;\n\n                if (visualIdx === levels.length - 1) {\n                  charWidth = 0;\n                  break;\n                }\n\n                charWidth = this.charWidths[levels[++visualIdx]];\n              }\n\n              if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && levels[visualIdx] % 2 === 0) {\n                if (posX < offset) visualIdx--;\n                logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n              } else if (visualIdx > 0 && levels[visualIdx - 1] % 2 === 0 && levels[visualIdx] % 2 !== 0) {\n                logicalIdx = 1 + (posX > offset ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n              } else if (this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && levels[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0) {\n                logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n              } else {\n                if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && charWidth !== 0) visualIdx--;\n                logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n              }\n\n              if (logicalIdx === 0 && this.isRtlDir) logicalIdx++;\n              return logicalIdx + this.wrapIndent;\n            };\n          }).call(BidiHandler.prototype);\n          exports.BidiHandler = BidiHandler;\n        });\n        ace.define(\"ace/selection\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var lang = require(\"./lib/lang\");\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var Range = require(\"./range\").Range;\n\n          var Selection = function Selection(session) {\n            this.session = session;\n            this.doc = session.getDocument();\n            this.clearSelection();\n            this.cursor = this.lead = this.doc.createAnchor(0, 0);\n            this.anchor = this.doc.createAnchor(0, 0);\n            this.$silent = false;\n            var self = this;\n            this.cursor.on(\"change\", function (e) {\n              self.$cursorChanged = true;\n              if (!self.$silent) self._emit(\"changeCursor\");\n              if (!self.$isEmpty && !self.$silent) self._emit(\"changeSelection\");\n              if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column) self.$desiredColumn = null;\n            });\n            this.anchor.on(\"change\", function () {\n              self.$anchorChanged = true;\n              if (!self.$isEmpty && !self.$silent) self._emit(\"changeSelection\");\n            });\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.isEmpty = function () {\n              return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;\n            };\n\n            this.isMultiLine = function () {\n              return !this.$isEmpty && this.anchor.row != this.cursor.row;\n            };\n\n            this.getCursor = function () {\n              return this.lead.getPosition();\n            };\n\n            this.setSelectionAnchor = function (row, column) {\n              this.$isEmpty = false;\n              this.anchor.setPosition(row, column);\n            };\n\n            this.getAnchor = this.getSelectionAnchor = function () {\n              if (this.$isEmpty) return this.getSelectionLead();\n              return this.anchor.getPosition();\n            };\n\n            this.getSelectionLead = function () {\n              return this.lead.getPosition();\n            };\n\n            this.isBackwards = function () {\n              var anchor = this.anchor;\n              var lead = this.lead;\n              return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;\n            };\n\n            this.getRange = function () {\n              var anchor = this.anchor;\n              var lead = this.lead;\n              if (this.$isEmpty) return Range.fromPoints(lead, lead);\n              return this.isBackwards() ? Range.fromPoints(lead, anchor) : Range.fromPoints(anchor, lead);\n            };\n\n            this.clearSelection = function () {\n              if (!this.$isEmpty) {\n                this.$isEmpty = true;\n\n                this._emit(\"changeSelection\");\n              }\n            };\n\n            this.selectAll = function () {\n              this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n            };\n\n            this.setRange = this.setSelectionRange = function (range, reverse) {\n              var start = reverse ? range.end : range.start;\n              var end = reverse ? range.start : range.end;\n              this.$setSelection(start.row, start.column, end.row, end.column);\n            };\n\n            this.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n              var wasEmpty = this.$isEmpty;\n              var wasMultiselect = this.inMultiSelectMode;\n              this.$silent = true;\n              this.$cursorChanged = this.$anchorChanged = false;\n              this.anchor.setPosition(anchorRow, anchorColumn);\n              this.cursor.setPosition(cursorRow, cursorColumn);\n              this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n              this.$silent = false;\n              if (this.$cursorChanged) this._emit(\"changeCursor\");\n              if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect) this._emit(\"changeSelection\");\n            };\n\n            this.$moveSelection = function (mover) {\n              var lead = this.lead;\n              if (this.$isEmpty) this.setSelectionAnchor(lead.row, lead.column);\n              mover.call(this);\n            };\n\n            this.selectTo = function (row, column) {\n              this.$moveSelection(function () {\n                this.moveCursorTo(row, column);\n              });\n            };\n\n            this.selectToPosition = function (pos) {\n              this.$moveSelection(function () {\n                this.moveCursorToPosition(pos);\n              });\n            };\n\n            this.moveTo = function (row, column) {\n              this.clearSelection();\n              this.moveCursorTo(row, column);\n            };\n\n            this.moveToPosition = function (pos) {\n              this.clearSelection();\n              this.moveCursorToPosition(pos);\n            };\n\n            this.selectUp = function () {\n              this.$moveSelection(this.moveCursorUp);\n            };\n\n            this.selectDown = function () {\n              this.$moveSelection(this.moveCursorDown);\n            };\n\n            this.selectRight = function () {\n              this.$moveSelection(this.moveCursorRight);\n            };\n\n            this.selectLeft = function () {\n              this.$moveSelection(this.moveCursorLeft);\n            };\n\n            this.selectLineStart = function () {\n              this.$moveSelection(this.moveCursorLineStart);\n            };\n\n            this.selectLineEnd = function () {\n              this.$moveSelection(this.moveCursorLineEnd);\n            };\n\n            this.selectFileEnd = function () {\n              this.$moveSelection(this.moveCursorFileEnd);\n            };\n\n            this.selectFileStart = function () {\n              this.$moveSelection(this.moveCursorFileStart);\n            };\n\n            this.selectWordRight = function () {\n              this.$moveSelection(this.moveCursorWordRight);\n            };\n\n            this.selectWordLeft = function () {\n              this.$moveSelection(this.moveCursorWordLeft);\n            };\n\n            this.getWordRange = function (row, column) {\n              if (typeof column == \"undefined\") {\n                var cursor = row || this.lead;\n                row = cursor.row;\n                column = cursor.column;\n              }\n\n              return this.session.getWordRange(row, column);\n            };\n\n            this.selectWord = function () {\n              this.setSelectionRange(this.getWordRange());\n            };\n\n            this.selectAWord = function () {\n              var cursor = this.getCursor();\n              var range = this.session.getAWordRange(cursor.row, cursor.column);\n              this.setSelectionRange(range);\n            };\n\n            this.getLineRange = function (row, excludeLastChar) {\n              var rowStart = typeof row == \"number\" ? row : this.lead.row;\n              var rowEnd;\n              var foldLine = this.session.getFoldLine(rowStart);\n\n              if (foldLine) {\n                rowStart = foldLine.start.row;\n                rowEnd = foldLine.end.row;\n              } else {\n                rowEnd = rowStart;\n              }\n\n              if (excludeLastChar === true) return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);else return new Range(rowStart, 0, rowEnd + 1, 0);\n            };\n\n            this.selectLine = function () {\n              this.setSelectionRange(this.getLineRange());\n            };\n\n            this.moveCursorUp = function () {\n              this.moveCursorBy(-1, 0);\n            };\n\n            this.moveCursorDown = function () {\n              this.moveCursorBy(1, 0);\n            };\n\n            this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n              var start = cursor.column;\n              var end = cursor.column + tabSize;\n\n              if (direction < 0) {\n                start = cursor.column - tabSize;\n                end = cursor.column;\n              }\n\n              return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n            };\n\n            this.moveCursorLeft = function () {\n              var cursor = this.lead.getPosition(),\n                  fold;\n\n              if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n                this.moveCursorTo(fold.start.row, fold.start.column);\n              } else if (cursor.column === 0) {\n                if (cursor.row > 0) {\n                  this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n                }\n              } else {\n                var tabSize = this.session.getTabSize();\n\n                if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                  this.moveCursorBy(0, -tabSize);\n                } else {\n                  this.moveCursorBy(0, -1);\n                }\n              }\n            };\n\n            this.moveCursorRight = function () {\n              var cursor = this.lead.getPosition(),\n                  fold;\n\n              if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n                this.moveCursorTo(fold.end.row, fold.end.column);\n              } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n                if (this.lead.row < this.doc.getLength() - 1) {\n                  this.moveCursorTo(this.lead.row + 1, 0);\n                }\n              } else {\n                var tabSize = this.session.getTabSize();\n                var cursor = this.lead;\n\n                if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                  this.moveCursorBy(0, tabSize);\n                } else {\n                  this.moveCursorBy(0, 1);\n                }\n              }\n            };\n\n            this.moveCursorLineStart = function () {\n              var row = this.lead.row;\n              var column = this.lead.column;\n              var screenRow = this.session.documentToScreenRow(row, column);\n              var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n              var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n              var leadingSpace = beforeCursor.match(/^\\s*/);\n              if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart) firstColumnPosition.column += leadingSpace[0].length;\n              this.moveCursorToPosition(firstColumnPosition);\n            };\n\n            this.moveCursorLineEnd = function () {\n              var lead = this.lead;\n              var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n\n              if (this.lead.column == lineEnd.column) {\n                var line = this.session.getLine(lineEnd.row);\n\n                if (lineEnd.column == line.length) {\n                  var textEnd = line.search(/\\s+$/);\n                  if (textEnd > 0) lineEnd.column = textEnd;\n                }\n              }\n\n              this.moveCursorTo(lineEnd.row, lineEnd.column);\n            };\n\n            this.moveCursorFileEnd = function () {\n              var row = this.doc.getLength() - 1;\n              var column = this.doc.getLine(row).length;\n              this.moveCursorTo(row, column);\n            };\n\n            this.moveCursorFileStart = function () {\n              this.moveCursorTo(0, 0);\n            };\n\n            this.moveCursorLongWordRight = function () {\n              var row = this.lead.row;\n              var column = this.lead.column;\n              var line = this.doc.getLine(row);\n              var rightOfCursor = line.substring(column);\n              this.session.nonTokenRe.lastIndex = 0;\n              this.session.tokenRe.lastIndex = 0;\n              var fold = this.session.getFoldAt(row, column, 1);\n\n              if (fold) {\n                this.moveCursorTo(fold.end.row, fold.end.column);\n                return;\n              }\n\n              if (this.session.nonTokenRe.exec(rightOfCursor)) {\n                column += this.session.nonTokenRe.lastIndex;\n                this.session.nonTokenRe.lastIndex = 0;\n                rightOfCursor = line.substring(column);\n              }\n\n              if (column >= line.length) {\n                this.moveCursorTo(row, line.length);\n                this.moveCursorRight();\n                if (row < this.doc.getLength() - 1) this.moveCursorWordRight();\n                return;\n              }\n\n              if (this.session.tokenRe.exec(rightOfCursor)) {\n                column += this.session.tokenRe.lastIndex;\n                this.session.tokenRe.lastIndex = 0;\n              }\n\n              this.moveCursorTo(row, column);\n            };\n\n            this.moveCursorLongWordLeft = function () {\n              var row = this.lead.row;\n              var column = this.lead.column;\n              var fold;\n\n              if (fold = this.session.getFoldAt(row, column, -1)) {\n                this.moveCursorTo(fold.start.row, fold.start.column);\n                return;\n              }\n\n              var str = this.session.getFoldStringAt(row, column, -1);\n\n              if (str == null) {\n                str = this.doc.getLine(row).substring(0, column);\n              }\n\n              var leftOfCursor = lang.stringReverse(str);\n              this.session.nonTokenRe.lastIndex = 0;\n              this.session.tokenRe.lastIndex = 0;\n\n              if (this.session.nonTokenRe.exec(leftOfCursor)) {\n                column -= this.session.nonTokenRe.lastIndex;\n                leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n                this.session.nonTokenRe.lastIndex = 0;\n              }\n\n              if (column <= 0) {\n                this.moveCursorTo(row, 0);\n                this.moveCursorLeft();\n                if (row > 0) this.moveCursorWordLeft();\n                return;\n              }\n\n              if (this.session.tokenRe.exec(leftOfCursor)) {\n                column -= this.session.tokenRe.lastIndex;\n                this.session.tokenRe.lastIndex = 0;\n              }\n\n              this.moveCursorTo(row, column);\n            };\n\n            this.$shortWordEndIndex = function (rightOfCursor) {\n              var index = 0,\n                  ch;\n              var whitespaceRe = /\\s/;\n              var tokenRe = this.session.tokenRe;\n              tokenRe.lastIndex = 0;\n\n              if (this.session.tokenRe.exec(rightOfCursor)) {\n                index = this.session.tokenRe.lastIndex;\n              } else {\n                while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n                  index++;\n                }\n\n                if (index < 1) {\n                  tokenRe.lastIndex = 0;\n\n                  while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index++;\n\n                    if (whitespaceRe.test(ch)) {\n                      if (index > 2) {\n                        index--;\n                        break;\n                      } else {\n                        while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n                          index++;\n                        }\n\n                        if (index > 2) break;\n                      }\n                    }\n                  }\n                }\n              }\n\n              tokenRe.lastIndex = 0;\n              return index;\n            };\n\n            this.moveCursorShortWordRight = function () {\n              var row = this.lead.row;\n              var column = this.lead.column;\n              var line = this.doc.getLine(row);\n              var rightOfCursor = line.substring(column);\n              var fold = this.session.getFoldAt(row, column, 1);\n              if (fold) return this.moveCursorTo(fold.end.row, fold.end.column);\n\n              if (column == line.length) {\n                var l = this.doc.getLength();\n\n                do {\n                  row++;\n                  rightOfCursor = this.doc.getLine(row);\n                } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n                if (!/^\\s+/.test(rightOfCursor)) rightOfCursor = \"\";\n                column = 0;\n              }\n\n              var index = this.$shortWordEndIndex(rightOfCursor);\n              this.moveCursorTo(row, column + index);\n            };\n\n            this.moveCursorShortWordLeft = function () {\n              var row = this.lead.row;\n              var column = this.lead.column;\n              var fold;\n              if (fold = this.session.getFoldAt(row, column, -1)) return this.moveCursorTo(fold.start.row, fold.start.column);\n              var line = this.session.getLine(row).substring(0, column);\n\n              if (column === 0) {\n                do {\n                  row--;\n                  line = this.doc.getLine(row);\n                } while (row > 0 && /^\\s*$/.test(line));\n\n                column = line.length;\n                if (!/\\s+$/.test(line)) line = \"\";\n              }\n\n              var leftOfCursor = lang.stringReverse(line);\n              var index = this.$shortWordEndIndex(leftOfCursor);\n              return this.moveCursorTo(row, column - index);\n            };\n\n            this.moveCursorWordRight = function () {\n              if (this.session.$selectLongWords) this.moveCursorLongWordRight();else this.moveCursorShortWordRight();\n            };\n\n            this.moveCursorWordLeft = function () {\n              if (this.session.$selectLongWords) this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft();\n            };\n\n            this.moveCursorBy = function (rows, chars) {\n              var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n              var offsetX;\n\n              if (chars === 0) {\n                if (rows !== 0) {\n                  if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                  } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                  }\n                }\n\n                if (this.$desiredColumn) screenPos.column = this.$desiredColumn;else this.$desiredColumn = screenPos.column;\n              }\n\n              var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n\n              if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n                if (this.session.lineWidgets && this.session.lineWidgets[docPos.row]) {\n                  if (docPos.row > 0 || rows > 0) docPos.row++;\n                }\n              }\n\n              this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n            };\n\n            this.moveCursorToPosition = function (position) {\n              this.moveCursorTo(position.row, position.column);\n            };\n\n            this.moveCursorTo = function (row, column, keepDesiredColumn) {\n              var fold = this.session.getFoldAt(row, column, 1);\n\n              if (fold) {\n                row = fold.start.row;\n                column = fold.start.column;\n              }\n\n              this.$keepDesiredColumnOnChange = true;\n              var line = this.session.getLine(row);\n\n              if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n                if (this.lead.row == row && this.lead.column == column + 1) column = column - 1;else column = column + 1;\n              }\n\n              this.lead.setPosition(row, column);\n              this.$keepDesiredColumnOnChange = false;\n              if (!keepDesiredColumn) this.$desiredColumn = null;\n            };\n\n            this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n              var pos = this.session.screenToDocumentPosition(row, column);\n              this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n            };\n\n            this.detach = function () {\n              this.lead.detach();\n              this.anchor.detach();\n              this.session = this.doc = null;\n            };\n\n            this.fromOrientedRange = function (range) {\n              this.setSelectionRange(range, range.cursor == range.start);\n              this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n            };\n\n            this.toOrientedRange = function (range) {\n              var r = this.getRange();\n\n              if (range) {\n                range.start.column = r.start.column;\n                range.start.row = r.start.row;\n                range.end.column = r.end.column;\n                range.end.row = r.end.row;\n              } else {\n                range = r;\n              }\n\n              range.cursor = this.isBackwards() ? range.start : range.end;\n              range.desiredColumn = this.$desiredColumn;\n              return range;\n            };\n\n            this.getRangeOfMovements = function (func) {\n              var start = this.getCursor();\n\n              try {\n                func(this);\n                var end = this.getCursor();\n                return Range.fromPoints(start, end);\n              } catch (e) {\n                return Range.fromPoints(start, start);\n              } finally {\n                this.moveCursorToPosition(start);\n              }\n            };\n\n            this.toJSON = function () {\n              if (this.rangeCount) {\n                var data = this.ranges.map(function (r) {\n                  var r1 = r.clone();\n                  r1.isBackwards = r.cursor == r.start;\n                  return r1;\n                });\n              } else {\n                var data = this.getRange();\n                data.isBackwards = this.isBackwards();\n              }\n\n              return data;\n            };\n\n            this.fromJSON = function (data) {\n              if (data.start == undefined) {\n                if (this.rangeList && data.length > 1) {\n                  this.toSingleRange(data[0]);\n\n                  for (var i = data.length; i--;) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards) r.cursor = r.start;\n                    this.addRange(r, true);\n                  }\n\n                  return;\n                } else {\n                  data = data[0];\n                }\n              }\n\n              if (this.rangeList) this.toSingleRange(data);\n              this.setSelectionRange(data, data.isBackwards);\n            };\n\n            this.isEqual = function (data) {\n              if ((data.length || this.rangeCount) && data.length != this.rangeCount) return false;\n              if (!data.length || !this.ranges) return this.getRange().isEqual(data);\n\n              for (var i = this.ranges.length; i--;) {\n                if (!this.ranges[i].isEqual(data[i])) return false;\n              }\n\n              return true;\n            };\n          }).call(Selection.prototype);\n          exports.Selection = Selection;\n        });\n        ace.define(\"ace/tokenizer\", [\"require\", \"exports\", \"module\", \"ace/config\"], function (require, exports, module) {\n          \"use strict\";\n\n          var config = require(\"./config\");\n\n          var MAX_TOKEN_COUNT = 2000;\n\n          var Tokenizer = function Tokenizer(rules) {\n            this.states = rules;\n            this.regExps = {};\n            this.matchMappings = {};\n\n            for (var key in this.states) {\n              var state = this.states[key];\n              var ruleRegExps = [];\n              var matchTotal = 0;\n              var mapping = this.matchMappings[key] = {\n                defaultToken: \"text\"\n              };\n              var flag = \"g\";\n              var splitterRurles = [];\n\n              for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.defaultToken) mapping.defaultToken = rule.defaultToken;\n                if (rule.caseInsensitive) flag = \"gi\";\n                if (rule.regex == null) continue;\n                if (rule.regex instanceof RegExp) rule.regex = rule.regex.toString().slice(1, -1);\n                var adjustedregex = rule.regex;\n                var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n\n                if (Array.isArray(rule.token)) {\n                  if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                  } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", {\n                      rule: rule,\n                      groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                  } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                  }\n                } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                  if (matchcount > 1) rule.onMatch = this.$applyToken;else rule.onMatch = rule.token;\n                }\n\n                if (matchcount > 1) {\n                  if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                      return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                  } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                  }\n\n                  if (!rule.splitRegex && typeof rule.token != \"string\") splitterRurles.push(rule); // flag will be known only at the very end\n                }\n\n                mapping[matchTotal] = i;\n                matchTotal += matchcount;\n                ruleRegExps.push(adjustedregex);\n                if (!rule.onMatch) rule.onMatch = null;\n              }\n\n              if (!ruleRegExps.length) {\n                mapping[0] = 0;\n                ruleRegExps.push(\"$\");\n              }\n\n              splitterRurles.forEach(function (rule) {\n                rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n              }, this);\n              this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n            }\n          };\n\n          (function () {\n            this.$setMaxTokenCount = function (m) {\n              MAX_TOKEN_COUNT = m | 0;\n            };\n\n            this.$applyToken = function (str) {\n              var values = this.splitRegex.exec(str).slice(1);\n              var types = this.token.apply(this, values);\n              if (typeof types === \"string\") return [{\n                type: types,\n                value: str\n              }];\n              var tokens = [];\n\n              for (var i = 0, l = types.length; i < l; i++) {\n                if (values[i]) tokens[tokens.length] = {\n                  type: types[i],\n                  value: values[i]\n                };\n              }\n\n              return tokens;\n            };\n\n            this.$arrayTokens = function (str) {\n              if (!str) return [];\n              var values = this.splitRegex.exec(str);\n              if (!values) return \"text\";\n              var tokens = [];\n              var types = this.tokenArray;\n\n              for (var i = 0, l = types.length; i < l; i++) {\n                if (values[i + 1]) tokens[tokens.length] = {\n                  type: types[i],\n                  value: values[i + 1]\n                };\n              }\n\n              return tokens;\n            };\n\n            this.removeCapturingGroups = function (src) {\n              var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g, function (x, y) {\n                return y ? \"(?:\" : x;\n              });\n              return r;\n            };\n\n            this.createSplitterRegexp = function (src, flag) {\n              if (src.indexOf(\"(?=\") != -1) {\n                var stack = 0;\n                var inChClass = false;\n                var lastCapture = {};\n                src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                  if (inChClass) {\n                    inChClass = square != \"]\";\n                  } else if (square) {\n                    inChClass = true;\n                  } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                      lastCapture.end = index + 1;\n                      lastCapture.stack = -1;\n                    }\n\n                    stack--;\n                  } else if (parenOpen) {\n                    stack++;\n\n                    if (parenOpen.length != 1) {\n                      lastCapture.stack = stack;\n                      lastCapture.start = index;\n                    }\n                  }\n\n                  return m;\n                });\n                if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end))) src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n              }\n\n              if (src.charAt(0) != \"^\") src = \"^\" + src;\n              if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n              return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n            };\n\n            this.getLineTokens = function (line, startState) {\n              if (startState && typeof startState != \"string\") {\n                var stack = startState.slice(0);\n                startState = stack[0];\n\n                if (startState === \"#tmp\") {\n                  stack.shift();\n                  startState = stack.shift();\n                }\n              } else var stack = [];\n\n              var currentState = startState || \"start\";\n              var state = this.states[currentState];\n\n              if (!state) {\n                currentState = \"start\";\n                state = this.states[currentState];\n              }\n\n              var mapping = this.matchMappings[currentState];\n              var re = this.regExps[currentState];\n              re.lastIndex = 0;\n              var match,\n                  tokens = [];\n              var lastIndex = 0;\n              var matchAttempts = 0;\n              var token = {\n                type: null,\n                value: \"\"\n              };\n\n              while (match = re.exec(line)) {\n                var type = mapping.defaultToken;\n                var rule = null;\n                var value = match[0];\n                var index = re.lastIndex;\n\n                if (index - value.length > lastIndex) {\n                  var skipped = line.substring(lastIndex, index - value.length);\n\n                  if (token.type == type) {\n                    token.value += skipped;\n                  } else {\n                    if (token.type) tokens.push(token);\n                    token = {\n                      type: type,\n                      value: skipped\n                    };\n                  }\n                }\n\n                for (var i = 0; i < match.length - 2; i++) {\n                  if (match[i + 1] === undefined) continue;\n                  rule = state[mapping[i]];\n                  if (rule.onMatch) type = rule.onMatch(value, currentState, stack, line);else type = rule.token;\n\n                  if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                      currentState = rule.next;\n                    } else {\n                      currentState = rule.next(currentState, stack);\n                    }\n\n                    state = this.states[currentState];\n\n                    if (!state) {\n                      this.reportError(\"state doesn't exist\", currentState);\n                      currentState = \"start\";\n                      state = this.states[currentState];\n                    }\n\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                  }\n\n                  if (rule.consumeLineEnd) lastIndex = index;\n                  break;\n                }\n\n                if (value) {\n                  if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                      token.value += value;\n                    } else {\n                      if (token.type) tokens.push(token);\n                      token = {\n                        type: type,\n                        value: value\n                      };\n                    }\n                  } else if (type) {\n                    if (token.type) tokens.push(token);\n                    token = {\n                      type: null,\n                      value: \"\"\n                    };\n\n                    for (var i = 0; i < type.length; i++) {\n                      tokens.push(type[i]);\n                    }\n                  }\n                }\n\n                if (lastIndex == line.length) break;\n                lastIndex = index;\n\n                if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                  if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                      startState: startState,\n                      line: line\n                    });\n                  }\n\n                  while (lastIndex < line.length) {\n                    if (token.type) tokens.push(token);\n                    token = {\n                      value: line.substring(lastIndex, lastIndex += 500),\n                      type: \"overflow\"\n                    };\n                  }\n\n                  currentState = \"start\";\n                  stack = [];\n                  break;\n                }\n              }\n\n              if (token.type) tokens.push(token);\n\n              if (stack.length > 1) {\n                if (stack[0] !== currentState) stack.unshift(\"#tmp\", currentState);\n              }\n\n              return {\n                tokens: tokens,\n                state: stack.length ? stack : currentState\n              };\n            };\n\n            this.reportError = config.reportError;\n          }).call(Tokenizer.prototype);\n          exports.Tokenizer = Tokenizer;\n        });\n        ace.define(\"ace/mode/text_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\"], function (require, exports, module) {\n          \"use strict\";\n\n          var lang = require(\"../lib/lang\");\n\n          var TextHighlightRules = function TextHighlightRules() {\n            this.$rules = {\n              \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n              }, {\n                defaultToken: \"text\"\n              }]\n            };\n          };\n\n          (function () {\n            this.addRules = function (rules, prefix) {\n              if (!prefix) {\n                for (var key in rules) {\n                  this.$rules[key] = rules[key];\n                }\n\n                return;\n              }\n\n              for (var key in rules) {\n                var state = rules[key];\n\n                for (var i = 0; i < state.length; i++) {\n                  var rule = state[i];\n\n                  if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                      if (rule.next.indexOf(prefix) !== 0) rule.next = prefix + rule.next;\n                    }\n\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0) rule.nextState = prefix + rule.nextState;\n                  }\n                }\n\n                this.$rules[prefix + key] = state;\n              }\n            };\n\n            this.getRules = function () {\n              return this.$rules;\n            };\n\n            this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n              var embedRules = typeof HighlightRules == \"function\" ? new HighlightRules().getRules() : HighlightRules;\n\n              if (states) {\n                for (var i = 0; i < states.length; i++) {\n                  states[i] = prefix + states[i];\n                }\n              } else {\n                states = [];\n\n                for (var key in embedRules) {\n                  states.push(prefix + key);\n                }\n              }\n\n              this.addRules(embedRules, prefix);\n\n              if (escapeRules) {\n                var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n\n                for (var i = 0; i < states.length; i++) {\n                  addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n                }\n              }\n\n              if (!this.$embeds) this.$embeds = [];\n              this.$embeds.push(prefix);\n            };\n\n            this.getEmbeds = function () {\n              return this.$embeds;\n            };\n\n            var pushState = function pushState(currentState, stack) {\n              if (currentState != \"start\" || stack.length) stack.unshift(this.nextState, currentState);\n              return this.nextState;\n            };\n\n            var popState = function popState(currentState, stack) {\n              stack.shift();\n              return stack.shift() || \"start\";\n            };\n\n            this.normalizeRules = function () {\n              var id = 0;\n              var rules = this.$rules;\n\n              function processState(key) {\n                var state = rules[key];\n                state.processed = true;\n\n                for (var i = 0; i < state.length; i++) {\n                  var rule = state[i];\n                  var toInsert = null;\n\n                  if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                  }\n\n                  if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next) rule.next = [];\n                    rule.next.push({\n                      defaultToken: rule.token\n                    }, {\n                      token: rule.token + \".end\",\n                      regex: rule.end || rule.start,\n                      next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                  }\n\n                  var next = rule.next || rule.push;\n\n                  if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n\n                    if (!stateName) {\n                      stateName = rule.token;\n                      if (typeof stateName != \"string\") stateName = stateName[0] || \"\";\n                      if (rules[stateName]) stateName += id++;\n                    }\n\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                  } else if (next == \"pop\") {\n                    rule.next = popState;\n                  }\n\n                  if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                  }\n\n                  if (rule.rules) {\n                    for (var r in rule.rules) {\n                      if (rules[r]) {\n                        if (rules[r].push) rules[r].push.apply(rules[r], rule.rules[r]);\n                      } else {\n                        rules[r] = rule.rules[r];\n                      }\n                    }\n                  }\n\n                  var includeName = typeof rule == \"string\" ? rule : rule.include;\n\n                  if (includeName) {\n                    if (Array.isArray(includeName)) toInsert = includeName.map(function (x) {\n                      return rules[x];\n                    });else toInsert = rules[includeName];\n                  }\n\n                  if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape) args = args.filter(function (x) {\n                      return !x.next;\n                    });\n                    state.splice.apply(state, args);\n                    i--;\n                  }\n\n                  if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                    delete rule.defaultToken;\n                  }\n                }\n              }\n\n              Object.keys(rules).forEach(processState, this);\n            };\n\n            this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n              var keywords = Object.create(null);\n              Object.keys(map).forEach(function (className) {\n                var a = map[className];\n                if (ignoreCase) a = a.toLowerCase();\n                var list = a.split(splitChar || \"|\");\n\n                for (var i = list.length; i--;) {\n                  keywords[list[i]] = className;\n                }\n              });\n\n              if (Object.getPrototypeOf(keywords)) {\n                keywords.__proto__ = null;\n              }\n\n              this.$keywordList = Object.keys(keywords);\n              map = null;\n              return ignoreCase ? function (value) {\n                return keywords[value.toLowerCase()] || defaultToken;\n              } : function (value) {\n                return keywords[value] || defaultToken;\n              };\n            };\n\n            this.getKeywords = function () {\n              return this.$keywords;\n            };\n          }).call(TextHighlightRules.prototype);\n          exports.TextHighlightRules = TextHighlightRules;\n        });\n        ace.define(\"ace/mode/behaviour\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Behaviour = function Behaviour() {\n            this.$behaviours = {};\n          };\n\n          (function () {\n            this.add = function (name, action, callback) {\n              switch (undefined) {\n                case this.$behaviours:\n                  this.$behaviours = {};\n\n                case this.$behaviours[name]:\n                  this.$behaviours[name] = {};\n              }\n\n              this.$behaviours[name][action] = callback;\n            };\n\n            this.addBehaviours = function (behaviours) {\n              for (var key in behaviours) {\n                for (var action in behaviours[key]) {\n                  this.add(key, action, behaviours[key][action]);\n                }\n              }\n            };\n\n            this.remove = function (name) {\n              if (this.$behaviours && this.$behaviours[name]) {\n                delete this.$behaviours[name];\n              }\n            };\n\n            this.inherit = function (mode, filter) {\n              if (typeof mode === \"function\") {\n                var behaviours = new mode().getBehaviours(filter);\n              } else {\n                var behaviours = mode.getBehaviours(filter);\n              }\n\n              this.addBehaviours(behaviours);\n            };\n\n            this.getBehaviours = function (filter) {\n              if (!filter) {\n                return this.$behaviours;\n              } else {\n                var ret = {};\n\n                for (var i = 0; i < filter.length; i++) {\n                  if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                  }\n                }\n\n                return ret;\n              }\n            };\n          }).call(Behaviour.prototype);\n          exports.Behaviour = Behaviour;\n        });\n        ace.define(\"ace/token_iterator\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"./range\").Range;\n\n          var TokenIterator = function TokenIterator(session, initialRow, initialColumn) {\n            this.$session = session;\n            this.$row = initialRow;\n            this.$rowTokens = session.getTokens(initialRow);\n            var token = session.getTokenAt(initialRow, initialColumn);\n            this.$tokenIndex = token ? token.index : -1;\n          };\n\n          (function () {\n            this.stepBackward = function () {\n              this.$tokenIndex -= 1;\n\n              while (this.$tokenIndex < 0) {\n                this.$row -= 1;\n\n                if (this.$row < 0) {\n                  this.$row = 0;\n                  return null;\n                }\n\n                this.$rowTokens = this.$session.getTokens(this.$row);\n                this.$tokenIndex = this.$rowTokens.length - 1;\n              }\n\n              return this.$rowTokens[this.$tokenIndex];\n            };\n\n            this.stepForward = function () {\n              this.$tokenIndex += 1;\n              var rowCount;\n\n              while (this.$tokenIndex >= this.$rowTokens.length) {\n                this.$row += 1;\n                if (!rowCount) rowCount = this.$session.getLength();\n\n                if (this.$row >= rowCount) {\n                  this.$row = rowCount - 1;\n                  return null;\n                }\n\n                this.$rowTokens = this.$session.getTokens(this.$row);\n                this.$tokenIndex = 0;\n              }\n\n              return this.$rowTokens[this.$tokenIndex];\n            };\n\n            this.getCurrentToken = function () {\n              return this.$rowTokens[this.$tokenIndex];\n            };\n\n            this.getCurrentTokenRow = function () {\n              return this.$row;\n            };\n\n            this.getCurrentTokenColumn = function () {\n              var rowTokens = this.$rowTokens;\n              var tokenIndex = this.$tokenIndex;\n              var column = rowTokens[tokenIndex].start;\n              if (column !== undefined) return column;\n              column = 0;\n\n              while (tokenIndex > 0) {\n                tokenIndex -= 1;\n                column += rowTokens[tokenIndex].value.length;\n              }\n\n              return column;\n            };\n\n            this.getCurrentTokenPosition = function () {\n              return {\n                row: this.$row,\n                column: this.getCurrentTokenColumn()\n              };\n            };\n\n            this.getCurrentTokenRange = function () {\n              var token = this.$rowTokens[this.$tokenIndex];\n              var column = this.getCurrentTokenColumn();\n              return new Range(this.$row, column, this.$row, column + token.value.length);\n            };\n          }).call(TokenIterator.prototype);\n          exports.TokenIterator = TokenIterator;\n        });\n        ace.define(\"ace/mode/behaviour/cstyle\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/behaviour\", \"ace/token_iterator\", \"ace/lib/lang\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../../lib/oop\");\n\n          var Behaviour = require(\"../behaviour\").Behaviour;\n\n          var TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\n          var lang = require(\"../../lib/lang\");\n\n          var SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\n          var SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n          var context;\n          var contextCache = {};\n          var defaultQuotes = {\n            '\"': '\"',\n            \"'\": \"'\"\n          };\n\n          var initContext = function initContext(editor) {\n            var id = -1;\n\n            if (editor.multiSelect) {\n              id = editor.selection.index;\n              if (contextCache.rangeCount != editor.multiSelect.rangeCount) contextCache = {\n                rangeCount: editor.multiSelect.rangeCount\n              };\n            }\n\n            if (contextCache[id]) return context = contextCache[id];\n            context = contextCache[id] = {\n              autoInsertedBrackets: 0,\n              autoInsertedRow: -1,\n              autoInsertedLineEnd: \"\",\n              maybeInsertedBrackets: 0,\n              maybeInsertedRow: -1,\n              maybeInsertedLineStart: \"\",\n              maybeInsertedLineEnd: \"\"\n            };\n          };\n\n          var getWrapped = function getWrapped(selection, selected, opening, closing) {\n            var rowDiff = selection.end.row - selection.start.row;\n            return {\n              text: opening + selected + closing,\n              selection: [0, selection.start.column + 1, rowDiff, selection.end.column + (rowDiff ? 0 : 1)]\n            };\n          };\n\n          var CstyleBehaviour = function CstyleBehaviour(options) {\n            this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n              var cursor = editor.getCursorPosition();\n              var line = session.doc.getLine(cursor.row);\n\n              if (text == '{') {\n                initContext(editor);\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n\n                if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                  return getWrapped(selection, selected, '{', '}');\n                } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                  if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                      text: '{}',\n                      selection: [1, 1]\n                    };\n                  } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                      text: '{',\n                      selection: [1, 1]\n                    };\n                  }\n                }\n              } else if (text == '}') {\n                initContext(editor);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n                if (rightChar == '}') {\n                  var matching = session.$findOpeningBracket('}', {\n                    column: cursor.column + 1,\n                    row: cursor.row\n                  });\n\n                  if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                      text: '',\n                      selection: [1, 1]\n                    };\n                  }\n                }\n              } else if (text == \"\\n\" || text == \"\\r\\n\") {\n                initContext(editor);\n                var closing = \"\";\n\n                if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                  closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                  CstyleBehaviour.clearMaybeInsertedClosing();\n                }\n\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n                if (rightChar === '}') {\n                  var openBracePos = session.findMatchingBracket({\n                    row: cursor.row,\n                    column: cursor.column + 1\n                  }, '}');\n                  if (!openBracePos) return null;\n                  var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n                } else if (closing) {\n                  var next_indent = this.$getIndent(line);\n                } else {\n                  CstyleBehaviour.clearMaybeInsertedClosing();\n                  return;\n                }\n\n                var indent = next_indent + session.getTabString();\n                return {\n                  text: '\\n' + indent + '\\n' + next_indent + closing,\n                  selection: [1, indent.length, 1, indent.length]\n                };\n              } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n              }\n            });\n            this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n              var selected = session.doc.getTextRange(range);\n\n              if (!range.isMultiLine() && selected == '{') {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n\n                if (rightChar == '}') {\n                  range.end.column++;\n                  return range;\n                } else {\n                  context.maybeInsertedBrackets--;\n                }\n              }\n            });\n            this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n              if (text == '(') {\n                initContext(editor);\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n\n                if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                  return getWrapped(selection, selected, '(', ')');\n                } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                  CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                  return {\n                    text: '()',\n                    selection: [1, 1]\n                  };\n                }\n              } else if (text == ')') {\n                initContext(editor);\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n                if (rightChar == ')') {\n                  var matching = session.$findOpeningBracket(')', {\n                    column: cursor.column + 1,\n                    row: cursor.row\n                  });\n\n                  if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                      text: '',\n                      selection: [1, 1]\n                    };\n                  }\n                }\n              }\n            });\n            this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n              var selected = session.doc.getTextRange(range);\n\n              if (!range.isMultiLine() && selected == '(') {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n                if (rightChar == ')') {\n                  range.end.column++;\n                  return range;\n                }\n              }\n            });\n            this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n              if (text == '[') {\n                initContext(editor);\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n\n                if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                  return getWrapped(selection, selected, '[', ']');\n                } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                  CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                  return {\n                    text: '[]',\n                    selection: [1, 1]\n                  };\n                }\n              } else if (text == ']') {\n                initContext(editor);\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n                if (rightChar == ']') {\n                  var matching = session.$findOpeningBracket(']', {\n                    column: cursor.column + 1,\n                    row: cursor.row\n                  });\n\n                  if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                      text: '',\n                      selection: [1, 1]\n                    };\n                  }\n                }\n              }\n            });\n            this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n              var selected = session.doc.getTextRange(range);\n\n              if (!range.isMultiLine() && selected == '[') {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n                if (rightChar == ']') {\n                  range.end.column++;\n                  return range;\n                }\n              }\n            });\n            this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n              var quotes = session.$mode.$quotes || defaultQuotes;\n\n              if (text.length == 1 && quotes[text]) {\n                if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) return;\n                initContext(editor);\n                var quote = text;\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n\n                if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                  return getWrapped(selection, selected, quote, quote);\n                } else if (!selected) {\n                  var cursor = editor.getCursorPosition();\n                  var line = session.doc.getLine(cursor.row);\n                  var leftChar = line.substring(cursor.column - 1, cursor.column);\n                  var rightChar = line.substring(cursor.column, cursor.column + 1);\n                  var token = session.getTokenAt(cursor.row, cursor.column);\n                  var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                  if (leftChar == \"\\\\\" && token && /escape/.test(token.type)) return null;\n                  var stringBefore = token && /string|escape/.test(token.type);\n                  var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                  var pair;\n\n                  if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type)) pair = false;\n                  } else {\n                    if (stringBefore && !stringAfter) return null; // wrap string with different quote\n\n                    if (stringBefore && stringAfter) return null; // do not pair quotes inside strings\n\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter) return null; // before or after alphanumeric\n\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar)) return null; // there is rightChar and it isn't closing\n\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore))) return null;\n                    pair = true;\n                  }\n\n                  return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1, 1]\n                  };\n                }\n              }\n            });\n            this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n              var quotes = session.$mode.$quotes || defaultQuotes;\n              var selected = session.doc.getTextRange(range);\n\n              if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n                if (rightChar == selected) {\n                  range.end.column++;\n                  return range;\n                }\n              }\n            });\n          };\n\n          CstyleBehaviour.isSaneInsertion = function (editor, session) {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n\n            if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n              if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column])) return true;\n              var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n              if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) return false;\n            }\n\n            iterator.stepForward();\n            return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n          };\n\n          CstyleBehaviour.$matchTokenType = function (token, types) {\n            return types.indexOf(token.type || token) > -1;\n          };\n\n          CstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0])) context.autoInsertedBrackets = 0;\n            context.autoInsertedRow = cursor.row;\n            context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n            context.autoInsertedBrackets++;\n          };\n\n          CstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            if (!this.isMaybeInsertedClosing(cursor, line)) context.maybeInsertedBrackets = 0;\n            context.maybeInsertedRow = cursor.row;\n            context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n            context.maybeInsertedLineEnd = line.substr(cursor.column);\n            context.maybeInsertedBrackets++;\n          };\n\n          CstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n            return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;\n          };\n\n          CstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n            return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n          };\n\n          CstyleBehaviour.popAutoInsertedClosing = function () {\n            context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n            context.autoInsertedBrackets--;\n          };\n\n          CstyleBehaviour.clearMaybeInsertedClosing = function () {\n            if (context) {\n              context.maybeInsertedBrackets = 0;\n              context.maybeInsertedRow = -1;\n            }\n          };\n\n          oop.inherits(CstyleBehaviour, Behaviour);\n          exports.CstyleBehaviour = CstyleBehaviour;\n        });\n        ace.define(\"ace/unicode\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          var wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\n          var code = 0;\n          var str = [];\n\n          for (var i = 0; i < wordChars.length; i += 2) {\n            str.push(code += wordChars[i]);\n            if (wordChars[i + 1]) str.push(45, code += wordChars[i + 1]);\n          }\n\n          exports.wordChars = String.fromCharCode.apply(null, str);\n        });\n        ace.define(\"ace/mode/text\", [\"require\", \"exports\", \"module\", \"ace/config\", \"ace/tokenizer\", \"ace/mode/text_highlight_rules\", \"ace/mode/behaviour/cstyle\", \"ace/unicode\", \"ace/lib/lang\", \"ace/token_iterator\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var config = require(\"../config\");\n\n          var Tokenizer = require(\"../tokenizer\").Tokenizer;\n\n          var TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\n          var CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\n\n          var unicode = require(\"../unicode\");\n\n          var lang = require(\"../lib/lang\");\n\n          var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n          var Range = require(\"../range\").Range;\n\n          var Mode = function Mode() {\n            this.HighlightRules = TextHighlightRules;\n          };\n\n          (function () {\n            this.$defaultBehaviour = new CstyleBehaviour();\n            this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n            this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n            this.getTokenizer = function () {\n              if (!this.$tokenizer) {\n                this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n                this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n              }\n\n              return this.$tokenizer;\n            };\n\n            this.lineCommentStart = \"\";\n            this.blockComment = \"\";\n\n            this.toggleCommentLines = function (state, session, startRow, endRow) {\n              var doc = session.doc;\n              var ignoreBlankLines = true;\n              var shouldRemove = true;\n              var minIndent = Infinity;\n              var tabSize = session.getTabSize();\n              var insertAtTabStop = false;\n\n              if (!this.lineCommentStart) {\n                if (!this.blockComment) return false;\n                var lineCommentStart = this.blockComment.start;\n                var lineCommentEnd = this.blockComment.end;\n                var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n                var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n                var comment = function comment(line, i) {\n                  if (testRemove(line, i)) return;\n\n                  if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({\n                      row: i,\n                      column: line.length\n                    }, lineCommentEnd);\n                    doc.insertInLine({\n                      row: i,\n                      column: minIndent\n                    }, lineCommentStart);\n                  }\n                };\n\n                var uncomment = function uncomment(line, i) {\n                  var m;\n                  if (m = line.match(regexpEnd)) doc.removeInLine(i, line.length - m[0].length, line.length);\n                  if (m = line.match(regexpStart)) doc.removeInLine(i, m[1].length, m[0].length);\n                };\n\n                var testRemove = function testRemove(line, row) {\n                  if (regexpStart.test(line)) return true;\n                  var tokens = session.getTokens(row);\n\n                  for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\") return true;\n                  }\n                };\n              } else {\n                if (Array.isArray(this.lineCommentStart)) {\n                  var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                  var lineCommentStart = this.lineCommentStart[0];\n                } else {\n                  var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                  var lineCommentStart = this.lineCommentStart;\n                }\n\n                regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n                insertAtTabStop = session.getUseSoftTabs();\n\n                var uncomment = function uncomment(line, i) {\n                  var m = line.match(regexpStart);\n                  if (!m) return;\n                  var start = m[1].length,\n                      end = m[0].length;\n                  if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \") end--;\n                  doc.removeInLine(i, start, end);\n                };\n\n                var commentWithSpace = lineCommentStart + \" \";\n\n                var comment = function comment(line, i) {\n                  if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent)) doc.insertInLine({\n                      row: i,\n                      column: minIndent\n                    }, commentWithSpace);else doc.insertInLine({\n                      row: i,\n                      column: minIndent\n                    }, lineCommentStart);\n                  }\n                };\n\n                var testRemove = function testRemove(line, i) {\n                  return regexpStart.test(line);\n                };\n\n                var shouldInsertSpace = function shouldInsertSpace(line, before, after) {\n                  var spaces = 0;\n\n                  while (before-- && line.charAt(before) == \" \") {\n                    spaces++;\n                  }\n\n                  if (spaces % tabSize != 0) return false;\n                  var spaces = 0;\n\n                  while (line.charAt(after++) == \" \") {\n                    spaces++;\n                  }\n\n                  if (tabSize > 2) return spaces % tabSize != tabSize - 1;else return spaces % tabSize == 0;\n                };\n              }\n\n              function iter(fun) {\n                for (var i = startRow; i <= endRow; i++) {\n                  fun(doc.getLine(i), i);\n                }\n              }\n\n              var minEmptyLength = Infinity;\n              iter(function (line, i) {\n                var indent = line.search(/\\S/);\n\n                if (indent !== -1) {\n                  if (indent < minIndent) minIndent = indent;\n                  if (shouldRemove && !testRemove(line, i)) shouldRemove = false;\n                } else if (minEmptyLength > line.length) {\n                  minEmptyLength = line.length;\n                }\n              });\n\n              if (minIndent == Infinity) {\n                minIndent = minEmptyLength;\n                ignoreBlankLines = false;\n                shouldRemove = false;\n              }\n\n              if (insertAtTabStop && minIndent % tabSize != 0) minIndent = Math.floor(minIndent / tabSize) * tabSize;\n              iter(shouldRemove ? uncomment : comment);\n            };\n\n            this.toggleBlockComment = function (state, session, range, cursor) {\n              var comment = this.blockComment;\n              if (!comment) return;\n              if (!comment.start && comment[0]) comment = comment[0];\n              var iterator = new TokenIterator(session, cursor.row, cursor.column);\n              var token = iterator.getCurrentToken();\n              var sel = session.selection;\n              var initialRange = session.selection.toOrientedRange();\n              var startRow, colDiff;\n\n              if (token && /comment/.test(token.type)) {\n                var startRange, endRange;\n\n                while (token && /comment/.test(token.type)) {\n                  var i = token.value.indexOf(comment.start);\n\n                  if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                  }\n\n                  token = iterator.stepBackward();\n                }\n\n                var iterator = new TokenIterator(session, cursor.row, cursor.column);\n                var token = iterator.getCurrentToken();\n\n                while (token && /comment/.test(token.type)) {\n                  var i = token.value.indexOf(comment.end);\n\n                  if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                  }\n\n                  token = iterator.stepForward();\n                }\n\n                if (endRange) session.remove(endRange);\n\n                if (startRange) {\n                  session.remove(startRange);\n                  startRow = startRange.start.row;\n                  colDiff = -comment.start.length;\n                }\n              } else {\n                colDiff = comment.start.length;\n                startRow = range.start.row;\n                session.insert(range.end, comment.end);\n                session.insert(range.start, comment.start);\n              }\n\n              if (initialRange.start.row == startRow) initialRange.start.column += colDiff;\n              if (initialRange.end.row == startRow) initialRange.end.column += colDiff;\n              session.selection.fromOrientedRange(initialRange);\n            };\n\n            this.getNextLineIndent = function (state, line, tab) {\n              return this.$getIndent(line);\n            };\n\n            this.checkOutdent = function (state, line, input) {\n              return false;\n            };\n\n            this.autoOutdent = function (state, doc, row) {};\n\n            this.$getIndent = function (line) {\n              return line.match(/^\\s*/)[0];\n            };\n\n            this.createWorker = function (session) {\n              return null;\n            };\n\n            this.createModeDelegates = function (mapping) {\n              this.$embeds = [];\n              this.$modes = {};\n\n              for (var i in mapping) {\n                if (mapping[i]) {\n                  var Mode = mapping[i];\n                  var id = Mode.prototype.$id;\n                  var mode = config.$modes[id];\n                  if (!mode) config.$modes[id] = mode = new Mode();\n                  if (!config.$modes[i]) config.$modes[i] = mode;\n                  this.$embeds.push(i);\n                  this.$modes[i] = mode;\n                }\n              }\n\n              var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n              for (var i = 0; i < delegations.length; i++) {\n                (function (scope) {\n                  var functionName = delegations[i];\n                  var defaultHandler = scope[functionName];\n\n                  scope[delegations[i]] = function () {\n                    return this.$delegator(functionName, arguments, defaultHandler);\n                  };\n                })(this);\n              }\n            };\n\n            this.$delegator = function (method, args, defaultHandler) {\n              var state = args[0] || \"start\";\n\n              if (typeof state != \"string\") {\n                if (Array.isArray(state[2])) {\n                  var language = state[2][state[2].length - 1];\n                  var mode = this.$modes[language];\n                  if (mode) return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n                }\n\n                state = state[0] || \"start\";\n              }\n\n              for (var i = 0; i < this.$embeds.length; i++) {\n                if (!this.$modes[this.$embeds[i]]) continue;\n                var split = state.split(this.$embeds[i]);\n\n                if (!split[0] && split[1]) {\n                  args[0] = split[1];\n                  var mode = this.$modes[this.$embeds[i]];\n                  return mode[method].apply(mode, args);\n                }\n              }\n\n              var ret = defaultHandler.apply(this, args);\n              return defaultHandler ? ret : undefined;\n            };\n\n            this.transformAction = function (state, action, editor, session, param) {\n              if (this.$behaviour) {\n                var behaviours = this.$behaviour.getBehaviours();\n\n                for (var key in behaviours) {\n                  if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n\n                    if (ret) {\n                      return ret;\n                    }\n                  }\n                }\n              }\n            };\n\n            this.getKeywords = function (append) {\n              if (!this.completionKeywords) {\n                var rules = this.$tokenizer.rules;\n                var completionKeywords = [];\n\n                for (var rule in rules) {\n                  var ruleItr = rules[rule];\n\n                  for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                      if (/keyword|support|storage/.test(ruleItr[r].token)) completionKeywords.push(ruleItr[r].regex);\n                    } else if (typeof ruleItr[r].token === \"object\") {\n                      for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                        if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                          var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                          completionKeywords.push(rule.substr(1, rule.length - 2));\n                        }\n                      }\n                    }\n                  }\n                }\n\n                this.completionKeywords = completionKeywords;\n              }\n\n              if (!append) return this.$keywordList;\n              return completionKeywords.concat(this.$keywordList || []);\n            };\n\n            this.$createKeywordList = function () {\n              if (!this.$highlightRules) this.getTokenizer();\n              return this.$keywordList = this.$highlightRules.$keywordList || [];\n            };\n\n            this.getCompletions = function (state, session, pos, prefix) {\n              var keywords = this.$keywordList || this.$createKeywordList();\n              return keywords.map(function (word) {\n                return {\n                  name: word,\n                  value: word,\n                  score: 0,\n                  meta: \"keyword\"\n                };\n              });\n            };\n\n            this.$id = \"ace/mode/text\";\n          }).call(Mode.prototype);\n          exports.Mode = Mode;\n        });\n        ace.define(\"ace/apply_delta\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n          \"use strict\";\n\n          function throwDeltaError(delta, errorText) {\n            console.log(\"Invalid Delta:\", delta);\n            throw \"Invalid Delta: \" + errorText;\n          }\n\n          function positionInDocument(docLines, position) {\n            return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n          }\n\n          function validateDelta(docLines, delta) {\n            if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n            if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n            if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n            var start = delta.start;\n            if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n            var end = delta.end;\n            if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n            var numRangeRows = end.row - start.row;\n            var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n            if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n          }\n\n          exports.applyDelta = function (docLines, delta, doNotValidate) {\n            var row = delta.start.row;\n            var startColumn = delta.start.column;\n            var line = docLines[row] || \"\";\n\n            switch (delta.action) {\n              case \"insert\":\n                var lines = delta.lines;\n\n                if (lines.length === 1) {\n                  docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n                } else {\n                  var args = [row, 1].concat(delta.lines);\n                  docLines.splice.apply(docLines, args);\n                  docLines[row] = line.substring(0, startColumn) + docLines[row];\n                  docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n                }\n\n                break;\n\n              case \"remove\":\n                var endColumn = delta.end.column;\n                var endRow = delta.end.row;\n\n                if (row === endRow) {\n                  docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n                } else {\n                  docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n                }\n\n                break;\n            }\n          };\n        });\n        ace.define(\"ace/anchor\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var Anchor = exports.Anchor = function (doc, row, column) {\n            this.$onChange = this.onChange.bind(this);\n            this.attach(doc);\n            if (typeof column == \"undefined\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.getPosition = function () {\n              return this.$clipPositionToDocument(this.row, this.column);\n            };\n\n            this.getDocument = function () {\n              return this.document;\n            };\n\n            this.$insertRight = false;\n\n            this.onChange = function (delta) {\n              if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n              if (delta.start.row > this.row) return;\n              var point = $getTransformedPoint(delta, {\n                row: this.row,\n                column: this.column\n              }, this.$insertRight);\n              this.setPosition(point.row, point.column, true);\n            };\n\n            function $pointsInOrder(point1, point2, equalPointsInOrder) {\n              var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n              return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n            }\n\n            function $getTransformedPoint(delta, point, moveIfEqual) {\n              var deltaIsInsert = delta.action == \"insert\";\n              var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n              var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n              var deltaStart = delta.start;\n              var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n\n              if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n                return {\n                  row: point.row,\n                  column: point.column\n                };\n              }\n\n              if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n                return {\n                  row: point.row + deltaRowShift,\n                  column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n                };\n              }\n\n              return {\n                row: deltaStart.row,\n                column: deltaStart.column\n              };\n            }\n\n            this.setPosition = function (row, column, noClip) {\n              var pos;\n\n              if (noClip) {\n                pos = {\n                  row: row,\n                  column: column\n                };\n              } else {\n                pos = this.$clipPositionToDocument(row, column);\n              }\n\n              if (this.row == pos.row && this.column == pos.column) return;\n              var old = {\n                row: this.row,\n                column: this.column\n              };\n              this.row = pos.row;\n              this.column = pos.column;\n\n              this._signal(\"change\", {\n                old: old,\n                value: pos\n              });\n            };\n\n            this.detach = function () {\n              this.document.removeEventListener(\"change\", this.$onChange);\n            };\n\n            this.attach = function (doc) {\n              this.document = doc || this.document;\n              this.document.on(\"change\", this.$onChange);\n            };\n\n            this.$clipPositionToDocument = function (row, column) {\n              var pos = {};\n\n              if (row >= this.document.getLength()) {\n                pos.row = Math.max(0, this.document.getLength() - 1);\n                pos.column = this.document.getLine(pos.row).length;\n              } else if (row < 0) {\n                pos.row = 0;\n                pos.column = 0;\n              } else {\n                pos.row = row;\n                pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n              }\n\n              if (column < 0) pos.column = 0;\n              return pos;\n            };\n          }).call(Anchor.prototype);\n        });\n        ace.define(\"ace/document\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/apply_delta\", \"ace/lib/event_emitter\", \"ace/range\", \"ace/anchor\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var applyDelta = require(\"./apply_delta\").applyDelta;\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var Range = require(\"./range\").Range;\n\n          var Anchor = require(\"./anchor\").Anchor;\n\n          var Document = function Document(textOrLines) {\n            this.$lines = [\"\"];\n\n            if (textOrLines.length === 0) {\n              this.$lines = [\"\"];\n            } else if (Array.isArray(textOrLines)) {\n              this.insertMergedLines({\n                row: 0,\n                column: 0\n              }, textOrLines);\n            } else {\n              this.insert({\n                row: 0,\n                column: 0\n              }, textOrLines);\n            }\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.setValue = function (text) {\n              var len = this.getLength() - 1;\n              this.remove(new Range(0, 0, len, this.getLine(len).length));\n              this.insert({\n                row: 0,\n                column: 0\n              }, text);\n            };\n\n            this.getValue = function () {\n              return this.getAllLines().join(this.getNewLineCharacter());\n            };\n\n            this.createAnchor = function (row, column) {\n              return new Anchor(this, row, column);\n            };\n\n            if (\"aaa\".split(/a/).length === 0) {\n              this.$split = function (text) {\n                return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n              };\n            } else {\n              this.$split = function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n              };\n            }\n\n            this.$detectNewLine = function (text) {\n              var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n              this.$autoNewLine = match ? match[1] : \"\\n\";\n\n              this._signal(\"changeNewLineMode\");\n            };\n\n            this.getNewLineCharacter = function () {\n              switch (this.$newLineMode) {\n                case \"windows\":\n                  return \"\\r\\n\";\n\n                case \"unix\":\n                  return \"\\n\";\n\n                default:\n                  return this.$autoNewLine || \"\\n\";\n              }\n            };\n\n            this.$autoNewLine = \"\";\n            this.$newLineMode = \"auto\";\n\n            this.setNewLineMode = function (newLineMode) {\n              if (this.$newLineMode === newLineMode) return;\n              this.$newLineMode = newLineMode;\n\n              this._signal(\"changeNewLineMode\");\n            };\n\n            this.getNewLineMode = function () {\n              return this.$newLineMode;\n            };\n\n            this.isNewLine = function (text) {\n              return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n            };\n\n            this.getLine = function (row) {\n              return this.$lines[row] || \"\";\n            };\n\n            this.getLines = function (firstRow, lastRow) {\n              return this.$lines.slice(firstRow, lastRow + 1);\n            };\n\n            this.getAllLines = function () {\n              return this.getLines(0, this.getLength());\n            };\n\n            this.getLength = function () {\n              return this.$lines.length;\n            };\n\n            this.getTextRange = function (range) {\n              return this.getLinesForRange(range).join(this.getNewLineCharacter());\n            };\n\n            this.getLinesForRange = function (range) {\n              var lines;\n\n              if (range.start.row === range.end.row) {\n                lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n              } else {\n                lines = this.getLines(range.start.row, range.end.row);\n                lines[0] = (lines[0] || \"\").substring(range.start.column);\n                var l = lines.length - 1;\n                if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n              }\n\n              return lines;\n            };\n\n            this.insertLines = function (row, lines) {\n              console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n              return this.insertFullLines(row, lines);\n            };\n\n            this.removeLines = function (firstRow, lastRow) {\n              console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n              return this.removeFullLines(firstRow, lastRow);\n            };\n\n            this.insertNewLine = function (position) {\n              console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n              return this.insertMergedLines(position, [\"\", \"\"]);\n            };\n\n            this.insert = function (position, text) {\n              if (this.getLength() <= 1) this.$detectNewLine(text);\n              return this.insertMergedLines(position, this.$split(text));\n            };\n\n            this.insertInLine = function (position, text) {\n              var start = this.clippedPos(position.row, position.column);\n              var end = this.pos(position.row, position.column + text.length);\n              this.applyDelta({\n                start: start,\n                end: end,\n                action: \"insert\",\n                lines: [text]\n              }, true);\n              return this.clonePos(end);\n            };\n\n            this.clippedPos = function (row, column) {\n              var length = this.getLength();\n\n              if (row === undefined) {\n                row = length;\n              } else if (row < 0) {\n                row = 0;\n              } else if (row >= length) {\n                row = length - 1;\n                column = undefined;\n              }\n\n              var line = this.getLine(row);\n              if (column == undefined) column = line.length;\n              column = Math.min(Math.max(column, 0), line.length);\n              return {\n                row: row,\n                column: column\n              };\n            };\n\n            this.clonePos = function (pos) {\n              return {\n                row: pos.row,\n                column: pos.column\n              };\n            };\n\n            this.pos = function (row, column) {\n              return {\n                row: row,\n                column: column\n              };\n            };\n\n            this.$clipPosition = function (position) {\n              var length = this.getLength();\n\n              if (position.row >= length) {\n                position.row = Math.max(0, length - 1);\n                position.column = this.getLine(length - 1).length;\n              } else {\n                position.row = Math.max(0, position.row);\n                position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n              }\n\n              return position;\n            };\n\n            this.insertFullLines = function (row, lines) {\n              row = Math.min(Math.max(row, 0), this.getLength());\n              var column = 0;\n\n              if (row < this.getLength()) {\n                lines = lines.concat([\"\"]);\n                column = 0;\n              } else {\n                lines = [\"\"].concat(lines);\n                row--;\n                column = this.$lines[row].length;\n              }\n\n              this.insertMergedLines({\n                row: row,\n                column: column\n              }, lines);\n            };\n\n            this.insertMergedLines = function (position, lines) {\n              var start = this.clippedPos(position.row, position.column);\n              var end = {\n                row: start.row + lines.length - 1,\n                column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n              };\n              this.applyDelta({\n                start: start,\n                end: end,\n                action: \"insert\",\n                lines: lines\n              });\n              return this.clonePos(end);\n            };\n\n            this.remove = function (range) {\n              var start = this.clippedPos(range.start.row, range.start.column);\n              var end = this.clippedPos(range.end.row, range.end.column);\n              this.applyDelta({\n                start: start,\n                end: end,\n                action: \"remove\",\n                lines: this.getLinesForRange({\n                  start: start,\n                  end: end\n                })\n              });\n              return this.clonePos(start);\n            };\n\n            this.removeInLine = function (row, startColumn, endColumn) {\n              var start = this.clippedPos(row, startColumn);\n              var end = this.clippedPos(row, endColumn);\n              this.applyDelta({\n                start: start,\n                end: end,\n                action: \"remove\",\n                lines: this.getLinesForRange({\n                  start: start,\n                  end: end\n                })\n              }, true);\n              return this.clonePos(start);\n            };\n\n            this.removeFullLines = function (firstRow, lastRow) {\n              firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n              lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n              var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n              var deleteLastNewLine = lastRow < this.getLength() - 1;\n              var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n              var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n              var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n              var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n              var range = new Range(startRow, startCol, endRow, endCol);\n              var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n              this.applyDelta({\n                start: range.start,\n                end: range.end,\n                action: \"remove\",\n                lines: this.getLinesForRange(range)\n              });\n              return deletedLines;\n            };\n\n            this.removeNewLine = function (row) {\n              if (row < this.getLength() - 1 && row >= 0) {\n                this.applyDelta({\n                  start: this.pos(row, this.getLine(row).length),\n                  end: this.pos(row + 1, 0),\n                  action: \"remove\",\n                  lines: [\"\", \"\"]\n                });\n              }\n            };\n\n            this.replace = function (range, text) {\n              if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n              if (text.length === 0 && range.isEmpty()) return range.start;\n              if (text == this.getTextRange(range)) return range.end;\n              this.remove(range);\n              var end;\n\n              if (text) {\n                end = this.insert(range.start, text);\n              } else {\n                end = range.start;\n              }\n\n              return end;\n            };\n\n            this.applyDeltas = function (deltas) {\n              for (var i = 0; i < deltas.length; i++) {\n                this.applyDelta(deltas[i]);\n              }\n            };\n\n            this.revertDeltas = function (deltas) {\n              for (var i = deltas.length - 1; i >= 0; i--) {\n                this.revertDelta(deltas[i]);\n              }\n            };\n\n            this.applyDelta = function (delta, doNotValidate) {\n              var isInsert = delta.action == \"insert\";\n\n              if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n                return;\n              }\n\n              if (isInsert && delta.lines.length > 20000) {\n                this.$splitAndapplyLargeDelta(delta, 20000);\n              } else {\n                applyDelta(this.$lines, delta, doNotValidate);\n\n                this._signal(\"change\", delta);\n              }\n            };\n\n            this.$splitAndapplyLargeDelta = function (delta, MAX) {\n              var lines = delta.lines;\n              var l = lines.length - MAX + 1;\n              var row = delta.start.row;\n              var column = delta.start.column;\n\n              for (var from = 0, to = 0; from < l; from = to) {\n                to += MAX - 1;\n                var chunk = lines.slice(from, to);\n                chunk.push(\"\");\n                this.applyDelta({\n                  start: this.pos(row + from, column),\n                  end: this.pos(row + to, column = 0),\n                  action: delta.action,\n                  lines: chunk\n                }, true);\n              }\n\n              delta.lines = lines.slice(from);\n              delta.start.row = row + from;\n              delta.start.column = column;\n              this.applyDelta(delta, true);\n            };\n\n            this.revertDelta = function (delta) {\n              this.applyDelta({\n                start: this.clonePos(delta.start),\n                end: this.clonePos(delta.end),\n                action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n                lines: delta.lines.slice()\n              });\n            };\n\n            this.indexToPosition = function (index, startRow) {\n              var lines = this.$lines || this.getAllLines();\n              var newlineLength = this.getNewLineCharacter().length;\n\n              for (var i = startRow || 0, l = lines.length; i < l; i++) {\n                index -= lines[i].length + newlineLength;\n                if (index < 0) return {\n                  row: i,\n                  column: index + lines[i].length + newlineLength\n                };\n              }\n\n              return {\n                row: l - 1,\n                column: index + lines[l - 1].length + newlineLength\n              };\n            };\n\n            this.positionToIndex = function (pos, startRow) {\n              var lines = this.$lines || this.getAllLines();\n              var newlineLength = this.getNewLineCharacter().length;\n              var index = 0;\n              var row = Math.min(pos.row, lines.length);\n\n              for (var i = startRow || 0; i < row; ++i) {\n                index += lines[i].length + newlineLength;\n              }\n\n              return index + pos.column;\n            };\n          }).call(Document.prototype);\n          exports.Document = Document;\n        });\n        ace.define(\"ace/background_tokenizer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var BackgroundTokenizer = function BackgroundTokenizer(tokenizer, editor) {\n            this.running = false;\n            this.lines = [];\n            this.states = [];\n            this.currentLine = 0;\n            this.tokenizer = tokenizer;\n            var self = this;\n\n            this.$worker = function () {\n              if (!self.running) {\n                return;\n              }\n\n              var workerStart = new Date();\n              var currentLine = self.currentLine;\n              var endLine = -1;\n              var doc = self.doc;\n              var startLine = currentLine;\n\n              while (self.lines[currentLine]) {\n                currentLine++;\n              }\n\n              var len = doc.getLength();\n              var processedLines = 0;\n              self.running = false;\n\n              while (currentLine < len) {\n                self.$tokenizeRow(currentLine);\n                endLine = currentLine;\n\n                do {\n                  currentLine++;\n                } while (self.lines[currentLine]);\n\n                processedLines++;\n\n                if (processedLines % 5 === 0 && new Date() - workerStart > 20) {\n                  self.running = setTimeout(self.$worker, 20);\n                  break;\n                }\n              }\n\n              self.currentLine = currentLine;\n              if (endLine == -1) endLine = currentLine;\n              if (startLine <= endLine) self.fireUpdateEvent(startLine, endLine);\n            };\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.setTokenizer = function (tokenizer) {\n              this.tokenizer = tokenizer;\n              this.lines = [];\n              this.states = [];\n              this.start(0);\n            };\n\n            this.setDocument = function (doc) {\n              this.doc = doc;\n              this.lines = [];\n              this.states = [];\n              this.stop();\n            };\n\n            this.fireUpdateEvent = function (firstRow, lastRow) {\n              var data = {\n                first: firstRow,\n                last: lastRow\n              };\n\n              this._signal(\"update\", {\n                data: data\n              });\n            };\n\n            this.start = function (startRow) {\n              this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n              this.lines.splice(this.currentLine, this.lines.length);\n              this.states.splice(this.currentLine, this.states.length);\n              this.stop();\n              this.running = setTimeout(this.$worker, 700);\n            };\n\n            this.scheduleStart = function () {\n              if (!this.running) this.running = setTimeout(this.$worker, 700);\n            };\n\n            this.$updateOnChange = function (delta) {\n              var startRow = delta.start.row;\n              var len = delta.end.row - startRow;\n\n              if (len === 0) {\n                this.lines[startRow] = null;\n              } else if (delta.action == \"remove\") {\n                this.lines.splice(startRow, len + 1, null);\n                this.states.splice(startRow, len + 1, null);\n              } else {\n                var args = Array(len + 1);\n                args.unshift(startRow, 1);\n                this.lines.splice.apply(this.lines, args);\n                this.states.splice.apply(this.states, args);\n              }\n\n              this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n              this.stop();\n            };\n\n            this.stop = function () {\n              if (this.running) clearTimeout(this.running);\n              this.running = false;\n            };\n\n            this.getTokens = function (row) {\n              return this.lines[row] || this.$tokenizeRow(row);\n            };\n\n            this.getState = function (row) {\n              if (this.currentLine == row) this.$tokenizeRow(row);\n              return this.states[row] || \"start\";\n            };\n\n            this.$tokenizeRow = function (row) {\n              var line = this.doc.getLine(row);\n              var state = this.states[row - 1];\n              var data = this.tokenizer.getLineTokens(line, state, row);\n\n              if (this.states[row] + \"\" !== data.state + \"\") {\n                this.states[row] = data.state;\n                this.lines[row + 1] = null;\n                if (this.currentLine > row + 1) this.currentLine = row + 1;\n              } else if (this.currentLine == row) {\n                this.currentLine = row + 1;\n              }\n\n              return this.lines[row] = data.tokens;\n            };\n          }).call(BackgroundTokenizer.prototype);\n          exports.BackgroundTokenizer = BackgroundTokenizer;\n        });\n        ace.define(\"ace/search_highlight\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var lang = require(\"./lib/lang\");\n\n          var oop = require(\"./lib/oop\");\n\n          var Range = require(\"./range\").Range;\n\n          var SearchHighlight = function SearchHighlight(regExp, clazz, type) {\n            this.setRegexp(regExp);\n            this.clazz = clazz;\n            this.type = type || \"text\";\n          };\n\n          (function () {\n            this.MAX_RANGES = 500;\n\n            this.setRegexp = function (regExp) {\n              if (this.regExp + \"\" == regExp + \"\") return;\n              this.regExp = regExp;\n              this.cache = [];\n            };\n\n            this.update = function (html, markerLayer, session, config) {\n              if (!this.regExp) return;\n              var start = config.firstRow,\n                  end = config.lastRow;\n\n              for (var i = start; i <= end; i++) {\n                var ranges = this.cache[i];\n\n                if (ranges == null) {\n                  ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                  if (ranges.length > this.MAX_RANGES) ranges = ranges.slice(0, this.MAX_RANGES);\n                  ranges = ranges.map(function (match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                  });\n                  this.cache[i] = ranges.length ? ranges : \"\";\n                }\n\n                for (var j = ranges.length; j--;) {\n                  markerLayer.drawSingleLineMarker(html, ranges[j].toScreenRange(session), this.clazz, config);\n                }\n              }\n            };\n          }).call(SearchHighlight.prototype);\n          exports.SearchHighlight = SearchHighlight;\n        });\n        ace.define(\"ace/edit_session/fold_line\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"../range\").Range;\n\n          function FoldLine(foldData, folds) {\n            this.foldData = foldData;\n\n            if (Array.isArray(folds)) {\n              this.folds = folds;\n            } else {\n              folds = this.folds = [folds];\n            }\n\n            var last = folds[folds.length - 1];\n            this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n            this.start = this.range.start;\n            this.end = this.range.end;\n            this.folds.forEach(function (fold) {\n              fold.setFoldLine(this);\n            }, this);\n          }\n\n          (function () {\n            this.shiftRow = function (shift) {\n              this.start.row += shift;\n              this.end.row += shift;\n              this.folds.forEach(function (fold) {\n                fold.start.row += shift;\n                fold.end.row += shift;\n              });\n            };\n\n            this.addFold = function (fold) {\n              if (fold.sameRow) {\n                if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                  throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n                }\n\n                this.folds.push(fold);\n                this.folds.sort(function (a, b) {\n                  return -a.range.compareEnd(b.start.row, b.start.column);\n                });\n\n                if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                  this.end.row = fold.end.row;\n                  this.end.column = fold.end.column;\n                } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                  this.start.row = fold.start.row;\n                  this.start.column = fold.start.column;\n                }\n              } else if (fold.start.row == this.end.row) {\n                this.folds.push(fold);\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n              } else if (fold.end.row == this.start.row) {\n                this.folds.unshift(fold);\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n              } else {\n                throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n              }\n\n              fold.foldLine = this;\n            };\n\n            this.containsRow = function (row) {\n              return row >= this.start.row && row <= this.end.row;\n            };\n\n            this.walk = function (callback, endRow, endColumn) {\n              var lastEnd = 0,\n                  folds = this.folds,\n                  fold,\n                  cmp,\n                  stop,\n                  isNewRow = true;\n\n              if (endRow == null) {\n                endRow = this.end.row;\n                endColumn = this.end.column;\n              }\n\n              for (var i = 0; i < folds.length; i++) {\n                fold = folds[i];\n                cmp = fold.range.compareStart(endRow, endColumn);\n\n                if (cmp == -1) {\n                  callback(null, endRow, endColumn, lastEnd, isNewRow);\n                  return;\n                }\n\n                stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n                stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n\n                if (stop || cmp === 0) {\n                  return;\n                }\n\n                isNewRow = !fold.sameRow;\n                lastEnd = fold.end.column;\n              }\n\n              callback(null, endRow, endColumn, lastEnd, isNewRow);\n            };\n\n            this.getNextFoldTo = function (row, column) {\n              var fold, cmp;\n\n              for (var i = 0; i < this.folds.length; i++) {\n                fold = this.folds[i];\n                cmp = fold.range.compareEnd(row, column);\n\n                if (cmp == -1) {\n                  return {\n                    fold: fold,\n                    kind: \"after\"\n                  };\n                } else if (cmp === 0) {\n                  return {\n                    fold: fold,\n                    kind: \"inside\"\n                  };\n                }\n              }\n\n              return null;\n            };\n\n            this.addRemoveChars = function (row, column, len) {\n              var ret = this.getNextFoldTo(row, column),\n                  fold,\n                  folds;\n\n              if (ret) {\n                fold = ret.fold;\n\n                if (ret.kind == \"inside\" && fold.start.column != column && fold.start.row != row) {\n                  window.console && window.console.log(row, column, fold);\n                } else if (fold.start.row == row) {\n                  folds = this.folds;\n                  var i = folds.indexOf(fold);\n\n                  if (i === 0) {\n                    this.start.column += len;\n                  }\n\n                  for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n\n                    if (!fold.sameRow) {\n                      return;\n                    }\n\n                    fold.end.column += len;\n                  }\n\n                  this.end.column += len;\n                }\n              }\n            };\n\n            this.split = function (row, column) {\n              var pos = this.getNextFoldTo(row, column);\n              if (!pos || pos.kind == \"inside\") return null;\n              var fold = pos.fold;\n              var folds = this.folds;\n              var foldData = this.foldData;\n              var i = folds.indexOf(fold);\n              var foldBefore = folds[i - 1];\n              this.end.row = foldBefore.end.row;\n              this.end.column = foldBefore.end.column;\n              folds = folds.splice(i, folds.length - i);\n              var newFoldLine = new FoldLine(foldData, folds);\n              foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n              return newFoldLine;\n            };\n\n            this.merge = function (foldLineNext) {\n              var folds = foldLineNext.folds;\n\n              for (var i = 0; i < folds.length; i++) {\n                this.addFold(folds[i]);\n              }\n\n              var foldData = this.foldData;\n              foldData.splice(foldData.indexOf(foldLineNext), 1);\n            };\n\n            this.toString = function () {\n              var ret = [this.range.toString() + \": [\"];\n              this.folds.forEach(function (fold) {\n                ret.push(\"  \" + fold.toString());\n              });\n              ret.push(\"]\");\n              return ret.join(\"\\n\");\n            };\n\n            this.idxToPosition = function (idx) {\n              var lastFoldEndColumn = 0;\n\n              for (var i = 0; i < this.folds.length; i++) {\n                var fold = this.folds[i];\n                idx -= fold.start.column - lastFoldEndColumn;\n\n                if (idx < 0) {\n                  return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                  };\n                }\n\n                idx -= fold.placeholder.length;\n\n                if (idx < 0) {\n                  return fold.start;\n                }\n\n                lastFoldEndColumn = fold.end.column;\n              }\n\n              return {\n                row: this.end.row,\n                column: this.end.column + idx\n              };\n            };\n          }).call(FoldLine.prototype);\n          exports.FoldLine = FoldLine;\n        });\n        ace.define(\"ace/range_list\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"./range\").Range;\n\n          var comparePoints = Range.comparePoints;\n\n          var RangeList = function RangeList() {\n            this.ranges = [];\n            this.$bias = 1;\n          };\n\n          (function () {\n            this.comparePoints = comparePoints;\n\n            this.pointIndex = function (pos, excludeEdges, startIndex) {\n              var list = this.ranges;\n\n              for (var i = startIndex || 0; i < list.length; i++) {\n                var range = list[i];\n                var cmpEnd = comparePoints(pos, range.end);\n                if (cmpEnd > 0) continue;\n                var cmpStart = comparePoints(pos, range.start);\n                if (cmpEnd === 0) return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n                if (cmpStart > 0 || cmpStart === 0 && !excludeEdges) return i;\n                return -i - 1;\n              }\n\n              return -i - 1;\n            };\n\n            this.add = function (range) {\n              var excludeEdges = !range.isEmpty();\n              var startIndex = this.pointIndex(range.start, excludeEdges);\n              if (startIndex < 0) startIndex = -startIndex - 1;\n              var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n              if (endIndex < 0) endIndex = -endIndex - 1;else endIndex++;\n              return this.ranges.splice(startIndex, endIndex - startIndex, range);\n            };\n\n            this.addList = function (list) {\n              var removed = [];\n\n              for (var i = list.length; i--;) {\n                removed.push.apply(removed, this.add(list[i]));\n              }\n\n              return removed;\n            };\n\n            this.substractPoint = function (pos) {\n              var i = this.pointIndex(pos);\n              if (i >= 0) return this.ranges.splice(i, 1);\n            };\n\n            this.merge = function () {\n              var removed = [];\n              var list = this.ranges;\n              list = list.sort(function (a, b) {\n                return comparePoints(a.start, b.start);\n              });\n              var next = list[0],\n                  range;\n\n              for (var i = 1; i < list.length; i++) {\n                range = next;\n                next = list[i];\n                var cmp = comparePoints(range.end, next.start);\n                if (cmp < 0) continue;\n                if (cmp == 0 && !range.isEmpty() && !next.isEmpty()) continue;\n\n                if (comparePoints(range.end, next.end) < 0) {\n                  range.end.row = next.end.row;\n                  range.end.column = next.end.column;\n                }\n\n                list.splice(i, 1);\n                removed.push(next);\n                next = range;\n                i--;\n              }\n\n              this.ranges = list;\n              return removed;\n            };\n\n            this.contains = function (row, column) {\n              return this.pointIndex({\n                row: row,\n                column: column\n              }) >= 0;\n            };\n\n            this.containsPoint = function (pos) {\n              return this.pointIndex(pos) >= 0;\n            };\n\n            this.rangeAtPoint = function (pos) {\n              var i = this.pointIndex(pos);\n              if (i >= 0) return this.ranges[i];\n            };\n\n            this.clipRows = function (startRow, endRow) {\n              var list = this.ranges;\n              if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow) return [];\n              var startIndex = this.pointIndex({\n                row: startRow,\n                column: 0\n              });\n              if (startIndex < 0) startIndex = -startIndex - 1;\n              var endIndex = this.pointIndex({\n                row: endRow,\n                column: 0\n              }, startIndex);\n              if (endIndex < 0) endIndex = -endIndex - 1;\n              var clipped = [];\n\n              for (var i = startIndex; i < endIndex; i++) {\n                clipped.push(list[i]);\n              }\n\n              return clipped;\n            };\n\n            this.removeAll = function () {\n              return this.ranges.splice(0, this.ranges.length);\n            };\n\n            this.attach = function (session) {\n              if (this.session) this.detach();\n              this.session = session;\n              this.onChange = this.$onChange.bind(this);\n              this.session.on('change', this.onChange);\n            };\n\n            this.detach = function () {\n              if (!this.session) return;\n              this.session.removeListener('change', this.onChange);\n              this.session = null;\n            };\n\n            this.$onChange = function (delta) {\n              var start = delta.start;\n              var end = delta.end;\n              var startRow = start.row;\n              var endRow = end.row;\n              var ranges = this.ranges;\n\n              for (var i = 0, n = ranges.length; i < n; i++) {\n                var r = ranges[i];\n                if (r.end.row >= startRow) break;\n              }\n\n              if (delta.action == \"insert\") {\n                var lineDif = endRow - startRow;\n                var colDiff = -start.column + end.column;\n\n                for (; i < n; i++) {\n                  var r = ranges[i];\n                  if (r.start.row > startRow) break;\n\n                  if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {} else {\n                      r.start.column += colDiff;\n                      r.start.row += lineDif;\n                    }\n                  }\n\n                  if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                      continue;\n                    }\n\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                      if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column) r.end.column -= colDiff;\n                    }\n\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                  }\n                }\n              } else {\n                var lineDif = startRow - endRow;\n                var colDiff = start.column - end.column;\n\n                for (; i < n; i++) {\n                  var r = ranges[i];\n                  if (r.start.row > endRow) break;\n\n                  if (r.end.row < endRow && (startRow < r.end.row || startRow == r.end.row && start.column < r.end.column)) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                  } else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                      if (lineDif || r.end.column > start.column) {\n                        r.end.column = start.column;\n                        r.end.row = start.row;\n                      }\n                    } else {\n                      r.end.column += colDiff;\n                      r.end.row += lineDif;\n                    }\n                  } else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                  }\n\n                  if (r.start.row < endRow && (startRow < r.start.row || startRow == r.start.row && start.column < r.start.column)) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                  } else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                      if (lineDif || r.start.column > start.column) {\n                        r.start.column = start.column;\n                        r.start.row = start.row;\n                      }\n                    } else {\n                      r.start.column += colDiff;\n                      r.start.row += lineDif;\n                    }\n                  } else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                  }\n                }\n              }\n\n              if (lineDif != 0 && i < n) {\n                for (; i < n; i++) {\n                  var r = ranges[i];\n                  r.start.row += lineDif;\n                  r.end.row += lineDif;\n                }\n              }\n            };\n          }).call(RangeList.prototype);\n          exports.RangeList = RangeList;\n        });\n        ace.define(\"ace/edit_session/fold\", [\"require\", \"exports\", \"module\", \"ace/range_list\", \"ace/lib/oop\"], function (require, exports, module) {\n          \"use strict\";\n\n          var RangeList = require(\"../range_list\").RangeList;\n\n          var oop = require(\"../lib/oop\");\n\n          var Fold = exports.Fold = function (range, placeholder) {\n            this.foldLine = null;\n            this.placeholder = placeholder;\n            this.range = range;\n            this.start = range.start;\n            this.end = range.end;\n            this.sameRow = range.start.row == range.end.row;\n            this.subFolds = this.ranges = [];\n          };\n\n          oop.inherits(Fold, RangeList);\n          (function () {\n            this.toString = function () {\n              return '\"' + this.placeholder + '\" ' + this.range.toString();\n            };\n\n            this.setFoldLine = function (foldLine) {\n              this.foldLine = foldLine;\n              this.subFolds.forEach(function (fold) {\n                fold.setFoldLine(foldLine);\n              });\n            };\n\n            this.clone = function () {\n              var range = this.range.clone();\n              var fold = new Fold(range, this.placeholder);\n              this.subFolds.forEach(function (subFold) {\n                fold.subFolds.push(subFold.clone());\n              });\n              fold.collapseChildren = this.collapseChildren;\n              return fold;\n            };\n\n            this.addSubFold = function (fold) {\n              if (this.range.isEqual(fold)) return;\n              consumeRange(fold, this.start);\n              var row = fold.start.row,\n                  column = fold.start.column;\n\n              for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n                cmp = this.subFolds[i].range.compare(row, column);\n                if (cmp != 1) break;\n              }\n\n              var afterStart = this.subFolds[i];\n              var firstConsumed = 0;\n\n              if (cmp == 0) {\n                if (afterStart.range.containsRange(fold)) return afterStart.addSubFold(fold);else firstConsumed = 1;\n              }\n\n              var row = fold.range.end.row,\n                  column = fold.range.end.column;\n\n              for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n                cmp = this.subFolds[j].range.compare(row, column);\n                if (cmp != 1) break;\n              }\n\n              if (cmp == 0) j++;\n              var consumedFolds = this.subFolds.splice(i, j - i, fold);\n              var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n\n              for (var k = firstConsumed; k < last; k++) {\n                fold.addSubFold(consumedFolds[k]);\n              }\n\n              fold.setFoldLine(this.foldLine);\n              return fold;\n            };\n\n            this.restoreRange = function (range) {\n              return restoreRange(range, this.start);\n            };\n          }).call(Fold.prototype);\n\n          function consumePoint(point, anchor) {\n            point.row -= anchor.row;\n            if (point.row == 0) point.column -= anchor.column;\n          }\n\n          function consumeRange(range, anchor) {\n            consumePoint(range.start, anchor);\n            consumePoint(range.end, anchor);\n          }\n\n          function restorePoint(point, anchor) {\n            if (point.row == 0) point.column += anchor.column;\n            point.row += anchor.row;\n          }\n\n          function restoreRange(range, anchor) {\n            restorePoint(range.start, anchor);\n            restorePoint(range.end, anchor);\n          }\n        });\n        ace.define(\"ace/edit_session/folding\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/edit_session/fold_line\", \"ace/edit_session/fold\", \"ace/token_iterator\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"../range\").Range;\n\n          var FoldLine = require(\"./fold_line\").FoldLine;\n\n          var Fold = require(\"./fold\").Fold;\n\n          var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n          function Folding() {\n            this.getFoldAt = function (row, column, side) {\n              var foldLine = this.getFoldLine(row);\n              if (!foldLine) return null;\n              var folds = foldLine.folds;\n\n              for (var i = 0; i < folds.length; i++) {\n                var range = folds[i].range;\n\n                if (range.contains(row, column)) {\n                  if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                  } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                  }\n\n                  return folds[i];\n                }\n              }\n            };\n\n            this.getFoldsInRange = function (range) {\n              var start = range.start;\n              var end = range.end;\n              var foldLines = this.$foldData;\n              var foundFolds = [];\n              start.column += 1;\n              end.column -= 1;\n\n              for (var i = 0; i < foldLines.length; i++) {\n                var cmp = foldLines[i].range.compareRange(range);\n\n                if (cmp == 2) {\n                  continue;\n                } else if (cmp == -2) {\n                  break;\n                }\n\n                var folds = foldLines[i].folds;\n\n                for (var j = 0; j < folds.length; j++) {\n                  var fold = folds[j];\n                  cmp = fold.range.compareRange(range);\n\n                  if (cmp == -2) {\n                    break;\n                  } else if (cmp == 2) {\n                    continue;\n                  } else if (cmp == 42) {\n                    break;\n                  }\n\n                  foundFolds.push(fold);\n                }\n              }\n\n              start.column -= 1;\n              end.column += 1;\n              return foundFolds;\n            };\n\n            this.getFoldsInRangeList = function (ranges) {\n              if (Array.isArray(ranges)) {\n                var folds = [];\n                ranges.forEach(function (range) {\n                  folds = folds.concat(this.getFoldsInRange(range));\n                }, this);\n              } else {\n                var folds = this.getFoldsInRange(ranges);\n              }\n\n              return folds;\n            };\n\n            this.getAllFolds = function () {\n              var folds = [];\n              var foldLines = this.$foldData;\n\n              for (var i = 0; i < foldLines.length; i++) {\n                for (var j = 0; j < foldLines[i].folds.length; j++) {\n                  folds.push(foldLines[i].folds[j]);\n                }\n              }\n\n              return folds;\n            };\n\n            this.getFoldStringAt = function (row, column, trim, foldLine) {\n              foldLine = foldLine || this.getFoldLine(row);\n              if (!foldLine) return null;\n              var lastFold = {\n                end: {\n                  column: 0\n                }\n              };\n              var str, fold;\n\n              for (var i = 0; i < foldLine.folds.length; i++) {\n                fold = foldLine.folds[i];\n                var cmp = fold.range.compareEnd(row, column);\n\n                if (cmp == -1) {\n                  str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);\n                  break;\n                } else if (cmp === 0) {\n                  return null;\n                }\n\n                lastFold = fold;\n              }\n\n              if (!str) str = this.getLine(fold.start.row).substring(lastFold.end.column);\n              if (trim == -1) return str.substring(0, column - lastFold.end.column);else if (trim == 1) return str.substring(column - lastFold.end.column);else return str;\n            };\n\n            this.getFoldLine = function (docRow, startFoldLine) {\n              var foldData = this.$foldData;\n              var i = 0;\n              if (startFoldLine) i = foldData.indexOf(startFoldLine);\n              if (i == -1) i = 0;\n\n              for (i; i < foldData.length; i++) {\n                var foldLine = foldData[i];\n\n                if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                  return foldLine;\n                } else if (foldLine.end.row > docRow) {\n                  return null;\n                }\n              }\n\n              return null;\n            };\n\n            this.getNextFoldLine = function (docRow, startFoldLine) {\n              var foldData = this.$foldData;\n              var i = 0;\n              if (startFoldLine) i = foldData.indexOf(startFoldLine);\n              if (i == -1) i = 0;\n\n              for (i; i < foldData.length; i++) {\n                var foldLine = foldData[i];\n\n                if (foldLine.end.row >= docRow) {\n                  return foldLine;\n                }\n              }\n\n              return null;\n            };\n\n            this.getFoldedRowCount = function (first, last) {\n              var foldData = this.$foldData,\n                  rowCount = last - first + 1;\n\n              for (var i = 0; i < foldData.length; i++) {\n                var foldLine = foldData[i],\n                    end = foldLine.end.row,\n                    start = foldLine.start.row;\n\n                if (end >= last) {\n                  if (start < last) {\n                    if (start >= first) rowCount -= last - start;else rowCount = 0; // in one fold\n                  }\n\n                  break;\n                } else if (end >= first) {\n                  if (start >= first) // fold inside range\n                    rowCount -= end - start;else rowCount -= end - first + 1;\n                }\n              }\n\n              return rowCount;\n            };\n\n            this.$addFoldLine = function (foldLine) {\n              this.$foldData.push(foldLine);\n              this.$foldData.sort(function (a, b) {\n                return a.start.row - b.start.row;\n              });\n              return foldLine;\n            };\n\n            this.addFold = function (placeholder, range) {\n              var foldData = this.$foldData;\n              var added = false;\n              var fold;\n              if (placeholder instanceof Fold) fold = placeholder;else {\n                fold = new Fold(range, placeholder);\n                fold.collapseChildren = range.collapseChildren;\n              }\n              this.$clipRangeToDocument(fold.range);\n              var startRow = fold.start.row;\n              var startColumn = fold.start.column;\n              var endRow = fold.end.row;\n              var endColumn = fold.end.column;\n              var startFold = this.getFoldAt(startRow, startColumn, 1);\n              var endFold = this.getFoldAt(endRow, endColumn, -1);\n              if (startFold && endFold == startFold) return startFold.addSubFold(fold);\n              if (startFold && !startFold.range.isStart(startRow, startColumn)) this.removeFold(startFold);\n              if (endFold && !endFold.range.isEnd(endRow, endColumn)) this.removeFold(endFold);\n              var folds = this.getFoldsInRange(fold.range);\n\n              if (folds.length > 0) {\n                this.removeFolds(folds);\n                folds.forEach(function (subFold) {\n                  fold.addSubFold(subFold);\n                });\n              }\n\n              for (var i = 0; i < foldData.length; i++) {\n                var foldLine = foldData[i];\n\n                if (endRow == foldLine.start.row) {\n                  foldLine.addFold(fold);\n                  added = true;\n                  break;\n                } else if (startRow == foldLine.end.row) {\n                  foldLine.addFold(fold);\n                  added = true;\n\n                  if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                      foldLine.merge(foldLineNext);\n                      break;\n                    }\n                  }\n\n                  break;\n                } else if (endRow <= foldLine.start.row) {\n                  break;\n                }\n              }\n\n              if (!added) foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n              if (this.$useWrapMode) this.$updateWrapData(foldLine.start.row, foldLine.start.row);else this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n              this.$modified = true;\n\n              this._signal(\"changeFold\", {\n                data: fold,\n                action: \"add\"\n              });\n\n              return fold;\n            };\n\n            this.addFolds = function (folds) {\n              folds.forEach(function (fold) {\n                this.addFold(fold);\n              }, this);\n            };\n\n            this.removeFold = function (fold) {\n              var foldLine = fold.foldLine;\n              var startRow = foldLine.start.row;\n              var endRow = foldLine.end.row;\n              var foldLines = this.$foldData;\n              var folds = foldLine.folds;\n\n              if (folds.length == 1) {\n                foldLines.splice(foldLines.indexOf(foldLine), 1);\n              } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n                folds.pop();\n                foldLine.end.row = folds[folds.length - 1].end.row;\n                foldLine.end.column = folds[folds.length - 1].end.column;\n              } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n                folds.shift();\n                foldLine.start.row = folds[0].start.row;\n                foldLine.start.column = folds[0].start.column;\n              } else if (fold.sameRow) {\n                folds.splice(folds.indexOf(fold), 1);\n              } else {\n                var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n                folds = newFoldLine.folds;\n                folds.shift();\n                newFoldLine.start.row = folds[0].start.row;\n                newFoldLine.start.column = folds[0].start.column;\n              }\n\n              if (!this.$updating) {\n                if (this.$useWrapMode) this.$updateWrapData(startRow, endRow);else this.$updateRowLengthCache(startRow, endRow);\n              }\n\n              this.$modified = true;\n\n              this._signal(\"changeFold\", {\n                data: fold,\n                action: \"remove\"\n              });\n            };\n\n            this.removeFolds = function (folds) {\n              var cloneFolds = [];\n\n              for (var i = 0; i < folds.length; i++) {\n                cloneFolds.push(folds[i]);\n              }\n\n              cloneFolds.forEach(function (fold) {\n                this.removeFold(fold);\n              }, this);\n              this.$modified = true;\n            };\n\n            this.expandFold = function (fold) {\n              this.removeFold(fold);\n              fold.subFolds.forEach(function (subFold) {\n                fold.restoreRange(subFold);\n                this.addFold(subFold);\n              }, this);\n\n              if (fold.collapseChildren > 0) {\n                this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n              }\n\n              fold.subFolds = [];\n            };\n\n            this.expandFolds = function (folds) {\n              folds.forEach(function (fold) {\n                this.expandFold(fold);\n              }, this);\n            };\n\n            this.unfold = function (location, expandInner) {\n              var range, folds;\n\n              if (location == null) {\n                range = new Range(0, 0, this.getLength(), 0);\n                expandInner = true;\n              } else if (typeof location == \"number\") range = new Range(location, 0, location, this.getLine(location).length);else if (\"row\" in location) range = Range.fromPoints(location, location);else range = location;\n\n              folds = this.getFoldsInRangeList(range);\n\n              if (expandInner) {\n                this.removeFolds(folds);\n              } else {\n                var subFolds = folds;\n\n                while (subFolds.length) {\n                  this.expandFolds(subFolds);\n                  subFolds = this.getFoldsInRangeList(range);\n                }\n              }\n\n              if (folds.length) return folds;\n            };\n\n            this.isRowFolded = function (docRow, startFoldRow) {\n              return !!this.getFoldLine(docRow, startFoldRow);\n            };\n\n            this.getRowFoldEnd = function (docRow, startFoldRow) {\n              var foldLine = this.getFoldLine(docRow, startFoldRow);\n              return foldLine ? foldLine.end.row : docRow;\n            };\n\n            this.getRowFoldStart = function (docRow, startFoldRow) {\n              var foldLine = this.getFoldLine(docRow, startFoldRow);\n              return foldLine ? foldLine.start.row : docRow;\n            };\n\n            this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n              if (startRow == null) startRow = foldLine.start.row;\n              if (startColumn == null) startColumn = 0;\n              if (endRow == null) endRow = foldLine.end.row;\n              if (endColumn == null) endColumn = this.getLine(endRow).length;\n              var doc = this.doc;\n              var textLine = \"\";\n              foldLine.walk(function (placeholder, row, column, lastColumn) {\n                if (row < startRow) return;\n\n                if (row == startRow) {\n                  if (column < startColumn) return;\n                  lastColumn = Math.max(startColumn, lastColumn);\n                }\n\n                if (placeholder != null) {\n                  textLine += placeholder;\n                } else {\n                  textLine += doc.getLine(row).substring(lastColumn, column);\n                }\n              }, endRow, endColumn);\n              return textLine;\n            };\n\n            this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n              var foldLine = this.getFoldLine(row);\n\n              if (!foldLine) {\n                var line;\n                line = this.doc.getLine(row);\n                return line.substring(startColumn || 0, endColumn || line.length);\n              } else {\n                return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n              }\n            };\n\n            this.$cloneFoldData = function () {\n              var fd = [];\n              fd = this.$foldData.map(function (foldLine) {\n                var folds = foldLine.folds.map(function (fold) {\n                  return fold.clone();\n                });\n                return new FoldLine(fd, folds);\n              });\n              return fd;\n            };\n\n            this.toggleFold = function (tryToUnfold) {\n              var selection = this.selection;\n              var range = selection.getRange();\n              var fold;\n              var bracketPos;\n\n              if (range.isEmpty()) {\n                var cursor = range.start;\n                fold = this.getFoldAt(cursor.row, cursor.column);\n\n                if (fold) {\n                  this.expandFold(fold);\n                  return;\n                } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                  if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                  } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                  }\n                } else if (bracketPos = this.findMatchingBracket({\n                  row: cursor.row,\n                  column: cursor.column + 1\n                })) {\n                  if (range.comparePoint(bracketPos) == 1) range.end = bracketPos;else range.start = bracketPos;\n                  range.start.column++;\n                } else {\n                  range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n                }\n              } else {\n                var folds = this.getFoldsInRange(range);\n\n                if (tryToUnfold && folds.length) {\n                  this.expandFolds(folds);\n                  return;\n                } else if (folds.length == 1) {\n                  fold = folds[0];\n                }\n              }\n\n              if (!fold) fold = this.getFoldAt(range.start.row, range.start.column);\n\n              if (fold && fold.range.toString() == range.toString()) {\n                this.expandFold(fold);\n                return;\n              }\n\n              var placeholder = \"...\";\n\n              if (!range.isMultiLine()) {\n                placeholder = this.getTextRange(range);\n                if (placeholder.length < 4) return;\n                placeholder = placeholder.trim().substring(0, 2) + \"..\";\n              }\n\n              this.addFold(placeholder, range);\n            };\n\n            this.getCommentFoldRange = function (row, column, dir) {\n              var iterator = new TokenIterator(this, row, column);\n              var token = iterator.getCurrentToken();\n              var type = token.type;\n\n              if (token && /^comment|string/.test(type)) {\n                type = type.match(/comment|string/)[0];\n                if (type == \"comment\") type += \"|doc-start\";\n                var re = new RegExp(type);\n                var range = new Range();\n\n                if (dir != 1) {\n                  do {\n                    token = iterator.stepBackward();\n                  } while (token && re.test(token.type));\n\n                  iterator.stepForward();\n                }\n\n                range.start.row = iterator.getCurrentTokenRow();\n                range.start.column = iterator.getCurrentTokenColumn() + 2;\n                iterator = new TokenIterator(this, row, column);\n\n                if (dir != -1) {\n                  var lastRow = -1;\n\n                  do {\n                    token = iterator.stepForward();\n\n                    if (lastRow == -1) {\n                      var state = this.getState(iterator.$row);\n                      if (!re.test(state)) lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                      break;\n                    }\n                  } while (token && re.test(token.type));\n\n                  token = iterator.stepBackward();\n                } else token = iterator.getCurrentToken();\n\n                range.end.row = iterator.getCurrentTokenRow();\n                range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n                return range;\n              }\n            };\n\n            this.foldAll = function (startRow, endRow, depth) {\n              if (depth == undefined) depth = 100000; // JSON.stringify doesn't hanle Infinity\n\n              var foldWidgets = this.foldWidgets;\n              if (!foldWidgets) return; // mode doesn't support folding\n\n              endRow = endRow || this.getLength();\n              startRow = startRow || 0;\n\n              for (var row = startRow; row < endRow; row++) {\n                if (foldWidgets[row] == null) foldWidgets[row] = this.getFoldWidget(row);\n                if (foldWidgets[row] != \"start\") continue;\n                var range = this.getFoldWidgetRange(row);\n\n                if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {\n                  row = range.end.row;\n\n                  try {\n                    var fold = this.addFold(\"...\", range);\n                    if (fold) fold.collapseChildren = depth;\n                  } catch (e) {}\n                }\n              }\n            };\n\n            this.$foldStyles = {\n              \"manual\": 1,\n              \"markbegin\": 1,\n              \"markbeginend\": 1\n            };\n            this.$foldStyle = \"markbegin\";\n\n            this.setFoldStyle = function (style) {\n              if (!this.$foldStyles[style]) throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n              if (this.$foldStyle == style) return;\n              this.$foldStyle = style;\n              if (style == \"manual\") this.unfold();\n              var mode = this.$foldMode;\n              this.$setFolding(null);\n              this.$setFolding(mode);\n            };\n\n            this.$setFolding = function (foldMode) {\n              if (this.$foldMode == foldMode) return;\n              this.$foldMode = foldMode;\n              this.off('change', this.$updateFoldWidgets);\n              this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n\n              this._signal(\"changeAnnotation\");\n\n              if (!foldMode || this.$foldStyle == \"manual\") {\n                this.foldWidgets = null;\n                return;\n              }\n\n              this.foldWidgets = [];\n              this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n              this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n              this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n              this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n              this.on('change', this.$updateFoldWidgets);\n              this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n            };\n\n            this.getParentFoldRangeData = function (row, ignoreCurrent) {\n              var fw = this.foldWidgets;\n              if (!fw || ignoreCurrent && fw[row]) return {};\n              var i = row - 1,\n                  firstRange;\n\n              while (i >= 0) {\n                var c = fw[i];\n                if (c == null) c = fw[i] = this.getFoldWidget(i);\n\n                if (c == \"start\") {\n                  var range = this.getFoldWidgetRange(i);\n                  if (!firstRange) firstRange = range;\n                  if (range && range.end.row >= row) break;\n                }\n\n                i--;\n              }\n\n              return {\n                range: i !== -1 && range,\n                firstRange: firstRange\n              };\n            };\n\n            this.onFoldWidgetClick = function (row, e) {\n              e = e.domEvent;\n              var options = {\n                children: e.shiftKey,\n                all: e.ctrlKey || e.metaKey,\n                siblings: e.altKey\n              };\n              var range = this.$toggleFoldWidget(row, options);\n\n              if (!range) {\n                var el = e.target || e.srcElement;\n                if (el && /ace_fold-widget/.test(el.className)) el.className += \" ace_invalid\";\n              }\n            };\n\n            this.$toggleFoldWidget = function (row, options) {\n              if (!this.getFoldWidget) return;\n              var type = this.getFoldWidget(row);\n              var line = this.getLine(row);\n              var dir = type === \"end\" ? -1 : 1;\n              var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n              if (fold) {\n                if (options.children || options.all) this.removeFold(fold);else this.expandFold(fold);\n                return fold;\n              }\n\n              var range = this.getFoldWidgetRange(row, true);\n\n              if (range && !range.isMultiLine()) {\n                fold = this.getFoldAt(range.start.row, range.start.column, 1);\n\n                if (fold && range.isEqual(fold.range)) {\n                  this.removeFold(fold);\n                  return fold;\n                }\n              }\n\n              if (options.siblings) {\n                var data = this.getParentFoldRangeData(row);\n\n                if (data.range) {\n                  var startRow = data.range.start.row + 1;\n                  var endRow = data.range.end.row;\n                }\n\n                this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n              } else if (options.children) {\n                endRow = range ? range.end.row : this.getLength();\n                this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n              } else if (range) {\n                if (options.all) range.collapseChildren = 10000;\n                this.addFold(\"...\", range);\n              }\n\n              return range;\n            };\n\n            this.toggleFoldWidget = function (toggleParent) {\n              var row = this.selection.getCursor().row;\n              row = this.getRowFoldStart(row);\n              var range = this.$toggleFoldWidget(row, {});\n              if (range) return;\n              var data = this.getParentFoldRangeData(row, true);\n              range = data.range || data.firstRange;\n\n              if (range) {\n                row = range.start.row;\n                var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n                if (fold) {\n                  this.removeFold(fold);\n                } else {\n                  this.addFold(\"...\", range);\n                }\n              }\n            };\n\n            this.updateFoldWidgets = function (delta) {\n              var firstRow = delta.start.row;\n              var len = delta.end.row - firstRow;\n\n              if (len === 0) {\n                this.foldWidgets[firstRow] = null;\n              } else if (delta.action == 'remove') {\n                this.foldWidgets.splice(firstRow, len + 1, null);\n              } else {\n                var args = Array(len + 1);\n                args.unshift(firstRow, 1);\n                this.foldWidgets.splice.apply(this.foldWidgets, args);\n              }\n            };\n\n            this.tokenizerUpdateFoldWidgets = function (e) {\n              var rows = e.data;\n\n              if (rows.first != rows.last) {\n                if (this.foldWidgets.length > rows.first) this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n              }\n            };\n          }\n\n          exports.Folding = Folding;\n        });\n        ace.define(\"ace/edit_session/bracket_match\", [\"require\", \"exports\", \"module\", \"ace/token_iterator\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n          var Range = require(\"../range\").Range;\n\n          function BracketMatch() {\n            this.findMatchingBracket = function (position, chr) {\n              if (position.column == 0) return null;\n              var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n              if (charBeforeCursor == \"\") return null;\n              var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n              if (!match) return null;\n              if (match[1]) return this.$findClosingBracket(match[1], position);else return this.$findOpeningBracket(match[2], position);\n            };\n\n            this.getBracketRange = function (pos) {\n              var line = this.getLine(pos.row);\n              var before = true,\n                  range;\n              var chr = line.charAt(pos.column - 1);\n              var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n\n              if (!match) {\n                chr = line.charAt(pos.column);\n                pos = {\n                  row: pos.row,\n                  column: pos.column + 1\n                };\n                match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n                before = false;\n              }\n\n              if (!match) return null;\n\n              if (match[1]) {\n                var bracketPos = this.$findClosingBracket(match[1], pos);\n                if (!bracketPos) return null;\n                range = Range.fromPoints(pos, bracketPos);\n\n                if (!before) {\n                  range.end.column++;\n                  range.start.column--;\n                }\n\n                range.cursor = range.end;\n              } else {\n                var bracketPos = this.$findOpeningBracket(match[2], pos);\n                if (!bracketPos) return null;\n                range = Range.fromPoints(bracketPos, pos);\n\n                if (!before) {\n                  range.start.column++;\n                  range.end.column--;\n                }\n\n                range.cursor = range.start;\n              }\n\n              return range;\n            };\n\n            this.$brackets = {\n              \")\": \"(\",\n              \"(\": \")\",\n              \"]\": \"[\",\n              \"[\": \"]\",\n              \"{\": \"}\",\n              \"}\": \"{\",\n              \"<\": \">\",\n              \">\": \"<\"\n            };\n\n            this.$findOpeningBracket = function (bracket, position, typeRe) {\n              var openBracket = this.$brackets[bracket];\n              var depth = 1;\n              var iterator = new TokenIterator(this, position.row, position.column);\n              var token = iterator.getCurrentToken();\n              if (!token) token = iterator.stepForward();\n              if (!token) return;\n\n              if (!typeRe) {\n                typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\").replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\") + \")+\");\n              }\n\n              var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n              var value = token.value;\n\n              while (true) {\n                while (valueIndex >= 0) {\n                  var chr = value.charAt(valueIndex);\n\n                  if (chr == openBracket) {\n                    depth -= 1;\n\n                    if (depth == 0) {\n                      return {\n                        row: iterator.getCurrentTokenRow(),\n                        column: valueIndex + iterator.getCurrentTokenColumn()\n                      };\n                    }\n                  } else if (chr == bracket) {\n                    depth += 1;\n                  }\n\n                  valueIndex -= 1;\n                }\n\n                do {\n                  token = iterator.stepBackward();\n                } while (token && !typeRe.test(token.type));\n\n                if (token == null) break;\n                value = token.value;\n                valueIndex = value.length - 1;\n              }\n\n              return null;\n            };\n\n            this.$findClosingBracket = function (bracket, position, typeRe) {\n              var closingBracket = this.$brackets[bracket];\n              var depth = 1;\n              var iterator = new TokenIterator(this, position.row, position.column);\n              var token = iterator.getCurrentToken();\n              if (!token) token = iterator.stepForward();\n              if (!token) return;\n\n              if (!typeRe) {\n                typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\").replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\") + \")+\");\n              }\n\n              var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n              while (true) {\n                var value = token.value;\n                var valueLength = value.length;\n\n                while (valueIndex < valueLength) {\n                  var chr = value.charAt(valueIndex);\n\n                  if (chr == closingBracket) {\n                    depth -= 1;\n\n                    if (depth == 0) {\n                      return {\n                        row: iterator.getCurrentTokenRow(),\n                        column: valueIndex + iterator.getCurrentTokenColumn()\n                      };\n                    }\n                  } else if (chr == bracket) {\n                    depth += 1;\n                  }\n\n                  valueIndex += 1;\n                }\n\n                do {\n                  token = iterator.stepForward();\n                } while (token && !typeRe.test(token.type));\n\n                if (token == null) break;\n                valueIndex = 0;\n              }\n\n              return null;\n            };\n          }\n\n          exports.BracketMatch = BracketMatch;\n        });\n        ace.define(\"ace/edit_session\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/bidihandler\", \"ace/config\", \"ace/lib/event_emitter\", \"ace/selection\", \"ace/mode/text\", \"ace/range\", \"ace/document\", \"ace/background_tokenizer\", \"ace/search_highlight\", \"ace/edit_session/folding\", \"ace/edit_session/bracket_match\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var lang = require(\"./lib/lang\");\n\n          var BidiHandler = require(\"./bidihandler\").BidiHandler;\n\n          var config = require(\"./config\");\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var Selection = require(\"./selection\").Selection;\n\n          var TextMode = require(\"./mode/text\").Mode;\n\n          var Range = require(\"./range\").Range;\n\n          var Document = require(\"./document\").Document;\n\n          var BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\n\n          var SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\n          var EditSession = function EditSession(text, mode) {\n            this.$breakpoints = [];\n            this.$decorations = [];\n            this.$frontMarkers = {};\n            this.$backMarkers = {};\n            this.$markerId = 1;\n            this.$undoSelect = true;\n            this.$foldData = [];\n            this.id = \"session\" + ++EditSession.$uid;\n\n            this.$foldData.toString = function () {\n              return this.join(\"\\n\");\n            };\n\n            this.on(\"changeFold\", this.onChangeFold.bind(this));\n            this.$onChange = this.onChange.bind(this);\n            if (typeof text != \"object\" || !text.getLine) text = new Document(text);\n            this.setDocument(text);\n            this.selection = new Selection(this);\n            this.$bidiHandler = new BidiHandler(this);\n            config.resetOptions(this);\n            this.setMode(mode);\n\n            config._signal(\"session\", this);\n          };\n\n          EditSession.$uid = 0;\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.setDocument = function (doc) {\n              if (this.doc) this.doc.removeListener(\"change\", this.$onChange);\n              this.doc = doc;\n              doc.on(\"change\", this.$onChange);\n              if (this.bgTokenizer) this.bgTokenizer.setDocument(this.getDocument());\n              this.resetCaches();\n            };\n\n            this.getDocument = function () {\n              return this.doc;\n            };\n\n            this.$resetRowCache = function (docRow) {\n              if (!docRow) {\n                this.$docRowCache = [];\n                this.$screenRowCache = [];\n                return;\n              }\n\n              var l = this.$docRowCache.length;\n              var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n\n              if (l > i) {\n                this.$docRowCache.splice(i, l);\n                this.$screenRowCache.splice(i, l);\n              }\n            };\n\n            this.$getRowCacheIndex = function (cacheArray, val) {\n              var low = 0;\n              var hi = cacheArray.length - 1;\n\n              while (low <= hi) {\n                var mid = low + hi >> 1;\n                var c = cacheArray[mid];\n                if (val > c) low = mid + 1;else if (val < c) hi = mid - 1;else return mid;\n              }\n\n              return low - 1;\n            };\n\n            this.resetCaches = function () {\n              this.$modified = true;\n              this.$wrapData = [];\n              this.$rowLengthCache = [];\n              this.$resetRowCache(0);\n              if (this.bgTokenizer) this.bgTokenizer.start(0);\n            };\n\n            this.onChangeFold = function (e) {\n              var fold = e.data;\n              this.$resetRowCache(fold.start.row);\n            };\n\n            this.onChange = function (delta) {\n              this.$modified = true;\n              this.$bidiHandler.onChange(delta);\n              this.$resetRowCache(delta.start.row);\n              var removedFolds = this.$updateInternalDataOnChange(delta);\n\n              if (!this.$fromUndo && this.$undoManager) {\n                if (removedFolds && removedFolds.length) {\n                  this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds: removedFolds\n                  }, this.mergeUndoDeltas);\n                  this.mergeUndoDeltas = true;\n                }\n\n                this.$undoManager.add(delta, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n                this.$informUndoManager.schedule();\n              }\n\n              this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n\n              this._signal(\"change\", delta);\n            };\n\n            this.setValue = function (text) {\n              this.doc.setValue(text);\n              this.selection.moveTo(0, 0);\n              this.$resetRowCache(0);\n              this.setUndoManager(this.$undoManager);\n              this.getUndoManager().reset();\n            };\n\n            this.getValue = this.toString = function () {\n              return this.doc.getValue();\n            };\n\n            this.getSelection = function () {\n              return this.selection;\n            };\n\n            this.getState = function (row) {\n              return this.bgTokenizer.getState(row);\n            };\n\n            this.getTokens = function (row) {\n              return this.bgTokenizer.getTokens(row);\n            };\n\n            this.getTokenAt = function (row, column) {\n              var tokens = this.bgTokenizer.getTokens(row);\n              var token,\n                  c = 0;\n\n              if (column == null) {\n                var i = tokens.length - 1;\n                c = this.getLine(row).length;\n              } else {\n                for (var i = 0; i < tokens.length; i++) {\n                  c += tokens[i].value.length;\n                  if (c >= column) break;\n                }\n              }\n\n              token = tokens[i];\n              if (!token) return null;\n              token.index = i;\n              token.start = c - token.value.length;\n              return token;\n            };\n\n            this.setUndoManager = function (undoManager) {\n              this.$undoManager = undoManager;\n              if (this.$informUndoManager) this.$informUndoManager.cancel();\n\n              if (undoManager) {\n                var self = this;\n                undoManager.addSession(this);\n\n                this.$syncInformUndoManager = function () {\n                  self.$informUndoManager.cancel();\n                  self.mergeUndoDeltas = false;\n                };\n\n                this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n              } else {\n                this.$syncInformUndoManager = function () {};\n              }\n            };\n\n            this.markUndoGroup = function () {\n              if (this.$syncInformUndoManager) this.$syncInformUndoManager();\n            };\n\n            this.$defaultUndoManager = {\n              undo: function undo() {},\n              redo: function redo() {},\n              hasUndo: function hasUndo() {},\n              hasRedo: function hasRedo() {},\n              reset: function reset() {},\n              add: function add() {},\n              addSelection: function addSelection() {},\n              startNewGroup: function startNewGroup() {},\n              addSession: function addSession() {}\n            };\n\n            this.getUndoManager = function () {\n              return this.$undoManager || this.$defaultUndoManager;\n            };\n\n            this.getTabString = function () {\n              if (this.getUseSoftTabs()) {\n                return lang.stringRepeat(\" \", this.getTabSize());\n              } else {\n                return \"\\t\";\n              }\n            };\n\n            this.setUseSoftTabs = function (val) {\n              this.setOption(\"useSoftTabs\", val);\n            };\n\n            this.getUseSoftTabs = function () {\n              return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n            };\n\n            this.setTabSize = function (tabSize) {\n              this.setOption(\"tabSize\", tabSize);\n            };\n\n            this.getTabSize = function () {\n              return this.$tabSize;\n            };\n\n            this.isTabStop = function (position) {\n              return this.$useSoftTabs && position.column % this.$tabSize === 0;\n            };\n\n            this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n              this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n            };\n\n            this.getNavigateWithinSoftTabs = function () {\n              return this.$navigateWithinSoftTabs;\n            };\n\n            this.$overwrite = false;\n\n            this.setOverwrite = function (overwrite) {\n              this.setOption(\"overwrite\", overwrite);\n            };\n\n            this.getOverwrite = function () {\n              return this.$overwrite;\n            };\n\n            this.toggleOverwrite = function () {\n              this.setOverwrite(!this.$overwrite);\n            };\n\n            this.addGutterDecoration = function (row, className) {\n              if (!this.$decorations[row]) this.$decorations[row] = \"\";\n              this.$decorations[row] += \" \" + className;\n\n              this._signal(\"changeBreakpoint\", {});\n            };\n\n            this.removeGutterDecoration = function (row, className) {\n              this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n\n              this._signal(\"changeBreakpoint\", {});\n            };\n\n            this.getBreakpoints = function () {\n              return this.$breakpoints;\n            };\n\n            this.setBreakpoints = function (rows) {\n              this.$breakpoints = [];\n\n              for (var i = 0; i < rows.length; i++) {\n                this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n              }\n\n              this._signal(\"changeBreakpoint\", {});\n            };\n\n            this.clearBreakpoints = function () {\n              this.$breakpoints = [];\n\n              this._signal(\"changeBreakpoint\", {});\n            };\n\n            this.setBreakpoint = function (row, className) {\n              if (className === undefined) className = \"ace_breakpoint\";\n              if (className) this.$breakpoints[row] = className;else delete this.$breakpoints[row];\n\n              this._signal(\"changeBreakpoint\", {});\n            };\n\n            this.clearBreakpoint = function (row) {\n              delete this.$breakpoints[row];\n\n              this._signal(\"changeBreakpoint\", {});\n            };\n\n            this.addMarker = function (range, clazz, type, inFront) {\n              var id = this.$markerId++;\n              var marker = {\n                range: range,\n                type: type || \"line\",\n                renderer: typeof type == \"function\" ? type : null,\n                clazz: clazz,\n                inFront: !!inFront,\n                id: id\n              };\n\n              if (inFront) {\n                this.$frontMarkers[id] = marker;\n\n                this._signal(\"changeFrontMarker\");\n              } else {\n                this.$backMarkers[id] = marker;\n\n                this._signal(\"changeBackMarker\");\n              }\n\n              return id;\n            };\n\n            this.addDynamicMarker = function (marker, inFront) {\n              if (!marker.update) return;\n              var id = this.$markerId++;\n              marker.id = id;\n              marker.inFront = !!inFront;\n\n              if (inFront) {\n                this.$frontMarkers[id] = marker;\n\n                this._signal(\"changeFrontMarker\");\n              } else {\n                this.$backMarkers[id] = marker;\n\n                this._signal(\"changeBackMarker\");\n              }\n\n              return marker;\n            };\n\n            this.removeMarker = function (markerId) {\n              var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n              if (!marker) return;\n              var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n              delete markers[markerId];\n\n              this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n            };\n\n            this.getMarkers = function (inFront) {\n              return inFront ? this.$frontMarkers : this.$backMarkers;\n            };\n\n            this.highlight = function (re) {\n              if (!this.$searchHighlight) {\n                var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n                this.$searchHighlight = this.addDynamicMarker(highlight);\n              }\n\n              this.$searchHighlight.setRegexp(re);\n            };\n\n            this.highlightLines = function (startRow, endRow, clazz, inFront) {\n              if (typeof endRow != \"number\") {\n                clazz = endRow;\n                endRow = startRow;\n              }\n\n              if (!clazz) clazz = \"ace_step\";\n              var range = new Range(startRow, 0, endRow, Infinity);\n              range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n              return range;\n            };\n\n            this.setAnnotations = function (annotations) {\n              this.$annotations = annotations;\n\n              this._signal(\"changeAnnotation\", {});\n            };\n\n            this.getAnnotations = function () {\n              return this.$annotations || [];\n            };\n\n            this.clearAnnotations = function () {\n              this.setAnnotations([]);\n            };\n\n            this.$detectNewLine = function (text) {\n              var match = text.match(/^.*?(\\r?\\n)/m);\n\n              if (match) {\n                this.$autoNewLine = match[1];\n              } else {\n                this.$autoNewLine = \"\\n\";\n              }\n            };\n\n            this.getWordRange = function (row, column) {\n              var line = this.getLine(row);\n              var inToken = false;\n              if (column > 0) inToken = !!line.charAt(column - 1).match(this.tokenRe);\n              if (!inToken) inToken = !!line.charAt(column).match(this.tokenRe);\n              if (inToken) var re = this.tokenRe;else if (/^\\s+$/.test(line.slice(column - 1, column + 1))) var re = /\\s/;else var re = this.nonTokenRe;\n              var start = column;\n\n              if (start > 0) {\n                do {\n                  start--;\n                } while (start >= 0 && line.charAt(start).match(re));\n\n                start++;\n              }\n\n              var end = column;\n\n              while (end < line.length && line.charAt(end).match(re)) {\n                end++;\n              }\n\n              return new Range(row, start, row, end);\n            };\n\n            this.getAWordRange = function (row, column) {\n              var wordRange = this.getWordRange(row, column);\n              var line = this.getLine(wordRange.end.row);\n\n              while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n                wordRange.end.column += 1;\n              }\n\n              return wordRange;\n            };\n\n            this.setNewLineMode = function (newLineMode) {\n              this.doc.setNewLineMode(newLineMode);\n            };\n\n            this.getNewLineMode = function () {\n              return this.doc.getNewLineMode();\n            };\n\n            this.setUseWorker = function (useWorker) {\n              this.setOption(\"useWorker\", useWorker);\n            };\n\n            this.getUseWorker = function () {\n              return this.$useWorker;\n            };\n\n            this.onReloadTokenizer = function (e) {\n              var rows = e.data;\n              this.bgTokenizer.start(rows.first);\n\n              this._signal(\"tokenizerUpdate\", e);\n            };\n\n            this.$modes = config.$modes;\n            this.$mode = null;\n            this.$modeId = null;\n\n            this.setMode = function (mode, cb) {\n              if (mode && typeof mode === \"object\") {\n                if (mode.getTokenizer) return this.$onChangeMode(mode);\n                var options = mode;\n                var path = options.path;\n              } else {\n                path = mode || \"ace/mode/text\";\n              }\n\n              if (!this.$modes[\"ace/mode/text\"]) this.$modes[\"ace/mode/text\"] = new TextMode();\n\n              if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n                cb && cb();\n                return;\n              }\n\n              this.$modeId = path;\n              config.loadModule([\"mode\", path], function (m) {\n                if (this.$modeId !== path) return cb && cb();\n\n                if (this.$modes[path] && !options) {\n                  this.$onChangeMode(this.$modes[path]);\n                } else if (m && m.Mode) {\n                  m = new m.Mode(options);\n\n                  if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                  }\n\n                  this.$onChangeMode(m);\n                }\n\n                cb && cb();\n              }.bind(this));\n              if (!this.$mode) this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n            };\n\n            this.$onChangeMode = function (mode, $isPlaceholder) {\n              if (!$isPlaceholder) this.$modeId = mode.$id;\n              if (this.$mode === mode) return;\n              this.$mode = mode;\n              this.$stopWorker();\n              if (this.$useWorker) this.$startWorker();\n              var tokenizer = mode.getTokenizer();\n\n              if (tokenizer.addEventListener !== undefined) {\n                var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n                tokenizer.addEventListener(\"update\", onReloadTokenizer);\n              }\n\n              if (!this.bgTokenizer) {\n                this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n\n                var _self = this;\n\n                this.bgTokenizer.addEventListener(\"update\", function (e) {\n                  _self._signal(\"tokenizerUpdate\", e);\n                });\n              } else {\n                this.bgTokenizer.setTokenizer(tokenizer);\n              }\n\n              this.bgTokenizer.setDocument(this.getDocument());\n              this.tokenRe = mode.tokenRe;\n              this.nonTokenRe = mode.nonTokenRe;\n\n              if (!$isPlaceholder) {\n                if (mode.attachToSession) mode.attachToSession(this);\n                this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n                this.$setFolding(mode.foldingRules);\n                this.bgTokenizer.start(0);\n\n                this._emit(\"changeMode\");\n              }\n            };\n\n            this.$stopWorker = function () {\n              if (this.$worker) {\n                this.$worker.terminate();\n                this.$worker = null;\n              }\n            };\n\n            this.$startWorker = function () {\n              try {\n                this.$worker = this.$mode.createWorker(this);\n              } catch (e) {\n                config.warn(\"Could not load worker\", e);\n                this.$worker = null;\n              }\n            };\n\n            this.getMode = function () {\n              return this.$mode;\n            };\n\n            this.$scrollTop = 0;\n\n            this.setScrollTop = function (scrollTop) {\n              if (this.$scrollTop === scrollTop || isNaN(scrollTop)) return;\n              this.$scrollTop = scrollTop;\n\n              this._signal(\"changeScrollTop\", scrollTop);\n            };\n\n            this.getScrollTop = function () {\n              return this.$scrollTop;\n            };\n\n            this.$scrollLeft = 0;\n\n            this.setScrollLeft = function (scrollLeft) {\n              if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft)) return;\n              this.$scrollLeft = scrollLeft;\n\n              this._signal(\"changeScrollLeft\", scrollLeft);\n            };\n\n            this.getScrollLeft = function () {\n              return this.$scrollLeft;\n            };\n\n            this.getScreenWidth = function () {\n              this.$computeWidth();\n              if (this.lineWidgets) return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n              return this.screenWidth;\n            };\n\n            this.getLineWidgetMaxWidth = function () {\n              if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n              var width = 0;\n              this.lineWidgets.forEach(function (w) {\n                if (w && w.screenWidth > width) width = w.screenWidth;\n              });\n              return this.lineWidgetWidth = width;\n            };\n\n            this.$computeWidth = function (force) {\n              if (this.$modified || force) {\n                this.$modified = false;\n                if (this.$useWrapMode) return this.screenWidth = this.$wrapLimit;\n                var lines = this.doc.getAllLines();\n                var cache = this.$rowLengthCache;\n                var longestScreenLine = 0;\n                var foldIndex = 0;\n                var foldLine = this.$foldData[foldIndex];\n                var foldStart = foldLine ? foldLine.start.row : Infinity;\n                var len = lines.length;\n\n                for (var i = 0; i < len; i++) {\n                  if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len) break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                  }\n\n                  if (cache[i] == null) cache[i] = this.$getStringScreenWidth(lines[i])[0];\n                  if (cache[i] > longestScreenLine) longestScreenLine = cache[i];\n                }\n\n                this.screenWidth = longestScreenLine;\n              }\n            };\n\n            this.getLine = function (row) {\n              return this.doc.getLine(row);\n            };\n\n            this.getLines = function (firstRow, lastRow) {\n              return this.doc.getLines(firstRow, lastRow);\n            };\n\n            this.getLength = function () {\n              return this.doc.getLength();\n            };\n\n            this.getTextRange = function (range) {\n              return this.doc.getTextRange(range || this.selection.getRange());\n            };\n\n            this.insert = function (position, text) {\n              return this.doc.insert(position, text);\n            };\n\n            this.remove = function (range) {\n              return this.doc.remove(range);\n            };\n\n            this.removeFullLines = function (firstRow, lastRow) {\n              return this.doc.removeFullLines(firstRow, lastRow);\n            };\n\n            this.undoChanges = function (deltas, dontSelect) {\n              if (!deltas.length) return;\n              this.$fromUndo = true;\n\n              for (var i = deltas.length - 1; i != -1; i--) {\n                var delta = deltas[i];\n\n                if (delta.action == \"insert\" || delta.action == \"remove\") {\n                  this.doc.revertDelta(delta);\n                } else if (delta.folds) {\n                  this.addFolds(delta.folds);\n                }\n              }\n\n              if (!dontSelect && this.$undoSelect) {\n                if (deltas.selectionBefore) this.selection.fromJSON(deltas.selectionBefore);else this.selection.setRange(this.$getUndoSelection(deltas, true));\n              }\n\n              this.$fromUndo = false;\n            };\n\n            this.redoChanges = function (deltas, dontSelect) {\n              if (!deltas.length) return;\n              this.$fromUndo = true;\n\n              for (var i = 0; i < deltas.length; i++) {\n                var delta = deltas[i];\n\n                if (delta.action == \"insert\" || delta.action == \"remove\") {\n                  this.doc.applyDelta(delta);\n                }\n              }\n\n              if (!dontSelect && this.$undoSelect) {\n                if (deltas.selectionAfter) this.selection.fromJSON(deltas.selectionAfter);else this.selection.setRange(this.$getUndoSelection(deltas, false));\n              }\n\n              this.$fromUndo = false;\n            };\n\n            this.setUndoSelect = function (enable) {\n              this.$undoSelect = enable;\n            };\n\n            this.$getUndoSelection = function (deltas, isUndo) {\n              function isInsert(delta) {\n                return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n              }\n\n              var range, point;\n              var lastDeltaIsInsert;\n\n              for (var i = 0; i < deltas.length; i++) {\n                var delta = deltas[i];\n                if (!delta.start) continue; // skip folds\n\n                if (!range) {\n                  if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                    lastDeltaIsInsert = true;\n                  } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                    lastDeltaIsInsert = false;\n                  }\n\n                  continue;\n                }\n\n                if (isInsert(delta)) {\n                  point = delta.start;\n\n                  if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                  }\n\n                  point = delta.end;\n\n                  if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                  }\n\n                  lastDeltaIsInsert = true;\n                } else {\n                  point = delta.start;\n\n                  if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                  }\n\n                  lastDeltaIsInsert = false;\n                }\n              }\n\n              return range;\n            };\n\n            this.replace = function (range, text) {\n              return this.doc.replace(range, text);\n            };\n\n            this.moveText = function (fromRange, toPosition, copy) {\n              var text = this.getTextRange(fromRange);\n              var folds = this.getFoldsInRange(fromRange);\n              var toRange = Range.fromPoints(toPosition, toPosition);\n\n              if (!copy) {\n                this.remove(fromRange);\n                var rowDiff = fromRange.start.row - fromRange.end.row;\n                var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n\n                if (collDiff) {\n                  if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column) toRange.start.column += collDiff;\n                  if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column) toRange.end.column += collDiff;\n                }\n\n                if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                  toRange.start.row += rowDiff;\n                  toRange.end.row += rowDiff;\n                }\n              }\n\n              toRange.end = this.insert(toRange.start, text);\n\n              if (folds.length) {\n                var oldStart = fromRange.start;\n                var newStart = toRange.start;\n                var rowDiff = newStart.row - oldStart.row;\n                var collDiff = newStart.column - oldStart.column;\n                this.addFolds(folds.map(function (x) {\n                  x = x.clone();\n                  if (x.start.row == oldStart.row) x.start.column += collDiff;\n                  if (x.end.row == oldStart.row) x.end.column += collDiff;\n                  x.start.row += rowDiff;\n                  x.end.row += rowDiff;\n                  return x;\n                }));\n              }\n\n              return toRange;\n            };\n\n            this.indentRows = function (startRow, endRow, indentString) {\n              indentString = indentString.replace(/\\t/g, this.getTabString());\n\n              for (var row = startRow; row <= endRow; row++) {\n                this.doc.insertInLine({\n                  row: row,\n                  column: 0\n                }, indentString);\n              }\n            };\n\n            this.outdentRows = function (range) {\n              var rowRange = range.collapseRows();\n              var deleteRange = new Range(0, 0, 0, 0);\n              var size = this.getTabSize();\n\n              for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n                var line = this.getLine(i);\n                deleteRange.start.row = i;\n                deleteRange.end.row = i;\n\n                for (var j = 0; j < size; ++j) {\n                  if (line.charAt(j) != ' ') break;\n                }\n\n                if (j < size && line.charAt(j) == '\\t') {\n                  deleteRange.start.column = j;\n                  deleteRange.end.column = j + 1;\n                } else {\n                  deleteRange.start.column = 0;\n                  deleteRange.end.column = j;\n                }\n\n                this.remove(deleteRange);\n              }\n            };\n\n            this.$moveLines = function (firstRow, lastRow, dir) {\n              firstRow = this.getRowFoldStart(firstRow);\n              lastRow = this.getRowFoldEnd(lastRow);\n\n              if (dir < 0) {\n                var row = this.getRowFoldStart(firstRow + dir);\n                if (row < 0) return 0;\n                var diff = row - firstRow;\n              } else if (dir > 0) {\n                var row = this.getRowFoldEnd(lastRow + dir);\n                if (row > this.doc.getLength() - 1) return 0;\n                var diff = row - lastRow;\n              } else {\n                firstRow = this.$clipRowToDocument(firstRow);\n                lastRow = this.$clipRowToDocument(lastRow);\n                var diff = lastRow - firstRow + 1;\n              }\n\n              var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n              var folds = this.getFoldsInRange(range).map(function (x) {\n                x = x.clone();\n                x.start.row += diff;\n                x.end.row += diff;\n                return x;\n              });\n              var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);\n              this.doc.insertFullLines(firstRow + diff, lines);\n              folds.length && this.addFolds(folds);\n              return diff;\n            };\n\n            this.moveLinesUp = function (firstRow, lastRow) {\n              return this.$moveLines(firstRow, lastRow, -1);\n            };\n\n            this.moveLinesDown = function (firstRow, lastRow) {\n              return this.$moveLines(firstRow, lastRow, 1);\n            };\n\n            this.duplicateLines = function (firstRow, lastRow) {\n              return this.$moveLines(firstRow, lastRow, 0);\n            };\n\n            this.$clipRowToDocument = function (row) {\n              return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n            };\n\n            this.$clipColumnToRow = function (row, column) {\n              if (column < 0) return 0;\n              return Math.min(this.doc.getLine(row).length, column);\n            };\n\n            this.$clipPositionToDocument = function (row, column) {\n              column = Math.max(0, column);\n\n              if (row < 0) {\n                row = 0;\n                column = 0;\n              } else {\n                var len = this.doc.getLength();\n\n                if (row >= len) {\n                  row = len - 1;\n                  column = this.doc.getLine(len - 1).length;\n                } else {\n                  column = Math.min(this.doc.getLine(row).length, column);\n                }\n              }\n\n              return {\n                row: row,\n                column: column\n              };\n            };\n\n            this.$clipRangeToDocument = function (range) {\n              if (range.start.row < 0) {\n                range.start.row = 0;\n                range.start.column = 0;\n              } else {\n                range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n              }\n\n              var len = this.doc.getLength() - 1;\n\n              if (range.end.row > len) {\n                range.end.row = len;\n                range.end.column = this.doc.getLine(len).length;\n              } else {\n                range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n              }\n\n              return range;\n            };\n\n            this.$wrapLimit = 80;\n            this.$useWrapMode = false;\n            this.$wrapLimitRange = {\n              min: null,\n              max: null\n            };\n\n            this.setUseWrapMode = function (useWrapMode) {\n              if (useWrapMode != this.$useWrapMode) {\n                this.$useWrapMode = useWrapMode;\n                this.$modified = true;\n                this.$resetRowCache(0);\n\n                if (useWrapMode) {\n                  var len = this.getLength();\n                  this.$wrapData = Array(len);\n                  this.$updateWrapData(0, len - 1);\n                }\n\n                this._signal(\"changeWrapMode\");\n              }\n            };\n\n            this.getUseWrapMode = function () {\n              return this.$useWrapMode;\n            };\n\n            this.setWrapLimitRange = function (min, max) {\n              if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n                this.$wrapLimitRange = {\n                  min: min,\n                  max: max\n                };\n                this.$modified = true;\n                this.$bidiHandler.markAsDirty();\n                if (this.$useWrapMode) this._signal(\"changeWrapMode\");\n              }\n            };\n\n            this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n              var limits = this.$wrapLimitRange;\n              if (limits.max < 0) limits = {\n                min: $printMargin,\n                max: $printMargin\n              };\n              var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n\n              if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n                this.$wrapLimit = wrapLimit;\n                this.$modified = true;\n\n                if (this.$useWrapMode) {\n                  this.$updateWrapData(0, this.getLength() - 1);\n                  this.$resetRowCache(0);\n\n                  this._signal(\"changeWrapLimit\");\n                }\n\n                return true;\n              }\n\n              return false;\n            };\n\n            this.$constrainWrapLimit = function (wrapLimit, min, max) {\n              if (min) wrapLimit = Math.max(min, wrapLimit);\n              if (max) wrapLimit = Math.min(max, wrapLimit);\n              return wrapLimit;\n            };\n\n            this.getWrapLimit = function () {\n              return this.$wrapLimit;\n            };\n\n            this.setWrapLimit = function (limit) {\n              this.setWrapLimitRange(limit, limit);\n            };\n\n            this.getWrapLimitRange = function () {\n              return {\n                min: this.$wrapLimitRange.min,\n                max: this.$wrapLimitRange.max\n              };\n            };\n\n            this.$updateInternalDataOnChange = function (delta) {\n              var useWrapMode = this.$useWrapMode;\n              var action = delta.action;\n              var start = delta.start;\n              var end = delta.end;\n              var firstRow = start.row;\n              var lastRow = end.row;\n              var len = lastRow - firstRow;\n              var removedFolds = null;\n              this.$updating = true;\n\n              if (len != 0) {\n                if (action === \"remove\") {\n                  this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n                  var foldLines = this.$foldData;\n                  removedFolds = this.getFoldsInRange(delta);\n                  this.removeFolds(removedFolds);\n                  var foldLine = this.getFoldLine(end.row);\n                  var idx = 0;\n\n                  if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n                    var foldLineBefore = this.getFoldLine(firstRow);\n\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                      foldLineBefore.merge(foldLine);\n                      foldLine = foldLineBefore;\n                    }\n\n                    idx = foldLines.indexOf(foldLine) + 1;\n                  }\n\n                  for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n\n                    if (foldLine.start.row >= end.row) {\n                      foldLine.shiftRow(-len);\n                    }\n                  }\n\n                  lastRow = firstRow;\n                } else {\n                  var args = Array(len);\n                  args.unshift(firstRow, 0);\n                  var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                  arr.splice.apply(arr, args);\n                  var foldLines = this.$foldData;\n                  var foldLine = this.getFoldLine(firstRow);\n                  var idx = 0;\n\n                  if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n\n                    if (cmp == 0) {\n                      foldLine = foldLine.split(start.row, start.column);\n\n                      if (foldLine) {\n                        foldLine.shiftRow(len);\n                        foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                      }\n                    } else if (cmp == -1) {\n                      foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                      foldLine.shiftRow(len);\n                    }\n\n                    idx = foldLines.indexOf(foldLine) + 1;\n                  }\n\n                  for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n\n                    if (foldLine.start.row >= firstRow) {\n                      foldLine.shiftRow(len);\n                    }\n                  }\n                }\n              } else {\n                len = Math.abs(delta.start.column - delta.end.column);\n\n                if (action === \"remove\") {\n                  removedFolds = this.getFoldsInRange(delta);\n                  this.removeFolds(removedFolds);\n                  len = -len;\n                }\n\n                var foldLine = this.getFoldLine(firstRow);\n\n                if (foldLine) {\n                  foldLine.addRemoveChars(firstRow, start.column, len);\n                }\n              }\n\n              if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n                console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n              }\n\n              this.$updating = false;\n              if (useWrapMode) this.$updateWrapData(firstRow, lastRow);else this.$updateRowLengthCache(firstRow, lastRow);\n              return removedFolds;\n            };\n\n            this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n              this.$rowLengthCache[firstRow] = null;\n              this.$rowLengthCache[lastRow] = null;\n            };\n\n            this.$updateWrapData = function (firstRow, lastRow) {\n              var lines = this.doc.getAllLines();\n              var tabSize = this.getTabSize();\n              var wrapData = this.$wrapData;\n              var wrapLimit = this.$wrapLimit;\n              var tokens;\n              var foldLine;\n              var row = firstRow;\n              lastRow = Math.min(lastRow, lines.length - 1);\n\n              while (row <= lastRow) {\n                foldLine = this.getFoldLine(row, foldLine);\n\n                if (!foldLine) {\n                  tokens = this.$getDisplayTokens(lines[row]);\n                  wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                  row++;\n                } else {\n                  tokens = [];\n                  foldLine.walk(function (placeholder, row, column, lastColumn) {\n                    var walkTokens;\n\n                    if (placeholder != null) {\n                      walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                      walkTokens[0] = PLACEHOLDER_START;\n\n                      for (var i = 1; i < walkTokens.length; i++) {\n                        walkTokens[i] = PLACEHOLDER_BODY;\n                      }\n                    } else {\n                      walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                    }\n\n                    tokens = tokens.concat(walkTokens);\n                  }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n                  wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                  row = foldLine.end.row + 1;\n                }\n              }\n            };\n\n            var CHAR = 1,\n                CHAR_EXT = 2,\n                PLACEHOLDER_START = 3,\n                PLACEHOLDER_BODY = 4,\n                PUNCTUATION = 9,\n                SPACE = 10,\n                TAB = 11,\n                TAB_SPACE = 12;\n\n            this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n              if (tokens.length == 0) {\n                return [];\n              }\n\n              var splits = [];\n              var displayLength = tokens.length;\n              var lastSplit = 0,\n                  lastDocSplit = 0;\n              var isCode = this.$wrapAsCode;\n              var indentedSoftWrap = this.$indentedSoftWrap;\n              var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n              function getWrapIndent() {\n                var indentation = 0;\n                if (maxIndent === 0) return indentation;\n\n                if (indentedSoftWrap) {\n                  for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE) indentation += 1;else if (token == TAB) indentation += tabSize;else if (token == TAB_SPACE) continue;else break;\n                  }\n                }\n\n                if (isCode && indentedSoftWrap !== false) indentation += tabSize;\n                return Math.min(indentation, maxIndent);\n              }\n\n              function addSplit(screenPos) {\n                var len = screenPos - lastSplit;\n\n                for (var i = lastSplit; i < screenPos; i++) {\n                  var ch = tokens[i];\n                  if (ch === 12 || ch === 2) len -= 1;\n                }\n\n                if (!splits.length) {\n                  indent = getWrapIndent();\n                  splits.indent = indent;\n                }\n\n                lastDocSplit += len;\n                splits.push(lastDocSplit);\n                lastSplit = screenPos;\n              }\n\n              var indent = 0;\n\n              while (displayLength - lastSplit > wrapLimit - indent) {\n                var split = lastSplit + wrapLimit - indent;\n\n                if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                  addSplit(split);\n                  continue;\n                }\n\n                if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                  for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                      break;\n                    }\n                  }\n\n                  if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                  }\n\n                  split = lastSplit + wrapLimit;\n\n                  for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                      break;\n                    }\n                  }\n\n                  if (split == tokens.length) {\n                    break; // Breaks the while-loop.\n                  }\n\n                  addSplit(split);\n                  continue;\n                }\n\n                var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                  split--;\n                }\n\n                if (isCode) {\n                  while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                  }\n\n                  while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split--;\n                  }\n                } else {\n                  while (split > minSplit && tokens[split] < SPACE) {\n                    split--;\n                  }\n                }\n\n                if (split > minSplit) {\n                  addSplit(++split);\n                  continue;\n                }\n\n                split = lastSplit + wrapLimit;\n                if (tokens[split] == CHAR_EXT) split--;\n                addSplit(split - indent);\n              }\n\n              return splits;\n            };\n\n            this.$getDisplayTokens = function (str, offset) {\n              var arr = [];\n              var tabSize;\n              offset = offset || 0;\n\n              for (var i = 0; i < str.length; i++) {\n                var c = str.charCodeAt(i);\n\n                if (c == 9) {\n                  tabSize = this.getScreenTabSize(arr.length + offset);\n                  arr.push(TAB);\n\n                  for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                  }\n                } else if (c == 32) {\n                  arr.push(SPACE);\n                } else if (c > 39 && c < 48 || c > 57 && c < 64) {\n                  arr.push(PUNCTUATION);\n                } else if (c >= 0x1100 && isFullWidth(c)) {\n                  arr.push(CHAR, CHAR_EXT);\n                } else {\n                  arr.push(CHAR);\n                }\n              }\n\n              return arr;\n            };\n\n            this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n              if (maxScreenColumn == 0) return [0, 0];\n              if (maxScreenColumn == null) maxScreenColumn = Infinity;\n              screenColumn = screenColumn || 0;\n              var c, column;\n\n              for (column = 0; column < str.length; column++) {\n                c = str.charCodeAt(column);\n\n                if (c == 9) {\n                  screenColumn += this.getScreenTabSize(screenColumn);\n                } else if (c >= 0x1100 && isFullWidth(c)) {\n                  screenColumn += 2;\n                } else {\n                  screenColumn += 1;\n                }\n\n                if (screenColumn > maxScreenColumn) {\n                  break;\n                }\n              }\n\n              return [screenColumn, column];\n            };\n\n            this.lineWidgets = null;\n\n            this.getRowLength = function (row) {\n              if (this.lineWidgets) var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n\n              if (!this.$useWrapMode || !this.$wrapData[row]) {\n                return 1 + h;\n              } else {\n                return this.$wrapData[row].length + 1 + h;\n              }\n            };\n\n            this.getRowLineCount = function (row) {\n              if (!this.$useWrapMode || !this.$wrapData[row]) {\n                return 1;\n              } else {\n                return this.$wrapData[row].length + 1;\n              }\n            };\n\n            this.getRowWrapIndent = function (screenRow) {\n              if (this.$useWrapMode) {\n                var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n                var splits = this.$wrapData[pos.row];\n                return splits.length && splits[0] < pos.column ? splits.indent : 0;\n              } else {\n                return 0;\n              }\n            };\n\n            this.getScreenLastRowColumn = function (screenRow) {\n              var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n              return this.documentToScreenColumn(pos.row, pos.column);\n            };\n\n            this.getDocumentLastRowColumn = function (docRow, docColumn) {\n              var screenRow = this.documentToScreenRow(docRow, docColumn);\n              return this.getScreenLastRowColumn(screenRow);\n            };\n\n            this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n              var screenRow = this.documentToScreenRow(docRow, docColumn);\n              return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n            };\n\n            this.getRowSplitData = function (row) {\n              if (!this.$useWrapMode) {\n                return undefined;\n              } else {\n                return this.$wrapData[row];\n              }\n            };\n\n            this.getScreenTabSize = function (screenColumn) {\n              return this.$tabSize - (screenColumn % this.$tabSize | 0);\n            };\n\n            this.screenToDocumentRow = function (screenRow, screenColumn) {\n              return this.screenToDocumentPosition(screenRow, screenColumn).row;\n            };\n\n            this.screenToDocumentColumn = function (screenRow, screenColumn) {\n              return this.screenToDocumentPosition(screenRow, screenColumn).column;\n            };\n\n            this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n              if (screenRow < 0) return {\n                row: 0,\n                column: 0\n              };\n              var line;\n              var docRow = 0;\n              var docColumn = 0;\n              var column;\n              var row = 0;\n              var rowLength = 0;\n              var rowCache = this.$screenRowCache;\n              var i = this.$getRowCacheIndex(rowCache, screenRow);\n              var l = rowCache.length;\n\n              if (l && i >= 0) {\n                var row = rowCache[i];\n                var docRow = this.$docRowCache[i];\n                var doCache = screenRow > rowCache[l - 1];\n              } else {\n                var doCache = !l;\n              }\n\n              var maxRow = this.getLength() - 1;\n              var foldLine = this.getNextFoldLine(docRow);\n              var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n              while (row <= screenRow) {\n                rowLength = this.getRowLength(docRow);\n\n                if (row + rowLength > screenRow || docRow >= maxRow) {\n                  break;\n                } else {\n                  row += rowLength;\n                  docRow++;\n\n                  if (docRow > foldStart) {\n                    docRow = foldLine.end.row + 1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                  }\n                }\n\n                if (doCache) {\n                  this.$docRowCache.push(docRow);\n                  this.$screenRowCache.push(row);\n                }\n              }\n\n              if (foldLine && foldLine.start.row <= docRow) {\n                line = this.getFoldDisplayLine(foldLine);\n                docRow = foldLine.start.row;\n              } else if (row + rowLength <= screenRow || docRow > maxRow) {\n                return {\n                  row: maxRow,\n                  column: this.getLine(maxRow).length\n                };\n              } else {\n                line = this.getLine(docRow);\n                foldLine = null;\n              }\n\n              var wrapIndent = 0,\n                  splitIndex = Math.floor(screenRow - row);\n\n              if (this.$useWrapMode) {\n                var splits = this.$wrapData[docRow];\n\n                if (splits) {\n                  column = splits[splitIndex];\n\n                  if (splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                  }\n                }\n              }\n\n              if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex)) screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n              docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n              if (this.$useWrapMode && docColumn >= column) docColumn = column - 1;\n              if (foldLine) return foldLine.idxToPosition(docColumn);\n              return {\n                row: docRow,\n                column: docColumn\n              };\n            };\n\n            this.documentToScreenPosition = function (docRow, docColumn) {\n              if (typeof docColumn === \"undefined\") var pos = this.$clipPositionToDocument(docRow.row, docRow.column);else pos = this.$clipPositionToDocument(docRow, docColumn);\n              docRow = pos.row;\n              docColumn = pos.column;\n              var screenRow = 0;\n              var foldStartRow = null;\n              var fold = null;\n              fold = this.getFoldAt(docRow, docColumn, 1);\n\n              if (fold) {\n                docRow = fold.start.row;\n                docColumn = fold.start.column;\n              }\n\n              var rowEnd,\n                  row = 0;\n              var rowCache = this.$docRowCache;\n              var i = this.$getRowCacheIndex(rowCache, docRow);\n              var l = rowCache.length;\n\n              if (l && i >= 0) {\n                var row = rowCache[i];\n                var screenRow = this.$screenRowCache[i];\n                var doCache = docRow > rowCache[l - 1];\n              } else {\n                var doCache = !l;\n              }\n\n              var foldLine = this.getNextFoldLine(row);\n              var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n              while (row < docRow) {\n                if (row >= foldStart) {\n                  rowEnd = foldLine.end.row + 1;\n                  if (rowEnd > docRow) break;\n                  foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                  foldStart = foldLine ? foldLine.start.row : Infinity;\n                } else {\n                  rowEnd = row + 1;\n                }\n\n                screenRow += this.getRowLength(row);\n                row = rowEnd;\n\n                if (doCache) {\n                  this.$docRowCache.push(row);\n                  this.$screenRowCache.push(screenRow);\n                }\n              }\n\n              var textLine = \"\";\n\n              if (foldLine && row >= foldStart) {\n                textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n                foldStartRow = foldLine.start.row;\n              } else {\n                textLine = this.getLine(docRow).substring(0, docColumn);\n                foldStartRow = docRow;\n              }\n\n              var wrapIndent = 0;\n\n              if (this.$useWrapMode) {\n                var wrapRow = this.$wrapData[foldStartRow];\n\n                if (wrapRow) {\n                  var screenRowOffset = 0;\n\n                  while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow++;\n                    screenRowOffset++;\n                  }\n\n                  textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                  wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n                }\n              }\n\n              return {\n                row: screenRow,\n                column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n              };\n            };\n\n            this.documentToScreenColumn = function (row, docColumn) {\n              return this.documentToScreenPosition(row, docColumn).column;\n            };\n\n            this.documentToScreenRow = function (docRow, docColumn) {\n              return this.documentToScreenPosition(docRow, docColumn).row;\n            };\n\n            this.getScreenLength = function () {\n              var screenRows = 0;\n              var fold = null;\n\n              if (!this.$useWrapMode) {\n                screenRows = this.getLength();\n                var foldData = this.$foldData;\n\n                for (var i = 0; i < foldData.length; i++) {\n                  fold = foldData[i];\n                  screenRows -= fold.end.row - fold.start.row;\n                }\n              } else {\n                var lastRow = this.$wrapData.length;\n                var row = 0,\n                    i = 0;\n                var fold = this.$foldData[i++];\n                var foldStart = fold ? fold.start.row : Infinity;\n\n                while (row < lastRow) {\n                  var splits = this.$wrapData[row];\n                  screenRows += splits ? splits.length + 1 : 1;\n                  row++;\n\n                  if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ? fold.start.row : Infinity;\n                  }\n                }\n              }\n\n              if (this.lineWidgets) screenRows += this.$getWidgetScreenLength();\n              return screenRows;\n            };\n\n            this.$setFontMetrics = function (fm) {\n              if (!this.$enableVarChar) return;\n\n              this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n                if (maxScreenColumn === 0) return [0, 0];\n                if (!maxScreenColumn) maxScreenColumn = Infinity;\n                screenColumn = screenColumn || 0;\n                var c, column;\n\n                for (column = 0; column < str.length; column++) {\n                  c = str.charAt(column);\n\n                  if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                  } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                  }\n\n                  if (screenColumn > maxScreenColumn) {\n                    break;\n                  }\n                }\n\n                return [screenColumn, column];\n              };\n            };\n\n            this.destroy = function () {\n              if (this.bgTokenizer) {\n                this.bgTokenizer.setDocument(null);\n                this.bgTokenizer = null;\n              }\n\n              this.$stopWorker();\n            };\n\n            this.isFullWidth = isFullWidth;\n\n            function isFullWidth(c) {\n              if (c < 0x1100) return false;\n              return c >= 0x1100 && c <= 0x115F || c >= 0x11A3 && c <= 0x11A7 || c >= 0x11FA && c <= 0x11FF || c >= 0x2329 && c <= 0x232A || c >= 0x2E80 && c <= 0x2E99 || c >= 0x2E9B && c <= 0x2EF3 || c >= 0x2F00 && c <= 0x2FD5 || c >= 0x2FF0 && c <= 0x2FFB || c >= 0x3000 && c <= 0x303E || c >= 0x3041 && c <= 0x3096 || c >= 0x3099 && c <= 0x30FF || c >= 0x3105 && c <= 0x312D || c >= 0x3131 && c <= 0x318E || c >= 0x3190 && c <= 0x31BA || c >= 0x31C0 && c <= 0x31E3 || c >= 0x31F0 && c <= 0x321E || c >= 0x3220 && c <= 0x3247 || c >= 0x3250 && c <= 0x32FE || c >= 0x3300 && c <= 0x4DBF || c >= 0x4E00 && c <= 0xA48C || c >= 0xA490 && c <= 0xA4C6 || c >= 0xA960 && c <= 0xA97C || c >= 0xAC00 && c <= 0xD7A3 || c >= 0xD7B0 && c <= 0xD7C6 || c >= 0xD7CB && c <= 0xD7FB || c >= 0xF900 && c <= 0xFAFF || c >= 0xFE10 && c <= 0xFE19 || c >= 0xFE30 && c <= 0xFE52 || c >= 0xFE54 && c <= 0xFE66 || c >= 0xFE68 && c <= 0xFE6B || c >= 0xFF01 && c <= 0xFF60 || c >= 0xFFE0 && c <= 0xFFE6;\n            }\n          }).call(EditSession.prototype);\n\n          require(\"./edit_session/folding\").Folding.call(EditSession.prototype);\n\n          require(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n          config.defineOptions(EditSession.prototype, \"session\", {\n            wrap: {\n              set: function set(value) {\n                if (!value || value == \"off\") value = false;else if (value == \"free\") value = true;else if (value == \"printMargin\") value = -1;else if (typeof value == \"string\") value = parseInt(value, 10) || false;\n                if (this.$wrap == value) return;\n                this.$wrap = value;\n\n                if (!value) {\n                  this.setUseWrapMode(false);\n                } else {\n                  var col = typeof value == \"number\" ? value : null;\n                  this.setWrapLimitRange(col, col);\n                  this.setUseWrapMode(true);\n                }\n              },\n              get: function get() {\n                if (this.getUseWrapMode()) {\n                  if (this.$wrap == -1) return \"printMargin\";\n                  if (!this.getWrapLimitRange().min) return \"free\";\n                  return this.$wrap;\n                }\n\n                return \"off\";\n              },\n              handlesSet: true\n            },\n            wrapMethod: {\n              set: function set(val) {\n                val = val == \"auto\" ? this.$mode.type != \"text\" : val != \"text\";\n\n                if (val != this.$wrapAsCode) {\n                  this.$wrapAsCode = val;\n\n                  if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                  }\n                }\n              },\n              initialValue: \"auto\"\n            },\n            indentedSoftWrap: {\n              set: function set() {\n                if (this.$useWrapMode) {\n                  this.$useWrapMode = false;\n                  this.setUseWrapMode(true);\n                }\n              },\n              initialValue: true\n            },\n            firstLineNumber: {\n              set: function set() {\n                this._signal(\"changeBreakpoint\");\n              },\n              initialValue: 1\n            },\n            useWorker: {\n              set: function set(useWorker) {\n                this.$useWorker = useWorker;\n                this.$stopWorker();\n                if (useWorker) this.$startWorker();\n              },\n              initialValue: true\n            },\n            useSoftTabs: {\n              initialValue: true\n            },\n            tabSize: {\n              set: function set(tabSize) {\n                tabSize = parseInt(tabSize);\n\n                if (tabSize > 0 && this.$tabSize !== tabSize) {\n                  this.$modified = true;\n                  this.$rowLengthCache = [];\n                  this.$tabSize = tabSize;\n\n                  this._signal(\"changeTabSize\");\n                }\n              },\n              initialValue: 4,\n              handlesSet: true\n            },\n            navigateWithinSoftTabs: {\n              initialValue: false\n            },\n            foldStyle: {\n              set: function set(val) {\n                this.setFoldStyle(val);\n              },\n              handlesSet: true\n            },\n            overwrite: {\n              set: function set(val) {\n                this._signal(\"changeOverwrite\");\n              },\n              initialValue: false\n            },\n            newLineMode: {\n              set: function set(val) {\n                this.doc.setNewLineMode(val);\n              },\n              get: function get() {\n                return this.doc.getNewLineMode();\n              },\n              handlesSet: true\n            },\n            mode: {\n              set: function set(val) {\n                this.setMode(val);\n              },\n              get: function get() {\n                return this.$modeId;\n              },\n              handlesSet: true\n            }\n          });\n          exports.EditSession = EditSession;\n        });\n        ace.define(\"ace/search\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var lang = require(\"./lib/lang\");\n\n          var oop = require(\"./lib/oop\");\n\n          var Range = require(\"./range\").Range;\n\n          var Search = function Search() {\n            this.$options = {};\n          };\n\n          (function () {\n            this.set = function (options) {\n              oop.mixin(this.$options, options);\n              return this;\n            };\n\n            this.getOptions = function () {\n              return lang.copyObject(this.$options);\n            };\n\n            this.setOptions = function (options) {\n              this.$options = options;\n            };\n\n            this.find = function (session) {\n              var options = this.$options;\n              var iterator = this.$matchIterator(session, options);\n              if (!iterator) return false;\n              var firstRange = null;\n              iterator.forEach(function (sr, sc, er, ec) {\n                firstRange = new Range(sr, sc, er, ec);\n\n                if (sc == ec && options.start && options.start.start && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n                  firstRange = null;\n                  return false;\n                }\n\n                return true;\n              });\n              return firstRange;\n            };\n\n            this.findAll = function (session) {\n              var options = this.$options;\n              if (!options.needle) return [];\n              this.$assembleRegExp(options);\n              var range = options.range;\n              var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();\n              var ranges = [];\n              var re = options.re;\n\n              if (options.$isMultiLine) {\n                var len = re.length;\n                var maxRow = lines.length - len;\n                var prevRange;\n\n                outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                  for (var j = 0; j < len; j++) {\n                    if (lines[row + j].search(re[j]) == -1) continue outer;\n                  }\n\n                  var startLine = lines[row];\n                  var line = lines[row + len - 1];\n                  var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                  var endIndex = line.match(re[len - 1])[0].length;\n\n                  if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {\n                    continue;\n                  }\n\n                  ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                  if (len > 2) row = row + len - 2;\n                }\n              } else {\n                for (var i = 0; i < lines.length; i++) {\n                  var matches = lang.getMatchOffsets(lines[i], re);\n\n                  for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                  }\n                }\n              }\n\n              if (range) {\n                var startColumn = range.start.column;\n                var endColumn = range.start.column;\n                var i = 0,\n                    j = ranges.length - 1;\n\n                while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row) {\n                  i++;\n                }\n\n                while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row) {\n                  j--;\n                }\n\n                ranges = ranges.slice(i, j + 1);\n\n                for (i = 0, j = ranges.length; i < j; i++) {\n                  ranges[i].start.row += range.start.row;\n                  ranges[i].end.row += range.start.row;\n                }\n              }\n\n              return ranges;\n            };\n\n            this.replace = function (input, replacement) {\n              var options = this.$options;\n              var re = this.$assembleRegExp(options);\n              if (options.$isMultiLine) return replacement;\n              if (!re) return;\n              var match = re.exec(input);\n              if (!match || match[0].length != input.length) return null;\n              replacement = input.replace(re, replacement);\n\n              if (options.preserveCase) {\n                replacement = replacement.split(\"\");\n\n                for (var i = Math.min(input.length, input.length); i--;) {\n                  var ch = input[i];\n                  if (ch && ch.toLowerCase() != ch) replacement[i] = replacement[i].toUpperCase();else replacement[i] = replacement[i].toLowerCase();\n                }\n\n                replacement = replacement.join(\"\");\n              }\n\n              return replacement;\n            };\n\n            this.$assembleRegExp = function (options, $disableFakeMultiline) {\n              if (options.needle instanceof RegExp) return options.re = options.needle;\n              var needle = options.needle;\n              if (!options.needle) return options.re = false;\n              if (!options.regExp) needle = lang.escapeRegExp(needle);\n              if (options.wholeWord) needle = addWordBoundary(needle, options);\n              var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n              options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n              if (options.$isMultiLine) return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n              try {\n                var re = new RegExp(needle, modifier);\n              } catch (e) {\n                re = false;\n              }\n\n              return options.re = re;\n            };\n\n            this.$assembleMultilineRegExp = function (needle, modifier) {\n              var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n              var re = [];\n\n              for (var i = 0; i < parts.length; i++) {\n                try {\n                  re.push(new RegExp(parts[i], modifier));\n                } catch (e) {\n                  return false;\n                }\n              }\n\n              return re;\n            };\n\n            this.$matchIterator = function (session, options) {\n              var re = this.$assembleRegExp(options);\n              if (!re) return false;\n              var backwards = options.backwards == true;\n              var skipCurrent = options.skipCurrent != false;\n              var range = options.range;\n              var start = options.start;\n              if (!start) start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n              if (start.start) start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n              var firstRow = range ? range.start.row : 0;\n              var lastRow = range ? range.end.row : session.getLength() - 1;\n\n              if (backwards) {\n                var forEach = function forEach(callback) {\n                  var row = start.row;\n                  if (forEachInLine(row, start.column, callback)) return;\n\n                  for (row--; row >= firstRow; row--) {\n                    if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n                  }\n\n                  if (options.wrap == false) return;\n\n                  for (row = lastRow, firstRow = start.row; row >= firstRow; row--) {\n                    if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n                  }\n                };\n              } else {\n                var forEach = function forEach(callback) {\n                  var row = start.row;\n                  if (forEachInLine(row, start.column, callback)) return;\n\n                  for (row = row + 1; row <= lastRow; row++) {\n                    if (forEachInLine(row, 0, callback)) return;\n                  }\n\n                  if (options.wrap == false) return;\n\n                  for (row = firstRow, lastRow = start.row; row <= lastRow; row++) {\n                    if (forEachInLine(row, 0, callback)) return;\n                  }\n                };\n              }\n\n              if (options.$isMultiLine) {\n                var len = re.length;\n\n                var forEachInLine = function forEachInLine(row, offset, callback) {\n                  var startRow = backwards ? row - len + 1 : row;\n                  if (startRow < 0) return;\n                  var line = session.getLine(startRow);\n                  var startIndex = line.search(re[0]);\n                  if (!backwards && startIndex < offset || startIndex === -1) return;\n\n                  for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1) return;\n                  }\n\n                  var endIndex = line.match(re[len - 1])[0].length;\n                  if (backwards && endIndex > offset) return;\n                  if (callback(startRow, startIndex, startRow + len - 1, endIndex)) return true;\n                };\n              } else if (backwards) {\n                var forEachInLine = function forEachInLine(row, endIndex, callback) {\n                  var line = session.getLine(row);\n                  var matches = [];\n                  var m,\n                      last = 0;\n                  re.lastIndex = 0;\n\n                  while (m = re.exec(line)) {\n                    var length = m[0].length;\n                    last = m.index;\n\n                    if (!length) {\n                      if (last >= line.length) break;\n                      re.lastIndex = last += 1;\n                    }\n\n                    if (m.index + length > endIndex) break;\n                    matches.push(m.index, length);\n                  }\n\n                  for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length)) return true;\n                  }\n                };\n              } else {\n                var forEachInLine = function forEachInLine(row, startIndex, callback) {\n                  var line = session.getLine(row);\n                  var last;\n                  var m;\n                  re.lastIndex = startIndex;\n\n                  while (m = re.exec(line)) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row, last + length)) return true;\n\n                    if (!length) {\n                      re.lastIndex = last += 1;\n                      if (last >= line.length) return false;\n                    }\n                  }\n                };\n              }\n\n              return {\n                forEach: forEach\n              };\n            };\n          }).call(Search.prototype);\n\n          function addWordBoundary(needle, options) {\n            function wordBoundary(c) {\n              if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n              return \"\";\n            }\n\n            return wordBoundary(needle[0]) + needle + wordBoundary(needle[needle.length - 1]);\n          }\n\n          exports.Search = Search;\n        });\n        ace.define(\"ace/keyboard/hash_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var keyUtil = require(\"../lib/keys\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          var KEY_MODS = keyUtil.KEY_MODS;\n\n          function HashHandler(config, platform) {\n            this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n            this.commands = {};\n            this.commandKeyBinding = {};\n            this.addCommands(config);\n            this.$singleCommand = true;\n          }\n\n          function MultiHashHandler(config, platform) {\n            HashHandler.call(this, config, platform);\n            this.$singleCommand = false;\n          }\n\n          MultiHashHandler.prototype = HashHandler.prototype;\n          (function () {\n            this.addCommand = function (command) {\n              if (this.commands[command.name]) this.removeCommand(command);\n              this.commands[command.name] = command;\n              if (command.bindKey) this._buildKeyHash(command);\n            };\n\n            this.removeCommand = function (command, keepCommand) {\n              var name = command && (typeof command === 'string' ? command : command.name);\n              command = this.commands[name];\n              if (!keepCommand) delete this.commands[name];\n              var ckb = this.commandKeyBinding;\n\n              for (var keyId in ckb) {\n                var cmdGroup = ckb[keyId];\n\n                if (cmdGroup == command) {\n                  delete ckb[keyId];\n                } else if (Array.isArray(cmdGroup)) {\n                  var i = cmdGroup.indexOf(command);\n\n                  if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1) ckb[keyId] = cmdGroup[0];\n                  }\n                }\n              }\n            };\n\n            this.bindKey = function (key, command, position) {\n              if (typeof key == \"object\" && key) {\n                if (position == undefined) position = key.position;\n                key = key[this.platform];\n              }\n\n              if (!key) return;\n              if (typeof command == \"function\") return this.addCommand({\n                exec: command,\n                bindKey: key,\n                name: command.name || key\n              });\n              key.split(\"|\").forEach(function (keyPart) {\n                var chain = \"\";\n\n                if (keyPart.indexOf(\" \") != -1) {\n                  var parts = keyPart.split(/\\s+/);\n                  keyPart = parts.pop();\n                  parts.forEach(function (keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                  }, this);\n                  chain += \" \";\n                }\n\n                var binding = this.parseKeys(keyPart);\n                var id = KEY_MODS[binding.hashId] + binding.key;\n\n                this._addCommandToBinding(chain + id, command, position);\n              }, this);\n            };\n\n            function getPosition(command) {\n              return typeof command == \"object\" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);\n            }\n\n            this._addCommandToBinding = function (keyId, command, position) {\n              var ckb = this.commandKeyBinding,\n                  i;\n\n              if (!command) {\n                delete ckb[keyId];\n              } else if (!ckb[keyId] || this.$singleCommand) {\n                ckb[keyId] = command;\n              } else {\n                if (!Array.isArray(ckb[keyId])) {\n                  ckb[keyId] = [ckb[keyId]];\n                } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                  ckb[keyId].splice(i, 1);\n                }\n\n                if (typeof position != \"number\") {\n                  position = getPosition(command);\n                }\n\n                var commands = ckb[keyId];\n\n                for (i = 0; i < commands.length; i++) {\n                  var other = commands[i];\n                  var otherPos = getPosition(other);\n                  if (otherPos > position) break;\n                }\n\n                commands.splice(i, 0, command);\n              }\n            };\n\n            this.addCommands = function (commands) {\n              commands && Object.keys(commands).forEach(function (name) {\n                var command = commands[name];\n                if (!command) return;\n                if (typeof command === \"string\") return this.bindKey(command, name);\n                if (typeof command === \"function\") command = {\n                  exec: command\n                };\n                if (typeof command !== \"object\") return;\n                if (!command.name) command.name = name;\n                this.addCommand(command);\n              }, this);\n            };\n\n            this.removeCommands = function (commands) {\n              Object.keys(commands).forEach(function (name) {\n                this.removeCommand(commands[name]);\n              }, this);\n            };\n\n            this.bindKeys = function (keyList) {\n              Object.keys(keyList).forEach(function (key) {\n                this.bindKey(key, keyList[key]);\n              }, this);\n            };\n\n            this._buildKeyHash = function (command) {\n              this.bindKey(command.bindKey, command);\n            };\n\n            this.parseKeys = function (keys) {\n              var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) {\n                return x;\n              });\n              var key = parts.pop();\n              var keyCode = keyUtil[key];\n              if (keyUtil.FUNCTION_KEYS[keyCode]) key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else if (!parts.length) return {\n                key: key,\n                hashId: -1\n              };else if (parts.length == 1 && parts[0] == \"shift\") return {\n                key: key.toUpperCase(),\n                hashId: -1\n              };\n              var hashId = 0;\n\n              for (var i = parts.length; i--;) {\n                var modifier = keyUtil.KEY_MODS[parts[i]];\n\n                if (modifier == null) {\n                  if (typeof console != \"undefined\") console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                  return false;\n                }\n\n                hashId |= modifier;\n              }\n\n              return {\n                key: key,\n                hashId: hashId\n              };\n            };\n\n            this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n              var key = KEY_MODS[hashId] + keyString;\n              return this.commandKeyBinding[key];\n            };\n\n            this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n              if (keyCode < 0) return;\n              var key = KEY_MODS[hashId] + keyString;\n              var command = this.commandKeyBinding[key];\n\n              if (data.$keyChain) {\n                data.$keyChain += \" \" + key;\n                command = this.commandKeyBinding[data.$keyChain] || command;\n              }\n\n              if (command) {\n                if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                  data.$keyChain = data.$keyChain || key;\n                  return {\n                    command: \"null\"\n                  };\n                }\n              }\n\n              if (data.$keyChain) {\n                if ((!hashId || hashId == 4) && keyString.length == 1) data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n                else if (hashId == -1 || keyCode > 0) data.$keyChain = \"\"; // reset keyChain\n              }\n\n              return {\n                command: command\n              };\n            };\n\n            this.getStatusText = function (editor, data) {\n              return data.$keyChain || \"\";\n            };\n          }).call(HashHandler.prototype);\n          exports.HashHandler = HashHandler;\n          exports.MultiHashHandler = MultiHashHandler;\n        });\n        ace.define(\"ace/commands/command_manager\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/keyboard/hash_handler\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../lib/oop\");\n\n          var MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\n\n          var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n          var CommandManager = function CommandManager(platform, commands) {\n            MultiHashHandler.call(this, commands, platform);\n            this.byName = this.commands;\n            this.setDefaultHandler(\"exec\", function (e) {\n              return e.command.exec(e.editor, e.args || {});\n            });\n          };\n\n          oop.inherits(CommandManager, MultiHashHandler);\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.exec = function (command, editor, args) {\n              if (Array.isArray(command)) {\n                for (var i = command.length; i--;) {\n                  if (this.exec(command[i], editor, args)) return true;\n                }\n\n                return false;\n              }\n\n              if (typeof command === \"string\") command = this.commands[command];\n              if (!command) return false;\n              if (editor && editor.$readOnly && !command.readOnly) return false;\n              if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor)) return false;\n              var e = {\n                editor: editor,\n                command: command,\n                args: args\n              };\n              e.returnValue = this._emit(\"exec\", e);\n\n              this._signal(\"afterExec\", e);\n\n              return e.returnValue === false ? false : true;\n            };\n\n            this.toggleRecording = function (editor) {\n              if (this.$inReplay) return;\n              editor && editor._emit(\"changeStatus\");\n\n              if (this.recording) {\n                this.macro.pop();\n                this.removeEventListener(\"exec\", this.$addCommandToMacro);\n                if (!this.macro.length) this.macro = this.oldMacro;\n                return this.recording = false;\n              }\n\n              if (!this.$addCommandToMacro) {\n                this.$addCommandToMacro = function (e) {\n                  this.macro.push([e.command, e.args]);\n                }.bind(this);\n              }\n\n              this.oldMacro = this.macro;\n              this.macro = [];\n              this.on(\"exec\", this.$addCommandToMacro);\n              return this.recording = true;\n            };\n\n            this.replay = function (editor) {\n              if (this.$inReplay || !this.macro) return;\n              if (this.recording) return this.toggleRecording(editor);\n\n              try {\n                this.$inReplay = true;\n                this.macro.forEach(function (x) {\n                  if (typeof x == \"string\") this.exec(x, editor);else this.exec(x[0], editor, x[1]);\n                }, this);\n              } finally {\n                this.$inReplay = false;\n              }\n            };\n\n            this.trimMacro = function (m) {\n              return m.map(function (x) {\n                if (typeof x[0] != \"string\") x[0] = x[0].name;\n                if (!x[1]) x = x[0];\n                return x;\n              });\n            };\n          }).call(CommandManager.prototype);\n          exports.CommandManager = CommandManager;\n        });\n        ace.define(\"ace/commands/default_commands\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/config\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var lang = require(\"../lib/lang\");\n\n          var config = require(\"../config\");\n\n          var Range = require(\"../range\").Range;\n\n          function bindKey(win, mac) {\n            return {\n              win: win,\n              mac: mac\n            };\n          }\n\n          exports.commands = [{\n            name: \"showSettingsMenu\",\n            bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n            exec: function exec(editor) {\n              config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n              });\n            },\n            readOnly: true\n          }, {\n            name: \"goToNextError\",\n            bindKey: bindKey(\"Alt-E\", \"F4\"),\n            exec: function exec(editor) {\n              config.loadModule(\"./ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n              });\n            },\n            scrollIntoView: \"animate\",\n            readOnly: true\n          }, {\n            name: \"goToPreviousError\",\n            bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n            exec: function exec(editor) {\n              config.loadModule(\"./ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n              });\n            },\n            scrollIntoView: \"animate\",\n            readOnly: true\n          }, {\n            name: \"selectall\",\n            description: \"Select all\",\n            bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n            exec: function exec(editor) {\n              editor.selectAll();\n            },\n            readOnly: true\n          }, {\n            name: \"centerselection\",\n            description: \"Center selection\",\n            bindKey: bindKey(null, \"Ctrl-L\"),\n            exec: function exec(editor) {\n              editor.centerSelection();\n            },\n            readOnly: true\n          }, {\n            name: \"gotoline\",\n            description: \"Go to line...\",\n            bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n            exec: function exec(editor, line) {\n              if (typeof line === \"number\" && !isNaN(line)) editor.gotoLine(line);\n              editor.prompt({\n                $type: \"gotoLine\"\n              });\n            },\n            readOnly: true\n          }, {\n            name: \"fold\",\n            bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n            exec: function exec(editor) {\n              editor.session.toggleFold(false);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"unfold\",\n            bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n            exec: function exec(editor) {\n              editor.session.toggleFold(true);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"toggleFoldWidget\",\n            bindKey: bindKey(\"F2\", \"F2\"),\n            exec: function exec(editor) {\n              editor.session.toggleFoldWidget();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"toggleParentFoldWidget\",\n            bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n            exec: function exec(editor) {\n              editor.session.toggleFoldWidget(true);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"foldall\",\n            description: \"Fold all\",\n            bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n            exec: function exec(editor) {\n              editor.session.foldAll();\n            },\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"foldOther\",\n            description: \"Fold other\",\n            bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n            exec: function exec(editor) {\n              editor.session.foldAll();\n              editor.session.unfold(editor.selection.getAllRanges());\n            },\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"unfoldall\",\n            description: \"Unfold all\",\n            bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n            exec: function exec(editor) {\n              editor.session.unfold();\n            },\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"findnext\",\n            description: \"Find next\",\n            bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n            exec: function exec(editor) {\n              editor.findNext();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"findprevious\",\n            description: \"Find previous\",\n            bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n            exec: function exec(editor) {\n              editor.findPrevious();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"center\",\n            readOnly: true\n          }, {\n            name: \"selectOrFindNext\",\n            description: \"Select or find next\",\n            bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n            exec: function exec(editor) {\n              if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findNext();\n            },\n            readOnly: true\n          }, {\n            name: \"selectOrFindPrevious\",\n            description: \"Select or find previous\",\n            bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n            exec: function exec(editor) {\n              if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findPrevious();\n            },\n            readOnly: true\n          }, {\n            name: \"find\",\n            description: \"Find\",\n            bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n            exec: function exec(editor) {\n              config.loadModule(\"ace/ext/searchbox\", function (e) {\n                e.Search(editor);\n              });\n            },\n            readOnly: true\n          }, {\n            name: \"overwrite\",\n            description: \"Overwrite\",\n            bindKey: \"Insert\",\n            exec: function exec(editor) {\n              editor.toggleOverwrite();\n            },\n            readOnly: true\n          }, {\n            name: \"selecttostart\",\n            description: \"Select to start\",\n            bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectFileStart();\n            },\n            multiSelectAction: \"forEach\",\n            readOnly: true,\n            scrollIntoView: \"animate\",\n            aceCommandGroup: \"fileJump\"\n          }, {\n            name: \"gotostart\",\n            description: \"Go to start\",\n            bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n            exec: function exec(editor) {\n              editor.navigateFileStart();\n            },\n            multiSelectAction: \"forEach\",\n            readOnly: true,\n            scrollIntoView: \"animate\",\n            aceCommandGroup: \"fileJump\"\n          }, {\n            name: \"selectup\",\n            description: \"Select up\",\n            bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectUp();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"golineup\",\n            description: \"Go line up\",\n            bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n            exec: function exec(editor, args) {\n              editor.navigateUp(args.times);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selecttoend\",\n            description: \"Select to end\",\n            bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectFileEnd();\n            },\n            multiSelectAction: \"forEach\",\n            readOnly: true,\n            scrollIntoView: \"animate\",\n            aceCommandGroup: \"fileJump\"\n          }, {\n            name: \"gotoend\",\n            description: \"Go to end\",\n            bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n            exec: function exec(editor) {\n              editor.navigateFileEnd();\n            },\n            multiSelectAction: \"forEach\",\n            readOnly: true,\n            scrollIntoView: \"animate\",\n            aceCommandGroup: \"fileJump\"\n          }, {\n            name: \"selectdown\",\n            description: \"Select down\",\n            bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectDown();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"golinedown\",\n            description: \"Go line down\",\n            bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n            exec: function exec(editor, args) {\n              editor.navigateDown(args.times);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectwordleft\",\n            description: \"Select word left\",\n            bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectWordLeft();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"gotowordleft\",\n            description: \"Go to word left\",\n            bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n            exec: function exec(editor) {\n              editor.navigateWordLeft();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selecttolinestart\",\n            description: \"Select to line start\",\n            bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectLineStart();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"gotolinestart\",\n            description: \"Go to line start\",\n            bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n            exec: function exec(editor) {\n              editor.navigateLineStart();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectleft\",\n            description: \"Select left\",\n            bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectLeft();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"gotoleft\",\n            description: \"Go to left\",\n            bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n            exec: function exec(editor, args) {\n              editor.navigateLeft(args.times);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectwordright\",\n            description: \"Select word right\",\n            bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectWordRight();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"gotowordright\",\n            description: \"Go to word right\",\n            bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n            exec: function exec(editor) {\n              editor.navigateWordRight();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selecttolineend\",\n            description: \"Select to line end\",\n            bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectLineEnd();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"gotolineend\",\n            description: \"Go to line end\",\n            bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n            exec: function exec(editor) {\n              editor.navigateLineEnd();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectright\",\n            description: \"Select right\",\n            bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n            exec: function exec(editor) {\n              editor.getSelection().selectRight();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"gotoright\",\n            description: \"Go to right\",\n            bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n            exec: function exec(editor, args) {\n              editor.navigateRight(args.times);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectpagedown\",\n            description: \"Select page down\",\n            bindKey: \"Shift-PageDown\",\n            exec: function exec(editor) {\n              editor.selectPageDown();\n            },\n            readOnly: true\n          }, {\n            name: \"pagedown\",\n            description: \"Page down\",\n            bindKey: bindKey(null, \"Option-PageDown\"),\n            exec: function exec(editor) {\n              editor.scrollPageDown();\n            },\n            readOnly: true\n          }, {\n            name: \"gotopagedown\",\n            description: \"Go to page down\",\n            bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n            exec: function exec(editor) {\n              editor.gotoPageDown();\n            },\n            readOnly: true\n          }, {\n            name: \"selectpageup\",\n            description: \"Select page up\",\n            bindKey: \"Shift-PageUp\",\n            exec: function exec(editor) {\n              editor.selectPageUp();\n            },\n            readOnly: true\n          }, {\n            name: \"pageup\",\n            description: \"Page up\",\n            bindKey: bindKey(null, \"Option-PageUp\"),\n            exec: function exec(editor) {\n              editor.scrollPageUp();\n            },\n            readOnly: true\n          }, {\n            name: \"gotopageup\",\n            description: \"Go to page up\",\n            bindKey: \"PageUp\",\n            exec: function exec(editor) {\n              editor.gotoPageUp();\n            },\n            readOnly: true\n          }, {\n            name: \"scrollup\",\n            description: \"Scroll up\",\n            bindKey: bindKey(\"Ctrl-Up\", null),\n            exec: function exec(e) {\n              e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);\n            },\n            readOnly: true\n          }, {\n            name: \"scrolldown\",\n            description: \"Scroll down\",\n            bindKey: bindKey(\"Ctrl-Down\", null),\n            exec: function exec(e) {\n              e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);\n            },\n            readOnly: true\n          }, {\n            name: \"selectlinestart\",\n            description: \"Select line start\",\n            bindKey: \"Shift-Home\",\n            exec: function exec(editor) {\n              editor.getSelection().selectLineStart();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectlineend\",\n            description: \"Select line end\",\n            bindKey: \"Shift-End\",\n            exec: function exec(editor) {\n              editor.getSelection().selectLineEnd();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"togglerecording\",\n            description: \"Toggle recording\",\n            bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n            exec: function exec(editor) {\n              editor.commands.toggleRecording(editor);\n            },\n            readOnly: true\n          }, {\n            name: \"replaymacro\",\n            description: \"Replay macro\",\n            bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n            exec: function exec(editor) {\n              editor.commands.replay(editor);\n            },\n            readOnly: true\n          }, {\n            name: \"jumptomatching\",\n            description: \"Jump to matching\",\n            bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n            exec: function exec(editor) {\n              editor.jumpToMatching();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"animate\",\n            readOnly: true\n          }, {\n            name: \"selecttomatching\",\n            description: \"Select to matching\",\n            bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n            exec: function exec(editor) {\n              editor.jumpToMatching(true);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"animate\",\n            readOnly: true\n          }, {\n            name: \"expandToMatching\",\n            description: \"Expand to matching\",\n            bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n            exec: function exec(editor) {\n              editor.jumpToMatching(true, true);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"animate\",\n            readOnly: true\n          }, {\n            name: \"passKeysToBrowser\",\n            description: \"Pass keys to browser\",\n            bindKey: bindKey(null, null),\n            exec: function exec() {},\n            passEvent: true,\n            readOnly: true\n          }, {\n            name: \"copy\",\n            description: \"Copy\",\n            exec: function exec(editor) {},\n            readOnly: true\n          }, {\n            name: \"cut\",\n            description: \"Cut\",\n            exec: function exec(editor) {\n              var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n              var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n\n              editor._emit(\"cut\", range);\n\n              if (!range.isEmpty()) editor.session.remove(range);\n              editor.clearSelection();\n            },\n            scrollIntoView: \"cursor\",\n            multiSelectAction: \"forEach\"\n          }, {\n            name: \"paste\",\n            description: \"Paste\",\n            exec: function exec(editor, args) {\n              editor.$handlePaste(args);\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removeline\",\n            description: \"Remove line\",\n            bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n            exec: function exec(editor) {\n              editor.removeLines();\n            },\n            scrollIntoView: \"cursor\",\n            multiSelectAction: \"forEachLine\"\n          }, {\n            name: \"duplicateSelection\",\n            description: \"Duplicate selection\",\n            bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n            exec: function exec(editor) {\n              editor.duplicateSelection();\n            },\n            scrollIntoView: \"cursor\",\n            multiSelectAction: \"forEach\"\n          }, {\n            name: \"sortlines\",\n            description: \"Sort lines\",\n            bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n            exec: function exec(editor) {\n              editor.sortLines();\n            },\n            scrollIntoView: \"selection\",\n            multiSelectAction: \"forEachLine\"\n          }, {\n            name: \"togglecomment\",\n            description: \"Toggle comment\",\n            bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n            exec: function exec(editor) {\n              editor.toggleCommentLines();\n            },\n            multiSelectAction: \"forEachLine\",\n            scrollIntoView: \"selectionPart\"\n          }, {\n            name: \"toggleBlockComment\",\n            description: \"Toggle block comment\",\n            bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n            exec: function exec(editor) {\n              editor.toggleBlockComment();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"selectionPart\"\n          }, {\n            name: \"modifyNumberUp\",\n            description: \"Modify number up\",\n            bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n            exec: function exec(editor) {\n              editor.modifyNumber(1);\n            },\n            scrollIntoView: \"cursor\",\n            multiSelectAction: \"forEach\"\n          }, {\n            name: \"modifyNumberDown\",\n            description: \"Modify number down\",\n            bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n            exec: function exec(editor) {\n              editor.modifyNumber(-1);\n            },\n            scrollIntoView: \"cursor\",\n            multiSelectAction: \"forEach\"\n          }, {\n            name: \"replace\",\n            description: \"Replace\",\n            bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n            exec: function exec(editor) {\n              config.loadModule(\"ace/ext/searchbox\", function (e) {\n                e.Search(editor, true);\n              });\n            }\n          }, {\n            name: \"undo\",\n            description: \"Undo\",\n            bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n            exec: function exec(editor) {\n              editor.undo();\n            }\n          }, {\n            name: \"redo\",\n            description: \"Redo\",\n            bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n            exec: function exec(editor) {\n              editor.redo();\n            }\n          }, {\n            name: \"copylinesup\",\n            description: \"Copy lines up\",\n            bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n            exec: function exec(editor) {\n              editor.copyLinesUp();\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"movelinesup\",\n            description: \"Move lines up\",\n            bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n            exec: function exec(editor) {\n              editor.moveLinesUp();\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"copylinesdown\",\n            description: \"Copy lines down\",\n            bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n            exec: function exec(editor) {\n              editor.copyLinesDown();\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"movelinesdown\",\n            description: \"Move lines down\",\n            bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n            exec: function exec(editor) {\n              editor.moveLinesDown();\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"del\",\n            description: \"Delete\",\n            bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n            exec: function exec(editor) {\n              editor.remove(\"right\");\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"backspace\",\n            description: \"Backspace\",\n            bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n            exec: function exec(editor) {\n              editor.remove(\"left\");\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"cut_or_delete\",\n            description: \"Cut or delete\",\n            bindKey: bindKey(\"Shift-Delete\", null),\n            exec: function exec(editor) {\n              if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n              } else {\n                return false;\n              }\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removetolinestart\",\n            description: \"Remove to line start\",\n            bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n            exec: function exec(editor) {\n              editor.removeToLineStart();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removetolineend\",\n            description: \"Remove to line end\",\n            bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n            exec: function exec(editor) {\n              editor.removeToLineEnd();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removetolinestarthard\",\n            description: \"Remove to line start hard\",\n            bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n            exec: function exec(editor) {\n              var range = editor.selection.getRange();\n              range.start.column = 0;\n              editor.session.remove(range);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removetolineendhard\",\n            description: \"Remove to line end hard\",\n            bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n            exec: function exec(editor) {\n              var range = editor.selection.getRange();\n              range.end.column = Number.MAX_VALUE;\n              editor.session.remove(range);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removewordleft\",\n            description: \"Remove word left\",\n            bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n            exec: function exec(editor) {\n              editor.removeWordLeft();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"removewordright\",\n            description: \"Remove word right\",\n            bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n            exec: function exec(editor) {\n              editor.removeWordRight();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"outdent\",\n            description: \"Outdent\",\n            bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n            exec: function exec(editor) {\n              editor.blockOutdent();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"selectionPart\"\n          }, {\n            name: \"indent\",\n            description: \"Indent\",\n            bindKey: bindKey(\"Tab\", \"Tab\"),\n            exec: function exec(editor) {\n              editor.indent();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"selectionPart\"\n          }, {\n            name: \"blockoutdent\",\n            description: \"Block outdent\",\n            bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n            exec: function exec(editor) {\n              editor.blockOutdent();\n            },\n            multiSelectAction: \"forEachLine\",\n            scrollIntoView: \"selectionPart\"\n          }, {\n            name: \"blockindent\",\n            description: \"Block indent\",\n            bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n            exec: function exec(editor) {\n              editor.blockIndent();\n            },\n            multiSelectAction: \"forEachLine\",\n            scrollIntoView: \"selectionPart\"\n          }, {\n            name: \"insertstring\",\n            description: \"Insert string\",\n            exec: function exec(editor, str) {\n              editor.insert(str);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"inserttext\",\n            description: \"Insert text\",\n            exec: function exec(editor, args) {\n              editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"splitline\",\n            description: \"Split line\",\n            bindKey: bindKey(null, \"Ctrl-O\"),\n            exec: function exec(editor) {\n              editor.splitLine();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"transposeletters\",\n            description: \"Transpose letters\",\n            bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n            exec: function exec(editor) {\n              editor.transposeLetters();\n            },\n            multiSelectAction: function multiSelectAction(editor) {\n              editor.transposeSelections(1);\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"touppercase\",\n            description: \"To uppercase\",\n            bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n            exec: function exec(editor) {\n              editor.toUpperCase();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"tolowercase\",\n            description: \"To lowercase\",\n            bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n            exec: function exec(editor) {\n              editor.toLowerCase();\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"expandtoline\",\n            description: \"Expand to line\",\n            bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n            exec: function exec(editor) {\n              var range = editor.selection.getRange();\n              range.start.column = range.end.column = 0;\n              range.end.row++;\n              editor.selection.setRange(range, false);\n            },\n            multiSelectAction: \"forEach\",\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"joinlines\",\n            description: \"Join lines\",\n            bindKey: bindKey(null, null),\n            exec: function exec(editor) {\n              var isBackwards = editor.selection.isBackwards();\n              var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n              var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n              var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n              var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n              var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n              var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n              for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n\n                if (curLine.length !== 0) {\n                  curLine = \" \" + curLine;\n                }\n\n                insertLine += curLine;\n              }\n\n              if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n              }\n\n              editor.clearSelection();\n              editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n              if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n              } else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n              }\n            },\n            multiSelectAction: \"forEach\",\n            readOnly: true\n          }, {\n            name: \"invertSelection\",\n            description: \"Invert selection\",\n            bindKey: bindKey(null, null),\n            exec: function exec(editor) {\n              var endRow = editor.session.doc.getLength() - 1;\n              var endCol = editor.session.doc.getLine(endRow).length;\n              var ranges = editor.selection.rangeList.ranges;\n              var newRanges = [];\n\n              if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n              }\n\n              for (var i = 0; i < ranges.length; i++) {\n                if (i == ranges.length - 1) {\n                  if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                  }\n                }\n\n                if (i === 0) {\n                  if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                  }\n                } else {\n                  newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n              }\n\n              editor.exitMultiSelectMode();\n              editor.clearSelection();\n\n              for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n              }\n            },\n            readOnly: true,\n            scrollIntoView: \"none\"\n          }, {\n            name: \"openCommandPallete\",\n            description: \"Open command pallete\",\n            bindKey: bindKey(\"F1\", \"F1\"),\n            exec: function exec(editor) {\n              editor.prompt({\n                $type: \"commands\"\n              });\n            },\n            readOnly: true\n          }, {\n            name: \"modeSelect\",\n            description: \"Change language mode...\",\n            bindKey: bindKey(null, null),\n            exec: function exec(editor) {\n              editor.prompt({\n                $type: \"modes\"\n              });\n            },\n            readOnly: true\n          }];\n        });\n        ace.define(\"ace/editor\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/keyboard/textinput\", \"ace/mouse/mouse_handler\", \"ace/mouse/fold_handler\", \"ace/keyboard/keybinding\", \"ace/edit_session\", \"ace/search\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/commands/command_manager\", \"ace/commands/default_commands\", \"ace/config\", \"ace/token_iterator\", \"ace/clipboard\"], function (require, exports, module) {\n          \"use strict\";\n\n          require(\"./lib/fixoldbrowsers\");\n\n          var oop = require(\"./lib/oop\");\n\n          var dom = require(\"./lib/dom\");\n\n          var lang = require(\"./lib/lang\");\n\n          var useragent = require(\"./lib/useragent\");\n\n          var TextInput = require(\"./keyboard/textinput\").TextInput;\n\n          var MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\n\n          var FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\n\n          var KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\n\n          var EditSession = require(\"./edit_session\").EditSession;\n\n          var Search = require(\"./search\").Search;\n\n          var Range = require(\"./range\").Range;\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var CommandManager = require(\"./commands/command_manager\").CommandManager;\n\n          var defaultCommands = require(\"./commands/default_commands\").commands;\n\n          var config = require(\"./config\");\n\n          var TokenIterator = require(\"./token_iterator\").TokenIterator;\n\n          var clipboard = require(\"./clipboard\");\n\n          var Editor = function Editor(renderer, session, options) {\n            var container = renderer.getContainerElement();\n            this.container = container;\n            this.renderer = renderer;\n            this.id = \"editor\" + ++Editor.$uid;\n            this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n\n            if (typeof document == \"object\") {\n              this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n              this.renderer.textarea = this.textInput.getElement();\n              this.$mouseHandler = new MouseHandler(this);\n              new FoldHandler(this);\n            }\n\n            this.keyBinding = new KeyBinding(this);\n            this.$search = new Search().set({\n              wrap: true\n            });\n            this.$historyTracker = this.$historyTracker.bind(this);\n            this.commands.on(\"exec\", this.$historyTracker);\n            this.$initOperationListeners();\n            this._$emitInputEvent = lang.delayedCall(function () {\n              this._signal(\"input\", {});\n\n              if (this.session && this.session.bgTokenizer) this.session.bgTokenizer.scheduleStart();\n            }.bind(this));\n            this.on(\"change\", function (_, _self) {\n              _self._$emitInputEvent.schedule(31);\n            });\n            this.setSession(session || options && options.session || new EditSession(\"\"));\n            config.resetOptions(this);\n            if (options) this.setOptions(options);\n\n            config._signal(\"editor\", this);\n          };\n\n          Editor.$uid = 0;\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.$initOperationListeners = function () {\n              this.commands.on(\"exec\", this.startOperation.bind(this), true);\n              this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n              this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n              this.on(\"change\", function () {\n                if (!this.curOp) {\n                  this.startOperation();\n                  this.curOp.selectionBefore = this.$lastSel;\n                }\n\n                this.curOp.docChanged = true;\n              }.bind(this), true);\n              this.on(\"changeSelection\", function () {\n                if (!this.curOp) {\n                  this.startOperation();\n                  this.curOp.selectionBefore = this.$lastSel;\n                }\n\n                this.curOp.selectionChanged = true;\n              }.bind(this), true);\n            };\n\n            this.curOp = null;\n            this.prevOp = {};\n\n            this.startOperation = function (commandEvent) {\n              if (this.curOp) {\n                if (!commandEvent || this.curOp.command) return;\n                this.prevOp = this.curOp;\n              }\n\n              if (!commandEvent) {\n                this.previousCommand = null;\n                commandEvent = {};\n              }\n\n              this.$opResetTimer.schedule();\n              this.curOp = this.session.curOp = {\n                command: commandEvent.command || {},\n                args: commandEvent.args,\n                scrollTop: this.renderer.scrollTop\n              };\n              this.curOp.selectionBefore = this.selection.toJSON();\n            };\n\n            this.endOperation = function (e) {\n              if (this.curOp) {\n                if (e && e.returnValue === false) return this.curOp = null;\n                if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\") return;\n\n                this._signal(\"beforeEndOperation\");\n\n                if (!this.curOp) return;\n                var command = this.curOp.command;\n                var scrollIntoView = command && command.scrollIntoView;\n\n                if (scrollIntoView) {\n                  switch (scrollIntoView) {\n                    case \"center-animate\":\n                      scrollIntoView = \"animate\";\n\n                    case \"center\":\n                      this.renderer.scrollCursorIntoView(null, 0.5);\n                      break;\n\n                    case \"animate\":\n                    case \"cursor\":\n                      this.renderer.scrollCursorIntoView();\n                      break;\n\n                    case \"selectionPart\":\n                      var range = this.selection.getRange();\n                      var config = this.renderer.layerConfig;\n\n                      if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                        this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                      }\n\n                      break;\n\n                    default:\n                      break;\n                  }\n\n                  if (scrollIntoView == \"animate\") this.renderer.animateScrolling(this.curOp.scrollTop);\n                }\n\n                var sel = this.selection.toJSON();\n                this.curOp.selectionAfter = sel;\n                this.$lastSel = this.selection.toJSON();\n                this.session.getUndoManager().addSelection(sel);\n                this.prevOp = this.curOp;\n                this.curOp = null;\n              }\n            };\n\n            this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n\n            this.$historyTracker = function (e) {\n              if (!this.$mergeUndoDeltas) return;\n              var prev = this.prevOp;\n              var mergeableCommands = this.$mergeableCommands;\n              var shouldMerge = prev.command && e.command.name == prev.command.name;\n\n              if (e.command.name == \"insertstring\") {\n                var text = e.args;\n                if (this.mergeNextCommand === undefined) this.mergeNextCommand = true;\n                shouldMerge = shouldMerge && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n                this.mergeNextCommand = true;\n              } else {\n                shouldMerge = shouldMerge && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n              }\n\n              if (this.$mergeUndoDeltas != \"always\" && Date.now() - this.sequenceStartTime > 2000) {\n                shouldMerge = false; // the sequence is too long\n              }\n\n              if (shouldMerge) this.session.mergeUndoDeltas = true;else if (mergeableCommands.indexOf(e.command.name) !== -1) this.sequenceStartTime = Date.now();\n            };\n\n            this.setKeyboardHandler = function (keyboardHandler, cb) {\n              if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n                this.$keybindingId = keyboardHandler;\n\n                var _self = this;\n\n                config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                  if (_self.$keybindingId == keyboardHandler) _self.keyBinding.setKeyboardHandler(module && module.handler);\n                  cb && cb();\n                });\n              } else {\n                this.$keybindingId = null;\n                this.keyBinding.setKeyboardHandler(keyboardHandler);\n                cb && cb();\n              }\n            };\n\n            this.getKeyboardHandler = function () {\n              return this.keyBinding.getKeyboardHandler();\n            };\n\n            this.setSession = function (session) {\n              if (this.session == session) return;\n              if (this.curOp) this.endOperation();\n              this.curOp = {};\n              var oldSession = this.session;\n\n              if (oldSession) {\n                this.session.off(\"change\", this.$onDocumentChange);\n                this.session.off(\"changeMode\", this.$onChangeMode);\n                this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n                this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n                this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n                this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n                this.session.off(\"changeFold\", this.$onChangeFold);\n                this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n                this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n                this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n                this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n                this.session.off(\"changeOverwrite\", this.$onCursorChange);\n                this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n                this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n                var selection = this.session.getSelection();\n                selection.off(\"changeCursor\", this.$onCursorChange);\n                selection.off(\"changeSelection\", this.$onSelectionChange);\n              }\n\n              this.session = session;\n\n              if (session) {\n                this.$onDocumentChange = this.onDocumentChange.bind(this);\n                session.on(\"change\", this.$onDocumentChange);\n                this.renderer.setSession(session);\n                this.$onChangeMode = this.onChangeMode.bind(this);\n                session.on(\"changeMode\", this.$onChangeMode);\n                this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n                session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n                this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n                session.on(\"changeTabSize\", this.$onChangeTabSize);\n                this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n                session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n                this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n                session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n                this.$onChangeFold = this.onChangeFold.bind(this);\n                session.on(\"changeFold\", this.$onChangeFold);\n                this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n                this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n                this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n                this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n                this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n                this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n                this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n                this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n                this.$onCursorChange = this.onCursorChange.bind(this);\n                this.session.on(\"changeOverwrite\", this.$onCursorChange);\n                this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n                this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n                this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n                this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n                this.selection = session.getSelection();\n                this.selection.on(\"changeCursor\", this.$onCursorChange);\n                this.$onSelectionChange = this.onSelectionChange.bind(this);\n                this.selection.on(\"changeSelection\", this.$onSelectionChange);\n                this.onChangeMode();\n                this.onCursorChange();\n                this.onScrollTopChange();\n                this.onScrollLeftChange();\n                this.onSelectionChange();\n                this.onChangeFrontMarker();\n                this.onChangeBackMarker();\n                this.onChangeBreakpoint();\n                this.onChangeAnnotation();\n                this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n                this.renderer.updateFull();\n              } else {\n                this.selection = null;\n                this.renderer.setSession(session);\n              }\n\n              this._signal(\"changeSession\", {\n                session: session,\n                oldSession: oldSession\n              });\n\n              this.curOp = null;\n              oldSession && oldSession._signal(\"changeEditor\", {\n                oldEditor: this\n              });\n              session && session._signal(\"changeEditor\", {\n                editor: this\n              });\n              if (session && session.bgTokenizer) session.bgTokenizer.scheduleStart();\n            };\n\n            this.getSession = function () {\n              return this.session;\n            };\n\n            this.setValue = function (val, cursorPos) {\n              this.session.doc.setValue(val);\n              if (!cursorPos) this.selectAll();else if (cursorPos == 1) this.navigateFileEnd();else if (cursorPos == -1) this.navigateFileStart();\n              return val;\n            };\n\n            this.getValue = function () {\n              return this.session.getValue();\n            };\n\n            this.getSelection = function () {\n              return this.selection;\n            };\n\n            this.resize = function (force) {\n              this.renderer.onResize(force);\n            };\n\n            this.setTheme = function (theme, cb) {\n              this.renderer.setTheme(theme, cb);\n            };\n\n            this.getTheme = function () {\n              return this.renderer.getTheme();\n            };\n\n            this.setStyle = function (style) {\n              this.renderer.setStyle(style);\n            };\n\n            this.unsetStyle = function (style) {\n              this.renderer.unsetStyle(style);\n            };\n\n            this.getFontSize = function () {\n              return this.getOption(\"fontSize\") || dom.computedStyle(this.container).fontSize;\n            };\n\n            this.setFontSize = function (size) {\n              this.setOption(\"fontSize\", size);\n            };\n\n            this.$highlightBrackets = function () {\n              if (this.session.$bracketHighlight) {\n                this.session.removeMarker(this.session.$bracketHighlight);\n                this.session.$bracketHighlight = null;\n              }\n\n              if (this.$highlightPending) {\n                return;\n              }\n\n              var self = this;\n              this.$highlightPending = true;\n              setTimeout(function () {\n                self.$highlightPending = false;\n                var session = self.session;\n                if (!session || !session.bgTokenizer) return;\n                var pos = session.findMatchingBracket(self.getCursorPosition());\n\n                if (pos) {\n                  var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);\n                } else if (session.$mode.getMatching) {\n                  var range = session.$mode.getMatching(self.session);\n                }\n\n                if (range) session.$bracketHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n              }, 50);\n            };\n\n            this.$highlightTags = function () {\n              if (this.$highlightTagPending) return;\n              var self = this;\n              this.$highlightTagPending = true;\n              setTimeout(function () {\n                self.$highlightTagPending = false;\n                var session = self.session;\n                if (!session || !session.bgTokenizer) return;\n                var pos = self.getCursorPosition();\n                var iterator = new TokenIterator(self.session, pos.row, pos.column);\n                var token = iterator.getCurrentToken();\n\n                if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                  session.removeMarker(session.$tagHighlight);\n                  session.$tagHighlight = null;\n                  return;\n                }\n\n                if (token.type.indexOf(\"tag-open\") != -1) {\n                  token = iterator.stepForward();\n                  if (!token) return;\n                }\n\n                var tag = token.value;\n                var depth = 0;\n                var prevToken = iterator.stepBackward();\n\n                if (prevToken.value == '<') {\n                  do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n\n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                      if (prevToken.value === '<') {\n                        depth++;\n                      } else if (prevToken.value === '</') {\n                        depth--;\n                      }\n                    }\n                  } while (token && depth >= 0);\n                } else {\n                  do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                      if (prevToken.value === '<') {\n                        depth++;\n                      } else if (prevToken.value === '</') {\n                        depth--;\n                      }\n                    }\n                  } while (prevToken && depth <= 0);\n\n                  iterator.stepForward();\n                }\n\n                if (!token) {\n                  session.removeMarker(session.$tagHighlight);\n                  session.$tagHighlight = null;\n                  return;\n                }\n\n                var row = iterator.getCurrentTokenRow();\n                var column = iterator.getCurrentTokenColumn();\n                var range = new Range(row, column, row, column + token.value.length);\n                var sbm = session.$backMarkers[session.$tagHighlight];\n\n                if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                  session.removeMarker(session.$tagHighlight);\n                  session.$tagHighlight = null;\n                }\n\n                if (!session.$tagHighlight) session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n              }, 50);\n            };\n\n            this.focus = function () {\n              var _self = this;\n\n              setTimeout(function () {\n                if (!_self.isFocused()) _self.textInput.focus();\n              });\n              this.textInput.focus();\n            };\n\n            this.isFocused = function () {\n              return this.textInput.isFocused();\n            };\n\n            this.blur = function () {\n              this.textInput.blur();\n            };\n\n            this.onFocus = function (e) {\n              if (this.$isFocused) return;\n              this.$isFocused = true;\n              this.renderer.showCursor();\n              this.renderer.visualizeFocus();\n\n              this._emit(\"focus\", e);\n            };\n\n            this.onBlur = function (e) {\n              if (!this.$isFocused) return;\n              this.$isFocused = false;\n              this.renderer.hideCursor();\n              this.renderer.visualizeBlur();\n\n              this._emit(\"blur\", e);\n            };\n\n            this.$cursorChange = function () {\n              this.renderer.updateCursor();\n            };\n\n            this.onDocumentChange = function (delta) {\n              var wrap = this.session.$useWrapMode;\n              var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;\n              this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n              this._signal(\"change\", delta);\n\n              this.$cursorChange();\n              this.$updateHighlightActiveLine();\n            };\n\n            this.onTokenizerUpdate = function (e) {\n              var rows = e.data;\n              this.renderer.updateLines(rows.first, rows.last);\n            };\n\n            this.onScrollTopChange = function () {\n              this.renderer.scrollToY(this.session.getScrollTop());\n            };\n\n            this.onScrollLeftChange = function () {\n              this.renderer.scrollToX(this.session.getScrollLeft());\n            };\n\n            this.onCursorChange = function () {\n              this.$cursorChange();\n              this.$highlightBrackets();\n              this.$highlightTags();\n              this.$updateHighlightActiveLine();\n\n              this._signal(\"changeSelection\");\n            };\n\n            this.$updateHighlightActiveLine = function () {\n              var session = this.getSession();\n              var highlight;\n\n              if (this.$highlightActiveLine) {\n                if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine()) highlight = this.getCursorPosition();\n                if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty()) highlight = false;\n                if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1)) highlight = false;\n              }\n\n              if (session.$highlightLineMarker && !highlight) {\n                session.removeMarker(session.$highlightLineMarker.id);\n                session.$highlightLineMarker = null;\n              } else if (!session.$highlightLineMarker && highlight) {\n                var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n                range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n                session.$highlightLineMarker = range;\n              } else if (highlight) {\n                session.$highlightLineMarker.start.row = highlight.row;\n                session.$highlightLineMarker.end.row = highlight.row;\n                session.$highlightLineMarker.start.column = highlight.column;\n\n                session._signal(\"changeBackMarker\");\n              }\n            };\n\n            this.onSelectionChange = function (e) {\n              var session = this.session;\n\n              if (session.$selectionMarker) {\n                session.removeMarker(session.$selectionMarker);\n              }\n\n              session.$selectionMarker = null;\n\n              if (!this.selection.isEmpty()) {\n                var range = this.selection.getRange();\n                var style = this.getSelectionStyle();\n                session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n              } else {\n                this.$updateHighlightActiveLine();\n              }\n\n              var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n              this.session.highlight(re);\n\n              this._signal(\"changeSelection\");\n            };\n\n            this.$getSelectionHighLightRegexp = function () {\n              var session = this.session;\n              var selection = this.getSelectionRange();\n              if (selection.isEmpty() || selection.isMultiLine()) return;\n              var startColumn = selection.start.column;\n              var endColumn = selection.end.column;\n              var line = session.getLine(selection.start.row);\n              var needle = line.substring(startColumn, endColumn);\n              if (needle.length > 5000 || !/[\\w\\d]/.test(needle)) return;\n              var re = this.$search.$assembleRegExp({\n                wholeWord: true,\n                caseSensitive: true,\n                needle: needle\n              });\n              var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n              if (!re.test(wordWithBoundary)) return;\n              return re;\n            };\n\n            this.onChangeFrontMarker = function () {\n              this.renderer.updateFrontMarkers();\n            };\n\n            this.onChangeBackMarker = function () {\n              this.renderer.updateBackMarkers();\n            };\n\n            this.onChangeBreakpoint = function () {\n              this.renderer.updateBreakpoints();\n            };\n\n            this.onChangeAnnotation = function () {\n              this.renderer.setAnnotations(this.session.getAnnotations());\n            };\n\n            this.onChangeMode = function (e) {\n              this.renderer.updateText();\n\n              this._emit(\"changeMode\", e);\n            };\n\n            this.onChangeWrapLimit = function () {\n              this.renderer.updateFull();\n            };\n\n            this.onChangeWrapMode = function () {\n              this.renderer.onResize(true);\n            };\n\n            this.onChangeFold = function () {\n              this.$updateHighlightActiveLine();\n              this.renderer.updateFull();\n            };\n\n            this.getSelectedText = function () {\n              return this.session.getTextRange(this.getSelectionRange());\n            };\n\n            this.getCopyText = function () {\n              var text = this.getSelectedText();\n              var nl = this.session.doc.getNewLineCharacter();\n              var copyLine = false;\n\n              if (!text && this.$copyWithEmptySelection) {\n                copyLine = true;\n                var ranges = this.selection.getAllRanges();\n\n                for (var i = 0; i < ranges.length; i++) {\n                  var range = ranges[i];\n                  if (i && ranges[i - 1].start.row == range.start.row) continue;\n                  text += this.session.getLine(range.start.row) + nl;\n                }\n              }\n\n              var e = {\n                text: text\n              };\n\n              this._signal(\"copy\", e);\n\n              clipboard.lineMode = copyLine ? e.text : \"\";\n              return e.text;\n            };\n\n            this.onCopy = function () {\n              this.commands.exec(\"copy\", this);\n            };\n\n            this.onCut = function () {\n              this.commands.exec(\"cut\", this);\n            };\n\n            this.onPaste = function (text, event) {\n              var e = {\n                text: text,\n                event: event\n              };\n              this.commands.exec(\"paste\", this, e);\n            };\n\n            this.$handlePaste = function (e) {\n              if (typeof e == \"string\") e = {\n                text: e\n              };\n\n              this._signal(\"paste\", e);\n\n              var text = e.text;\n              var lineMode = text == clipboard.lineMode;\n              var session = this.session;\n\n              if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n                if (lineMode) session.insert({\n                  row: this.selection.lead.row,\n                  column: 0\n                }, text);else this.insert(text);\n              } else if (lineMode) {\n                this.selection.rangeList.ranges.forEach(function (range) {\n                  session.insert({\n                    row: range.start.row,\n                    column: 0\n                  }, text);\n                });\n              } else {\n                var lines = text.split(/\\r\\n|\\r|\\n/);\n                var ranges = this.selection.rangeList.ranges;\n                var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n                if (lines.length != ranges.length || isFullLine) return this.commands.exec(\"insertstring\", this, text);\n\n                for (var i = ranges.length; i--;) {\n                  var range = ranges[i];\n                  if (!range.isEmpty()) session.remove(range);\n                  session.insert(range.start, lines[i]);\n                }\n              }\n            };\n\n            this.execCommand = function (command, args) {\n              return this.commands.exec(command, this, args);\n            };\n\n            this.insert = function (text, pasted) {\n              var session = this.session;\n              var mode = session.getMode();\n              var cursor = this.getCursorPosition();\n\n              if (this.getBehavioursEnabled() && !pasted) {\n                var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n\n                if (transform) {\n                  if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                      this.session.mergeUndoDeltas = false;\n                      this.mergeNextCommand = false;\n                    }\n                  }\n\n                  text = transform.text;\n                }\n              }\n\n              if (text == \"\\t\") text = this.session.getTabString();\n\n              if (!this.selection.isEmpty()) {\n                var range = this.getSelectionRange();\n                cursor = this.session.remove(range);\n                this.clearSelection();\n              } else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n                var range = new Range.fromPoints(cursor, cursor);\n                range.end.column += text.length;\n                this.session.remove(range);\n              }\n\n              if (text == \"\\n\" || text == \"\\r\\n\") {\n                var line = session.getLine(cursor.row);\n\n                if (cursor.column > line.search(/\\S|$/)) {\n                  var d = line.substr(cursor.column).search(/\\S|$/);\n                  session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n                }\n              }\n\n              this.clearSelection();\n              var start = cursor.column;\n              var lineState = session.getState(cursor.row);\n              var line = session.getLine(cursor.row);\n              var shouldOutdent = mode.checkOutdent(lineState, line, text);\n              session.insert(cursor, text);\n\n              if (transform && transform.selection) {\n                if (transform.selection.length == 2) {\n                  // Transform relative to the current column\n                  this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n                } else {\n                  // Transform relative to the current row.\n                  this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n                }\n              }\n\n              if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n                session.insert({\n                  row: cursor.row + 1,\n                  column: 0\n                }, lineIndent);\n              }\n\n              if (shouldOutdent) mode.autoOutdent(lineState, session, cursor.row);\n            };\n\n            this.onTextInput = function (text, composition) {\n              if (!composition) return this.keyBinding.onTextInput(text);\n              this.startOperation({\n                command: {\n                  name: \"insertstring\"\n                }\n              });\n              var applyComposition = this.applyComposition.bind(this, text, composition);\n              if (this.selection.rangeCount) this.forEachSelection(applyComposition);else applyComposition();\n              this.endOperation();\n            };\n\n            this.applyComposition = function (text, composition) {\n              if (composition.extendLeft || composition.extendRight) {\n                var r = this.selection.getRange();\n                r.start.column -= composition.extendLeft;\n                r.end.column += composition.extendRight;\n                this.selection.setRange(r);\n                if (!text && !r.isEmpty()) this.remove();\n              }\n\n              if (text || !this.selection.isEmpty()) this.insert(text, true);\n\n              if (composition.restoreStart || composition.restoreEnd) {\n                var r = this.selection.getRange();\n                r.start.column -= composition.restoreStart;\n                r.end.column -= composition.restoreEnd;\n                this.selection.setRange(r);\n              }\n            };\n\n            this.onCommandKey = function (e, hashId, keyCode) {\n              return this.keyBinding.onCommandKey(e, hashId, keyCode);\n            };\n\n            this.setOverwrite = function (overwrite) {\n              this.session.setOverwrite(overwrite);\n            };\n\n            this.getOverwrite = function () {\n              return this.session.getOverwrite();\n            };\n\n            this.toggleOverwrite = function () {\n              this.session.toggleOverwrite();\n            };\n\n            this.setScrollSpeed = function (speed) {\n              this.setOption(\"scrollSpeed\", speed);\n            };\n\n            this.getScrollSpeed = function () {\n              return this.getOption(\"scrollSpeed\");\n            };\n\n            this.setDragDelay = function (dragDelay) {\n              this.setOption(\"dragDelay\", dragDelay);\n            };\n\n            this.getDragDelay = function () {\n              return this.getOption(\"dragDelay\");\n            };\n\n            this.setSelectionStyle = function (val) {\n              this.setOption(\"selectionStyle\", val);\n            };\n\n            this.getSelectionStyle = function () {\n              return this.getOption(\"selectionStyle\");\n            };\n\n            this.setHighlightActiveLine = function (shouldHighlight) {\n              this.setOption(\"highlightActiveLine\", shouldHighlight);\n            };\n\n            this.getHighlightActiveLine = function () {\n              return this.getOption(\"highlightActiveLine\");\n            };\n\n            this.setHighlightGutterLine = function (shouldHighlight) {\n              this.setOption(\"highlightGutterLine\", shouldHighlight);\n            };\n\n            this.getHighlightGutterLine = function () {\n              return this.getOption(\"highlightGutterLine\");\n            };\n\n            this.setHighlightSelectedWord = function (shouldHighlight) {\n              this.setOption(\"highlightSelectedWord\", shouldHighlight);\n            };\n\n            this.getHighlightSelectedWord = function () {\n              return this.$highlightSelectedWord;\n            };\n\n            this.setAnimatedScroll = function (shouldAnimate) {\n              this.renderer.setAnimatedScroll(shouldAnimate);\n            };\n\n            this.getAnimatedScroll = function () {\n              return this.renderer.getAnimatedScroll();\n            };\n\n            this.setShowInvisibles = function (showInvisibles) {\n              this.renderer.setShowInvisibles(showInvisibles);\n            };\n\n            this.getShowInvisibles = function () {\n              return this.renderer.getShowInvisibles();\n            };\n\n            this.setDisplayIndentGuides = function (display) {\n              this.renderer.setDisplayIndentGuides(display);\n            };\n\n            this.getDisplayIndentGuides = function () {\n              return this.renderer.getDisplayIndentGuides();\n            };\n\n            this.setShowPrintMargin = function (showPrintMargin) {\n              this.renderer.setShowPrintMargin(showPrintMargin);\n            };\n\n            this.getShowPrintMargin = function () {\n              return this.renderer.getShowPrintMargin();\n            };\n\n            this.setPrintMarginColumn = function (showPrintMargin) {\n              this.renderer.setPrintMarginColumn(showPrintMargin);\n            };\n\n            this.getPrintMarginColumn = function () {\n              return this.renderer.getPrintMarginColumn();\n            };\n\n            this.setReadOnly = function (readOnly) {\n              this.setOption(\"readOnly\", readOnly);\n            };\n\n            this.getReadOnly = function () {\n              return this.getOption(\"readOnly\");\n            };\n\n            this.setBehavioursEnabled = function (enabled) {\n              this.setOption(\"behavioursEnabled\", enabled);\n            };\n\n            this.getBehavioursEnabled = function () {\n              return this.getOption(\"behavioursEnabled\");\n            };\n\n            this.setWrapBehavioursEnabled = function (enabled) {\n              this.setOption(\"wrapBehavioursEnabled\", enabled);\n            };\n\n            this.getWrapBehavioursEnabled = function () {\n              return this.getOption(\"wrapBehavioursEnabled\");\n            };\n\n            this.setShowFoldWidgets = function (show) {\n              this.setOption(\"showFoldWidgets\", show);\n            };\n\n            this.getShowFoldWidgets = function () {\n              return this.getOption(\"showFoldWidgets\");\n            };\n\n            this.setFadeFoldWidgets = function (fade) {\n              this.setOption(\"fadeFoldWidgets\", fade);\n            };\n\n            this.getFadeFoldWidgets = function () {\n              return this.getOption(\"fadeFoldWidgets\");\n            };\n\n            this.remove = function (dir) {\n              if (this.selection.isEmpty()) {\n                if (dir == \"left\") this.selection.selectLeft();else this.selection.selectRight();\n              }\n\n              var range = this.getSelectionRange();\n\n              if (this.getBehavioursEnabled()) {\n                var session = this.session;\n                var state = session.getState(range.start.row);\n                var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n                if (range.end.column === 0) {\n                  var text = session.getTextRange(range);\n\n                  if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n\n                    if (/^\\s+$/.test(line)) {\n                      range.end.column = line.length;\n                    }\n                  }\n                }\n\n                if (new_range) range = new_range;\n              }\n\n              this.session.remove(range);\n              this.clearSelection();\n            };\n\n            this.removeWordRight = function () {\n              if (this.selection.isEmpty()) this.selection.selectWordRight();\n              this.session.remove(this.getSelectionRange());\n              this.clearSelection();\n            };\n\n            this.removeWordLeft = function () {\n              if (this.selection.isEmpty()) this.selection.selectWordLeft();\n              this.session.remove(this.getSelectionRange());\n              this.clearSelection();\n            };\n\n            this.removeToLineStart = function () {\n              if (this.selection.isEmpty()) this.selection.selectLineStart();\n              if (this.selection.isEmpty()) this.selection.selectLeft();\n              this.session.remove(this.getSelectionRange());\n              this.clearSelection();\n            };\n\n            this.removeToLineEnd = function () {\n              if (this.selection.isEmpty()) this.selection.selectLineEnd();\n              var range = this.getSelectionRange();\n\n              if (range.start.column == range.end.column && range.start.row == range.end.row) {\n                range.end.column = 0;\n                range.end.row++;\n              }\n\n              this.session.remove(range);\n              this.clearSelection();\n            };\n\n            this.splitLine = function () {\n              if (!this.selection.isEmpty()) {\n                this.session.remove(this.getSelectionRange());\n                this.clearSelection();\n              }\n\n              var cursor = this.getCursorPosition();\n              this.insert(\"\\n\");\n              this.moveCursorToPosition(cursor);\n            };\n\n            this.transposeLetters = function () {\n              if (!this.selection.isEmpty()) {\n                return;\n              }\n\n              var cursor = this.getCursorPosition();\n              var column = cursor.column;\n              if (column === 0) return;\n              var line = this.session.getLine(cursor.row);\n              var swap, range;\n\n              if (column < line.length) {\n                swap = line.charAt(column) + line.charAt(column - 1);\n                range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n              } else {\n                swap = line.charAt(column - 1) + line.charAt(column - 2);\n                range = new Range(cursor.row, column - 2, cursor.row, column);\n              }\n\n              this.session.replace(range, swap);\n              this.session.selection.moveToPosition(range.end);\n            };\n\n            this.toLowerCase = function () {\n              var originalRange = this.getSelectionRange();\n\n              if (this.selection.isEmpty()) {\n                this.selection.selectWord();\n              }\n\n              var range = this.getSelectionRange();\n              var text = this.session.getTextRange(range);\n              this.session.replace(range, text.toLowerCase());\n              this.selection.setSelectionRange(originalRange);\n            };\n\n            this.toUpperCase = function () {\n              var originalRange = this.getSelectionRange();\n\n              if (this.selection.isEmpty()) {\n                this.selection.selectWord();\n              }\n\n              var range = this.getSelectionRange();\n              var text = this.session.getTextRange(range);\n              this.session.replace(range, text.toUpperCase());\n              this.selection.setSelectionRange(originalRange);\n            };\n\n            this.indent = function () {\n              var session = this.session;\n              var range = this.getSelectionRange();\n\n              if (range.start.row < range.end.row) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n              } else if (range.start.column < range.end.column) {\n                var text = session.getTextRange(range);\n\n                if (!/^\\s+$/.test(text)) {\n                  var rows = this.$getSelectedRows();\n                  session.indentRows(rows.first, rows.last, \"\\t\");\n                  return;\n                }\n              }\n\n              var line = session.getLine(range.start.row);\n              var position = range.start;\n              var size = session.getTabSize();\n              var column = session.documentToScreenColumn(position.row, position.column);\n\n              if (this.session.getUseSoftTabs()) {\n                var count = size - column % size;\n                var indentString = lang.stringRepeat(\" \", count);\n              } else {\n                var count = column % size;\n\n                while (line[range.start.column - 1] == \" \" && count) {\n                  range.start.column--;\n                  count--;\n                }\n\n                this.selection.setSelectionRange(range);\n                indentString = \"\\t\";\n              }\n\n              return this.insert(indentString);\n            };\n\n            this.blockIndent = function () {\n              var rows = this.$getSelectedRows();\n              this.session.indentRows(rows.first, rows.last, \"\\t\");\n            };\n\n            this.blockOutdent = function () {\n              var selection = this.session.getSelection();\n              this.session.outdentRows(selection.getRange());\n            };\n\n            this.sortLines = function () {\n              var rows = this.$getSelectedRows();\n              var session = this.session;\n              var lines = [];\n\n              for (var i = rows.first; i <= rows.last; i++) {\n                lines.push(session.getLine(i));\n              }\n\n              lines.sort(function (a, b) {\n                if (a.toLowerCase() < b.toLowerCase()) return -1;\n                if (a.toLowerCase() > b.toLowerCase()) return 1;\n                return 0;\n              });\n              var deleteRange = new Range(0, 0, 0, 0);\n\n              for (var i = rows.first; i <= rows.last; i++) {\n                var line = session.getLine(i);\n                deleteRange.start.row = i;\n                deleteRange.end.row = i;\n                deleteRange.end.column = line.length;\n                session.replace(deleteRange, lines[i - rows.first]);\n              }\n            };\n\n            this.toggleCommentLines = function () {\n              var state = this.session.getState(this.getCursorPosition().row);\n              var rows = this.$getSelectedRows();\n              this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n            };\n\n            this.toggleBlockComment = function () {\n              var cursor = this.getCursorPosition();\n              var state = this.session.getState(cursor.row);\n              var range = this.getSelectionRange();\n              this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n            };\n\n            this.getNumberAt = function (row, column) {\n              var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n              _numberRx.lastIndex = 0;\n              var s = this.session.getLine(row);\n\n              while (_numberRx.lastIndex < column) {\n                var m = _numberRx.exec(s);\n\n                if (m.index <= column && m.index + m[0].length >= column) {\n                  var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index + m[0].length\n                  };\n                  return number;\n                }\n              }\n\n              return null;\n            };\n\n            this.modifyNumber = function (amount) {\n              var row = this.selection.getCursor().row;\n              var column = this.selection.getCursor().column;\n              var charRange = new Range(row, column - 1, row, column);\n              var c = this.session.getTextRange(charRange);\n\n              if (!isNaN(parseFloat(c)) && isFinite(c)) {\n                var nr = this.getNumberAt(row, column);\n\n                if (nr) {\n                  var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                  var decimals = nr.start + nr.value.length - fp;\n                  var t = parseFloat(nr.value);\n                  t *= Math.pow(10, decimals);\n\n                  if (fp !== nr.end && column < fp) {\n                    amount *= Math.pow(10, nr.end - column - 1);\n                  } else {\n                    amount *= Math.pow(10, nr.end - column);\n                  }\n\n                  t += amount;\n                  t /= Math.pow(10, decimals);\n                  var nnr = t.toFixed(decimals);\n                  var replaceRange = new Range(row, nr.start, row, nr.end);\n                  this.session.replace(replaceRange, nnr);\n                  this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n                }\n              } else {\n                this.toggleWord();\n              }\n            };\n\n            this.$toggleWordPairs = [[\"first\", \"last\"], [\"true\", \"false\"], [\"yes\", \"no\"], [\"width\", \"height\"], [\"top\", \"bottom\"], [\"right\", \"left\"], [\"on\", \"off\"], [\"x\", \"y\"], [\"get\", \"set\"], [\"max\", \"min\"], [\"horizontal\", \"vertical\"], [\"show\", \"hide\"], [\"add\", \"remove\"], [\"up\", \"down\"], [\"before\", \"after\"], [\"even\", \"odd\"], [\"in\", \"out\"], [\"inside\", \"outside\"], [\"next\", \"previous\"], [\"increase\", \"decrease\"], [\"attach\", \"detach\"], [\"&&\", \"||\"], [\"==\", \"!=\"]];\n\n            this.toggleWord = function () {\n              var row = this.selection.getCursor().row;\n              var column = this.selection.getCursor().column;\n              this.selection.selectWord();\n              var currentState = this.getSelectedText();\n              var currWordStart = this.selection.getWordRange().start.column;\n              var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n              var delta = column - currWordStart - 1;\n              if (delta < 0) delta = 0;\n              var curLength = 0,\n                  itLength = 0;\n              var that = this;\n\n              if (currentState.match(/[A-Za-z0-9_]+/)) {\n                wordParts.forEach(function (item, i) {\n                  itLength = curLength + item.length;\n\n                  if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                  }\n\n                  curLength = itLength;\n                });\n              }\n\n              var wordPairs = this.$toggleWordPairs;\n              var reg;\n\n              for (var i = 0; i < wordPairs.length; i++) {\n                var item = wordPairs[i];\n\n                for (var j = 0; j <= 1; j++) {\n                  var negate = +!j;\n                  var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n\n                  if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n\n                    if (secondCondition) {\n                      reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                        var res = item[negate];\n\n                        if (result.toUpperCase() == result) {\n                          res = res.toUpperCase();\n                        } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                          res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                        }\n\n                        return res;\n                      });\n                      this.insert(reg);\n                      reg = \"\";\n                    }\n                  }\n                }\n              }\n            };\n\n            this.removeLines = function () {\n              var rows = this.$getSelectedRows();\n              this.session.removeFullLines(rows.first, rows.last);\n              this.clearSelection();\n            };\n\n            this.duplicateSelection = function () {\n              var sel = this.selection;\n              var doc = this.session;\n              var range = sel.getRange();\n              var reverse = sel.isBackwards();\n\n              if (range.isEmpty()) {\n                var row = range.start.row;\n                doc.duplicateLines(row, row);\n              } else {\n                var point = reverse ? range.start : range.end;\n                var endPoint = doc.insert(point, doc.getTextRange(range), false);\n                range.start = point;\n                range.end = endPoint;\n                sel.setSelectionRange(range, reverse);\n              }\n            };\n\n            this.moveLinesDown = function () {\n              this.$moveLines(1, false);\n            };\n\n            this.moveLinesUp = function () {\n              this.$moveLines(-1, false);\n            };\n\n            this.moveText = function (range, toPosition, copy) {\n              return this.session.moveText(range, toPosition, copy);\n            };\n\n            this.copyLinesUp = function () {\n              this.$moveLines(-1, true);\n            };\n\n            this.copyLinesDown = function () {\n              this.$moveLines(1, true);\n            };\n\n            this.$moveLines = function (dir, copy) {\n              var rows, moved;\n              var selection = this.selection;\n\n              if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n                var range = selection.toOrientedRange();\n                rows = this.$getSelectedRows(range);\n                moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n                if (copy && dir == -1) moved = 0;\n                range.moveBy(moved, 0);\n                selection.fromOrientedRange(range);\n              } else {\n                var ranges = selection.rangeList.ranges;\n                selection.rangeList.detach(this.session);\n                this.inVirtualSelectionMode = true;\n                var diff = 0;\n                var totalDiff = 0;\n                var l = ranges.length;\n\n                for (var i = 0; i < l; i++) {\n                  var rangeIndex = i;\n                  ranges[i].moveBy(diff, 0);\n                  rows = this.$getSelectedRows(ranges[i]);\n                  var first = rows.first;\n                  var last = rows.last;\n\n                  while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last) break;else if (!copy && subRows.first > last + 1) break;\n                    last = subRows.last;\n                  }\n\n                  i--;\n                  diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                  if (copy && dir == -1) rangeIndex = i + 1;\n\n                  while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                  }\n\n                  if (!copy) diff = 0;\n                  totalDiff += diff;\n                }\n\n                selection.fromOrientedRange(selection.ranges[0]);\n                selection.rangeList.attach(this.session);\n                this.inVirtualSelectionMode = false;\n              }\n            };\n\n            this.$getSelectedRows = function (range) {\n              range = (range || this.getSelectionRange()).collapseRows();\n              return {\n                first: this.session.getRowFoldStart(range.start.row),\n                last: this.session.getRowFoldEnd(range.end.row)\n              };\n            };\n\n            this.onCompositionStart = function (compositionState) {\n              this.renderer.showComposition(compositionState);\n            };\n\n            this.onCompositionUpdate = function (text) {\n              this.renderer.setCompositionText(text);\n            };\n\n            this.onCompositionEnd = function () {\n              this.renderer.hideComposition();\n            };\n\n            this.getFirstVisibleRow = function () {\n              return this.renderer.getFirstVisibleRow();\n            };\n\n            this.getLastVisibleRow = function () {\n              return this.renderer.getLastVisibleRow();\n            };\n\n            this.isRowVisible = function (row) {\n              return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();\n            };\n\n            this.isRowFullyVisible = function (row) {\n              return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();\n            };\n\n            this.$getVisibleRowCount = function () {\n              return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n            };\n\n            this.$moveByPage = function (dir, select) {\n              var renderer = this.renderer;\n              var config = this.renderer.layerConfig;\n              var rows = dir * Math.floor(config.height / config.lineHeight);\n\n              if (select === true) {\n                this.selection.$moveSelection(function () {\n                  this.moveCursorBy(rows, 0);\n                });\n              } else if (select === false) {\n                this.selection.moveCursorBy(rows, 0);\n                this.selection.clearSelection();\n              }\n\n              var scrollTop = renderer.scrollTop;\n              renderer.scrollBy(0, rows * config.lineHeight);\n              if (select != null) renderer.scrollCursorIntoView(null, 0.5);\n              renderer.animateScrolling(scrollTop);\n            };\n\n            this.selectPageDown = function () {\n              this.$moveByPage(1, true);\n            };\n\n            this.selectPageUp = function () {\n              this.$moveByPage(-1, true);\n            };\n\n            this.gotoPageDown = function () {\n              this.$moveByPage(1, false);\n            };\n\n            this.gotoPageUp = function () {\n              this.$moveByPage(-1, false);\n            };\n\n            this.scrollPageDown = function () {\n              this.$moveByPage(1);\n            };\n\n            this.scrollPageUp = function () {\n              this.$moveByPage(-1);\n            };\n\n            this.scrollToRow = function (row) {\n              this.renderer.scrollToRow(row);\n            };\n\n            this.scrollToLine = function (line, center, animate, callback) {\n              this.renderer.scrollToLine(line, center, animate, callback);\n            };\n\n            this.centerSelection = function () {\n              var range = this.getSelectionRange();\n              var pos = {\n                row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n                column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n              };\n              this.renderer.alignCursor(pos, 0.5);\n            };\n\n            this.getCursorPosition = function () {\n              return this.selection.getCursor();\n            };\n\n            this.getCursorPositionScreen = function () {\n              return this.session.documentToScreenPosition(this.getCursorPosition());\n            };\n\n            this.getSelectionRange = function () {\n              return this.selection.getRange();\n            };\n\n            this.selectAll = function () {\n              this.selection.selectAll();\n            };\n\n            this.clearSelection = function () {\n              this.selection.clearSelection();\n            };\n\n            this.moveCursorTo = function (row, column) {\n              this.selection.moveCursorTo(row, column);\n            };\n\n            this.moveCursorToPosition = function (pos) {\n              this.selection.moveCursorToPosition(pos);\n            };\n\n            this.jumpToMatching = function (select, expand) {\n              var cursor = this.getCursorPosition();\n              var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n              var prevToken = iterator.getCurrentToken();\n              var token = prevToken || iterator.stepForward();\n              if (!token) return;\n              var matchType;\n              var found = false;\n              var depth = {};\n              var i = cursor.column - token.start;\n              var bracketType;\n              var brackets = {\n                \")\": \"(\",\n                \"(\": \"(\",\n                \"]\": \"[\",\n                \"[\": \"[\",\n                \"{\": \"{\",\n                \"}\": \"{\"\n              };\n\n              do {\n                if (token.value.match(/[{}()\\[\\]]/g)) {\n                  for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                      continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                      depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                      case '(':\n                      case '[':\n                      case '{':\n                        depth[bracketType]++;\n                        break;\n\n                      case ')':\n                      case ']':\n                      case '}':\n                        depth[bracketType]--;\n\n                        if (depth[bracketType] === -1) {\n                          matchType = 'bracket';\n                          found = true;\n                        }\n\n                        break;\n                    }\n                  }\n                } else if (token.type.indexOf('tag-name') !== -1) {\n                  if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                  }\n\n                  if (prevToken.value === '<') {\n                    depth[token.value]++;\n                  } else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                  }\n\n                  if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                  }\n                }\n\n                if (!found) {\n                  prevToken = token;\n                  token = iterator.stepForward();\n                  i = 0;\n                }\n              } while (token && !found);\n\n              if (!matchType) return;\n              var range, pos;\n\n              if (matchType === 'bracket') {\n                range = this.session.getBracketRange(cursor);\n\n                if (!range) {\n                  range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                  pos = range.start;\n                  if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2) range = this.session.getBracketRange(pos);\n                }\n              } else if (matchType === 'tag') {\n                if (token && token.type.indexOf('tag-name') !== -1) var tag = token.value;else return;\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n\n                if (range.compare(cursor.row, cursor.column) === 0) {\n                  found = false;\n\n                  do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (prevToken) {\n                      if (prevToken.type.indexOf('tag-close') !== -1) {\n                        range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                      }\n\n                      if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<') {\n                          depth[tag]++;\n                        } else if (prevToken.value === '</') {\n                          depth[tag]--;\n                        }\n\n                        if (depth[tag] === 0) found = true;\n                      }\n                    }\n                  } while (prevToken && !found);\n                }\n\n                if (token && token.type.indexOf('tag-name')) {\n                  pos = range.start;\n                  if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2) pos = range.end;\n                }\n              }\n\n              pos = range && range.cursor || pos;\n\n              if (pos) {\n                if (select) {\n                  if (range && expand) {\n                    this.selection.setRange(range);\n                  } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                  } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                  }\n                } else {\n                  this.selection.moveTo(pos.row, pos.column);\n                }\n              }\n            };\n\n            this.gotoLine = function (lineNumber, column, animate) {\n              this.selection.clearSelection();\n              this.session.unfold({\n                row: lineNumber - 1,\n                column: column || 0\n              });\n              this.exitMultiSelectMode && this.exitMultiSelectMode();\n              this.moveCursorTo(lineNumber - 1, column || 0);\n              if (!this.isRowFullyVisible(lineNumber - 1)) this.scrollToLine(lineNumber - 1, true, animate);\n            };\n\n            this.navigateTo = function (row, column) {\n              this.selection.moveTo(row, column);\n            };\n\n            this.navigateUp = function (times) {\n              if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n                var selectionStart = this.selection.anchor.getPosition();\n                return this.moveCursorToPosition(selectionStart);\n              }\n\n              this.selection.clearSelection();\n              this.selection.moveCursorBy(-times || -1, 0);\n            };\n\n            this.navigateDown = function (times) {\n              if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n                var selectionEnd = this.selection.anchor.getPosition();\n                return this.moveCursorToPosition(selectionEnd);\n              }\n\n              this.selection.clearSelection();\n              this.selection.moveCursorBy(times || 1, 0);\n            };\n\n            this.navigateLeft = function (times) {\n              if (!this.selection.isEmpty()) {\n                var selectionStart = this.getSelectionRange().start;\n                this.moveCursorToPosition(selectionStart);\n              } else {\n                times = times || 1;\n\n                while (times--) {\n                  this.selection.moveCursorLeft();\n                }\n              }\n\n              this.clearSelection();\n            };\n\n            this.navigateRight = function (times) {\n              if (!this.selection.isEmpty()) {\n                var selectionEnd = this.getSelectionRange().end;\n                this.moveCursorToPosition(selectionEnd);\n              } else {\n                times = times || 1;\n\n                while (times--) {\n                  this.selection.moveCursorRight();\n                }\n              }\n\n              this.clearSelection();\n            };\n\n            this.navigateLineStart = function () {\n              this.selection.moveCursorLineStart();\n              this.clearSelection();\n            };\n\n            this.navigateLineEnd = function () {\n              this.selection.moveCursorLineEnd();\n              this.clearSelection();\n            };\n\n            this.navigateFileEnd = function () {\n              this.selection.moveCursorFileEnd();\n              this.clearSelection();\n            };\n\n            this.navigateFileStart = function () {\n              this.selection.moveCursorFileStart();\n              this.clearSelection();\n            };\n\n            this.navigateWordRight = function () {\n              this.selection.moveCursorWordRight();\n              this.clearSelection();\n            };\n\n            this.navigateWordLeft = function () {\n              this.selection.moveCursorWordLeft();\n              this.clearSelection();\n            };\n\n            this.replace = function (replacement, options) {\n              if (options) this.$search.set(options);\n              var range = this.$search.find(this.session);\n              var replaced = 0;\n              if (!range) return replaced;\n\n              if (this.$tryReplace(range, replacement)) {\n                replaced = 1;\n              }\n\n              this.selection.setSelectionRange(range);\n              this.renderer.scrollSelectionIntoView(range.start, range.end);\n              return replaced;\n            };\n\n            this.replaceAll = function (replacement, options) {\n              if (options) {\n                this.$search.set(options);\n              }\n\n              var ranges = this.$search.findAll(this.session);\n              var replaced = 0;\n              if (!ranges.length) return replaced;\n              var selection = this.getSelectionRange();\n              this.selection.moveTo(0, 0);\n\n              for (var i = ranges.length - 1; i >= 0; --i) {\n                if (this.$tryReplace(ranges[i], replacement)) {\n                  replaced++;\n                }\n              }\n\n              this.selection.setSelectionRange(selection);\n              return replaced;\n            };\n\n            this.$tryReplace = function (range, replacement) {\n              var input = this.session.getTextRange(range);\n              replacement = this.$search.replace(input, replacement);\n\n              if (replacement !== null) {\n                range.end = this.session.replace(range, replacement);\n                return range;\n              } else {\n                return null;\n              }\n            };\n\n            this.getLastSearchOptions = function () {\n              return this.$search.getOptions();\n            };\n\n            this.find = function (needle, options, animate) {\n              if (!options) options = {};\n              if (typeof needle == \"string\" || needle instanceof RegExp) options.needle = needle;else if (typeof needle == \"object\") oop.mixin(options, needle);\n              var range = this.selection.getRange();\n\n              if (options.needle == null) {\n                needle = this.session.getTextRange(range) || this.$search.$options.needle;\n\n                if (!needle) {\n                  range = this.session.getWordRange(range.start.row, range.start.column);\n                  needle = this.session.getTextRange(range);\n                }\n\n                this.$search.set({\n                  needle: needle\n                });\n              }\n\n              this.$search.set(options);\n              if (!options.start) this.$search.set({\n                start: range\n              });\n              var newRange = this.$search.find(this.session);\n              if (options.preventScroll) return newRange;\n\n              if (newRange) {\n                this.revealRange(newRange, animate);\n                return newRange;\n              }\n\n              if (options.backwards) range.start = range.end;else range.end = range.start;\n              this.selection.setRange(range);\n            };\n\n            this.findNext = function (options, animate) {\n              this.find({\n                skipCurrent: true,\n                backwards: false\n              }, options, animate);\n            };\n\n            this.findPrevious = function (options, animate) {\n              this.find(options, {\n                skipCurrent: true,\n                backwards: true\n              }, animate);\n            };\n\n            this.revealRange = function (range, animate) {\n              this.session.unfold(range);\n              this.selection.setSelectionRange(range);\n              var scrollTop = this.renderer.scrollTop;\n              this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n              if (animate !== false) this.renderer.animateScrolling(scrollTop);\n            };\n\n            this.undo = function () {\n              this.session.getUndoManager().undo(this.session);\n              this.renderer.scrollCursorIntoView(null, 0.5);\n            };\n\n            this.redo = function () {\n              this.session.getUndoManager().redo(this.session);\n              this.renderer.scrollCursorIntoView(null, 0.5);\n            };\n\n            this.destroy = function () {\n              this.renderer.destroy();\n\n              this._signal(\"destroy\", this);\n\n              if (this.session) {\n                this.session.destroy();\n              }\n            };\n\n            this.setAutoScrollEditorIntoView = function (enable) {\n              if (!enable) return;\n              var rect;\n              var self = this;\n              var shouldScroll = false;\n              if (!this.$scrollAnchor) this.$scrollAnchor = document.createElement(\"div\");\n              var scrollAnchor = this.$scrollAnchor;\n              scrollAnchor.style.cssText = \"position:absolute\";\n              this.container.insertBefore(scrollAnchor, this.container.firstChild);\n              var onChangeSelection = this.on(\"changeSelection\", function () {\n                shouldScroll = true;\n              });\n              var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n                if (shouldScroll) rect = self.renderer.container.getBoundingClientRect();\n              });\n              var onAfterRender = this.renderer.on(\"afterRender\", function () {\n                if (shouldScroll && rect && (self.isFocused() || self.searchBox && self.searchBox.isFocused())) {\n                  var renderer = self.renderer;\n                  var pos = renderer.$cursorLayer.$pixelPos;\n                  var config = renderer.layerConfig;\n                  var top = pos.top - config.offset;\n\n                  if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                  } else if (pos.top < config.height && pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                  } else {\n                    shouldScroll = null;\n                  }\n\n                  if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                  }\n\n                  shouldScroll = rect = null;\n                }\n              });\n\n              this.setAutoScrollEditorIntoView = function (enable) {\n                if (enable) return;\n                delete this.setAutoScrollEditorIntoView;\n                this.off(\"changeSelection\", onChangeSelection);\n                this.renderer.off(\"afterRender\", onAfterRender);\n                this.renderer.off(\"beforeRender\", onBeforeRender);\n              };\n            };\n\n            this.$resetCursorStyle = function () {\n              var style = this.$cursorStyle || \"ace\";\n              var cursorLayer = this.renderer.$cursorLayer;\n              if (!cursorLayer) return;\n              cursorLayer.setSmoothBlinking(/smooth/.test(style));\n              cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n              dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n            };\n\n            this.prompt = function (message, options, callback) {\n              var editor = this;\n              config.loadModule(\"./ext/prompt\", function (module) {\n                module.prompt(editor, message, options, callback);\n              });\n            };\n          }).call(Editor.prototype);\n          config.defineOptions(Editor.prototype, \"editor\", {\n            selectionStyle: {\n              set: function set(style) {\n                this.onSelectionChange();\n\n                this._signal(\"changeSelectionStyle\", {\n                  data: style\n                });\n              },\n              initialValue: \"line\"\n            },\n            highlightActiveLine: {\n              set: function set() {\n                this.$updateHighlightActiveLine();\n              },\n              initialValue: true\n            },\n            highlightSelectedWord: {\n              set: function set(shouldHighlight) {\n                this.$onSelectionChange();\n              },\n              initialValue: true\n            },\n            readOnly: {\n              set: function set(readOnly) {\n                this.textInput.setReadOnly(readOnly);\n                this.$resetCursorStyle();\n              },\n              initialValue: false\n            },\n            copyWithEmptySelection: {\n              set: function set(value) {\n                this.textInput.setCopyWithEmptySelection(value);\n              },\n              initialValue: false\n            },\n            cursorStyle: {\n              set: function set(val) {\n                this.$resetCursorStyle();\n              },\n              values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n              initialValue: \"ace\"\n            },\n            mergeUndoDeltas: {\n              values: [false, true, \"always\"],\n              initialValue: true\n            },\n            behavioursEnabled: {\n              initialValue: true\n            },\n            wrapBehavioursEnabled: {\n              initialValue: true\n            },\n            autoScrollEditorIntoView: {\n              set: function set(val) {\n                this.setAutoScrollEditorIntoView(val);\n              }\n            },\n            keyboardHandler: {\n              set: function set(val) {\n                this.setKeyboardHandler(val);\n              },\n              get: function get() {\n                return this.$keybindingId;\n              },\n              handlesSet: true\n            },\n            value: {\n              set: function set(val) {\n                this.session.setValue(val);\n              },\n              get: function get() {\n                return this.getValue();\n              },\n              handlesSet: true,\n              hidden: true\n            },\n            session: {\n              set: function set(val) {\n                this.setSession(val);\n              },\n              get: function get() {\n                return this.session;\n              },\n              handlesSet: true,\n              hidden: true\n            },\n            showLineNumbers: {\n              set: function set(show) {\n                this.renderer.$gutterLayer.setShowLineNumbers(show);\n                this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n                if (show && this.$relativeLineNumbers) relativeNumberRenderer.attach(this);else relativeNumberRenderer.detach(this);\n              },\n              initialValue: true\n            },\n            relativeLineNumbers: {\n              set: function set(value) {\n                if (this.$showLineNumbers && value) relativeNumberRenderer.attach(this);else relativeNumberRenderer.detach(this);\n              }\n            },\n            placeholder: {\n              set: function set(message) {\n                if (!this.$updatePlaceholder) {\n                  this.$updatePlaceholder = function () {\n                    var value = this.renderer.$composition || this.getValue();\n\n                    if (value && this.renderer.placeholderNode) {\n                      this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                      dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                      this.renderer.placeholderNode.remove();\n                      this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                      this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                      dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                      var el = dom.createElement(\"div\");\n                      el.className = \"ace_placeholder\";\n                      el.textContent = this.$placeholder || \"\";\n                      this.renderer.placeholderNode = el;\n                      this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                  }.bind(this);\n\n                  this.on(\"input\", this.$updatePlaceholder);\n                }\n\n                this.$updatePlaceholder();\n              }\n            },\n            hScrollBarAlwaysVisible: \"renderer\",\n            vScrollBarAlwaysVisible: \"renderer\",\n            highlightGutterLine: \"renderer\",\n            animatedScroll: \"renderer\",\n            showInvisibles: \"renderer\",\n            showPrintMargin: \"renderer\",\n            printMarginColumn: \"renderer\",\n            printMargin: \"renderer\",\n            fadeFoldWidgets: \"renderer\",\n            showFoldWidgets: \"renderer\",\n            displayIndentGuides: \"renderer\",\n            showGutter: \"renderer\",\n            fontSize: \"renderer\",\n            fontFamily: \"renderer\",\n            maxLines: \"renderer\",\n            minLines: \"renderer\",\n            scrollPastEnd: \"renderer\",\n            fixedWidthGutter: \"renderer\",\n            theme: \"renderer\",\n            hasCssTransforms: \"renderer\",\n            maxPixelHeight: \"renderer\",\n            useTextareaForIME: \"renderer\",\n            scrollSpeed: \"$mouseHandler\",\n            dragDelay: \"$mouseHandler\",\n            dragEnabled: \"$mouseHandler\",\n            focusTimeout: \"$mouseHandler\",\n            tooltipFollowsMouse: \"$mouseHandler\",\n            firstLineNumber: \"session\",\n            overwrite: \"session\",\n            newLineMode: \"session\",\n            useWorker: \"session\",\n            useSoftTabs: \"session\",\n            navigateWithinSoftTabs: \"session\",\n            tabSize: \"session\",\n            wrap: \"session\",\n            indentedSoftWrap: \"session\",\n            foldStyle: \"session\",\n            mode: \"session\"\n          });\n          var relativeNumberRenderer = {\n            getText: function getText(session, row) {\n              return (Math.abs(session.selection.lead.row - row) || row + 1 + (row < 9 ? \"\\xb7\" : \"\")) + \"\";\n            },\n            getWidth: function getWidth(session, lastLineNumber, config) {\n              return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n            },\n            update: function update(e, editor) {\n              editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n            },\n            attach: function attach(editor) {\n              editor.renderer.$gutterLayer.$renderer = this;\n              editor.on(\"changeSelection\", this.update);\n              this.update(null, editor);\n            },\n            detach: function detach(editor) {\n              if (editor.renderer.$gutterLayer.$renderer == this) editor.renderer.$gutterLayer.$renderer = null;\n              editor.off(\"changeSelection\", this.update);\n              this.update(null, editor);\n            }\n          };\n          exports.Editor = Editor;\n        });\n        ace.define(\"ace/undomanager\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var UndoManager = function UndoManager() {\n            this.$maxRev = 0;\n            this.$fromUndo = false;\n            this.reset();\n          };\n\n          (function () {\n            this.addSession = function (session) {\n              this.$session = session;\n            };\n\n            this.add = function (delta, allowMerge, session) {\n              if (this.$fromUndo) return;\n              if (delta == this.$lastDelta) return;\n\n              if (allowMerge === false || !this.lastDeltas) {\n                this.lastDeltas = [];\n                this.$undoStack.push(this.lastDeltas);\n                delta.id = this.$rev = ++this.$maxRev;\n              }\n\n              if (delta.action == \"remove\" || delta.action == \"insert\") this.$lastDelta = delta;\n              this.lastDeltas.push(delta);\n            };\n\n            this.addSelection = function (selection, rev) {\n              this.selections.push({\n                value: selection,\n                rev: rev || this.$rev\n              });\n            };\n\n            this.startNewGroup = function () {\n              this.lastDeltas = null;\n              return this.$rev;\n            };\n\n            this.markIgnored = function (from, to) {\n              if (to == null) to = this.$rev + 1;\n              var stack = this.$undoStack;\n\n              for (var i = stack.length; i--;) {\n                var delta = stack[i][0];\n                if (delta.id <= from) break;\n                if (delta.id < to) delta.ignore = true;\n              }\n\n              this.lastDeltas = null;\n            };\n\n            this.getSelection = function (rev, after) {\n              var stack = this.selections;\n\n              for (var i = stack.length; i--;) {\n                var selection = stack[i];\n\n                if (selection.rev < rev) {\n                  if (after) selection = stack[i + 1];\n                  return selection;\n                }\n              }\n            };\n\n            this.getRevision = function () {\n              return this.$rev;\n            };\n\n            this.getDeltas = function (from, to) {\n              if (to == null) to = this.$rev + 1;\n              var stack = this.$undoStack;\n              var end = null,\n                  start = 0;\n\n              for (var i = stack.length; i--;) {\n                var delta = stack[i][0];\n                if (delta.id < to && !end) end = i + 1;\n\n                if (delta.id <= from) {\n                  start = i + 1;\n                  break;\n                }\n              }\n\n              return stack.slice(start, end);\n            };\n\n            this.getChangedRanges = function (from, to) {\n              if (to == null) to = this.$rev + 1;\n            };\n\n            this.getChangedLines = function (from, to) {\n              if (to == null) to = this.$rev + 1;\n            };\n\n            this.undo = function (session, dontSelect) {\n              this.lastDeltas = null;\n              var stack = this.$undoStack;\n              if (!rearrangeUndoStack(stack, stack.length)) return;\n              if (!session) session = this.$session;\n              if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length) this.$redoStack = [];\n              this.$fromUndo = true;\n              var deltaSet = stack.pop();\n              var undoSelectionRange = null;\n\n              if (deltaSet && deltaSet.length) {\n                undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n                this.$redoStack.push(deltaSet);\n                this.$syncRev();\n              }\n\n              this.$fromUndo = false;\n              return undoSelectionRange;\n            };\n\n            this.redo = function (session, dontSelect) {\n              this.lastDeltas = null;\n              if (!session) session = this.$session;\n              this.$fromUndo = true;\n\n              if (this.$redoStackBaseRev != this.$rev) {\n                var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n                rebaseRedoStack(this.$redoStack, diff);\n                this.$redoStackBaseRev = this.$rev;\n                this.$redoStack.forEach(function (x) {\n                  x[0].id = ++this.$maxRev;\n                }, this);\n              }\n\n              var deltaSet = this.$redoStack.pop();\n              var redoSelectionRange = null;\n\n              if (deltaSet) {\n                redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n                this.$undoStack.push(deltaSet);\n                this.$syncRev();\n              }\n\n              this.$fromUndo = false;\n              return redoSelectionRange;\n            };\n\n            this.$syncRev = function () {\n              var stack = this.$undoStack;\n              var nextDelta = stack[stack.length - 1];\n              var id = nextDelta && nextDelta[0].id || 0;\n              this.$redoStackBaseRev = id;\n              this.$rev = id;\n            };\n\n            this.reset = function () {\n              this.lastDeltas = null;\n              this.$lastDelta = null;\n              this.$undoStack = [];\n              this.$redoStack = [];\n              this.$rev = 0;\n              this.mark = 0;\n              this.$redoStackBaseRev = this.$rev;\n              this.selections = [];\n            };\n\n            this.canUndo = function () {\n              return this.$undoStack.length > 0;\n            };\n\n            this.canRedo = function () {\n              return this.$redoStack.length > 0;\n            };\n\n            this.bookmark = function (rev) {\n              if (rev == undefined) rev = this.$rev;\n              this.mark = rev;\n            };\n\n            this.isAtBookmark = function () {\n              return this.$rev === this.mark;\n            };\n\n            this.toJSON = function () {};\n\n            this.fromJSON = function () {};\n\n            this.hasUndo = this.canUndo;\n            this.hasRedo = this.canRedo;\n            this.isClean = this.isAtBookmark;\n            this.markClean = this.bookmark;\n\n            this.$prettyPrint = function (delta) {\n              if (delta) return stringifyDelta(delta);\n              return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n            };\n          }).call(UndoManager.prototype);\n\n          function rearrangeUndoStack(stack, pos) {\n            for (var i = pos; i--;) {\n              var deltaSet = stack[i];\n\n              if (deltaSet && !deltaSet[0].ignore) {\n                while (i < pos - 1) {\n                  var swapped = swapGroups(stack[i], stack[i + 1]);\n                  stack[i] = swapped[0];\n                  stack[i + 1] = swapped[1];\n                  i++;\n                }\n\n                return true;\n              }\n            }\n          }\n\n          var Range = require(\"./range\").Range;\n\n          var cmp = Range.comparePoints;\n          var comparePoints = Range.comparePoints;\n\n          function $updateMarkers(delta) {\n            var isInsert = delta.action == \"insert\";\n            var start = delta.start;\n            var end = delta.end;\n            var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n            var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n            if (isInsert) end = start;\n\n            for (var i in this.marks) {\n              var point = this.marks[i];\n              var cmp = comparePoints(point, start);\n\n              if (cmp < 0) {\n                continue; // delta starts after the range\n              }\n\n              if (cmp === 0) {\n                if (isInsert) {\n                  if (point.bias == 1) {\n                    cmp = 1;\n                  } else {\n                    point.bias == -1;\n                    continue;\n                  }\n                }\n              }\n\n              var cmp2 = isInsert ? cmp : comparePoints(point, end);\n\n              if (cmp2 > 0) {\n                point.row += rowShift;\n                point.column += point.row == end.row ? colShift : 0;\n                continue;\n              }\n\n              if (!isInsert && cmp2 <= 0) {\n                point.row = start.row;\n                point.column = start.column;\n                if (cmp2 === 0) point.bias = 1;\n              }\n            }\n          }\n\n          function clonePos(pos) {\n            return {\n              row: pos.row,\n              column: pos.column\n            };\n          }\n\n          function cloneDelta(d) {\n            return {\n              start: clonePos(d.start),\n              end: clonePos(d.end),\n              action: d.action,\n              lines: d.lines.slice()\n            };\n          }\n\n          function stringifyDelta(d) {\n            d = d || this;\n\n            if (Array.isArray(d)) {\n              return d.map(stringifyDelta).join(\"\\n\");\n            }\n\n            var type = \"\";\n\n            if (d.action) {\n              type = d.action == \"insert\" ? \"+\" : \"-\";\n              type += \"[\" + d.lines + \"]\";\n            } else if (d.value) {\n              if (Array.isArray(d.value)) {\n                type = d.value.map(stringifyRange).join(\"\\n\");\n              } else {\n                type = stringifyRange(d.value);\n              }\n            }\n\n            if (d.start) {\n              type += stringifyRange(d);\n            }\n\n            if (d.id || d.rev) {\n              type += \"\\t(\" + (d.id || d.rev) + \")\";\n            }\n\n            return type;\n          }\n\n          function stringifyRange(r) {\n            return r.start.row + \":\" + r.start.column + \"=>\" + r.end.row + \":\" + r.end.column;\n          }\n\n          function swap(d1, d2) {\n            var i1 = d1.action == \"insert\";\n            var i2 = d2.action == \"insert\";\n\n            if (i1 && i2) {\n              if (cmp(d2.start, d1.end) >= 0) {\n                shift(d2, d1, -1);\n              } else if (cmp(d2.start, d1.start) <= 0) {\n                shift(d1, d2, +1);\n              } else {\n                return null;\n              }\n            } else if (i1 && !i2) {\n              if (cmp(d2.start, d1.end) >= 0) {\n                shift(d2, d1, -1);\n              } else if (cmp(d2.end, d1.start) <= 0) {\n                shift(d1, d2, -1);\n              } else {\n                return null;\n              }\n            } else if (!i1 && i2) {\n              if (cmp(d2.start, d1.start) >= 0) {\n                shift(d2, d1, +1);\n              } else if (cmp(d2.start, d1.start) <= 0) {\n                shift(d1, d2, +1);\n              } else {\n                return null;\n              }\n            } else if (!i1 && !i2) {\n              if (cmp(d2.start, d1.start) >= 0) {\n                shift(d2, d1, +1);\n              } else if (cmp(d2.end, d1.start) <= 0) {\n                shift(d1, d2, -1);\n              } else {\n                return null;\n              }\n            }\n\n            return [d2, d1];\n          }\n\n          function swapGroups(ds1, ds2) {\n            for (var i = ds1.length; i--;) {\n              for (var j = 0; j < ds2.length; j++) {\n                if (!swap(ds1[i], ds2[j])) {\n                  while (i < ds1.length) {\n                    while (j--) {\n                      swap(ds2[j], ds1[i]);\n                    }\n\n                    j = ds2.length;\n                    i++;\n                  }\n\n                  return [ds1, ds2];\n                }\n              }\n            }\n\n            ds1.selectionBefore = ds2.selectionBefore = ds1.selectionAfter = ds2.selectionAfter = null;\n            return [ds2, ds1];\n          }\n\n          function xform(d1, c1) {\n            var i1 = d1.action == \"insert\";\n            var i2 = c1.action == \"insert\";\n\n            if (i1 && i2) {\n              if (cmp(d1.start, c1.start) < 0) {\n                shift(c1, d1, 1);\n              } else {\n                shift(d1, c1, 1);\n              }\n            } else if (i1 && !i2) {\n              if (cmp(d1.start, c1.end) >= 0) {\n                shift(d1, c1, -1);\n              } else if (cmp(d1.start, c1.start) <= 0) {\n                shift(c1, d1, +1);\n              } else {\n                shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n                shift(c1, d1, +1);\n              }\n            } else if (!i1 && i2) {\n              if (cmp(c1.start, d1.end) >= 0) {\n                shift(c1, d1, -1);\n              } else if (cmp(c1.start, d1.start) <= 0) {\n                shift(d1, c1, +1);\n              } else {\n                shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n                shift(d1, c1, +1);\n              }\n            } else if (!i1 && !i2) {\n              if (cmp(c1.start, d1.end) >= 0) {\n                shift(c1, d1, -1);\n              } else if (cmp(c1.end, d1.start) <= 0) {\n                shift(d1, c1, -1);\n              } else {\n                var before, after;\n\n                if (cmp(d1.start, c1.start) < 0) {\n                  before = d1;\n                  d1 = splitDelta(d1, c1.start);\n                }\n\n                if (cmp(d1.end, c1.end) > 0) {\n                  after = splitDelta(d1, c1.end);\n                }\n\n                shiftPos(c1.end, d1.start, d1.end, -1);\n\n                if (after && !before) {\n                  d1.lines = after.lines;\n                  d1.start = after.start;\n                  d1.end = after.end;\n                  after = d1;\n                }\n\n                return [c1, before, after].filter(Boolean);\n              }\n            }\n\n            return [c1, d1];\n          }\n\n          function shift(d1, d2, dir) {\n            shiftPos(d1.start, d2.start, d2.end, dir);\n            shiftPos(d1.end, d2.start, d2.end, dir);\n          }\n\n          function shiftPos(pos, start, end, dir) {\n            if (pos.row == (dir == 1 ? start : end).row) {\n              pos.column += dir * (end.column - start.column);\n            }\n\n            pos.row += dir * (end.row - start.row);\n          }\n\n          function splitDelta(c, pos) {\n            var lines = c.lines;\n            var end = c.end;\n            c.end = clonePos(pos);\n            var rowsBefore = c.end.row - c.start.row;\n            var otherLines = lines.splice(rowsBefore, lines.length);\n            var col = rowsBefore ? pos.column : pos.column - c.start.column;\n            lines.push(otherLines[0].substring(0, col));\n            otherLines[0] = otherLines[0].substr(col);\n            var rest = {\n              start: clonePos(pos),\n              end: end,\n              lines: otherLines,\n              action: c.action\n            };\n            return rest;\n          }\n\n          function moveDeltasByOne(redoStack, d) {\n            d = cloneDelta(d);\n\n            for (var j = redoStack.length; j--;) {\n              var deltaSet = redoStack[j];\n\n              for (var i = 0; i < deltaSet.length; i++) {\n                var x = deltaSet[i];\n                var xformed = xform(x, d);\n                d = xformed[0];\n\n                if (xformed.length != 2) {\n                  if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                  } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                  }\n                }\n              }\n\n              if (!deltaSet.length) {\n                redoStack.splice(j, 1);\n              }\n            }\n\n            return redoStack;\n          }\n\n          function rebaseRedoStack(redoStack, deltaSets) {\n            for (var i = 0; i < deltaSets.length; i++) {\n              var deltas = deltaSets[i];\n\n              for (var j = 0; j < deltas.length; j++) {\n                moveDeltasByOne(redoStack, deltas[j]);\n              }\n            }\n          }\n\n          exports.UndoManager = UndoManager;\n        });\n        ace.define(\"ace/layer/lines\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          var Lines = function Lines(element, canvasHeight) {\n            this.element = element;\n            this.canvasHeight = canvasHeight || 500000;\n            this.element.style.height = this.canvasHeight * 2 + \"px\";\n            this.cells = [];\n            this.cellCache = [];\n            this.$offsetCoefficient = 0;\n          };\n\n          (function () {\n            this.moveContainer = function (config) {\n              dom.translate(this.element, 0, -(config.firstRowScreen * config.lineHeight % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n            };\n\n            this.pageChanged = function (oldConfig, newConfig) {\n              return Math.floor(oldConfig.firstRowScreen * oldConfig.lineHeight / this.canvasHeight) !== Math.floor(newConfig.firstRowScreen * newConfig.lineHeight / this.canvasHeight);\n            };\n\n            this.computeLineTop = function (row, config, session) {\n              var screenTop = config.firstRowScreen * config.lineHeight;\n              var screenPage = Math.floor(screenTop / this.canvasHeight);\n              var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n              return lineTop - screenPage * this.canvasHeight;\n            };\n\n            this.computeLineHeight = function (row, config, session) {\n              return config.lineHeight * session.getRowLength(row);\n            };\n\n            this.getLength = function () {\n              return this.cells.length;\n            };\n\n            this.get = function (index) {\n              return this.cells[index];\n            };\n\n            this.shift = function () {\n              this.$cacheCell(this.cells.shift());\n            };\n\n            this.pop = function () {\n              this.$cacheCell(this.cells.pop());\n            };\n\n            this.push = function (cell) {\n              if (Array.isArray(cell)) {\n                this.cells.push.apply(this.cells, cell);\n                var fragment = dom.createFragment(this.element);\n\n                for (var i = 0; i < cell.length; i++) {\n                  fragment.appendChild(cell[i].element);\n                }\n\n                this.element.appendChild(fragment);\n              } else {\n                this.cells.push(cell);\n                this.element.appendChild(cell.element);\n              }\n            };\n\n            this.unshift = function (cell) {\n              if (Array.isArray(cell)) {\n                this.cells.unshift.apply(this.cells, cell);\n                var fragment = dom.createFragment(this.element);\n\n                for (var i = 0; i < cell.length; i++) {\n                  fragment.appendChild(cell[i].element);\n                }\n\n                if (this.element.firstChild) this.element.insertBefore(fragment, this.element.firstChild);else this.element.appendChild(fragment);\n              } else {\n                this.cells.unshift(cell);\n                this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n              }\n            };\n\n            this.last = function () {\n              if (this.cells.length) return this.cells[this.cells.length - 1];else return null;\n            };\n\n            this.$cacheCell = function (cell) {\n              if (!cell) return;\n              cell.element.remove();\n              this.cellCache.push(cell);\n            };\n\n            this.createCell = function (row, config, session, initElement) {\n              var cell = this.cellCache.pop();\n\n              if (!cell) {\n                var element = dom.createElement(\"div\");\n                if (initElement) initElement(element);\n                this.element.appendChild(element);\n                cell = {\n                  element: element,\n                  text: \"\",\n                  row: row\n                };\n              }\n\n              cell.row = row;\n              return cell;\n            };\n          }).call(Lines.prototype);\n          exports.Lines = Lines;\n        });\n        ace.define(\"ace/layer/gutter\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\", \"ace/layer/lines\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          var oop = require(\"../lib/oop\");\n\n          var lang = require(\"../lib/lang\");\n\n          var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n          var Lines = require(\"./lines\").Lines;\n\n          var Gutter = function Gutter(parentEl) {\n            this.element = dom.createElement(\"div\");\n            this.element.className = \"ace_layer ace_gutter-layer\";\n            parentEl.appendChild(this.element);\n            this.setShowFoldWidgets(this.$showFoldWidgets);\n            this.gutterWidth = 0;\n            this.$annotations = [];\n            this.$updateAnnotations = this.$updateAnnotations.bind(this);\n            this.$lines = new Lines(this.element);\n            this.$lines.$offsetCoefficient = 1;\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.setSession = function (session) {\n              if (this.session) this.session.removeEventListener(\"change\", this.$updateAnnotations);\n              this.session = session;\n              if (session) session.on(\"change\", this.$updateAnnotations);\n            };\n\n            this.addGutterDecoration = function (row, className) {\n              if (window.console) console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n              this.session.addGutterDecoration(row, className);\n            };\n\n            this.removeGutterDecoration = function (row, className) {\n              if (window.console) console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n              this.session.removeGutterDecoration(row, className);\n            };\n\n            this.setAnnotations = function (annotations) {\n              this.$annotations = [];\n\n              for (var i = 0; i < annotations.length; i++) {\n                var annotation = annotations[i];\n                var row = annotation.row;\n                var rowInfo = this.$annotations[row];\n                if (!rowInfo) rowInfo = this.$annotations[row] = {\n                  text: []\n                };\n                var annoText = annotation.text;\n                annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n                if (rowInfo.text.indexOf(annoText) === -1) rowInfo.text.push(annoText);\n                var type = annotation.type;\n                if (type == \"error\") rowInfo.className = \" ace_error\";else if (type == \"warning\" && rowInfo.className != \" ace_error\") rowInfo.className = \" ace_warning\";else if (type == \"info\" && !rowInfo.className) rowInfo.className = \" ace_info\";\n              }\n            };\n\n            this.$updateAnnotations = function (delta) {\n              if (!this.$annotations.length) return;\n              var firstRow = delta.start.row;\n              var len = delta.end.row - firstRow;\n\n              if (len === 0) {} else if (delta.action == 'remove') {\n                this.$annotations.splice(firstRow, len + 1, null);\n              } else {\n                var args = new Array(len + 1);\n                args.unshift(firstRow, 1);\n                this.$annotations.splice.apply(this.$annotations, args);\n              }\n            };\n\n            this.update = function (config) {\n              this.config = config;\n              var session = this.session;\n              var firstRow = config.firstRow;\n              var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n              session.getLength() - 1);\n              this.oldLastRow = lastRow;\n              this.config = config;\n              this.$lines.moveContainer(config);\n              this.$updateCursorRow();\n              var fold = session.getNextFoldLine(firstRow);\n              var foldStart = fold ? fold.start.row : Infinity;\n              var cell = null;\n              var index = -1;\n              var row = firstRow;\n\n              while (true) {\n                if (row > foldStart) {\n                  row = fold.end.row + 1;\n                  fold = session.getNextFoldLine(row, fold);\n                  foldStart = fold ? fold.start.row : Infinity;\n                }\n\n                if (row > lastRow) {\n                  while (this.$lines.getLength() > index + 1) {\n                    this.$lines.pop();\n                  }\n\n                  break;\n                }\n\n                cell = this.$lines.get(++index);\n\n                if (cell) {\n                  cell.row = row;\n                } else {\n                  cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                  this.$lines.push(cell);\n                }\n\n                this.$renderCell(cell, config, fold, row);\n                row++;\n              }\n\n              this._signal(\"afterRender\");\n\n              this.$updateGutterWidth(config);\n            };\n\n            this.$updateGutterWidth = function (config) {\n              var session = this.session;\n              var gutterRenderer = session.gutterRenderer || this.$renderer;\n              var firstLineNumber = session.$firstLineNumber;\n              var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n              if (this.$fixedWidth || session.$useWrapMode) lastLineText = session.getLength() + firstLineNumber - 1;\n              var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineText, config) : lastLineText.toString().length * config.characterWidth;\n              var padding = this.$padding || this.$computePadding();\n              gutterWidth += padding.left + padding.right;\n\n              if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n                this.gutterWidth = gutterWidth;\n                this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n\n                this._signal(\"changeGutterWidth\", gutterWidth);\n              }\n            };\n\n            this.$updateCursorRow = function () {\n              if (!this.$highlightGutterLine) return;\n              var position = this.session.selection.getCursor();\n              if (this.$cursorRow === position.row) return;\n              this.$cursorRow = position.row;\n            };\n\n            this.updateLineHighlight = function () {\n              if (!this.$highlightGutterLine) return;\n              var row = this.session.selection.cursor.row;\n              this.$cursorRow = row;\n              if (this.$cursorCell && this.$cursorCell.row == row) return;\n              if (this.$cursorCell) this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n              var cells = this.$lines.cells;\n              this.$cursorCell = null;\n\n              for (var i = 0; i < cells.length; i++) {\n                var cell = cells[i];\n\n                if (cell.row >= this.$cursorRow) {\n                  if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row) cell = cells[i - 1];else break;\n                  }\n\n                  cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                  this.$cursorCell = cell;\n                  break;\n                }\n              }\n            };\n\n            this.scrollLines = function (config) {\n              var oldConfig = this.config;\n              this.config = config;\n              this.$updateCursorRow();\n              if (this.$lines.pageChanged(oldConfig, config)) return this.update(config);\n              this.$lines.moveContainer(config);\n              var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n              this.session.getLength() - 1);\n              var oldLastRow = this.oldLastRow;\n              this.oldLastRow = lastRow;\n              if (!oldConfig || oldLastRow < config.firstRow) return this.update(config);\n              if (lastRow < oldConfig.firstRow) return this.update(config);\n              if (oldConfig.firstRow < config.firstRow) for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--) {\n                this.$lines.shift();\n              }\n              if (oldLastRow > lastRow) for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--) {\n                this.$lines.pop();\n              }\n\n              if (config.firstRow < oldConfig.firstRow) {\n                this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n              }\n\n              if (lastRow > oldLastRow) {\n                this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n              }\n\n              this.updateLineHighlight();\n\n              this._signal(\"afterRender\");\n\n              this.$updateGutterWidth(config);\n            };\n\n            this.$renderLines = function (config, firstRow, lastRow) {\n              var fragment = [];\n              var row = firstRow;\n              var foldLine = this.session.getNextFoldLine(row);\n              var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n              while (true) {\n                if (row > foldStart) {\n                  row = foldLine.end.row + 1;\n                  foldLine = this.session.getNextFoldLine(row, foldLine);\n                  foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (row > lastRow) break;\n                var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$renderCell(cell, config, foldLine, row);\n                fragment.push(cell);\n                row++;\n              }\n\n              return fragment;\n            };\n\n            this.$renderCell = function (cell, config, fold, row) {\n              var element = cell.element;\n              var session = this.session;\n              var textNode = element.childNodes[0];\n              var foldWidget = element.childNodes[1];\n              var firstLineNumber = session.$firstLineNumber;\n              var breakpoints = session.$breakpoints;\n              var decorations = session.$decorations;\n              var gutterRenderer = session.gutterRenderer || this.$renderer;\n              var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n              var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n              var className = \"ace_gutter-cell \";\n\n              if (this.$highlightGutterLine) {\n                if (row == this.$cursorRow || fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row) {\n                  className += \"ace_gutter-active-line \";\n\n                  if (this.$cursorCell != cell) {\n                    if (this.$cursorCell) this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                  }\n                }\n              }\n\n              if (breakpoints[row]) className += breakpoints[row];\n              if (decorations[row]) className += decorations[row];\n              if (this.$annotations[row]) className += this.$annotations[row].className;\n              if (element.className != className) element.className = className;\n\n              if (foldWidgets) {\n                var c = foldWidgets[row];\n                if (c == null) c = foldWidgets[row] = session.getFoldWidget(row);\n              }\n\n              if (c) {\n                var className = \"ace_fold-widget ace_\" + c;\n                if (c == \"start\" && row == foldStart && row < fold.end.row) className += \" ace_closed\";else className += \" ace_open\";\n                if (foldWidget.className != className) foldWidget.className = className;\n                var foldHeight = config.lineHeight + \"px\";\n                dom.setStyle(foldWidget.style, \"height\", foldHeight);\n                dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n              } else {\n                if (foldWidget) {\n                  dom.setStyle(foldWidget.style, \"display\", \"none\");\n                }\n              }\n\n              var text = (gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber).toString();\n\n              if (text !== textNode.data) {\n                textNode.data = text;\n              }\n\n              dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n              dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n              cell.text = text;\n              return cell;\n            };\n\n            this.$fixedWidth = false;\n            this.$highlightGutterLine = true;\n            this.$renderer = \"\";\n\n            this.setHighlightGutterLine = function (highlightGutterLine) {\n              this.$highlightGutterLine = highlightGutterLine;\n            };\n\n            this.$showLineNumbers = true;\n            this.$renderer = \"\";\n\n            this.setShowLineNumbers = function (show) {\n              this.$renderer = !show && {\n                getWidth: function getWidth() {\n                  return 0;\n                },\n                getText: function getText() {\n                  return \"\";\n                }\n              };\n            };\n\n            this.getShowLineNumbers = function () {\n              return this.$showLineNumbers;\n            };\n\n            this.$showFoldWidgets = true;\n\n            this.setShowFoldWidgets = function (show) {\n              if (show) dom.addCssClass(this.element, \"ace_folding-enabled\");else dom.removeCssClass(this.element, \"ace_folding-enabled\");\n              this.$showFoldWidgets = show;\n              this.$padding = null;\n            };\n\n            this.getShowFoldWidgets = function () {\n              return this.$showFoldWidgets;\n            };\n\n            this.$computePadding = function () {\n              if (!this.element.firstChild) return {\n                left: 0,\n                right: 0\n              };\n              var style = dom.computedStyle(this.element.firstChild);\n              this.$padding = {};\n              this.$padding.left = (parseInt(style.borderLeftWidth) || 0) + (parseInt(style.paddingLeft) || 0) + 1;\n              this.$padding.right = (parseInt(style.borderRightWidth) || 0) + (parseInt(style.paddingRight) || 0);\n              return this.$padding;\n            };\n\n            this.getRegion = function (point) {\n              var padding = this.$padding || this.$computePadding();\n              var rect = this.element.getBoundingClientRect();\n              if (point.x < padding.left + rect.left) return \"markers\";\n              if (this.$showFoldWidgets && point.x > rect.right - padding.right) return \"foldWidgets\";\n            };\n          }).call(Gutter.prototype);\n\n          function onCreateCell(element) {\n            var textNode = document.createTextNode('');\n            element.appendChild(textNode);\n            var foldWidget = dom.createElement(\"span\");\n            element.appendChild(foldWidget);\n            return element;\n          }\n\n          exports.Gutter = Gutter;\n        });\n        ace.define(\"ace/layer/marker\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"../range\").Range;\n\n          var dom = require(\"../lib/dom\");\n\n          var Marker = function Marker(parentEl) {\n            this.element = dom.createElement(\"div\");\n            this.element.className = \"ace_layer ace_marker-layer\";\n            parentEl.appendChild(this.element);\n          };\n\n          (function () {\n            this.$padding = 0;\n\n            this.setPadding = function (padding) {\n              this.$padding = padding;\n            };\n\n            this.setSession = function (session) {\n              this.session = session;\n            };\n\n            this.setMarkers = function (markers) {\n              this.markers = markers;\n            };\n\n            this.elt = function (className, css) {\n              var x = this.i != -1 && this.element.childNodes[this.i];\n\n              if (!x) {\n                x = document.createElement(\"div\");\n                this.element.appendChild(x);\n                this.i = -1;\n              } else {\n                this.i++;\n              }\n\n              x.style.cssText = css;\n              x.className = className;\n            };\n\n            this.update = function (config) {\n              if (!config) return;\n              this.config = config;\n              this.i = 0;\n              var html;\n\n              for (var key in this.markers) {\n                var marker = this.markers[key];\n\n                if (!marker.range) {\n                  marker.update(html, this, this.session, config);\n                  continue;\n                }\n\n                var range = marker.range.clipRows(config.firstRow, config.lastRow);\n                if (range.isEmpty()) continue;\n                range = range.toScreenRange(this.session);\n\n                if (marker.renderer) {\n                  var top = this.$getTop(range.start.row, config);\n                  var left = this.$padding + range.start.column * config.characterWidth;\n                  marker.renderer(html, range, left, top, config);\n                } else if (marker.type == \"fullLine\") {\n                  this.drawFullLineMarker(html, range, marker.clazz, config);\n                } else if (marker.type == \"screenLine\") {\n                  this.drawScreenLineMarker(html, range, marker.clazz, config);\n                } else if (range.isMultiLine()) {\n                  if (marker.type == \"text\") this.drawTextMarker(html, range, marker.clazz, config);else this.drawMultiLineMarker(html, range, marker.clazz, config);\n                } else {\n                  this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n                }\n              }\n\n              if (this.i != -1) {\n                while (this.i < this.element.childElementCount) {\n                  this.element.removeChild(this.element.lastChild);\n                }\n              }\n            };\n\n            this.$getTop = function (row, layerConfig) {\n              return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n            };\n\n            function getBorderClass(tl, tr, br, bl) {\n              return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n            }\n\n            this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n              var session = this.session;\n              var start = range.start.row;\n              var end = range.end.row;\n              var row = start;\n              var prev = 0;\n              var curr = 0;\n              var next = session.getScreenLastRowColumn(row);\n              var lineRange = new Range(row, range.start.column, row, curr);\n\n              for (; row <= end; row++) {\n                lineRange.start.row = lineRange.end.row = row;\n                lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n                lineRange.end.column = next;\n                prev = curr;\n                curr = next;\n                next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n                this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\" + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n              }\n            };\n\n            this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n              var padding = this.$padding;\n              var height = config.lineHeight;\n              var top = this.$getTop(range.start.row, config);\n              var left = padding + range.start.column * config.characterWidth;\n              extraStyle = extraStyle || \"\";\n\n              if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n                var range1 = range.clone();\n                range1.end.row = range1.start.row;\n                range1.end.column = this.session.getLine(range1.start.row).length;\n                this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n              } else {\n                this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n              }\n\n              if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n                var range1 = range.clone();\n                range1.start.row = range1.end.row;\n                range1.start.column = 0;\n                this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n              } else {\n                top = this.$getTop(range.end.row, config);\n                var width = range.end.column * config.characterWidth;\n                this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" + \"width:\" + width + \"px;\" + \"top:\" + top + \"px;\" + \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n              }\n\n              height = (range.end.row - range.start.row - 1) * config.lineHeight;\n              if (height <= 0) return;\n              top = this.$getTop(range.start.row + 1, config);\n              var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n              this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;\" + \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n            };\n\n            this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n              if (this.session.$bidiHandler.isBidiRow(range.start.row)) return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n              var height = config.lineHeight;\n              var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n              var top = this.$getTop(range.start.row, config);\n              var left = this.$padding + range.start.column * config.characterWidth;\n              this.elt(clazz, \"height:\" + height + \"px;\" + \"width:\" + width + \"px;\" + \"top:\" + top + \"px;\" + \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n            };\n\n            this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n              var height = config.lineHeight,\n                  top = this.$getTop(range.start.row, config),\n                  padding = this.$padding;\n              var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n              selections.forEach(function (selection) {\n                this.elt(clazz, \"height:\" + height + \"px;\" + \"width:\" + selection.width + (extraLength || 0) + \"px;\" + \"top:\" + top + \"px;\" + \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n              }, this);\n            };\n\n            this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n              var top = this.$getTop(range.start.row, config);\n              var height = config.lineHeight;\n              if (range.start.row != range.end.row) height += this.$getTop(range.end.row, config) - top;\n              this.elt(clazz, \"height:\" + height + \"px;\" + \"top:\" + top + \"px;\" + \"left:0;right:0;\" + (extraStyle || \"\"));\n            };\n\n            this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n              var top = this.$getTop(range.start.row, config);\n              var height = config.lineHeight;\n              this.elt(clazz, \"height:\" + height + \"px;\" + \"top:\" + top + \"px;\" + \"left:0;right:0;\" + (extraStyle || \"\"));\n            };\n          }).call(Marker.prototype);\n          exports.Marker = Marker;\n        });\n        ace.define(\"ace/layer/text\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/layer/lines\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../lib/oop\");\n\n          var dom = require(\"../lib/dom\");\n\n          var lang = require(\"../lib/lang\");\n\n          var Lines = require(\"./lines\").Lines;\n\n          var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n          var Text = function Text(parentEl) {\n            this.dom = dom;\n            this.element = this.dom.createElement(\"div\");\n            this.element.className = \"ace_layer ace_text-layer\";\n            parentEl.appendChild(this.element);\n            this.$updateEolChar = this.$updateEolChar.bind(this);\n            this.$lines = new Lines(this.element);\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n            this.EOF_CHAR = \"\\xB6\";\n            this.EOL_CHAR_LF = \"\\xAC\";\n            this.EOL_CHAR_CRLF = \"\\xa4\";\n            this.EOL_CHAR = this.EOL_CHAR_LF;\n            this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n\n            this.SPACE_CHAR = \"\\xB7\";\n            this.$padding = 0;\n            this.MAX_LINE_LENGTH = 10000;\n\n            this.$updateEolChar = function () {\n              var doc = this.session.doc;\n              var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n              var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n\n              if (this.EOL_CHAR != EOL_CHAR) {\n                this.EOL_CHAR = EOL_CHAR;\n                return true;\n              }\n            };\n\n            this.setPadding = function (padding) {\n              this.$padding = padding;\n              this.element.style.margin = \"0 \" + padding + \"px\";\n            };\n\n            this.getLineHeight = function () {\n              return this.$fontMetrics.$characterSize.height || 0;\n            };\n\n            this.getCharacterWidth = function () {\n              return this.$fontMetrics.$characterSize.width || 0;\n            };\n\n            this.$setFontMetrics = function (measure) {\n              this.$fontMetrics = measure;\n              this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n                this._signal(\"changeCharacterSize\", e);\n              }.bind(this));\n              this.$pollSizeChanges();\n            };\n\n            this.checkForSizeChanges = function () {\n              this.$fontMetrics.checkForSizeChanges();\n            };\n\n            this.$pollSizeChanges = function () {\n              return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n            };\n\n            this.setSession = function (session) {\n              this.session = session;\n              if (session) this.$computeTabString();\n            };\n\n            this.showInvisibles = false;\n\n            this.setShowInvisibles = function (showInvisibles) {\n              if (this.showInvisibles == showInvisibles) return false;\n              this.showInvisibles = showInvisibles;\n              this.$computeTabString();\n              return true;\n            };\n\n            this.displayIndentGuides = true;\n\n            this.setDisplayIndentGuides = function (display) {\n              if (this.displayIndentGuides == display) return false;\n              this.displayIndentGuides = display;\n              this.$computeTabString();\n              return true;\n            };\n\n            this.$tabStrings = [];\n\n            this.onChangeTabSize = this.$computeTabString = function () {\n              var tabSize = this.session.getTabSize();\n              this.tabSize = tabSize;\n              var tabStr = this.$tabStrings = [0];\n\n              for (var i = 1; i < tabSize + 1; i++) {\n                if (this.showInvisibles) {\n                  var span = this.dom.createElement(\"span\");\n                  span.className = \"ace_invisible ace_invisible_tab\";\n                  span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                  tabStr.push(span);\n                } else {\n                  tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n                }\n              }\n\n              if (this.displayIndentGuides) {\n                this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n                var className = \"ace_indent-guide\";\n                var spaceClass = \"\";\n                var tabClass = \"\";\n\n                if (this.showInvisibles) {\n                  className += \" ace_invisible\";\n                  spaceClass = \" ace_invisible_space\";\n                  tabClass = \" ace_invisible_tab\";\n                  var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                  var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n                } else {\n                  var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n                  var tabContent = spaceContent;\n                }\n\n                var span = this.dom.createElement(\"span\");\n                span.className = className + spaceClass;\n                span.textContent = spaceContent;\n                this.$tabStrings[\" \"] = span;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + tabClass;\n                span.textContent = tabContent;\n                this.$tabStrings[\"\\t\"] = span;\n              }\n            };\n\n            this.updateLines = function (config, firstRow, lastRow) {\n              if (this.config.lastRow != config.lastRow || this.config.firstRow != config.firstRow) {\n                return this.update(config);\n              }\n\n              this.config = config;\n              var first = Math.max(firstRow, config.firstRow);\n              var last = Math.min(lastRow, config.lastRow);\n              var lineElements = this.element.childNodes;\n              var lineElementsIdx = 0;\n\n              for (var row = config.firstRow; row < first; row++) {\n                var foldLine = this.session.getFoldLine(row);\n\n                if (foldLine) {\n                  if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                  } else {\n                    row = foldLine.end.row;\n                  }\n                }\n\n                lineElementsIdx++;\n              }\n\n              var heightChanged = false;\n              var row = first;\n              var foldLine = this.session.getNextFoldLine(row);\n              var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n              while (true) {\n                if (row > foldStart) {\n                  row = foldLine.end.row + 1;\n                  foldLine = this.session.getNextFoldLine(row, foldLine);\n                  foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (row > last) break;\n                var lineElement = lineElements[lineElementsIdx++];\n\n                if (lineElement) {\n                  this.dom.removeChildren(lineElement);\n                  this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n                  if (heightChanged) lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n                  var height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n\n                  if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                  }\n                }\n\n                row++;\n              }\n\n              if (heightChanged) {\n                while (lineElementsIdx < this.$lines.cells.length) {\n                  var cell = this.$lines.cells[lineElementsIdx++];\n                  cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n                }\n              }\n            };\n\n            this.scrollLines = function (config) {\n              var oldConfig = this.config;\n              this.config = config;\n              if (this.$lines.pageChanged(oldConfig, config)) return this.update(config);\n              this.$lines.moveContainer(config);\n              var lastRow = config.lastRow;\n              var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n              if (!oldConfig || oldLastRow < config.firstRow) return this.update(config);\n              if (lastRow < oldConfig.firstRow) return this.update(config);\n              if (!oldConfig || oldConfig.lastRow < config.firstRow) return this.update(config);\n              if (config.lastRow < oldConfig.firstRow) return this.update(config);\n              if (oldConfig.firstRow < config.firstRow) for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--) {\n                this.$lines.shift();\n              }\n              if (oldConfig.lastRow > config.lastRow) for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--) {\n                this.$lines.pop();\n              }\n\n              if (config.firstRow < oldConfig.firstRow) {\n                this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n              }\n\n              if (config.lastRow > oldConfig.lastRow) {\n                this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n              }\n            };\n\n            this.$renderLinesFragment = function (config, firstRow, lastRow) {\n              var fragment = [];\n              var row = firstRow;\n              var foldLine = this.session.getNextFoldLine(row);\n              var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n              while (true) {\n                if (row > foldStart) {\n                  row = foldLine.end.row + 1;\n                  foldLine = this.session.getNextFoldLine(row, foldLine);\n                  foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (row > lastRow) break;\n                var line = this.$lines.createCell(row, config, this.session);\n                var lineEl = line.element;\n                this.dom.removeChildren(lineEl);\n                dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n                dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n                this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n                if (this.$useLineGroups()) {\n                  lineEl.className = \"ace_line_group\";\n                } else {\n                  lineEl.className = \"ace_line\";\n                }\n\n                fragment.push(line);\n                row++;\n              }\n\n              return fragment;\n            };\n\n            this.update = function (config) {\n              this.$lines.moveContainer(config);\n              this.config = config;\n              var firstRow = config.firstRow;\n              var lastRow = config.lastRow;\n              var lines = this.$lines;\n\n              while (lines.getLength()) {\n                lines.pop();\n              }\n\n              lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n            };\n\n            this.$textToken = {\n              \"text\": true,\n              \"rparen\": true,\n              \"lparen\": true\n            };\n\n            this.$renderToken = function (parent, screenColumn, token, value) {\n              var self = this;\n              var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n              var valueFragment = this.dom.createFragment(this.element);\n              var m;\n              var i = 0;\n\n              while (m = re.exec(value)) {\n                var tab = m[1];\n                var simpleSpace = m[2];\n                var controlCharacter = m[3];\n                var cjkSpace = m[4];\n                var cjk = m[5];\n                if (!self.showInvisibles && simpleSpace) continue;\n                var before = i != m.index ? value.slice(i, m.index) : \"\";\n                i = m.index + m[0].length;\n\n                if (before) {\n                  valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n                }\n\n                if (tab) {\n                  var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                  valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                  screenColumn += tabSize - 1;\n                } else if (simpleSpace) {\n                  if (self.showInvisibles) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                  } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                  }\n                } else if (controlCharacter) {\n                  var span = this.dom.createElement(\"span\");\n                  span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                  span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                  valueFragment.appendChild(span);\n                } else if (cjkSpace) {\n                  screenColumn += 1;\n                  var span = this.dom.createElement(\"span\");\n                  span.style.width = self.config.characterWidth * 2 + \"px\";\n                  span.className = self.showInvisibles ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                  span.textContent = self.showInvisibles ? self.SPACE_CHAR : cjkSpace;\n                  valueFragment.appendChild(span);\n                } else if (cjk) {\n                  screenColumn += 1;\n                  var span = this.dom.createElement(\"span\");\n                  span.style.width = self.config.characterWidth * 2 + \"px\";\n                  span.className = \"ace_cjk\";\n                  span.textContent = cjk;\n                  valueFragment.appendChild(span);\n                }\n              }\n\n              valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n              if (!this.$textToken[token.type]) {\n                var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n                var span = this.dom.createElement(\"span\");\n                if (token.type == \"fold\") span.style.width = token.value.length * this.config.characterWidth + \"px\";\n                span.className = classes;\n                span.appendChild(valueFragment);\n                parent.appendChild(span);\n              } else {\n                parent.appendChild(valueFragment);\n              }\n\n              return screenColumn + value.length;\n            };\n\n            this.renderIndentGuide = function (parent, value, max) {\n              var cols = value.search(this.$indentGuideRe);\n              if (cols <= 0 || cols >= max) return value;\n\n              if (value[0] == \" \") {\n                cols -= cols % this.tabSize;\n                var count = cols / this.tabSize;\n\n                for (var i = 0; i < count; i++) {\n                  parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n                }\n\n                return value.substr(cols);\n              } else if (value[0] == \"\\t\") {\n                for (var i = 0; i < cols; i++) {\n                  parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n                }\n\n                return value.substr(cols);\n              }\n\n              return value;\n            };\n\n            this.$createLineElement = function (parent) {\n              var lineEl = this.dom.createElement(\"div\");\n              lineEl.className = \"ace_line\";\n              lineEl.style.height = this.config.lineHeight + \"px\";\n              return lineEl;\n            };\n\n            this.$renderWrappedLine = function (parent, tokens, splits) {\n              var chars = 0;\n              var split = 0;\n              var splitChars = splits[0];\n              var screenColumn = 0;\n              var lineEl = this.$createLineElement();\n              parent.appendChild(lineEl);\n\n              for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                var value = token.value;\n\n                if (i == 0 && this.displayIndentGuides) {\n                  chars = value.length;\n                  value = this.renderIndentGuide(lineEl, value, splitChars);\n                  if (!value) continue;\n                  chars -= value.length;\n                }\n\n                if (chars + value.length < splitChars) {\n                  screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                  chars += value.length;\n                } else {\n                  while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n                    split++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                  }\n\n                  if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                  }\n                }\n              }\n\n              if (splits[splits.length - 1] > this.MAX_LINE_LENGTH) this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n            };\n\n            this.$renderSimpleLine = function (parent, tokens) {\n              var screenColumn = 0;\n              var token = tokens[0];\n              var value = token.value;\n              if (this.displayIndentGuides) value = this.renderIndentGuide(parent, value);\n              if (value) screenColumn = this.$renderToken(parent, screenColumn, token, value);\n\n              for (var i = 1; i < tokens.length; i++) {\n                token = tokens[i];\n                value = token.value;\n                if (screenColumn + value.length > this.MAX_LINE_LENGTH) return this.$renderOverflowMessage(parent, screenColumn, token, value);\n                screenColumn = this.$renderToken(parent, screenColumn, token, value);\n              }\n            };\n\n            this.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n              token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n              var overflowEl = this.dom.createElement(\"span\");\n              overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n              overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n              parent.appendChild(overflowEl);\n            };\n\n            this.$renderLine = function (parent, row, foldLine) {\n              if (!foldLine && foldLine != false) foldLine = this.session.getFoldLine(row);\n              if (foldLine) var tokens = this.$getFoldLineTokens(row, foldLine);else var tokens = this.session.getTokens(row);\n              var lastLineEl = parent;\n\n              if (tokens.length) {\n                var splits = this.session.getRowSplitData(row);\n\n                if (splits && splits.length) {\n                  this.$renderWrappedLine(parent, tokens, splits);\n                  var lastLineEl = parent.lastChild;\n                } else {\n                  var lastLineEl = parent;\n\n                  if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                  }\n\n                  this.$renderSimpleLine(lastLineEl, tokens);\n                }\n              } else if (this.$useLineGroups()) {\n                lastLineEl = this.$createLineElement();\n                parent.appendChild(lastLineEl);\n              }\n\n              if (this.showInvisibles && lastLineEl) {\n                if (foldLine) row = foldLine.end.row;\n                var invisibleEl = this.dom.createElement(\"span\");\n                invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n                invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n                lastLineEl.appendChild(invisibleEl);\n              }\n            };\n\n            this.$getFoldLineTokens = function (row, foldLine) {\n              var session = this.session;\n              var renderTokens = [];\n\n              function addTokens(tokens, from, to) {\n                var idx = 0,\n                    col = 0;\n\n                while (col + tokens[idx].value.length < from) {\n                  col += tokens[idx].value.length;\n                  idx++;\n                  if (idx == tokens.length) return;\n                }\n\n                if (col != from) {\n                  var value = tokens[idx].value.substring(from - col);\n                  if (value.length > to - from) value = value.substring(0, to - from);\n                  renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                  });\n                  col = from + value.length;\n                  idx += 1;\n                }\n\n                while (col < to && idx < tokens.length) {\n                  var value = tokens[idx].value;\n\n                  if (value.length + col > to) {\n                    renderTokens.push({\n                      type: tokens[idx].type,\n                      value: value.substring(0, to - col)\n                    });\n                  } else renderTokens.push(tokens[idx]);\n\n                  col += value.length;\n                  idx += 1;\n                }\n              }\n\n              var tokens = session.getTokens(row);\n              foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n                if (placeholder != null) {\n                  renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                  });\n                } else {\n                  if (isNewRow) tokens = session.getTokens(row);\n                  if (tokens.length) addTokens(tokens, lastColumn, column);\n                }\n              }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n              return renderTokens;\n            };\n\n            this.$useLineGroups = function () {\n              return this.session.getUseWrapMode();\n            };\n\n            this.destroy = function () {};\n          }).call(Text.prototype);\n          exports.Text = Text;\n        });\n        ace.define(\"ace/layer/cursor\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          var Cursor = function Cursor(parentEl) {\n            this.element = dom.createElement(\"div\");\n            this.element.className = \"ace_layer ace_cursor-layer\";\n            parentEl.appendChild(this.element);\n            this.isVisible = false;\n            this.isBlinking = true;\n            this.blinkInterval = 1000;\n            this.smoothBlinking = false;\n            this.cursors = [];\n            this.cursor = this.addCursor();\n            dom.addCssClass(this.element, \"ace_hidden-cursors\");\n            this.$updateCursors = this.$updateOpacity.bind(this);\n          };\n\n          (function () {\n            this.$updateOpacity = function (val) {\n              var cursors = this.cursors;\n\n              for (var i = cursors.length; i--;) {\n                dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n              }\n            };\n\n            this.$startCssAnimation = function () {\n              var cursors = this.cursors;\n\n              for (var i = cursors.length; i--;) {\n                cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n              }\n\n              setTimeout(function () {\n                dom.addCssClass(this.element, \"ace_animate-blinking\");\n              }.bind(this));\n            };\n\n            this.$stopCssAnimation = function () {\n              dom.removeCssClass(this.element, \"ace_animate-blinking\");\n            };\n\n            this.$padding = 0;\n\n            this.setPadding = function (padding) {\n              this.$padding = padding;\n            };\n\n            this.setSession = function (session) {\n              this.session = session;\n            };\n\n            this.setBlinking = function (blinking) {\n              if (blinking != this.isBlinking) {\n                this.isBlinking = blinking;\n                this.restartTimer();\n              }\n            };\n\n            this.setBlinkInterval = function (blinkInterval) {\n              if (blinkInterval != this.blinkInterval) {\n                this.blinkInterval = blinkInterval;\n                this.restartTimer();\n              }\n            };\n\n            this.setSmoothBlinking = function (smoothBlinking) {\n              if (smoothBlinking != this.smoothBlinking) {\n                this.smoothBlinking = smoothBlinking;\n                dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n                this.$updateCursors(true);\n                this.restartTimer();\n              }\n            };\n\n            this.addCursor = function () {\n              var el = dom.createElement(\"div\");\n              el.className = \"ace_cursor\";\n              this.element.appendChild(el);\n              this.cursors.push(el);\n              return el;\n            };\n\n            this.removeCursor = function () {\n              if (this.cursors.length > 1) {\n                var el = this.cursors.pop();\n                el.parentNode.removeChild(el);\n                return el;\n              }\n            };\n\n            this.hideCursor = function () {\n              this.isVisible = false;\n              dom.addCssClass(this.element, \"ace_hidden-cursors\");\n              this.restartTimer();\n            };\n\n            this.showCursor = function () {\n              this.isVisible = true;\n              dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n              this.restartTimer();\n            };\n\n            this.restartTimer = function () {\n              var update = this.$updateCursors;\n              clearInterval(this.intervalId);\n              clearTimeout(this.timeoutId);\n              this.$stopCssAnimation();\n\n              if (this.smoothBlinking) {\n                dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n              }\n\n              update(true);\n\n              if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n                this.$stopCssAnimation();\n                return;\n              }\n\n              if (this.smoothBlinking) {\n                setTimeout(function () {\n                  dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }.bind(this));\n              }\n\n              if (dom.HAS_CSS_ANIMATION) {\n                this.$startCssAnimation();\n              } else {\n                var blink = function () {\n                  this.timeoutId = setTimeout(function () {\n                    update(false);\n                  }, 0.6 * this.blinkInterval);\n                }.bind(this);\n\n                this.intervalId = setInterval(function () {\n                  update(true);\n                  blink();\n                }, this.blinkInterval);\n                blink();\n              }\n            };\n\n            this.getPixelPosition = function (position, onScreen) {\n              if (!this.config || !this.session) return {\n                left: 0,\n                top: 0\n              };\n              if (!position) position = this.session.selection.getCursor();\n              var pos = this.session.documentToScreenPosition(position);\n              var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);\n              var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;\n              return {\n                left: cursorLeft,\n                top: cursorTop\n              };\n            };\n\n            this.isCursorInView = function (pixelPos, config) {\n              return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n            };\n\n            this.update = function (config) {\n              this.config = config;\n              var selections = this.session.$selectionMarkers;\n              var i = 0,\n                  cursorIndex = 0;\n\n              if (selections === undefined || selections.length === 0) {\n                selections = [{\n                  cursor: null\n                }];\n              }\n\n              for (var i = 0, n = selections.length; i < n; i++) {\n                var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n\n                if ((pixelPos.top > config.height + config.offset || pixelPos.top < 0) && i > 1) {\n                  continue;\n                }\n\n                var element = this.cursors[cursorIndex++] || this.addCursor();\n                var style = element.style;\n\n                if (!this.drawCursor) {\n                  if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                  } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                  }\n                } else {\n                  this.drawCursor(element, pixelPos, config, selections[i], this.session);\n                }\n              }\n\n              while (this.cursors.length > cursorIndex) {\n                this.removeCursor();\n              }\n\n              var overwrite = this.session.getOverwrite();\n              this.$setOverwrite(overwrite);\n              this.$pixelPos = pixelPos;\n              this.restartTimer();\n            };\n\n            this.drawCursor = null;\n\n            this.$setOverwrite = function (overwrite) {\n              if (overwrite != this.overwrite) {\n                this.overwrite = overwrite;\n                if (overwrite) dom.addCssClass(this.element, \"ace_overwrite-cursors\");else dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n              }\n            };\n\n            this.destroy = function () {\n              clearInterval(this.intervalId);\n              clearTimeout(this.timeoutId);\n            };\n          }).call(Cursor.prototype);\n          exports.Cursor = Cursor;\n        });\n        ace.define(\"ace/scrollbar\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var dom = require(\"./lib/dom\");\n\n          var event = require(\"./lib/event\");\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var MAX_SCROLL_H = 0x8000;\n\n          var ScrollBar = function ScrollBar(parent) {\n            this.element = dom.createElement(\"div\");\n            this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n            this.inner = dom.createElement(\"div\");\n            this.inner.className = \"ace_scrollbar-inner\";\n            this.inner.textContent = \"\\xa0\";\n            this.element.appendChild(this.inner);\n            parent.appendChild(this.element);\n            this.setVisible(false);\n            this.skipEvent = false;\n            event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n            event.addListener(this.element, \"mousedown\", event.preventDefault);\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.setVisible = function (isVisible) {\n              this.element.style.display = isVisible ? \"\" : \"none\";\n              this.isVisible = isVisible;\n              this.coeff = 1;\n            };\n          }).call(ScrollBar.prototype);\n\n          var VScrollBar = function VScrollBar(parent, renderer) {\n            ScrollBar.call(this, parent);\n            this.scrollTop = 0;\n            this.scrollHeight = 0;\n            renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(parent.ownerDocument);\n            this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + \"px\";\n            this.$minWidth = 0;\n          };\n\n          oop.inherits(VScrollBar, ScrollBar);\n          (function () {\n            this.classSuffix = '-v';\n\n            this.onScroll = function () {\n              if (!this.skipEvent) {\n                this.scrollTop = this.element.scrollTop;\n\n                if (this.coeff != 1) {\n                  var h = this.element.clientHeight / this.scrollHeight;\n                  this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n                }\n\n                this._emit(\"scroll\", {\n                  data: this.scrollTop\n                });\n              }\n\n              this.skipEvent = false;\n            };\n\n            this.getWidth = function () {\n              return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n            };\n\n            this.setHeight = function (height) {\n              this.element.style.height = height + \"px\";\n            };\n\n            this.setInnerHeight = this.setScrollHeight = function (height) {\n              this.scrollHeight = height;\n\n              if (height > MAX_SCROLL_H) {\n                this.coeff = MAX_SCROLL_H / height;\n                height = MAX_SCROLL_H;\n              } else if (this.coeff != 1) {\n                this.coeff = 1;\n              }\n\n              this.inner.style.height = height + \"px\";\n            };\n\n            this.setScrollTop = function (scrollTop) {\n              if (this.scrollTop != scrollTop) {\n                this.skipEvent = true;\n                this.scrollTop = scrollTop;\n                this.element.scrollTop = scrollTop * this.coeff;\n              }\n            };\n          }).call(VScrollBar.prototype);\n\n          var HScrollBar = function HScrollBar(parent, renderer) {\n            ScrollBar.call(this, parent);\n            this.scrollLeft = 0;\n            this.height = renderer.$scrollbarWidth;\n            this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + \"px\";\n          };\n\n          oop.inherits(HScrollBar, ScrollBar);\n          (function () {\n            this.classSuffix = '-h';\n\n            this.onScroll = function () {\n              if (!this.skipEvent) {\n                this.scrollLeft = this.element.scrollLeft;\n\n                this._emit(\"scroll\", {\n                  data: this.scrollLeft\n                });\n              }\n\n              this.skipEvent = false;\n            };\n\n            this.getHeight = function () {\n              return this.isVisible ? this.height : 0;\n            };\n\n            this.setWidth = function (width) {\n              this.element.style.width = width + \"px\";\n            };\n\n            this.setInnerWidth = function (width) {\n              this.inner.style.width = width + \"px\";\n            };\n\n            this.setScrollWidth = function (width) {\n              this.inner.style.width = width + \"px\";\n            };\n\n            this.setScrollLeft = function (scrollLeft) {\n              if (this.scrollLeft != scrollLeft) {\n                this.skipEvent = true;\n                this.scrollLeft = this.element.scrollLeft = scrollLeft;\n              }\n            };\n          }).call(HScrollBar.prototype);\n          exports.ScrollBar = VScrollBar; // backward compatibility\n\n          exports.ScrollBarV = VScrollBar; // backward compatibility\n\n          exports.ScrollBarH = HScrollBar; // backward compatibility\n\n          exports.VScrollBar = VScrollBar;\n          exports.HScrollBar = HScrollBar;\n        });\n        ace.define(\"ace/renderloop\", [\"require\", \"exports\", \"module\", \"ace/lib/event\"], function (require, exports, module) {\n          \"use strict\";\n\n          var event = require(\"./lib/event\");\n\n          var RenderLoop = function RenderLoop(onRender, win) {\n            this.onRender = onRender;\n            this.pending = false;\n            this.changes = 0;\n            this.$recursionLimit = 2;\n            this.window = win || window;\n\n            var _self = this;\n\n            this._flush = function (ts) {\n              _self.pending = false;\n              var changes = _self.changes;\n\n              if (changes) {\n                event.blockIdle(100);\n                _self.changes = 0;\n\n                _self.onRender(changes);\n              }\n\n              if (_self.changes) {\n                if (_self.$recursionLimit-- < 0) return;\n\n                _self.schedule();\n              } else {\n                _self.$recursionLimit = 2;\n              }\n            };\n          };\n\n          (function () {\n            this.schedule = function (change) {\n              this.changes = this.changes | change;\n\n              if (this.changes && !this.pending) {\n                event.nextFrame(this._flush);\n                this.pending = true;\n              }\n            };\n\n            this.clear = function (change) {\n              var changes = this.changes;\n              this.changes = 0;\n              return changes;\n            };\n          }).call(RenderLoop.prototype);\n          exports.RenderLoop = RenderLoop;\n        });\n        ace.define(\"ace/layer/font_metrics\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n          var oop = require(\"../lib/oop\");\n\n          var dom = require(\"../lib/dom\");\n\n          var lang = require(\"../lib/lang\");\n\n          var event = require(\"../lib/event\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n          var CHAR_COUNT = 256;\n          var USE_OBSERVER = typeof ResizeObserver == \"function\";\n          var L = 200;\n\n          var FontMetrics = exports.FontMetrics = function (parentEl) {\n            this.el = dom.createElement(\"div\");\n            this.$setMeasureNodeStyles(this.el.style, true);\n            this.$main = dom.createElement(\"div\");\n            this.$setMeasureNodeStyles(this.$main.style);\n            this.$measureNode = dom.createElement(\"div\");\n            this.$setMeasureNodeStyles(this.$measureNode.style);\n            this.el.appendChild(this.$main);\n            this.el.appendChild(this.$measureNode);\n            parentEl.appendChild(this.el);\n            this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n            this.$characterSize = {\n              width: 0,\n              height: 0\n            };\n            if (USE_OBSERVER) this.$addObserver();else this.checkForSizeChanges();\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n            this.$characterSize = {\n              width: 0,\n              height: 0\n            };\n\n            this.$setMeasureNodeStyles = function (style, isRoot) {\n              style.width = style.height = \"auto\";\n              style.left = style.top = \"0px\";\n              style.visibility = \"hidden\";\n              style.position = \"absolute\";\n              style.whiteSpace = \"pre\";\n\n              if (useragent.isIE < 8) {\n                style[\"font-family\"] = \"inherit\";\n              } else {\n                style.font = \"inherit\";\n              }\n\n              style.overflow = isRoot ? \"hidden\" : \"visible\";\n            };\n\n            this.checkForSizeChanges = function (size) {\n              if (size === undefined) size = this.$measureSizes();\n\n              if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n                this.$measureNode.style.fontWeight = \"bold\";\n                var boldSize = this.$measureSizes();\n                this.$measureNode.style.fontWeight = \"\";\n                this.$characterSize = size;\n                this.charSizes = Object.create(null);\n                this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n\n                this._emit(\"changeCharacterSize\", {\n                  data: size\n                });\n              }\n            };\n\n            this.$addObserver = function () {\n              var self = this;\n              this.$observer = new window.ResizeObserver(function (e) {\n                var rect = e[0].contentRect;\n                self.checkForSizeChanges({\n                  height: rect.height,\n                  width: rect.width / CHAR_COUNT\n                });\n              });\n              this.$observer.observe(this.$measureNode);\n            };\n\n            this.$pollSizeChanges = function () {\n              if (this.$pollSizeChangesTimer || this.$observer) return this.$pollSizeChangesTimer;\n              var self = this;\n              return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n                self.checkForSizeChanges();\n                event.onIdle(cb, 500);\n              }, 500);\n            };\n\n            this.setPolling = function (val) {\n              if (val) {\n                this.$pollSizeChanges();\n              } else if (this.$pollSizeChangesTimer) {\n                clearInterval(this.$pollSizeChangesTimer);\n                this.$pollSizeChangesTimer = 0;\n              }\n            };\n\n            this.$measureSizes = function (node) {\n              var size = {\n                height: (node || this.$measureNode).clientHeight,\n                width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n              };\n              if (size.width === 0 || size.height === 0) return null;\n              return size;\n            };\n\n            this.$measureCharWidth = function (ch) {\n              this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n              var rect = this.$main.getBoundingClientRect();\n              return rect.width / CHAR_COUNT;\n            };\n\n            this.getCharacterWidth = function (ch) {\n              var w = this.charSizes[ch];\n\n              if (w === undefined) {\n                w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n              }\n\n              return w;\n            };\n\n            this.destroy = function () {\n              clearInterval(this.$pollSizeChangesTimer);\n              if (this.$observer) this.$observer.disconnect();\n              if (this.el && this.el.parentNode) this.el.parentNode.removeChild(this.el);\n            };\n\n            this.$getZoom = function getZoom(element) {\n              if (!element) return 1;\n              return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n            };\n\n            this.$initTransformMeasureNodes = function () {\n              var t = function t(_t, l) {\n                return [\"div\", {\n                  style: \"position: absolute;top:\" + _t + \"px;left:\" + l + \"px;\"\n                }];\n              };\n\n              this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n            };\n\n            this.transformCoordinates = function (clientPos, elPos) {\n              if (clientPos) {\n                var zoom = this.$getZoom(this.el);\n                clientPos = mul(1 / zoom, clientPos);\n              }\n\n              function solve(l1, l2, r) {\n                var det = l1[1] * l2[0] - l1[0] * l2[1];\n                return [(-l2[1] * r[0] + l2[0] * r[1]) / det, (+l1[1] * r[0] - l1[0] * r[1]) / det];\n              }\n\n              function sub(a, b) {\n                return [a[0] - b[0], a[1] - b[1]];\n              }\n\n              function add(a, b) {\n                return [a[0] + b[0], a[1] + b[1]];\n              }\n\n              function mul(a, b) {\n                return [a * b[0], a * b[1]];\n              }\n\n              if (!this.els) this.$initTransformMeasureNodes();\n\n              function p(el) {\n                var r = el.getBoundingClientRect();\n                return [r.left, r.top];\n              }\n\n              var a = p(this.els[0]);\n              var b = p(this.els[1]);\n              var c = p(this.els[2]);\n              var d = p(this.els[3]);\n              var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n              var m1 = mul(1 + h[0], sub(b, a));\n              var m2 = mul(1 + h[1], sub(c, a));\n\n              if (elPos) {\n                var x = elPos;\n                var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n                var ut = add(mul(x[0], m1), mul(x[1], m2));\n                return add(mul(1 / k / L, ut), a);\n              }\n\n              var u = sub(clientPos, a);\n              var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n              return mul(L, f);\n            };\n          }).call(FontMetrics.prototype);\n        });\n        ace.define(\"ace/virtual_renderer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/config\", \"ace/layer/gutter\", \"ace/layer/marker\", \"ace/layer/text\", \"ace/layer/cursor\", \"ace/scrollbar\", \"ace/scrollbar\", \"ace/renderloop\", \"ace/layer/font_metrics\", \"ace/lib/event_emitter\", \"ace/lib/useragent\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var dom = require(\"./lib/dom\");\n\n          var config = require(\"./config\");\n\n          var GutterLayer = require(\"./layer/gutter\").Gutter;\n\n          var MarkerLayer = require(\"./layer/marker\").Marker;\n\n          var TextLayer = require(\"./layer/text\").Text;\n\n          var CursorLayer = require(\"./layer/cursor\").Cursor;\n\n          var HScrollBar = require(\"./scrollbar\").HScrollBar;\n\n          var VScrollBar = require(\"./scrollbar\").VScrollBar;\n\n          var RenderLoop = require(\"./renderloop\").RenderLoop;\n\n          var FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nperspective: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\nopacity: 0.7;\\\ntransform-origin: left;\\\ntext-indent: 10px;\\\n}\";\n\n          var useragent = require(\"./lib/useragent\");\n\n          var HIDE_TEXTAREA = useragent.isIE;\n          dom.importCssString(editorCss, \"ace_editor.css\");\n\n          var VirtualRenderer = function VirtualRenderer(container, theme) {\n            var _self = this;\n\n            this.container = container || dom.createElement(\"div\");\n            dom.addCssClass(this.container, \"ace_editor\");\n            if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n            this.setTheme(theme);\n            this.$gutter = dom.createElement(\"div\");\n            this.$gutter.className = \"ace_gutter\";\n            this.container.appendChild(this.$gutter);\n            this.$gutter.setAttribute(\"aria-hidden\", true);\n            this.scroller = dom.createElement(\"div\");\n            this.scroller.className = \"ace_scroller\";\n            this.container.appendChild(this.scroller);\n            this.content = dom.createElement(\"div\");\n            this.content.className = \"ace_content\";\n            this.scroller.appendChild(this.content);\n            this.$gutterLayer = new GutterLayer(this.$gutter);\n            this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n            this.$markerBack = new MarkerLayer(this.content);\n            var textLayer = this.$textLayer = new TextLayer(this.content);\n            this.canvas = textLayer.element;\n            this.$markerFront = new MarkerLayer(this.content);\n            this.$cursorLayer = new CursorLayer(this.content);\n            this.$horizScroll = false;\n            this.$vScroll = false;\n            this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);\n            this.scrollBarH = new HScrollBar(this.container, this);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n              if (!_self.$scrollAnimation) _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n              if (!_self.$scrollAnimation) _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n            this.scrollTop = 0;\n            this.scrollLeft = 0;\n            this.cursorPos = {\n              row: 0,\n              column: 0\n            };\n            this.$fontMetrics = new FontMetrics(this.container);\n            this.$textLayer.$setFontMetrics(this.$fontMetrics);\n            this.$textLayer.addEventListener(\"changeCharacterSize\", function (e) {\n              _self.updateCharacterSize();\n\n              _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n\n              _self._signal(\"changeCharacterSize\", e);\n            });\n            this.$size = {\n              width: 0,\n              height: 0,\n              scrollerHeight: 0,\n              scrollerWidth: 0,\n              $dirty: true\n            };\n            this.layerConfig = {\n              width: 1,\n              padding: 0,\n              firstRow: 0,\n              firstRowScreen: 0,\n              lastRow: 0,\n              lineHeight: 0,\n              characterWidth: 0,\n              minHeight: 1,\n              maxHeight: 1,\n              offset: 0,\n              height: 1,\n              gutterOffset: 1\n            };\n            this.scrollMargin = {\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n              v: 0,\n              h: 0\n            };\n            this.margin = {\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n              v: 0,\n              h: 0\n            };\n            this.$keepTextAreaAtCursor = !useragent.isIOS;\n            this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.updateCharacterSize();\n            this.setPadding(4);\n            config.resetOptions(this);\n\n            config._signal(\"renderer\", this);\n          };\n\n          (function () {\n            this.CHANGE_CURSOR = 1;\n            this.CHANGE_MARKER = 2;\n            this.CHANGE_GUTTER = 4;\n            this.CHANGE_SCROLL = 8;\n            this.CHANGE_LINES = 16;\n            this.CHANGE_TEXT = 32;\n            this.CHANGE_SIZE = 64;\n            this.CHANGE_MARKER_BACK = 128;\n            this.CHANGE_MARKER_FRONT = 256;\n            this.CHANGE_FULL = 512;\n            this.CHANGE_H_SCROLL = 1024;\n            oop.implement(this, EventEmitter);\n\n            this.updateCharacterSize = function () {\n              if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n                this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n                this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n              }\n\n              this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();\n              this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();\n              this.$updatePrintMargin();\n              dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n            };\n\n            this.setSession = function (session) {\n              if (this.session) this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n              this.session = session;\n              if (session && this.scrollMargin.top && session.getScrollTop() <= 0) session.setScrollTop(-this.scrollMargin.top);\n              this.$cursorLayer.setSession(session);\n              this.$markerBack.setSession(session);\n              this.$markerFront.setSession(session);\n              this.$gutterLayer.setSession(session);\n              this.$textLayer.setSession(session);\n              if (!session) return;\n              this.$loop.schedule(this.CHANGE_FULL);\n              this.session.$setFontMetrics(this.$fontMetrics);\n              this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n              this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n              this.onChangeNewLineMode();\n              this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n            };\n\n            this.updateLines = function (firstRow, lastRow, force) {\n              if (lastRow === undefined) lastRow = Infinity;\n\n              if (!this.$changedLines) {\n                this.$changedLines = {\n                  firstRow: firstRow,\n                  lastRow: lastRow\n                };\n              } else {\n                if (this.$changedLines.firstRow > firstRow) this.$changedLines.firstRow = firstRow;\n                if (this.$changedLines.lastRow < lastRow) this.$changedLines.lastRow = lastRow;\n              }\n\n              if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n                if (force) this.$changedLines.lastRow = this.layerConfig.lastRow;else return;\n              }\n\n              if (this.$changedLines.firstRow > this.layerConfig.lastRow) return;\n              this.$loop.schedule(this.CHANGE_LINES);\n            };\n\n            this.onChangeNewLineMode = function () {\n              this.$loop.schedule(this.CHANGE_TEXT);\n              this.$textLayer.$updateEolChar();\n              this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n            };\n\n            this.onChangeTabSize = function () {\n              this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n              this.$textLayer.onChangeTabSize();\n            };\n\n            this.updateText = function () {\n              this.$loop.schedule(this.CHANGE_TEXT);\n            };\n\n            this.updateFull = function (force) {\n              if (force) this.$renderChanges(this.CHANGE_FULL, true);else this.$loop.schedule(this.CHANGE_FULL);\n            };\n\n            this.updateFontSize = function () {\n              this.$textLayer.checkForSizeChanges();\n            };\n\n            this.$changes = 0;\n\n            this.$updateSizeAsync = function () {\n              if (this.$loop.pending) this.$size.$dirty = true;else this.onResize();\n            };\n\n            this.onResize = function (force, gutterWidth, width, height) {\n              if (this.resizing > 2) return;else if (this.resizing > 0) this.resizing++;else this.resizing = force ? 1 : 0;\n              var el = this.container;\n              if (!height) height = el.clientHeight || el.scrollHeight;\n              if (!width) width = el.clientWidth || el.scrollWidth;\n              var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n              if (!this.$size.scrollerHeight || !width && !height) return this.resizing = 0;\n              if (force) this.$gutterLayer.$padding = null;\n              if (force) this.$renderChanges(changes | this.$changes, true);else this.$loop.schedule(changes | this.$changes);\n              if (this.resizing) this.resizing = 0;\n              this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n            };\n\n            this.$updateCachedSize = function (force, gutterWidth, width, height) {\n              height -= this.$extraHeight || 0;\n              var changes = 0;\n              var size = this.$size;\n              var oldSize = {\n                width: size.width,\n                height: size.height,\n                scrollerHeight: size.scrollerHeight,\n                scrollerWidth: size.scrollerWidth\n              };\n\n              if (height && (force || size.height != height)) {\n                size.height = height;\n                changes |= this.CHANGE_SIZE;\n                size.scrollerHeight = size.height;\n                if (this.$horizScroll) size.scrollerHeight -= this.scrollBarH.getHeight();\n                this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n                changes = changes | this.CHANGE_SCROLL;\n              }\n\n              if (width && (force || size.width != width)) {\n                changes |= this.CHANGE_SIZE;\n                size.width = width;\n                if (gutterWidth == null) gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n                this.gutterWidth = gutterWidth;\n                dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n                dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n                size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n                dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n                var right = this.scrollBarV.getWidth() + \"px\";\n                dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n                dom.setStyle(this.scroller.style, \"right\", right);\n                dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n                if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                  changes |= this.CHANGE_FULL;\n                }\n              }\n\n              size.$dirty = !width || !height;\n              if (changes) this._signal(\"resize\", oldSize);\n              return changes;\n            };\n\n            this.onGutterResize = function (width) {\n              var gutterWidth = this.$showGutter ? width : 0;\n              if (gutterWidth != this.gutterWidth) this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n              if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n                this.$loop.schedule(this.CHANGE_FULL);\n              } else if (this.$size.$dirty) {\n                this.$loop.schedule(this.CHANGE_FULL);\n              } else {\n                this.$computeLayerConfig();\n              }\n            };\n\n            this.adjustWrapLimit = function () {\n              var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n              var limit = Math.floor(availableWidth / this.characterWidth);\n              return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n            };\n\n            this.setAnimatedScroll = function (shouldAnimate) {\n              this.setOption(\"animatedScroll\", shouldAnimate);\n            };\n\n            this.getAnimatedScroll = function () {\n              return this.$animatedScroll;\n            };\n\n            this.setShowInvisibles = function (showInvisibles) {\n              this.setOption(\"showInvisibles\", showInvisibles);\n              this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n            };\n\n            this.getShowInvisibles = function () {\n              return this.getOption(\"showInvisibles\");\n            };\n\n            this.getDisplayIndentGuides = function () {\n              return this.getOption(\"displayIndentGuides\");\n            };\n\n            this.setDisplayIndentGuides = function (display) {\n              this.setOption(\"displayIndentGuides\", display);\n            };\n\n            this.setShowPrintMargin = function (showPrintMargin) {\n              this.setOption(\"showPrintMargin\", showPrintMargin);\n            };\n\n            this.getShowPrintMargin = function () {\n              return this.getOption(\"showPrintMargin\");\n            };\n\n            this.setPrintMarginColumn = function (showPrintMargin) {\n              this.setOption(\"printMarginColumn\", showPrintMargin);\n            };\n\n            this.getPrintMarginColumn = function () {\n              return this.getOption(\"printMarginColumn\");\n            };\n\n            this.getShowGutter = function () {\n              return this.getOption(\"showGutter\");\n            };\n\n            this.setShowGutter = function (show) {\n              return this.setOption(\"showGutter\", show);\n            };\n\n            this.getFadeFoldWidgets = function () {\n              return this.getOption(\"fadeFoldWidgets\");\n            };\n\n            this.setFadeFoldWidgets = function (show) {\n              this.setOption(\"fadeFoldWidgets\", show);\n            };\n\n            this.setHighlightGutterLine = function (shouldHighlight) {\n              this.setOption(\"highlightGutterLine\", shouldHighlight);\n            };\n\n            this.getHighlightGutterLine = function () {\n              return this.getOption(\"highlightGutterLine\");\n            };\n\n            this.$updatePrintMargin = function () {\n              if (!this.$showPrintMargin && !this.$printMarginEl) return;\n\n              if (!this.$printMarginEl) {\n                var containerEl = dom.createElement(\"div\");\n                containerEl.className = \"ace_layer ace_print-margin-layer\";\n                this.$printMarginEl = dom.createElement(\"div\");\n                this.$printMarginEl.className = \"ace_print-margin\";\n                containerEl.appendChild(this.$printMarginEl);\n                this.content.insertBefore(containerEl, this.content.firstChild);\n              }\n\n              var style = this.$printMarginEl.style;\n              style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n              style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n              if (this.session && this.session.$wrap == -1) this.adjustWrapLimit();\n            };\n\n            this.getContainerElement = function () {\n              return this.container;\n            };\n\n            this.getMouseEventTarget = function () {\n              return this.scroller;\n            };\n\n            this.getTextAreaContainer = function () {\n              return this.container;\n            };\n\n            this.$moveTextAreaToCursor = function () {\n              if (this.$isMousePressed) return;\n              var style = this.textarea.style;\n              var composition = this.$composition;\n\n              if (!this.$keepTextAreaAtCursor && !composition) {\n                dom.translate(this.textarea, -100, 0);\n                return;\n              }\n\n              var pixelPos = this.$cursorLayer.$pixelPos;\n              if (!pixelPos) return;\n              if (composition && composition.markerRange) pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n              var config = this.layerConfig;\n              var posTop = pixelPos.top;\n              var posLeft = pixelPos.left;\n              posTop -= config.offset;\n              var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n\n              if (posTop < 0 || posTop > config.height - h) {\n                dom.translate(this.textarea, 0, 0);\n                return;\n              }\n\n              var w = 1;\n              var maxTop = this.$size.height - h;\n\n              if (!composition) {\n                posTop += this.lineHeight;\n              } else {\n                if (composition.useTextareaForIME) {\n                  var val = this.textarea.value;\n                  w = this.characterWidth * this.session.$getStringScreenWidth(val)[0];\n                } else {\n                  posTop += this.lineHeight + 2;\n                }\n              }\n\n              posLeft -= this.scrollLeft;\n              if (posLeft > this.$size.scrollerWidth - w) posLeft = this.$size.scrollerWidth - w;\n              posLeft += this.gutterWidth + this.margin.left;\n              dom.setStyle(style, \"height\", h + \"px\");\n              dom.setStyle(style, \"width\", w + \"px\");\n              dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n            };\n\n            this.getFirstVisibleRow = function () {\n              return this.layerConfig.firstRow;\n            };\n\n            this.getFirstFullyVisibleRow = function () {\n              return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n            };\n\n            this.getLastFullyVisibleRow = function () {\n              var config = this.layerConfig;\n              var lastRow = config.lastRow;\n              var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n              if (top - this.session.getScrollTop() > config.height - config.lineHeight) return lastRow - 1;\n              return lastRow;\n            };\n\n            this.getLastVisibleRow = function () {\n              return this.layerConfig.lastRow;\n            };\n\n            this.$padding = null;\n\n            this.setPadding = function (padding) {\n              this.$padding = padding;\n              this.$textLayer.setPadding(padding);\n              this.$cursorLayer.setPadding(padding);\n              this.$markerFront.setPadding(padding);\n              this.$markerBack.setPadding(padding);\n              this.$loop.schedule(this.CHANGE_FULL);\n              this.$updatePrintMargin();\n            };\n\n            this.setScrollMargin = function (top, bottom, left, right) {\n              var sm = this.scrollMargin;\n              sm.top = top | 0;\n              sm.bottom = bottom | 0;\n              sm.right = right | 0;\n              sm.left = left | 0;\n              sm.v = sm.top + sm.bottom;\n              sm.h = sm.left + sm.right;\n              if (sm.top && this.scrollTop <= 0 && this.session) this.session.setScrollTop(-sm.top);\n              this.updateFull();\n            };\n\n            this.setMargin = function (top, bottom, left, right) {\n              var sm = this.margin;\n              sm.top = top | 0;\n              sm.bottom = bottom | 0;\n              sm.right = right | 0;\n              sm.left = left | 0;\n              sm.v = sm.top + sm.bottom;\n              sm.h = sm.left + sm.right;\n              this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n              this.updateFull();\n            };\n\n            this.getHScrollBarAlwaysVisible = function () {\n              return this.$hScrollBarAlwaysVisible;\n            };\n\n            this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n              this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n            };\n\n            this.getVScrollBarAlwaysVisible = function () {\n              return this.$vScrollBarAlwaysVisible;\n            };\n\n            this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n              this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n            };\n\n            this.$updateScrollBarV = function () {\n              var scrollHeight = this.layerConfig.maxHeight;\n              var scrollerHeight = this.$size.scrollerHeight;\n\n              if (!this.$maxLines && this.$scrollPastEnd) {\n                scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n\n                if (this.scrollTop > scrollHeight - scrollerHeight) {\n                  scrollHeight = this.scrollTop + scrollerHeight;\n                  this.scrollBarV.scrollTop = null;\n                }\n              }\n\n              this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n              this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n            };\n\n            this.$updateScrollBarH = function () {\n              this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n              this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n            };\n\n            this.$frozen = false;\n\n            this.freeze = function () {\n              this.$frozen = true;\n            };\n\n            this.unfreeze = function () {\n              this.$frozen = false;\n            };\n\n            this.$renderChanges = function (changes, force) {\n              if (this.$changes) {\n                changes |= this.$changes;\n                this.$changes = 0;\n              }\n\n              if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {\n                this.$changes |= changes;\n                return;\n              }\n\n              if (this.$size.$dirty) {\n                this.$changes |= changes;\n                return this.onResize(true);\n              }\n\n              if (!this.lineHeight) {\n                this.$textLayer.checkForSizeChanges();\n              }\n\n              this._signal(\"beforeRender\");\n\n              if (this.session && this.session.$bidiHandler) this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n              var config = this.layerConfig;\n\n              if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {\n                changes |= this.$computeLayerConfig() | this.$loop.clear();\n\n                if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                  var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n\n                  if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                  }\n                }\n\n                config = this.layerConfig;\n                this.$updateScrollBarV();\n                if (changes & this.CHANGE_H_SCROLL) this.$updateScrollBarH();\n                dom.translate(this.content, -this.scrollLeft, -config.offset);\n                var width = config.width + 2 * this.$padding + \"px\";\n                var height = config.minHeight + \"px\";\n                dom.setStyle(this.content.style, \"width\", width);\n                dom.setStyle(this.content.style, \"height\", height);\n              }\n\n              if (changes & this.CHANGE_H_SCROLL) {\n                dom.translate(this.content, -this.scrollLeft, -config.offset);\n                this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n              }\n\n              if (changes & this.CHANGE_FULL) {\n                this.$changedLines = null;\n                this.$textLayer.update(config);\n                if (this.$showGutter) this.$gutterLayer.update(config);\n                this.$markerBack.update(config);\n                this.$markerFront.update(config);\n                this.$cursorLayer.update(config);\n                this.$moveTextAreaToCursor();\n\n                this._signal(\"afterRender\");\n\n                return;\n              }\n\n              if (changes & this.CHANGE_SCROLL) {\n                this.$changedLines = null;\n                if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES) this.$textLayer.update(config);else this.$textLayer.scrollLines(config);\n\n                if (this.$showGutter) {\n                  if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES) this.$gutterLayer.update(config);else this.$gutterLayer.scrollLines(config);\n                }\n\n                this.$markerBack.update(config);\n                this.$markerFront.update(config);\n                this.$cursorLayer.update(config);\n                this.$moveTextAreaToCursor();\n\n                this._signal(\"afterRender\");\n\n                return;\n              }\n\n              if (changes & this.CHANGE_TEXT) {\n                this.$changedLines = null;\n                this.$textLayer.update(config);\n                if (this.$showGutter) this.$gutterLayer.update(config);\n              } else if (changes & this.CHANGE_LINES) {\n                if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter) this.$gutterLayer.update(config);\n              } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n                if (this.$showGutter) this.$gutterLayer.update(config);\n              } else if (changes & this.CHANGE_CURSOR) {\n                if (this.$highlightGutterLine) this.$gutterLayer.updateLineHighlight(config);\n              }\n\n              if (changes & this.CHANGE_CURSOR) {\n                this.$cursorLayer.update(config);\n                this.$moveTextAreaToCursor();\n              }\n\n              if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n                this.$markerFront.update(config);\n              }\n\n              if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n                this.$markerBack.update(config);\n              }\n\n              this._signal(\"afterRender\");\n            };\n\n            this.$autosize = function () {\n              var height = this.session.getScreenLength() * this.lineHeight;\n              var maxHeight = this.$maxLines * this.lineHeight;\n              var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n              if (this.$horizScroll) desiredHeight += this.scrollBarH.getHeight();\n              if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight) desiredHeight = this.$maxPixelHeight;\n              var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n              var vScroll = !hideScrollbars && height > maxHeight;\n\n              if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n                if (vScroll != this.$vScroll) {\n                  this.$vScroll = vScroll;\n                  this.scrollBarV.setVisible(vScroll);\n                }\n\n                var w = this.container.clientWidth;\n                this.container.style.height = desiredHeight + \"px\";\n                this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n                this.desiredHeight = desiredHeight;\n\n                this._signal(\"autosize\");\n              }\n            };\n\n            this.$computeLayerConfig = function () {\n              var session = this.session;\n              var size = this.$size;\n              var hideScrollbars = size.height <= 2 * this.lineHeight;\n              var screenLines = this.session.getScreenLength();\n              var maxHeight = screenLines * this.lineHeight;\n              var longestLine = this.$getLongestLine();\n              var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n              var hScrollChanged = this.$horizScroll !== horizScroll;\n\n              if (hScrollChanged) {\n                this.$horizScroll = horizScroll;\n                this.scrollBarH.setVisible(horizScroll);\n              }\n\n              var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n\n              if (this.$maxLines && this.lineHeight > 1) this.$autosize();\n              var minHeight = size.scrollerHeight + this.lineHeight;\n              var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;\n              maxHeight += scrollPastEnd;\n              var sm = this.scrollMargin;\n              this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n              this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n              var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n              var vScrollChanged = vScrollBefore !== vScroll;\n\n              if (vScrollChanged) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n              }\n\n              var offset = this.scrollTop % this.lineHeight;\n              var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n              var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n              var lastRow = firstRow + lineCount;\n              var firstRowScreen, firstRowHeight;\n              var lineHeight = this.lineHeight;\n              firstRow = session.screenToDocumentRow(firstRow, 0);\n              var foldLine = session.getFoldLine(firstRow);\n\n              if (foldLine) {\n                firstRow = foldLine.start.row;\n              }\n\n              firstRowScreen = session.documentToScreenRow(firstRow, 0);\n              firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n              lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n              minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;\n              offset = this.scrollTop - firstRowScreen * lineHeight;\n              var changes = 0;\n              if (this.layerConfig.width != longestLine || hScrollChanged) changes = this.CHANGE_H_SCROLL;\n\n              if (hScrollChanged || vScrollChanged) {\n                changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n\n                this._signal(\"scrollbarVisibilityChanged\");\n\n                if (vScrollChanged) longestLine = this.$getLongestLine();\n              }\n\n              this.layerConfig = {\n                width: longestLine,\n                padding: this.$padding,\n                firstRow: firstRow,\n                firstRowScreen: firstRowScreen,\n                lastRow: lastRow,\n                lineHeight: lineHeight,\n                characterWidth: this.characterWidth,\n                minHeight: minHeight,\n                maxHeight: maxHeight,\n                offset: offset,\n                gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n                height: this.$size.scrollerHeight\n              };\n              if (this.session.$bidiHandler) this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n              return changes;\n            };\n\n            this.$updateLines = function () {\n              if (!this.$changedLines) return;\n              var firstRow = this.$changedLines.firstRow;\n              var lastRow = this.$changedLines.lastRow;\n              this.$changedLines = null;\n              var layerConfig = this.layerConfig;\n\n              if (firstRow > layerConfig.lastRow + 1) {\n                return;\n              }\n\n              if (lastRow < layerConfig.firstRow) {\n                return;\n              }\n\n              if (lastRow === Infinity) {\n                if (this.$showGutter) this.$gutterLayer.update(layerConfig);\n                this.$textLayer.update(layerConfig);\n                return;\n              }\n\n              this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n              return true;\n            };\n\n            this.$getLongestLine = function () {\n              var charCount = this.session.getScreenWidth();\n              if (this.showInvisibles && !this.session.$useWrapMode) charCount += 1;\n              if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH) charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n              return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n            };\n\n            this.updateFrontMarkers = function () {\n              this.$markerFront.setMarkers(this.session.getMarkers(true));\n              this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n            };\n\n            this.updateBackMarkers = function () {\n              this.$markerBack.setMarkers(this.session.getMarkers());\n              this.$loop.schedule(this.CHANGE_MARKER_BACK);\n            };\n\n            this.addGutterDecoration = function (row, className) {\n              this.$gutterLayer.addGutterDecoration(row, className);\n            };\n\n            this.removeGutterDecoration = function (row, className) {\n              this.$gutterLayer.removeGutterDecoration(row, className);\n            };\n\n            this.updateBreakpoints = function (rows) {\n              this.$loop.schedule(this.CHANGE_GUTTER);\n            };\n\n            this.setAnnotations = function (annotations) {\n              this.$gutterLayer.setAnnotations(annotations);\n              this.$loop.schedule(this.CHANGE_GUTTER);\n            };\n\n            this.updateCursor = function () {\n              this.$loop.schedule(this.CHANGE_CURSOR);\n            };\n\n            this.hideCursor = function () {\n              this.$cursorLayer.hideCursor();\n            };\n\n            this.showCursor = function () {\n              this.$cursorLayer.showCursor();\n            };\n\n            this.scrollSelectionIntoView = function (anchor, lead, offset) {\n              this.scrollCursorIntoView(anchor, offset);\n              this.scrollCursorIntoView(lead, offset);\n            };\n\n            this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n              if (this.$size.scrollerHeight === 0) return;\n              var pos = this.$cursorLayer.getPixelPosition(cursor);\n              var left = pos.left;\n              var top = pos.top;\n              var topMargin = $viewMargin && $viewMargin.top || 0;\n              var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n              var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n\n              if (scrollTop + topMargin > top) {\n                if (offset && scrollTop + topMargin > top + this.lineHeight) top -= offset * this.$size.scrollerHeight;\n                if (top === 0) top = -this.scrollMargin.top;\n                this.session.setScrollTop(top);\n              } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n                if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top - this.lineHeight) top += offset * this.$size.scrollerHeight;\n                this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n              }\n\n              var scrollLeft = this.scrollLeft;\n\n              if (scrollLeft > left) {\n                if (left < this.$padding + 2 * this.layerConfig.characterWidth) left = -this.scrollMargin.left;\n                this.session.setScrollLeft(left);\n              } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n                this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n              } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n                this.session.setScrollLeft(0);\n              }\n            };\n\n            this.getScrollTop = function () {\n              return this.session.getScrollTop();\n            };\n\n            this.getScrollLeft = function () {\n              return this.session.getScrollLeft();\n            };\n\n            this.getScrollTopRow = function () {\n              return this.scrollTop / this.lineHeight;\n            };\n\n            this.getScrollBottomRow = function () {\n              return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n            };\n\n            this.scrollToRow = function (row) {\n              this.session.setScrollTop(row * this.lineHeight);\n            };\n\n            this.alignCursor = function (cursor, alignment) {\n              if (typeof cursor == \"number\") cursor = {\n                row: cursor,\n                column: 0\n              };\n              var pos = this.$cursorLayer.getPixelPosition(cursor);\n              var h = this.$size.scrollerHeight - this.lineHeight;\n              var offset = pos.top - h * (alignment || 0);\n              this.session.setScrollTop(offset);\n              return offset;\n            };\n\n            this.STEPS = 8;\n\n            this.$calcSteps = function (fromValue, toValue) {\n              var i = 0;\n              var l = this.STEPS;\n              var steps = [];\n\n              var func = function func(t, x_min, dx) {\n                return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n              };\n\n              for (i = 0; i < l; ++i) {\n                steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n              }\n\n              return steps;\n            };\n\n            this.scrollToLine = function (line, center, animate, callback) {\n              var pos = this.$cursorLayer.getPixelPosition({\n                row: line,\n                column: 0\n              });\n              var offset = pos.top;\n              if (center) offset -= this.$size.scrollerHeight / 2;\n              var initialScroll = this.scrollTop;\n              this.session.setScrollTop(offset);\n              if (animate !== false) this.animateScrolling(initialScroll, callback);\n            };\n\n            this.animateScrolling = function (fromValue, callback) {\n              var toValue = this.scrollTop;\n              if (!this.$animatedScroll) return;\n\n              var _self = this;\n\n              if (fromValue == toValue) return;\n\n              if (this.$scrollAnimation) {\n                var oldSteps = this.$scrollAnimation.steps;\n\n                if (oldSteps.length) {\n                  fromValue = oldSteps[0];\n                  if (fromValue == toValue) return;\n                }\n              }\n\n              var steps = _self.$calcSteps(fromValue, toValue);\n\n              this.$scrollAnimation = {\n                from: fromValue,\n                to: toValue,\n                steps: steps\n              };\n              clearInterval(this.$timer);\n\n              _self.session.setScrollTop(steps.shift());\n\n              _self.session.$scrollTop = toValue;\n              this.$timer = setInterval(function () {\n                if (steps.length) {\n                  _self.session.setScrollTop(steps.shift());\n\n                  _self.session.$scrollTop = toValue;\n                } else if (toValue != null) {\n                  _self.session.$scrollTop = -1;\n\n                  _self.session.setScrollTop(toValue);\n\n                  toValue = null;\n                } else {\n                  _self.$timer = clearInterval(_self.$timer);\n                  _self.$scrollAnimation = null;\n                  callback && callback();\n                }\n              }, 10);\n            };\n\n            this.scrollToY = function (scrollTop) {\n              if (this.scrollTop !== scrollTop) {\n                this.$loop.schedule(this.CHANGE_SCROLL);\n                this.scrollTop = scrollTop;\n              }\n            };\n\n            this.scrollToX = function (scrollLeft) {\n              if (this.scrollLeft !== scrollLeft) this.scrollLeft = scrollLeft;\n              this.$loop.schedule(this.CHANGE_H_SCROLL);\n            };\n\n            this.scrollTo = function (x, y) {\n              this.session.setScrollTop(y);\n              this.session.setScrollLeft(y);\n            };\n\n            this.scrollBy = function (deltaX, deltaY) {\n              deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n              deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n            };\n\n            this.isScrollableBy = function (deltaX, deltaY) {\n              if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top) return true;\n              if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom) return true;\n              if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left) return true;\n              if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right) return true;\n            };\n\n            this.pixelToScreenCoordinates = function (x, y) {\n              var canvasPos;\n\n              if (this.$hasCssTransforms) {\n                canvasPos = {\n                  top: 0,\n                  left: 0\n                };\n                var p = this.$fontMetrics.transformCoordinates([x, y]);\n                x = p[1] - this.gutterWidth - this.margin.left;\n                y = p[0];\n              } else {\n                canvasPos = this.scroller.getBoundingClientRect();\n              }\n\n              var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n              var offset = offsetX / this.characterWidth;\n              var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n              var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n              return {\n                row: row,\n                column: col,\n                side: offset - col > 0 ? 1 : -1,\n                offsetX: offsetX\n              };\n            };\n\n            this.screenToTextCoordinates = function (x, y) {\n              var canvasPos;\n\n              if (this.$hasCssTransforms) {\n                canvasPos = {\n                  top: 0,\n                  left: 0\n                };\n                var p = this.$fontMetrics.transformCoordinates([x, y]);\n                x = p[1] - this.gutterWidth - this.margin.left;\n                y = p[0];\n              } else {\n                canvasPos = this.scroller.getBoundingClientRect();\n              }\n\n              var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n              var offset = offsetX / this.characterWidth;\n              var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n              var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n              return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n            };\n\n            this.textToScreenCoordinates = function (row, column) {\n              var canvasPos = this.scroller.getBoundingClientRect();\n              var pos = this.session.documentToScreenPosition(row, column);\n              var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));\n              var y = pos.row * this.lineHeight;\n              return {\n                pageX: canvasPos.left + x - this.scrollLeft,\n                pageY: canvasPos.top + y - this.scrollTop\n              };\n            };\n\n            this.visualizeFocus = function () {\n              dom.addCssClass(this.container, \"ace_focus\");\n            };\n\n            this.visualizeBlur = function () {\n              dom.removeCssClass(this.container, \"ace_focus\");\n            };\n\n            this.showComposition = function (composition) {\n              this.$composition = composition;\n\n              if (!composition.cssText) {\n                composition.cssText = this.textarea.style.cssText;\n              }\n\n              composition.useTextareaForIME = this.$useTextareaForIME;\n\n              if (this.$useTextareaForIME) {\n                dom.addCssClass(this.textarea, \"ace_composition\");\n                this.textarea.style.cssText = \"\";\n                this.$moveTextAreaToCursor();\n                this.$cursorLayer.element.style.display = \"none\";\n              } else {\n                composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n              }\n            };\n\n            this.setCompositionText = function (text) {\n              var cursor = this.session.selection.cursor;\n              this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n              this.$moveTextAreaToCursor();\n            };\n\n            this.hideComposition = function () {\n              if (!this.$composition) return;\n              if (this.$composition.markerId) this.session.removeMarker(this.$composition.markerId);\n              dom.removeCssClass(this.textarea, \"ace_composition\");\n              this.textarea.style.cssText = this.$composition.cssText;\n              this.$composition = null;\n              this.$cursorLayer.element.style.display = \"\";\n            };\n\n            this.addToken = function (text, type, row, column) {\n              var session = this.session;\n              session.bgTokenizer.lines[row] = null;\n              var newToken = {\n                type: type,\n                value: text\n              };\n              var tokens = session.getTokens(row);\n\n              if (column == null) {\n                tokens.push(newToken);\n              } else {\n                var l = 0;\n\n                for (var i = 0; i < tokens.length; i++) {\n                  var token = tokens[i];\n                  l += token.value.length;\n\n                  if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n                    tokens.splice(i, 1, {\n                      type: token.type,\n                      value: before\n                    }, newToken, {\n                      type: token.type,\n                      value: after\n                    });\n                    break;\n                  }\n                }\n              }\n\n              this.updateLines(row, row);\n            };\n\n            this.setTheme = function (theme, cb) {\n              var _self = this;\n\n              this.$themeId = theme;\n\n              _self._dispatchEvent('themeChange', {\n                theme: theme\n              });\n\n              if (!theme || typeof theme == \"string\") {\n                var moduleName = theme || this.$options.theme.initialValue;\n                config.loadModule([\"theme\", moduleName], afterLoad);\n              } else {\n                afterLoad(theme);\n              }\n\n              function afterLoad(module) {\n                if (_self.$themeId != theme) return cb && cb();\n                if (!module || !module.cssClass) throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n                if (module.$id) _self.$themeId = module.$id;\n                dom.importCssString(module.cssText, module.cssClass, _self.container);\n                if (_self.theme) dom.removeCssClass(_self.container, _self.theme.cssClass);\n                var padding = \"padding\" in module ? module.padding : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n                if (_self.$padding && padding != _self.$padding) _self.setPadding(padding);\n                _self.$theme = module.cssClass;\n                _self.theme = module;\n                dom.addCssClass(_self.container, module.cssClass);\n                dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n\n                if (_self.$size) {\n                  _self.$size.width = 0;\n\n                  _self.$updateSizeAsync();\n                }\n\n                _self._dispatchEvent('themeLoaded', {\n                  theme: module\n                });\n\n                cb && cb();\n              }\n            };\n\n            this.getTheme = function () {\n              return this.$themeId;\n            };\n\n            this.setStyle = function (style, include) {\n              dom.setCssClass(this.container, style, include !== false);\n            };\n\n            this.unsetStyle = function (style) {\n              dom.removeCssClass(this.container, style);\n            };\n\n            this.setCursorStyle = function (style) {\n              dom.setStyle(this.scroller.style, \"cursor\", style);\n            };\n\n            this.setMouseCursor = function (cursorStyle) {\n              dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n            };\n\n            this.attachToShadowRoot = function () {\n              dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n            };\n\n            this.destroy = function () {\n              this.freeze();\n              this.$fontMetrics.destroy();\n              this.$cursorLayer.destroy();\n            };\n          }).call(VirtualRenderer.prototype);\n          config.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n            animatedScroll: {\n              initialValue: false\n            },\n            showInvisibles: {\n              set: function set(value) {\n                if (this.$textLayer.setShowInvisibles(value)) this.$loop.schedule(this.CHANGE_TEXT);\n              },\n              initialValue: false\n            },\n            showPrintMargin: {\n              set: function set() {\n                this.$updatePrintMargin();\n              },\n              initialValue: true\n            },\n            printMarginColumn: {\n              set: function set() {\n                this.$updatePrintMargin();\n              },\n              initialValue: 80\n            },\n            printMargin: {\n              set: function set(val) {\n                if (typeof val == \"number\") this.$printMarginColumn = val;\n                this.$showPrintMargin = !!val;\n                this.$updatePrintMargin();\n              },\n              get: function get() {\n                return this.$showPrintMargin && this.$printMarginColumn;\n              }\n            },\n            showGutter: {\n              set: function set(show) {\n                this.$gutter.style.display = show ? \"block\" : \"none\";\n                this.$loop.schedule(this.CHANGE_FULL);\n                this.onGutterResize();\n              },\n              initialValue: true\n            },\n            fadeFoldWidgets: {\n              set: function set(show) {\n                dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n              },\n              initialValue: false\n            },\n            showFoldWidgets: {\n              set: function set(show) {\n                this.$gutterLayer.setShowFoldWidgets(show);\n                this.$loop.schedule(this.CHANGE_GUTTER);\n              },\n              initialValue: true\n            },\n            displayIndentGuides: {\n              set: function set(show) {\n                if (this.$textLayer.setDisplayIndentGuides(show)) this.$loop.schedule(this.CHANGE_TEXT);\n              },\n              initialValue: true\n            },\n            highlightGutterLine: {\n              set: function set(shouldHighlight) {\n                this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n                this.$loop.schedule(this.CHANGE_GUTTER);\n              },\n              initialValue: true\n            },\n            hScrollBarAlwaysVisible: {\n              set: function set(val) {\n                if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n              },\n              initialValue: false\n            },\n            vScrollBarAlwaysVisible: {\n              set: function set(val) {\n                if (!this.$vScrollBarAlwaysVisible || !this.$vScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n              },\n              initialValue: false\n            },\n            fontSize: {\n              set: function set(size) {\n                if (typeof size == \"number\") size = size + \"px\";\n                this.container.style.fontSize = size;\n                this.updateFontSize();\n              },\n              initialValue: 12\n            },\n            fontFamily: {\n              set: function set(name) {\n                this.container.style.fontFamily = name;\n                this.updateFontSize();\n              }\n            },\n            maxLines: {\n              set: function set(val) {\n                this.updateFull();\n              }\n            },\n            minLines: {\n              set: function set(val) {\n                if (!(this.$minLines < 0x1ffffffffffff)) this.$minLines = 0;\n                this.updateFull();\n              }\n            },\n            maxPixelHeight: {\n              set: function set(val) {\n                this.updateFull();\n              },\n              initialValue: 0\n            },\n            scrollPastEnd: {\n              set: function set(val) {\n                val = +val || 0;\n                if (this.$scrollPastEnd == val) return;\n                this.$scrollPastEnd = val;\n                this.$loop.schedule(this.CHANGE_SCROLL);\n              },\n              initialValue: 0,\n              handlesSet: true\n            },\n            fixedWidthGutter: {\n              set: function set(val) {\n                this.$gutterLayer.$fixedWidth = !!val;\n                this.$loop.schedule(this.CHANGE_GUTTER);\n              }\n            },\n            theme: {\n              set: function set(val) {\n                this.setTheme(val);\n              },\n              get: function get() {\n                return this.$themeId || this.theme;\n              },\n              initialValue: \"./theme/textmate\",\n              handlesSet: true\n            },\n            hasCssTransforms: {},\n            useTextareaForIME: {\n              initialValue: !useragent.isMobile && !useragent.isIE\n            }\n          });\n          exports.VirtualRenderer = VirtualRenderer;\n        });\n        ace.define(\"ace/worker/worker_client\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/event_emitter\", \"ace/config\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../lib/oop\");\n\n          var net = require(\"../lib/net\");\n\n          var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n          var config = require(\"../config\");\n\n          function $workerBlob(workerUrl) {\n            var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n\n            try {\n              return new Blob([script], {\n                \"type\": \"application/javascript\"\n              });\n            } catch (e) {\n              // Backwards-compatibility\n              var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n              var blobBuilder = new BlobBuilder();\n              blobBuilder.append(script);\n              return blobBuilder.getBlob(\"application/javascript\");\n            }\n          }\n\n          function createWorker(workerUrl) {\n            if (typeof Worker == \"undefined\") return {\n              postMessage: function postMessage() {},\n              terminate: function terminate() {}\n            };\n\n            if (config.get(\"loadWorkerFromBlob\")) {\n              var blob = $workerBlob(workerUrl);\n              var URL = window.URL || window.webkitURL;\n              var blobURL = URL.createObjectURL(blob);\n              return new Worker(blobURL);\n            }\n\n            return new Worker(workerUrl);\n          }\n\n          var WorkerClient = function WorkerClient(worker) {\n            if (!worker.postMessage) worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n            this.$worker = worker;\n            this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n            this.changeListener = this.changeListener.bind(this);\n            this.onMessage = this.onMessage.bind(this);\n            this.callbackId = 1;\n            this.callbacks = {};\n            this.$worker.onmessage = this.onMessage;\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.$createWorkerFromOldConfig = function (topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n              if (require.nameToUrl && !require.toUrl) require.toUrl = require.nameToUrl;\n\n              if (config.get(\"packaged\") || !require.toUrl) {\n                workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n              } else {\n                var normalizePath = this.$normalizePath;\n                workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n                var tlns = {};\n                topLevelNamespaces.forEach(function (ns) {\n                  tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n                });\n              }\n\n              this.$worker = createWorker(workerUrl);\n\n              if (importScripts) {\n                this.send(\"importScripts\", importScripts);\n              }\n\n              this.$worker.postMessage({\n                init: true,\n                tlns: tlns,\n                module: mod,\n                classname: classname\n              });\n              return this.$worker;\n            };\n\n            this.onMessage = function (e) {\n              var msg = e.data;\n\n              switch (msg.type) {\n                case \"event\":\n                  this._signal(msg.name, {\n                    data: msg.data\n                  });\n\n                  break;\n\n                case \"call\":\n                  var callback = this.callbacks[msg.id];\n\n                  if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                  }\n\n                  break;\n\n                case \"error\":\n                  this.reportError(msg.data);\n                  break;\n\n                case \"log\":\n                  window.console && console.log && console.log.apply(console, msg.data);\n                  break;\n              }\n            };\n\n            this.reportError = function (err) {\n              window.console && console.error && console.error(err);\n            };\n\n            this.$normalizePath = function (path) {\n              return net.qualifyURL(path);\n            };\n\n            this.terminate = function () {\n              this._signal(\"terminate\", {});\n\n              this.deltaQueue = null;\n              this.$worker.terminate();\n              this.$worker = null;\n              if (this.$doc) this.$doc.off(\"change\", this.changeListener);\n              this.$doc = null;\n            };\n\n            this.send = function (cmd, args) {\n              this.$worker.postMessage({\n                command: cmd,\n                args: args\n              });\n            };\n\n            this.call = function (cmd, args, callback) {\n              if (callback) {\n                var id = this.callbackId++;\n                this.callbacks[id] = callback;\n                args.push(id);\n              }\n\n              this.send(cmd, args);\n            };\n\n            this.emit = function (event, data) {\n              try {\n                if (data.data && data.data.err) data.data.err = {\n                  message: data.data.err.message,\n                  stack: data.data.err.stack,\n                  code: data.data.err.code\n                };\n                this.$worker.postMessage({\n                  event: event,\n                  data: {\n                    data: data.data\n                  }\n                });\n              } catch (ex) {\n                console.error(ex.stack);\n              }\n            };\n\n            this.attachToDocument = function (doc) {\n              if (this.$doc) this.terminate();\n              this.$doc = doc;\n              this.call(\"setValue\", [doc.getValue()]);\n              doc.on(\"change\", this.changeListener);\n            };\n\n            this.changeListener = function (delta) {\n              if (!this.deltaQueue) {\n                this.deltaQueue = [];\n                setTimeout(this.$sendDeltaQueue, 0);\n              }\n\n              if (delta.action == \"insert\") this.deltaQueue.push(delta.start, delta.lines);else this.deltaQueue.push(delta.start, delta.end);\n            };\n\n            this.$sendDeltaQueue = function () {\n              var q = this.deltaQueue;\n              if (!q) return;\n              this.deltaQueue = null;\n\n              if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n                this.call(\"setValue\", [this.$doc.getValue()]);\n              } else this.emit(\"change\", {\n                data: q\n              });\n            };\n          }).call(WorkerClient.prototype);\n\n          var UIWorkerClient = function UIWorkerClient(topLevelNamespaces, mod, classname) {\n            var main = null;\n            var emitSync = false;\n            var sender = Object.create(EventEmitter);\n            var messageBuffer = [];\n            var workerClient = new WorkerClient({\n              messageBuffer: messageBuffer,\n              terminate: function terminate() {},\n              postMessage: function postMessage(e) {\n                messageBuffer.push(e);\n                if (!main) return;\n                if (emitSync) setTimeout(processNext);else processNext();\n              }\n            });\n\n            workerClient.setEmitSync = function (val) {\n              emitSync = val;\n            };\n\n            var processNext = function processNext() {\n              var msg = messageBuffer.shift();\n              if (msg.command) main[msg.command].apply(main, msg.args);else if (msg.event) sender._signal(msg.event, msg.data);\n            };\n\n            sender.postMessage = function (msg) {\n              workerClient.onMessage({\n                data: msg\n              });\n            };\n\n            sender.callback = function (data, callbackId) {\n              this.postMessage({\n                type: \"call\",\n                id: callbackId,\n                data: data\n              });\n            };\n\n            sender.emit = function (name, data) {\n              this.postMessage({\n                type: \"event\",\n                name: name,\n                data: data\n              });\n            };\n\n            config.loadModule([\"worker\", mod], function (Main) {\n              main = new Main[classname](sender);\n\n              while (messageBuffer.length) {\n                processNext();\n              }\n            });\n            return workerClient;\n          };\n\n          exports.UIWorkerClient = UIWorkerClient;\n          exports.WorkerClient = WorkerClient;\n          exports.createWorker = createWorker;\n        });\n        ace.define(\"ace/placeholder\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/lib/oop\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"./range\").Range;\n\n          var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n          var oop = require(\"./lib/oop\");\n\n          var PlaceHolder = function PlaceHolder(session, length, pos, others, mainClass, othersClass) {\n            var _self = this;\n\n            this.length = length;\n            this.session = session;\n            this.doc = session.getDocument();\n            this.mainClass = mainClass;\n            this.othersClass = othersClass;\n            this.$onUpdate = this.onUpdate.bind(this);\n            this.doc.on(\"change\", this.$onUpdate);\n            this.$others = others;\n\n            this.$onCursorChange = function () {\n              setTimeout(function () {\n                _self.onCursorChange();\n              });\n            };\n\n            this.$pos = pos;\n            var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {\n              length: -1\n            };\n            this.$undoStackDepth = undoStack.length;\n            this.setup();\n            session.selection.on(\"changeCursor\", this.$onCursorChange);\n          };\n\n          (function () {\n            oop.implement(this, EventEmitter);\n\n            this.setup = function () {\n              var _self = this;\n\n              var doc = this.doc;\n              var session = this.session;\n              this.selectionBefore = session.selection.toJSON();\n              if (session.selection.inMultiSelectMode) session.selection.toSingleRange();\n              this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n              var pos = this.pos;\n              pos.$insertRight = true;\n              pos.detach();\n              pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n              this.others = [];\n              this.$others.forEach(function (other) {\n                var anchor = doc.createAnchor(other.row, other.column);\n                anchor.$insertRight = true;\n                anchor.detach();\n\n                _self.others.push(anchor);\n              });\n              session.setUndoSelect(false);\n            };\n\n            this.showOtherMarkers = function () {\n              if (this.othersActive) return;\n              var session = this.session;\n\n              var _self = this;\n\n              this.othersActive = true;\n              this.others.forEach(function (anchor) {\n                anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n              });\n            };\n\n            this.hideOtherMarkers = function () {\n              if (!this.othersActive) return;\n              this.othersActive = false;\n\n              for (var i = 0; i < this.others.length; i++) {\n                this.session.removeMarker(this.others[i].markerId);\n              }\n            };\n\n            this.onUpdate = function (delta) {\n              if (this.$updating) return this.updateAnchors(delta);\n              var range = delta;\n              if (range.start.row !== range.end.row) return;\n              if (range.start.row !== this.pos.row) return;\n              this.$updating = true;\n              var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n              var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n              var distanceFromStart = range.start.column - this.pos.column;\n              this.updateAnchors(delta);\n              if (inMainRange) this.length += lengthDiff;\n\n              if (inMainRange && !this.session.$fromUndo) {\n                if (delta.action === 'insert') {\n                  for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {\n                      row: otherPos.row,\n                      column: otherPos.column + distanceFromStart\n                    };\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                  }\n                } else if (delta.action === 'remove') {\n                  for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {\n                      row: otherPos.row,\n                      column: otherPos.column + distanceFromStart\n                    };\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                  }\n                }\n              }\n\n              this.$updating = false;\n              this.updateMarkers();\n            };\n\n            this.updateAnchors = function (delta) {\n              this.pos.onChange(delta);\n\n              for (var i = this.others.length; i--;) {\n                this.others[i].onChange(delta);\n              }\n\n              this.updateMarkers();\n            };\n\n            this.updateMarkers = function () {\n              if (this.$updating) return;\n\n              var _self = this;\n\n              var session = this.session;\n\n              var updateMarker = function updateMarker(pos, className) {\n                session.removeMarker(pos.markerId);\n                pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n              };\n\n              updateMarker(this.pos, this.mainClass);\n\n              for (var i = this.others.length; i--;) {\n                updateMarker(this.others[i], this.othersClass);\n              }\n            };\n\n            this.onCursorChange = function (event) {\n              if (this.$updating || !this.session) return;\n              var pos = this.session.selection.getCursor();\n\n              if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n                this.showOtherMarkers();\n\n                this._emit(\"cursorEnter\", event);\n              } else {\n                this.hideOtherMarkers();\n\n                this._emit(\"cursorLeave\", event);\n              }\n            };\n\n            this.detach = function () {\n              this.session.removeMarker(this.pos && this.pos.markerId);\n              this.hideOtherMarkers();\n              this.doc.removeEventListener(\"change\", this.$onUpdate);\n              this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n              this.session.setUndoSelect(true);\n              this.session = null;\n            };\n\n            this.cancel = function () {\n              if (this.$undoStackDepth === -1) return;\n              var undoManager = this.session.getUndoManager();\n              var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n\n              for (var i = 0; i < undosRequired; i++) {\n                undoManager.undo(this.session, true);\n              }\n\n              if (this.selectionBefore) this.session.selection.fromJSON(this.selectionBefore);\n            };\n          }).call(PlaceHolder.prototype);\n          exports.PlaceHolder = PlaceHolder;\n        });\n        ace.define(\"ace/mouse/multi_select_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (require, exports, module) {\n          var event = require(\"../lib/event\");\n\n          var useragent = require(\"../lib/useragent\");\n\n          function isSamePoint(p1, p2) {\n            return p1.row == p2.row && p1.column == p2.column;\n          }\n\n          function onMouseDown(e) {\n            var ev = e.domEvent;\n            var alt = ev.altKey;\n            var shift = ev.shiftKey;\n            var ctrl = ev.ctrlKey;\n            var accel = e.getAccelKey();\n            var button = e.getButton();\n            if (ctrl && useragent.isMac) button = ev.button;\n\n            if (e.editor.inMultiSelectMode && button == 2) {\n              e.editor.textInput.onContextMenu(e.domEvent);\n              return;\n            }\n\n            if (!ctrl && !alt && !accel) {\n              if (button === 0 && e.editor.inMultiSelectMode) e.editor.exitMultiSelectMode();\n              return;\n            }\n\n            if (button !== 0) return;\n            var editor = e.editor;\n            var selection = editor.selection;\n            var isMultiSelect = editor.inMultiSelectMode;\n            var pos = e.getDocumentPosition();\n            var cursor = selection.getCursor();\n            var inSelection = e.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);\n            var mouseX = e.x,\n                mouseY = e.y;\n\n            var onMouseSelection = function onMouseSelection(e) {\n              mouseX = e.clientX;\n              mouseY = e.clientY;\n            };\n\n            var session = editor.session;\n            var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var screenCursor = screenAnchor;\n            var selectionMode;\n\n            if (editor.$mouseHandler.$enableJumpToDef) {\n              if (ctrl && alt || accel && alt) selectionMode = shift ? \"block\" : \"add\";else if (alt && editor.$blockSelectEnabled) selectionMode = \"block\";\n            } else {\n              if (accel && !alt) {\n                selectionMode = \"add\";\n                if (!isMultiSelect && shift) return;\n              } else if (alt && editor.$blockSelectEnabled) {\n                selectionMode = \"block\";\n              }\n            }\n\n            if (selectionMode && useragent.isMac && ev.ctrlKey) {\n              editor.$mouseHandler.cancelContextMenu();\n            }\n\n            if (selectionMode == \"add\") {\n              if (!isMultiSelect && inSelection) return; // dragging\n\n              if (!isMultiSelect) {\n                var range = selection.toOrientedRange();\n                editor.addSelectionMarker(range);\n              }\n\n              var oldRange = selection.rangeList.rangeAtPoint(pos);\n              editor.inVirtualSelectionMode = true;\n\n              if (shift) {\n                oldRange = null;\n                range = selection.ranges[0] || range;\n                editor.removeSelectionMarker(range);\n              }\n\n              editor.once(\"mouseup\", function () {\n                var tmpSel = selection.toOrientedRange();\n                if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor)) selection.substractPoint(tmpSel.cursor);else {\n                  if (shift) {\n                    selection.substractPoint(range.cursor);\n                  } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                  }\n\n                  selection.addRange(tmpSel);\n                }\n                editor.inVirtualSelectionMode = false;\n              });\n            } else if (selectionMode == \"block\") {\n              e.stop();\n              editor.inVirtualSelectionMode = true;\n              var initialRange;\n              var rectSel = [];\n\n              var blockSelect = function blockSelect() {\n                var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n                var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n                if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead)) return;\n                screenCursor = newCursor;\n                editor.selection.moveToPosition(cursor);\n                editor.renderer.scrollCursorIntoView();\n                editor.removeSelectionMarkers(rectSel);\n                rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n                if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty()) rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n                rectSel.forEach(editor.addSelectionMarker, editor);\n                editor.updateSelectionMarkers();\n              };\n\n              if (isMultiSelect && !accel) {\n                selection.toSingleRange();\n              } else if (!isMultiSelect && accel) {\n                initialRange = selection.toOrientedRange();\n                editor.addSelectionMarker(initialRange);\n              }\n\n              if (shift) screenAnchor = session.documentToScreenPosition(selection.lead);else selection.moveToPosition(pos);\n              screenCursor = {\n                row: -1,\n                column: -1\n              };\n\n              var onMouseSelectionEnd = function onMouseSelectionEnd(e) {\n                blockSelect();\n                clearInterval(timerId);\n                editor.removeSelectionMarkers(rectSel);\n                if (!rectSel.length) rectSel = [selection.toOrientedRange()];\n\n                if (initialRange) {\n                  editor.removeSelectionMarker(initialRange);\n                  selection.toSingleRange(initialRange);\n                }\n\n                for (var i = 0; i < rectSel.length; i++) {\n                  selection.addRange(rectSel[i]);\n                }\n\n                editor.inVirtualSelectionMode = false;\n                editor.$mouseHandler.$clickSelection = null;\n              };\n\n              var onSelectionInterval = blockSelect;\n              event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n              var timerId = setInterval(function () {\n                onSelectionInterval();\n              }, 20);\n              return e.preventDefault();\n            }\n          }\n\n          exports.onMouseDown = onMouseDown;\n        });\n        ace.define(\"ace/commands/multi_select_commands\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\"], function (require, exports, module) {\n          exports.defaultCommands = [{\n            name: \"addCursorAbove\",\n            description: \"Add cursor above\",\n            exec: function exec(editor) {\n              editor.selectMoreLines(-1);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Up\",\n              mac: \"Ctrl-Alt-Up\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"addCursorBelow\",\n            description: \"Add cursor below\",\n            exec: function exec(editor) {\n              editor.selectMoreLines(1);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Down\",\n              mac: \"Ctrl-Alt-Down\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"addCursorAboveSkipCurrent\",\n            description: \"Add cursor above (skip current)\",\n            exec: function exec(editor) {\n              editor.selectMoreLines(-1, true);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Shift-Up\",\n              mac: \"Ctrl-Alt-Shift-Up\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"addCursorBelowSkipCurrent\",\n            description: \"Add cursor below (skip current)\",\n            exec: function exec(editor) {\n              editor.selectMoreLines(1, true);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Shift-Down\",\n              mac: \"Ctrl-Alt-Shift-Down\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectMoreBefore\",\n            description: \"Select more before\",\n            exec: function exec(editor) {\n              editor.selectMore(-1);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Left\",\n              mac: \"Ctrl-Alt-Left\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectMoreAfter\",\n            description: \"Select more after\",\n            exec: function exec(editor) {\n              editor.selectMore(1);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Right\",\n              mac: \"Ctrl-Alt-Right\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectNextBefore\",\n            description: \"Select next before\",\n            exec: function exec(editor) {\n              editor.selectMore(-1, true);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Shift-Left\",\n              mac: \"Ctrl-Alt-Shift-Left\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"selectNextAfter\",\n            description: \"Select next after\",\n            exec: function exec(editor) {\n              editor.selectMore(1, true);\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-Shift-Right\",\n              mac: \"Ctrl-Alt-Shift-Right\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }, {\n            name: \"splitIntoLines\",\n            description: \"Split into lines\",\n            exec: function exec(editor) {\n              editor.multiSelect.splitIntoLines();\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-L\",\n              mac: \"Ctrl-Alt-L\"\n            },\n            readOnly: true\n          }, {\n            name: \"alignCursors\",\n            description: \"Align cursors\",\n            exec: function exec(editor) {\n              editor.alignCursors();\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-A\",\n              mac: \"Ctrl-Alt-A\"\n            },\n            scrollIntoView: \"cursor\"\n          }, {\n            name: \"findAll\",\n            description: \"Find all\",\n            exec: function exec(editor) {\n              editor.findAll();\n            },\n            bindKey: {\n              win: \"Ctrl-Alt-K\",\n              mac: \"Ctrl-Alt-G\"\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true\n          }];\n          exports.multiSelectCommands = [{\n            name: \"singleSelection\",\n            description: \"Single selection\",\n            bindKey: \"esc\",\n            exec: function exec(editor) {\n              editor.exitMultiSelectMode();\n            },\n            scrollIntoView: \"cursor\",\n            readOnly: true,\n            isAvailable: function isAvailable(editor) {\n              return editor && editor.inMultiSelectMode;\n            }\n          }];\n\n          var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n\n          exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n        });\n        ace.define(\"ace/multi_select\", [\"require\", \"exports\", \"module\", \"ace/range_list\", \"ace/range\", \"ace/selection\", \"ace/mouse/multi_select_handler\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/commands/multi_select_commands\", \"ace/search\", \"ace/edit_session\", \"ace/editor\", \"ace/config\"], function (require, exports, module) {\n          var RangeList = require(\"./range_list\").RangeList;\n\n          var Range = require(\"./range\").Range;\n\n          var Selection = require(\"./selection\").Selection;\n\n          var onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\n\n          var event = require(\"./lib/event\");\n\n          var lang = require(\"./lib/lang\");\n\n          var commands = require(\"./commands/multi_select_commands\");\n\n          exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\n\n          var Search = require(\"./search\").Search;\n\n          var search = new Search();\n\n          function find(session, needle, dir) {\n            search.$options.wrap = true;\n            search.$options.needle = needle;\n            search.$options.backwards = dir == -1;\n            return search.find(session);\n          }\n\n          var EditSession = require(\"./edit_session\").EditSession;\n\n          (function () {\n            this.getSelectionMarkers = function () {\n              return this.$selectionMarkers;\n            };\n          }).call(EditSession.prototype);\n          (function () {\n            this.ranges = null;\n            this.rangeList = null;\n\n            this.addRange = function (range, $blockChangeEvents) {\n              if (!range) return;\n\n              if (!this.inMultiSelectMode && this.rangeCount === 0) {\n                var oldRange = this.toOrientedRange();\n                this.rangeList.add(oldRange);\n                this.rangeList.add(range);\n\n                if (this.rangeList.ranges.length != 2) {\n                  this.rangeList.removeAll();\n                  return $blockChangeEvents || this.fromOrientedRange(range);\n                }\n\n                this.rangeList.removeAll();\n                this.rangeList.add(oldRange);\n                this.$onAddRange(oldRange);\n              }\n\n              if (!range.cursor) range.cursor = range.end;\n              var removed = this.rangeList.add(range);\n              this.$onAddRange(range);\n              if (removed.length) this.$onRemoveRange(removed);\n\n              if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n                this._signal(\"multiSelect\");\n\n                this.inMultiSelectMode = true;\n                this.session.$undoSelect = false;\n                this.rangeList.attach(this.session);\n              }\n\n              return $blockChangeEvents || this.fromOrientedRange(range);\n            };\n\n            this.toSingleRange = function (range) {\n              range = range || this.ranges[0];\n              var removed = this.rangeList.removeAll();\n              if (removed.length) this.$onRemoveRange(removed);\n              range && this.fromOrientedRange(range);\n            };\n\n            this.substractPoint = function (pos) {\n              var removed = this.rangeList.substractPoint(pos);\n\n              if (removed) {\n                this.$onRemoveRange(removed);\n                return removed[0];\n              }\n            };\n\n            this.mergeOverlappingRanges = function () {\n              var removed = this.rangeList.merge();\n              if (removed.length) this.$onRemoveRange(removed);\n            };\n\n            this.$onAddRange = function (range) {\n              this.rangeCount = this.rangeList.ranges.length;\n              this.ranges.unshift(range);\n\n              this._signal(\"addRange\", {\n                range: range\n              });\n            };\n\n            this.$onRemoveRange = function (removed) {\n              this.rangeCount = this.rangeList.ranges.length;\n\n              if (this.rangeCount == 1 && this.inMultiSelectMode) {\n                var lastRange = this.rangeList.ranges.pop();\n                removed.push(lastRange);\n                this.rangeCount = 0;\n              }\n\n              for (var i = removed.length; i--;) {\n                var index = this.ranges.indexOf(removed[i]);\n                this.ranges.splice(index, 1);\n              }\n\n              this._signal(\"removeRange\", {\n                ranges: removed\n              });\n\n              if (this.rangeCount === 0 && this.inMultiSelectMode) {\n                this.inMultiSelectMode = false;\n\n                this._signal(\"singleSelect\");\n\n                this.session.$undoSelect = true;\n                this.rangeList.detach(this.session);\n              }\n\n              lastRange = lastRange || this.ranges[0];\n              if (lastRange && !lastRange.isEqual(this.getRange())) this.fromOrientedRange(lastRange);\n            };\n\n            this.$initRangeList = function () {\n              if (this.rangeList) return;\n              this.rangeList = new RangeList();\n              this.ranges = [];\n              this.rangeCount = 0;\n            };\n\n            this.getAllRanges = function () {\n              return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n            };\n\n            this.splitIntoLines = function () {\n              if (this.rangeCount > 1) {\n                var ranges = this.rangeList.ranges;\n                var lastRange = ranges[ranges.length - 1];\n                var range = Range.fromPoints(ranges[0].start, lastRange.end);\n                this.toSingleRange();\n                this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n              } else {\n                var range = this.getRange();\n                var isBackwards = this.isBackwards();\n                var startRow = range.start.row;\n                var endRow = range.end.row;\n\n                if (startRow == endRow) {\n                  if (isBackwards) var start = range.end,\n                      end = range.start;else var start = range.start,\n                      end = range.end;\n                  this.addRange(Range.fromPoints(end, end));\n                  this.addRange(Range.fromPoints(start, start));\n                  return;\n                }\n\n                var rectSel = [];\n                var r = this.getLineRange(startRow, true);\n                r.start.column = range.start.column;\n                rectSel.push(r);\n\n                for (var i = startRow + 1; i < endRow; i++) {\n                  rectSel.push(this.getLineRange(i, true));\n                }\n\n                r = this.getLineRange(endRow, true);\n                r.end.column = range.end.column;\n                rectSel.push(r);\n                rectSel.forEach(this.addRange, this);\n              }\n            };\n\n            this.toggleBlockSelection = function () {\n              if (this.rangeCount > 1) {\n                var ranges = this.rangeList.ranges;\n                var lastRange = ranges[ranges.length - 1];\n                var range = Range.fromPoints(ranges[0].start, lastRange.end);\n                this.toSingleRange();\n                this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n              } else {\n                var cursor = this.session.documentToScreenPosition(this.cursor);\n                var anchor = this.session.documentToScreenPosition(this.anchor);\n                var rectSel = this.rectangularRangeBlock(cursor, anchor);\n                rectSel.forEach(this.addRange, this);\n              }\n            };\n\n            this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n              var rectSel = [];\n              var xBackwards = screenCursor.column < screenAnchor.column;\n\n              if (xBackwards) {\n                var startColumn = screenCursor.column;\n                var endColumn = screenAnchor.column;\n                var startOffsetX = screenCursor.offsetX;\n                var endOffsetX = screenAnchor.offsetX;\n              } else {\n                var startColumn = screenAnchor.column;\n                var endColumn = screenCursor.column;\n                var startOffsetX = screenAnchor.offsetX;\n                var endOffsetX = screenCursor.offsetX;\n              }\n\n              var yBackwards = screenCursor.row < screenAnchor.row;\n\n              if (yBackwards) {\n                var startRow = screenCursor.row;\n                var endRow = screenAnchor.row;\n              } else {\n                var startRow = screenAnchor.row;\n                var endRow = screenCursor.row;\n              }\n\n              if (startColumn < 0) startColumn = 0;\n              if (startRow < 0) startRow = 0;\n              if (startRow == endRow) includeEmptyLines = true;\n              var docEnd;\n\n              for (var row = startRow; row <= endRow; row++) {\n                var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n\n                if (range.isEmpty()) {\n                  if (docEnd && isSamePoint(range.end, docEnd)) break;\n                  docEnd = range.end;\n                }\n\n                range.cursor = xBackwards ? range.start : range.end;\n                rectSel.push(range);\n              }\n\n              if (yBackwards) rectSel.reverse();\n\n              if (!includeEmptyLines) {\n                var end = rectSel.length - 1;\n\n                while (rectSel[end].isEmpty() && end > 0) {\n                  end--;\n                }\n\n                if (end > 0) {\n                  var start = 0;\n\n                  while (rectSel[start].isEmpty()) {\n                    start++;\n                  }\n                }\n\n                for (var i = end; i >= start; i--) {\n                  if (rectSel[i].isEmpty()) rectSel.splice(i, 1);\n                }\n              }\n\n              return rectSel;\n            };\n          }).call(Selection.prototype);\n\n          var Editor = require(\"./editor\").Editor;\n\n          (function () {\n            this.updateSelectionMarkers = function () {\n              this.renderer.updateCursor();\n              this.renderer.updateBackMarkers();\n            };\n\n            this.addSelectionMarker = function (orientedRange) {\n              if (!orientedRange.cursor) orientedRange.cursor = orientedRange.end;\n              var style = this.getSelectionStyle();\n              orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n              this.session.$selectionMarkers.push(orientedRange);\n              this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n              return orientedRange;\n            };\n\n            this.removeSelectionMarker = function (range) {\n              if (!range.marker) return;\n              this.session.removeMarker(range.marker);\n              var index = this.session.$selectionMarkers.indexOf(range);\n              if (index != -1) this.session.$selectionMarkers.splice(index, 1);\n              this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n            };\n\n            this.removeSelectionMarkers = function (ranges) {\n              var markerList = this.session.$selectionMarkers;\n\n              for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.marker) continue;\n                this.session.removeMarker(range.marker);\n                var index = markerList.indexOf(range);\n                if (index != -1) markerList.splice(index, 1);\n              }\n\n              this.session.selectionMarkerCount = markerList.length;\n            };\n\n            this.$onAddRange = function (e) {\n              this.addSelectionMarker(e.range);\n              this.renderer.updateCursor();\n              this.renderer.updateBackMarkers();\n            };\n\n            this.$onRemoveRange = function (e) {\n              this.removeSelectionMarkers(e.ranges);\n              this.renderer.updateCursor();\n              this.renderer.updateBackMarkers();\n            };\n\n            this.$onMultiSelect = function (e) {\n              if (this.inMultiSelectMode) return;\n              this.inMultiSelectMode = true;\n              this.setStyle(\"ace_multiselect\");\n              this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n              this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n              this.renderer.updateCursor();\n              this.renderer.updateBackMarkers();\n            };\n\n            this.$onSingleSelect = function (e) {\n              if (this.session.multiSelect.inVirtualMode) return;\n              this.inMultiSelectMode = false;\n              this.unsetStyle(\"ace_multiselect\");\n              this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n              this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n              this.renderer.updateCursor();\n              this.renderer.updateBackMarkers();\n\n              this._emit(\"changeSelection\");\n            };\n\n            this.$onMultiSelectExec = function (e) {\n              var command = e.command;\n              var editor = e.editor;\n              if (!editor.multiSelect) return;\n\n              if (!command.multiSelectAction) {\n                var result = command.exec(editor, e.args || {});\n                editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n                editor.multiSelect.mergeOverlappingRanges();\n              } else if (command.multiSelectAction == \"forEach\") {\n                result = editor.forEachSelection(command, e.args);\n              } else if (command.multiSelectAction == \"forEachLine\") {\n                result = editor.forEachSelection(command, e.args, true);\n              } else if (command.multiSelectAction == \"single\") {\n                editor.exitMultiSelectMode();\n                result = command.exec(editor, e.args || {});\n              } else {\n                result = command.multiSelectAction(editor, e.args || {});\n              }\n\n              return result;\n            };\n\n            this.forEachSelection = function (cmd, args, options) {\n              if (this.inVirtualSelectionMode) return;\n              var keepOrder = options && options.keepOrder;\n              var $byLines = options == true || options && options.$byLines;\n              var session = this.session;\n              var selection = this.selection;\n              var rangeList = selection.rangeList;\n              var ranges = (keepOrder ? selection : rangeList).ranges;\n              var result;\n              if (!ranges.length) return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n              var reg = selection._eventRegistry;\n              selection._eventRegistry = {};\n              var tmpSel = new Selection(session);\n              this.inVirtualSelectionMode = true;\n\n              for (var i = ranges.length; i--;) {\n                if ($byLines) {\n                  while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row) {\n                    i--;\n                  }\n                }\n\n                tmpSel.fromOrientedRange(ranges[i]);\n                tmpSel.index = i;\n                this.selection = session.selection = tmpSel;\n                var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n                if (!result && cmdResult !== undefined) result = cmdResult;\n                tmpSel.toOrientedRange(ranges[i]);\n              }\n\n              tmpSel.detach();\n              this.selection = session.selection = selection;\n              this.inVirtualSelectionMode = false;\n              selection._eventRegistry = reg;\n              selection.mergeOverlappingRanges();\n              if (selection.ranges[0]) selection.fromOrientedRange(selection.ranges[0]);\n              var anim = this.renderer.$scrollAnimation;\n              this.onCursorChange();\n              this.onSelectionChange();\n              if (anim && anim.from == anim.to) this.renderer.animateScrolling(anim.from);\n              return result;\n            };\n\n            this.exitMultiSelectMode = function () {\n              if (!this.inMultiSelectMode || this.inVirtualSelectionMode) return;\n              this.multiSelect.toSingleRange();\n            };\n\n            this.getSelectedText = function () {\n              var text = \"\";\n\n              if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n                var ranges = this.multiSelect.rangeList.ranges;\n                var buf = [];\n\n                for (var i = 0; i < ranges.length; i++) {\n                  buf.push(this.session.getTextRange(ranges[i]));\n                }\n\n                var nl = this.session.getDocument().getNewLineCharacter();\n                text = buf.join(nl);\n                if (text.length == (buf.length - 1) * nl.length) text = \"\";\n              } else if (!this.selection.isEmpty()) {\n                text = this.session.getTextRange(this.getSelectionRange());\n              }\n\n              return text;\n            };\n\n            this.$checkMultiselectChange = function (e, anchor) {\n              if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n                var range = this.multiSelect.ranges[0];\n                if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor) return;\n                var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;\n                if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column) this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());else this.multiSelect.mergeOverlappingRanges();\n              }\n            };\n\n            this.findAll = function (needle, options, additive) {\n              options = options || {};\n              options.needle = needle || options.needle;\n\n              if (options.needle == undefined) {\n                var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();\n                options.needle = this.session.getTextRange(range);\n              }\n\n              this.$search.set(options);\n              var ranges = this.$search.findAll(this.session);\n              if (!ranges.length) return 0;\n              var selection = this.multiSelect;\n              if (!additive) selection.toSingleRange(ranges[0]);\n\n              for (var i = ranges.length; i--;) {\n                selection.addRange(ranges[i], true);\n              }\n\n              if (range && selection.rangeList.rangeAtPoint(range.start)) selection.addRange(range, true);\n              return ranges.length;\n            };\n\n            this.selectMoreLines = function (dir, skip) {\n              var range = this.selection.toOrientedRange();\n              var isBackwards = range.cursor == range.end;\n              var screenLead = this.session.documentToScreenPosition(range.cursor);\n              if (this.selection.$desiredColumn) screenLead.column = this.selection.$desiredColumn;\n              var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n              if (!range.isEmpty()) {\n                var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n                var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n              } else {\n                var anchor = lead;\n              }\n\n              if (isBackwards) {\n                var newRange = Range.fromPoints(lead, anchor);\n                newRange.cursor = newRange.start;\n              } else {\n                var newRange = Range.fromPoints(anchor, lead);\n                newRange.cursor = newRange.end;\n              }\n\n              newRange.desiredColumn = screenLead.column;\n\n              if (!this.selection.inMultiSelectMode) {\n                this.selection.addRange(range);\n              } else {\n                if (skip) var toRemove = range.cursor;\n              }\n\n              this.selection.addRange(newRange);\n              if (toRemove) this.selection.substractPoint(toRemove);\n            };\n\n            this.transposeSelections = function (dir) {\n              var session = this.session;\n              var sel = session.multiSelect;\n              var all = sel.ranges;\n\n              for (var i = all.length; i--;) {\n                var range = all[i];\n\n                if (range.isEmpty()) {\n                  var tmp = session.getWordRange(range.start.row, range.start.column);\n                  range.start.row = tmp.start.row;\n                  range.start.column = tmp.start.column;\n                  range.end.row = tmp.end.row;\n                  range.end.column = tmp.end.column;\n                }\n              }\n\n              sel.mergeOverlappingRanges();\n              var words = [];\n\n              for (var i = all.length; i--;) {\n                var range = all[i];\n                words.unshift(session.getTextRange(range));\n              }\n\n              if (dir < 0) words.unshift(words.pop());else words.push(words.shift());\n\n              for (var i = all.length; i--;) {\n                var range = all[i];\n                var tmp = range.clone();\n                session.replace(range, words[i]);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n              }\n\n              sel.fromOrientedRange(sel.ranges[0]);\n            };\n\n            this.selectMore = function (dir, skip, stopAtFirst) {\n              var session = this.session;\n              var sel = session.multiSelect;\n              var range = sel.toOrientedRange();\n\n              if (range.isEmpty()) {\n                range = session.getWordRange(range.start.row, range.start.column);\n                range.cursor = dir == -1 ? range.start : range.end;\n                this.multiSelect.addRange(range);\n                if (stopAtFirst) return;\n              }\n\n              var needle = session.getTextRange(range);\n              var newRange = find(session, needle, dir);\n\n              if (newRange) {\n                newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n                this.session.unfold(newRange);\n                this.multiSelect.addRange(newRange);\n                this.renderer.scrollCursorIntoView(null, 0.5);\n              }\n\n              if (skip) this.multiSelect.substractPoint(range.cursor);\n            };\n\n            this.alignCursors = function () {\n              var session = this.session;\n              var sel = session.multiSelect;\n              var ranges = sel.ranges;\n              var row = -1;\n              var sameRowRanges = ranges.filter(function (r) {\n                if (r.cursor.row == row) return true;\n                row = r.cursor.row;\n              });\n\n              if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n                var range = this.selection.getRange();\n                var fr = range.start.row,\n                    lr = range.end.row;\n                var guessRange = fr == lr;\n\n                if (guessRange) {\n                  var max = this.session.getLength();\n                  var line;\n\n                  do {\n                    line = this.session.getLine(lr);\n                  } while (/[=:]/.test(line) && ++lr < max);\n\n                  do {\n                    line = this.session.getLine(fr);\n                  } while (/[=:]/.test(line) && --fr > 0);\n\n                  if (fr < 0) fr = 0;\n                  if (lr >= max) lr = max - 1;\n                }\n\n                var lines = this.session.removeFullLines(fr, lr);\n                lines = this.$reAlignText(lines, guessRange);\n                this.session.insert({\n                  row: fr,\n                  column: 0\n                }, lines.join(\"\\n\") + \"\\n\");\n\n                if (!guessRange) {\n                  range.start.column = 0;\n                  range.end.column = lines[lines.length - 1].length;\n                }\n\n                this.selection.setRange(range);\n              } else {\n                sameRowRanges.forEach(function (r) {\n                  sel.substractPoint(r.cursor);\n                });\n                var maxCol = 0;\n                var minSpace = Infinity;\n                var spaceOffsets = ranges.map(function (r) {\n                  var p = r.cursor;\n                  var line = session.getLine(p.row);\n                  var spaceOffset = line.substr(p.column).search(/\\S/g);\n                  if (spaceOffset == -1) spaceOffset = 0;\n                  if (p.column > maxCol) maxCol = p.column;\n                  if (spaceOffset < minSpace) minSpace = spaceOffset;\n                  return spaceOffset;\n                });\n                ranges.forEach(function (r, i) {\n                  var p = r.cursor;\n                  var l = maxCol - p.column;\n                  var d = spaceOffsets[i] - minSpace;\n                  if (l > d) session.insert(p, lang.stringRepeat(\" \", l - d));else session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n                  r.start.column = r.end.column = maxCol;\n                  r.start.row = r.end.row = p.row;\n                  r.cursor = r.end;\n                });\n                sel.fromOrientedRange(ranges[0]);\n                this.renderer.updateCursor();\n                this.renderer.updateBackMarkers();\n              }\n            };\n\n            this.$reAlignText = function (lines, forceLeft) {\n              var isLeftAligned = true,\n                  isRightAligned = true;\n              var startW, textW, endW;\n              return lines.map(function (line) {\n                var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n                if (!m) return [line];\n\n                if (startW == null) {\n                  startW = m[1].length;\n                  textW = m[2].length;\n                  endW = m[3].length;\n                  return m;\n                }\n\n                if (startW + textW + endW != m[1].length + m[2].length + m[3].length) isRightAligned = false;\n                if (startW != m[1].length) isLeftAligned = false;\n                if (startW > m[1].length) startW = m[1].length;\n                if (textW < m[2].length) textW = m[2].length;\n                if (endW > m[3].length) endW = m[3].length;\n                return m;\n              }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n              function spaces(n) {\n                return lang.stringRepeat(\" \", n);\n              }\n\n              function alignLeft(m) {\n                return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(textW - m[2].length + endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n              }\n\n              function alignRight(m) {\n                return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2] + spaces(endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n              }\n\n              function unAlign(m) {\n                return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n              }\n            };\n          }).call(Editor.prototype);\n\n          function isSamePoint(p1, p2) {\n            return p1.row == p2.row && p1.column == p2.column;\n          }\n\n          exports.onSessionChange = function (e) {\n            var session = e.session;\n\n            if (session && !session.multiSelect) {\n              session.$selectionMarkers = [];\n              session.selection.$initRangeList();\n              session.multiSelect = session.selection;\n            }\n\n            this.multiSelect = session && session.multiSelect;\n            var oldSession = e.oldSession;\n\n            if (oldSession) {\n              oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n              oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n              oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n              oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n              oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n              oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n            }\n\n            if (session) {\n              session.multiSelect.on(\"addRange\", this.$onAddRange);\n              session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n              session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n              session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n              session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n              session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n            }\n\n            if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n              if (session.selection.inMultiSelectMode) this.$onMultiSelect();else this.$onSingleSelect();\n            }\n          };\n\n          function MultiSelect(editor) {\n            if (editor.$multiselectOnSessionChange) return;\n            editor.$onAddRange = editor.$onAddRange.bind(editor);\n            editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n            editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n            editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n            editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n            editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n            editor.$multiselectOnSessionChange(editor);\n            editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n            editor.on(\"mousedown\", onMouseDown);\n            editor.commands.addCommands(commands.defaultCommands);\n            addAltCursorListeners(editor);\n          }\n\n          function addAltCursorListeners(editor) {\n            if (!editor.textInput) return;\n            var el = editor.textInput.getElement();\n            var altCursor = false;\n            event.addListener(el, \"keydown\", function (e) {\n              var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n\n              if (editor.$blockSelectEnabled && altDown) {\n                if (!altCursor) {\n                  editor.renderer.setMouseCursor(\"crosshair\");\n                  altCursor = true;\n                }\n              } else if (altCursor) {\n                reset();\n              }\n            });\n            event.addListener(el, \"keyup\", reset);\n            event.addListener(el, \"blur\", reset);\n\n            function reset(e) {\n              if (altCursor) {\n                editor.renderer.setMouseCursor(\"\");\n                altCursor = false;\n              }\n            }\n          }\n\n          exports.MultiSelect = MultiSelect;\n\n          require(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n            enableMultiselect: {\n              set: function set(val) {\n                MultiSelect(this);\n\n                if (val) {\n                  this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                  this.on(\"mousedown\", onMouseDown);\n                } else {\n                  this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                  this.off(\"mousedown\", onMouseDown);\n                }\n              },\n              value: true\n            },\n            enableBlockSelect: {\n              set: function set(val) {\n                this.$blockSelectEnabled = val;\n              },\n              value: true\n            }\n          });\n        });\n        ace.define(\"ace/mode/folding/fold_mode\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"../../range\").Range;\n\n          var FoldMode = exports.FoldMode = function () {};\n\n          (function () {\n            this.foldingStartMarker = null;\n            this.foldingStopMarker = null;\n\n            this.getFoldWidget = function (session, foldStyle, row) {\n              var line = session.getLine(row);\n              if (this.foldingStartMarker.test(line)) return \"start\";\n              if (foldStyle == \"markbeginend\" && this.foldingStopMarker && this.foldingStopMarker.test(line)) return \"end\";\n              return \"\";\n            };\n\n            this.getFoldWidgetRange = function (session, foldStyle, row) {\n              return null;\n            };\n\n            this.indentationBlock = function (session, row, column) {\n              var re = /\\S/;\n              var line = session.getLine(row);\n              var startLevel = line.search(re);\n              if (startLevel == -1) return;\n              var startColumn = column || line.length;\n              var maxRow = session.getLength();\n              var startRow = row;\n              var endRow = row;\n\n              while (++row < maxRow) {\n                var level = session.getLine(row).search(re);\n                if (level == -1) continue;\n\n                if (level <= startLevel) {\n                  var token = session.getTokenAt(row, 0);\n                  if (!token || token.type !== \"string\") break;\n                }\n\n                endRow = row;\n              }\n\n              if (endRow > startRow) {\n                var endColumn = session.getLine(endRow).length;\n                return new Range(startRow, startColumn, endRow, endColumn);\n              }\n            };\n\n            this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n              var start = {\n                row: row,\n                column: column + 1\n              };\n              var end = session.$findClosingBracket(bracket, start, typeRe);\n              if (!end) return;\n              var fw = session.foldWidgets[end.row];\n              if (fw == null) fw = session.getFoldWidget(end.row);\n\n              if (fw == \"start\" && end.row > start.row) {\n                end.row--;\n                end.column = session.getLine(end.row).length;\n              }\n\n              return Range.fromPoints(start, end);\n            };\n\n            this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n              var end = {\n                row: row,\n                column: column\n              };\n              var start = session.$findOpeningBracket(bracket, end);\n              if (!start) return;\n              start.column++;\n              end.column--;\n              return Range.fromPoints(start, end);\n            };\n          }).call(FoldMode.prototype);\n        });\n        ace.define(\"ace/theme/textmate\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n          \"use strict\";\n\n          exports.isDark = false;\n          exports.cssClass = \"ace-tm\";\n          exports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n          exports.$id = \"ace/theme/textmate\";\n\n          var dom = require(\"../lib/dom\");\n\n          dom.importCssString(exports.cssText, exports.cssClass);\n        });\n        ace.define(\"ace/line_widgets\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"./lib/oop\");\n\n          var dom = require(\"./lib/dom\");\n\n          var Range = require(\"./range\").Range;\n\n          function LineWidgets(session) {\n            this.session = session;\n            this.session.widgetManager = this;\n            this.session.getRowLength = this.getRowLength;\n            this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n            this.updateOnChange = this.updateOnChange.bind(this);\n            this.renderWidgets = this.renderWidgets.bind(this);\n            this.measureWidgets = this.measureWidgets.bind(this);\n            this.session._changedWidgets = [];\n            this.$onChangeEditor = this.$onChangeEditor.bind(this);\n            this.session.on(\"change\", this.updateOnChange);\n            this.session.on(\"changeFold\", this.updateOnFold);\n            this.session.on(\"changeEditor\", this.$onChangeEditor);\n          }\n\n          (function () {\n            this.getRowLength = function (row) {\n              var h;\n              if (this.lineWidgets) h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n\n              if (!this.$useWrapMode || !this.$wrapData[row]) {\n                return 1 + h;\n              } else {\n                return this.$wrapData[row].length + 1 + h;\n              }\n            };\n\n            this.$getWidgetScreenLength = function () {\n              var screenRows = 0;\n              this.lineWidgets.forEach(function (w) {\n                if (w && w.rowCount && !w.hidden) screenRows += w.rowCount;\n              });\n              return screenRows;\n            };\n\n            this.$onChangeEditor = function (e) {\n              this.attach(e.editor);\n            };\n\n            this.attach = function (editor) {\n              if (editor && editor.widgetManager && editor.widgetManager != this) editor.widgetManager.detach();\n              if (this.editor == editor) return;\n              this.detach();\n              this.editor = editor;\n\n              if (editor) {\n                editor.widgetManager = this;\n                editor.renderer.on(\"beforeRender\", this.measureWidgets);\n                editor.renderer.on(\"afterRender\", this.renderWidgets);\n              }\n            };\n\n            this.detach = function (e) {\n              var editor = this.editor;\n              if (!editor) return;\n              this.editor = null;\n              editor.widgetManager = null;\n              editor.renderer.off(\"beforeRender\", this.measureWidgets);\n              editor.renderer.off(\"afterRender\", this.renderWidgets);\n              var lineWidgets = this.session.lineWidgets;\n              lineWidgets && lineWidgets.forEach(function (w) {\n                if (w && w.el && w.el.parentNode) {\n                  w._inDocument = false;\n                  w.el.parentNode.removeChild(w.el);\n                }\n              });\n            };\n\n            this.updateOnFold = function (e, session) {\n              var lineWidgets = session.lineWidgets;\n              if (!lineWidgets || !e.action) return;\n              var fold = e.data;\n              var start = fold.start.row;\n              var end = fold.end.row;\n              var hide = e.action == \"add\";\n\n              for (var i = start + 1; i < end; i++) {\n                if (lineWidgets[i]) lineWidgets[i].hidden = hide;\n              }\n\n              if (lineWidgets[end]) {\n                if (hide) {\n                  if (!lineWidgets[start]) lineWidgets[start] = lineWidgets[end];else lineWidgets[end].hidden = hide;\n                } else {\n                  if (lineWidgets[start] == lineWidgets[end]) lineWidgets[start] = undefined;\n                  lineWidgets[end].hidden = hide;\n                }\n              }\n            };\n\n            this.updateOnChange = function (delta) {\n              var lineWidgets = this.session.lineWidgets;\n              if (!lineWidgets) return;\n              var startRow = delta.start.row;\n              var len = delta.end.row - startRow;\n\n              if (len === 0) {} else if (delta.action == 'remove') {\n                var removed = lineWidgets.splice(startRow + 1, len);\n                removed.forEach(function (w) {\n                  w && this.removeLineWidget(w);\n                }, this);\n                this.$updateRows();\n              } else {\n                var args = new Array(len);\n                args.unshift(startRow, 0);\n                lineWidgets.splice.apply(lineWidgets, args);\n                this.$updateRows();\n              }\n            };\n\n            this.$updateRows = function () {\n              var lineWidgets = this.session.lineWidgets;\n              if (!lineWidgets) return;\n              var noWidgets = true;\n              lineWidgets.forEach(function (w, i) {\n                if (w) {\n                  noWidgets = false;\n                  w.row = i;\n\n                  while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                  }\n                }\n              });\n              if (noWidgets) this.session.lineWidgets = null;\n            };\n\n            this.addLineWidget = function (w) {\n              if (!this.session.lineWidgets) this.session.lineWidgets = new Array(this.session.getLength());\n              var old = this.session.lineWidgets[w.row];\n\n              if (old) {\n                w.$oldWidget = old;\n\n                if (old.el && old.el.parentNode) {\n                  old.el.parentNode.removeChild(old.el);\n                  old._inDocument = false;\n                }\n              }\n\n              this.session.lineWidgets[w.row] = w;\n              w.session = this.session;\n              var renderer = this.editor.renderer;\n\n              if (w.html && !w.el) {\n                w.el = dom.createElement(\"div\");\n                w.el.innerHTML = w.html;\n              }\n\n              if (w.el) {\n                dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n                w.el.style.position = \"absolute\";\n                w.el.style.zIndex = 5;\n                renderer.container.appendChild(w.el);\n                w._inDocument = true;\n              }\n\n              if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n              }\n\n              if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n              }\n\n              if (w.rowCount == null) {\n                w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n              }\n\n              var fold = this.session.getFoldAt(w.row, 0);\n              w.$fold = fold;\n\n              if (fold) {\n                var lineWidgets = this.session.lineWidgets;\n                if (w.row == fold.end.row && !lineWidgets[fold.start.row]) lineWidgets[fold.start.row] = w;else w.hidden = true;\n              }\n\n              this.session._emit(\"changeFold\", {\n                data: {\n                  start: {\n                    row: w.row\n                  }\n                }\n              });\n\n              this.$updateRows();\n              this.renderWidgets(null, renderer);\n              this.onWidgetChanged(w);\n              return w;\n            };\n\n            this.removeLineWidget = function (w) {\n              w._inDocument = false;\n              w.session = null;\n              if (w.el && w.el.parentNode) w.el.parentNode.removeChild(w.el);\n              if (w.editor && w.editor.destroy) try {\n                w.editor.destroy();\n              } catch (e) {}\n\n              if (this.session.lineWidgets) {\n                var w1 = this.session.lineWidgets[w.row];\n\n                if (w1 == w) {\n                  this.session.lineWidgets[w.row] = w.$oldWidget;\n                  if (w.$oldWidget) this.onWidgetChanged(w.$oldWidget);\n                } else {\n                  while (w1) {\n                    if (w1.$oldWidget == w) {\n                      w1.$oldWidget = w.$oldWidget;\n                      break;\n                    }\n\n                    w1 = w1.$oldWidget;\n                  }\n                }\n              }\n\n              this.session._emit(\"changeFold\", {\n                data: {\n                  start: {\n                    row: w.row\n                  }\n                }\n              });\n\n              this.$updateRows();\n            };\n\n            this.getWidgetsAtRow = function (row) {\n              var lineWidgets = this.session.lineWidgets;\n              var w = lineWidgets && lineWidgets[row];\n              var list = [];\n\n              while (w) {\n                list.push(w);\n                w = w.$oldWidget;\n              }\n\n              return list;\n            };\n\n            this.onWidgetChanged = function (w) {\n              this.session._changedWidgets.push(w);\n\n              this.editor && this.editor.renderer.updateFull();\n            };\n\n            this.measureWidgets = function (e, renderer) {\n              var changedWidgets = this.session._changedWidgets;\n              var config = renderer.layerConfig;\n              if (!changedWidgets || !changedWidgets.length) return;\n              var min = Infinity;\n\n              for (var i = 0; i < changedWidgets.length; i++) {\n                var w = changedWidgets[i];\n                if (!w || !w.el) continue;\n                if (w.session != this.session) continue;\n\n                if (!w._inDocument) {\n                  if (this.session.lineWidgets[w.row] != w) continue;\n                  w._inDocument = true;\n                  renderer.container.appendChild(w.el);\n                }\n\n                w.h = w.el.offsetHeight;\n\n                if (!w.fixedWidth) {\n                  w.w = w.el.offsetWidth;\n                  w.screenWidth = Math.ceil(w.w / config.characterWidth);\n                }\n\n                var rowCount = w.h / config.lineHeight;\n\n                if (w.coverLine) {\n                  rowCount -= this.session.getRowLineCount(w.row);\n                  if (rowCount < 0) rowCount = 0;\n                }\n\n                if (w.rowCount != rowCount) {\n                  w.rowCount = rowCount;\n                  if (w.row < min) min = w.row;\n                }\n              }\n\n              if (min != Infinity) {\n                this.session._emit(\"changeFold\", {\n                  data: {\n                    start: {\n                      row: min\n                    }\n                  }\n                });\n\n                this.session.lineWidgetWidth = null;\n              }\n\n              this.session._changedWidgets = [];\n            };\n\n            this.renderWidgets = function (e, renderer) {\n              var config = renderer.layerConfig;\n              var lineWidgets = this.session.lineWidgets;\n              if (!lineWidgets) return;\n              var first = Math.min(this.firstRow, config.firstRow);\n              var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n\n              while (first > 0 && !lineWidgets[first]) {\n                first--;\n              }\n\n              this.firstRow = config.firstRow;\n              this.lastRow = config.lastRow;\n              renderer.$cursorLayer.config = config;\n\n              for (var i = first; i <= last; i++) {\n                var w = lineWidgets[i];\n                if (!w || !w.el) continue;\n\n                if (w.hidden) {\n                  w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                  continue;\n                }\n\n                if (!w._inDocument) {\n                  w._inDocument = true;\n                  renderer.container.appendChild(w.el);\n                }\n\n                var top = renderer.$cursorLayer.getPixelPosition({\n                  row: i,\n                  column: 0\n                }, true).top;\n                if (!w.coverLine) top += config.lineHeight * this.session.getRowLineCount(w.row);\n                w.el.style.top = top - config.offset + \"px\";\n                var left = w.coverGutter ? 0 : renderer.gutterWidth;\n                if (!w.fixedWidth) left -= renderer.scrollLeft;\n                w.el.style.left = left + \"px\";\n\n                if (w.fullWidth && w.screenWidth) {\n                  w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n                }\n\n                if (w.fixedWidth) {\n                  w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n                } else {\n                  w.el.style.right = \"\";\n                }\n              }\n            };\n          }).call(LineWidgets.prototype);\n          exports.LineWidgets = LineWidgets;\n        });\n        ace.define(\"ace/ext/error_marker\", [\"require\", \"exports\", \"module\", \"ace/line_widgets\", \"ace/lib/dom\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var LineWidgets = require(\"../line_widgets\").LineWidgets;\n\n          var dom = require(\"../lib/dom\");\n\n          var Range = require(\"../range\").Range;\n\n          function binarySearch(array, needle, comparator) {\n            var first = 0;\n            var last = array.length - 1;\n\n            while (first <= last) {\n              var mid = first + last >> 1;\n              var c = comparator(needle, array[mid]);\n              if (c > 0) first = mid + 1;else if (c < 0) last = mid - 1;else return mid;\n            }\n\n            return -(first + 1);\n          }\n\n          function findAnnotations(session, row, dir) {\n            var annotations = session.getAnnotations().sort(Range.comparePoints);\n            if (!annotations.length) return;\n            var i = binarySearch(annotations, {\n              row: row,\n              column: -1\n            }, Range.comparePoints);\n            if (i < 0) i = -i - 1;\n            if (i >= annotations.length) i = dir > 0 ? 0 : annotations.length - 1;else if (i === 0 && dir < 0) i = annotations.length - 1;\n            var annotation = annotations[i];\n            if (!annotation || !dir) return;\n\n            if (annotation.row === row) {\n              do {\n                annotation = annotations[i += dir];\n              } while (annotation && annotation.row === row);\n\n              if (!annotation) return annotations.slice();\n            }\n\n            var matched = [];\n            row = annotation.row;\n\n            do {\n              matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n              annotation = annotations[i += dir];\n            } while (annotation && annotation.row == row);\n\n            return matched.length && matched;\n          }\n\n          exports.showErrorMarker = function (editor, dir) {\n            var session = editor.session;\n\n            if (!session.widgetManager) {\n              session.widgetManager = new LineWidgets(session);\n              session.widgetManager.attach(editor);\n            }\n\n            var pos = editor.getCursorPosition();\n            var row = pos.row;\n            var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n              return w.type == \"errorMarker\";\n            })[0];\n\n            if (oldWidget) {\n              oldWidget.destroy();\n            } else {\n              row -= dir;\n            }\n\n            var annotations = findAnnotations(session, row, dir);\n            var gutterAnno;\n\n            if (annotations) {\n              var annotation = annotations[0];\n              pos.column = (annotation.pos && typeof annotation.column != \"number\" ? annotation.pos.sc : annotation.column) || 0;\n              pos.row = annotation.row;\n              gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n            } else if (oldWidget) {\n              return;\n            } else {\n              gutterAnno = {\n                text: [\"Looks good!\"],\n                className: \"ace_ok\"\n              };\n            }\n\n            editor.session.unfold(pos.row);\n            editor.selection.moveToPosition(pos);\n            var w = {\n              row: pos.row,\n              fixedWidth: true,\n              coverGutter: true,\n              el: dom.createElement(\"div\"),\n              type: \"errorMarker\"\n            };\n            var el = w.el.appendChild(dom.createElement(\"div\"));\n            var arrow = w.el.appendChild(dom.createElement(\"div\"));\n            arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n            var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;\n            arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n            w.el.className = \"error_widget_wrapper\";\n            el.className = \"error_widget \" + gutterAnno.className;\n            el.innerHTML = gutterAnno.text.join(\"<br>\");\n            el.appendChild(dom.createElement(\"div\"));\n\n            var kb = function kb(_, hashId, keyString) {\n              if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n                w.destroy();\n                return {\n                  command: \"null\"\n                };\n              }\n            };\n\n            w.destroy = function () {\n              if (editor.$mouseHandler.isMousePressed) return;\n              editor.keyBinding.removeKeyboardHandler(kb);\n              session.widgetManager.removeLineWidget(w);\n              editor.off(\"changeSelection\", w.destroy);\n              editor.off(\"changeSession\", w.destroy);\n              editor.off(\"mouseup\", w.destroy);\n              editor.off(\"change\", w.destroy);\n            };\n\n            editor.keyBinding.addKeyboardHandler(kb);\n            editor.on(\"changeSelection\", w.destroy);\n            editor.on(\"changeSession\", w.destroy);\n            editor.on(\"mouseup\", w.destroy);\n            editor.on(\"change\", w.destroy);\n            editor.session.widgetManager.addLineWidget(w);\n            w.el.onmousedown = editor.focus.bind(editor);\n            editor.renderer.scrollCursorIntoView(null, 0.5, {\n              bottom: w.el.offsetHeight\n            });\n          };\n\n          dom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n        });\n        ace.define(\"ace/ace\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/range\", \"ace/editor\", \"ace/edit_session\", \"ace/undomanager\", \"ace/virtual_renderer\", \"ace/worker/worker_client\", \"ace/keyboard/hash_handler\", \"ace/placeholder\", \"ace/multi_select\", \"ace/mode/folding/fold_mode\", \"ace/theme/textmate\", \"ace/ext/error_marker\", \"ace/config\"], function (require, exports, module) {\n          \"use strict\";\n\n          require(\"./lib/fixoldbrowsers\");\n\n          var dom = require(\"./lib/dom\");\n\n          var event = require(\"./lib/event\");\n\n          var Range = require(\"./range\").Range;\n\n          var Editor = require(\"./editor\").Editor;\n\n          var EditSession = require(\"./edit_session\").EditSession;\n\n          var UndoManager = require(\"./undomanager\").UndoManager;\n\n          var Renderer = require(\"./virtual_renderer\").VirtualRenderer;\n\n          require(\"./worker/worker_client\");\n\n          require(\"./keyboard/hash_handler\");\n\n          require(\"./placeholder\");\n\n          require(\"./multi_select\");\n\n          require(\"./mode/folding/fold_mode\");\n\n          require(\"./theme/textmate\");\n\n          require(\"./ext/error_marker\");\n\n          exports.config = require(\"./config\");\n          exports.require = require;\n          if (true) exports.define = __webpack_require__(23);\n\n          exports.edit = function (el, options) {\n            if (typeof el == \"string\") {\n              var _id = el;\n              el = document.getElementById(_id);\n              if (!el) throw new Error(\"ace.edit can't find div #\" + _id);\n            }\n\n            if (el && el.env && el.env.editor instanceof Editor) return el.env.editor;\n            var value = \"\";\n\n            if (el && /input|textarea/i.test(el.tagName)) {\n              var oldNode = el;\n              value = oldNode.value;\n              el = dom.createElement(\"pre\");\n              oldNode.parentNode.replaceChild(el, oldNode);\n            } else if (el) {\n              value = el.textContent;\n              el.innerHTML = \"\";\n            }\n\n            var doc = exports.createEditSession(value);\n            var editor = new Editor(new Renderer(el), doc, options);\n            var env = {\n              document: doc,\n              editor: editor,\n              onResize: editor.resize.bind(editor, null)\n            };\n            if (oldNode) env.textarea = oldNode;\n            event.addListener(window, \"resize\", env.onResize);\n            editor.on(\"destroy\", function () {\n              event.removeListener(window, \"resize\", env.onResize);\n              env.editor.container.env = null; // prevent memory leak on old ie\n            });\n            editor.container.env = editor.env = env;\n            return editor;\n          };\n\n          exports.createEditSession = function (text, mode) {\n            var doc = new EditSession(text, mode);\n            doc.setUndoManager(new UndoManager());\n            return doc;\n          };\n\n          exports.Range = Range;\n          exports.Editor = Editor;\n          exports.EditSession = EditSession;\n          exports.UndoManager = UndoManager;\n          exports.VirtualRenderer = Renderer;\n          exports.version = exports.config.version;\n        });\n\n        (function () {\n          ace.require([\"ace/ace\"], function (a) {\n            if (a) {\n              a.config.init(true);\n              a.define = ace.define;\n            }\n\n            if (!window.ace) window.ace = a;\n\n            for (var key in a) {\n              if (a.hasOwnProperty(key)) window.ace[key] = a[key];\n            }\n\n            window.ace[\"default\"] = window.ace;\n\n            if (true && module) {\n              module.exports = window.ace;\n            }\n          });\n        })();\n        /* WEBPACK VAR INJECTION */\n\n      }).call(this, __webpack_require__(16)(module));\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (module) {\n        ace.define(\"ace/mode/json_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text_highlight_rules\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../lib/oop\");\n\n          var TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\n          var JsonHighlightRules = function JsonHighlightRules() {\n            this.$rules = {\n              \"start\": [{\n                token: \"variable\",\n                // single line\n                regex: '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]\\\\s*(?=:)'\n              }, {\n                token: \"string\",\n                // single line\n                regex: '\"',\n                next: \"string\"\n              }, {\n                token: \"constant.numeric\",\n                // hex\n                regex: \"0[xX][0-9a-fA-F]+\\\\b\"\n              }, {\n                token: \"constant.numeric\",\n                // float\n                regex: \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n              }, {\n                token: \"constant.language.boolean\",\n                regex: \"(?:true|false)\\\\b\"\n              }, {\n                token: \"text\",\n                // single quoted strings are not allowed\n                regex: \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n              }, {\n                token: \"comment\",\n                // comments are not allowed, but who cares?\n                regex: \"\\\\/\\\\/.*$\"\n              }, {\n                token: \"comment.start\",\n                // comments are not allowed, but who cares?\n                regex: \"\\\\/\\\\*\",\n                next: \"comment\"\n              }, {\n                token: \"paren.lparen\",\n                regex: \"[[({]\"\n              }, {\n                token: \"paren.rparen\",\n                regex: \"[\\\\])}]\"\n              }, {\n                token: \"text\",\n                regex: \"\\\\s+\"\n              }],\n              \"string\": [{\n                token: \"constant.language.escape\",\n                regex: /\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[\"\\\\\\/bfnrt])/\n              }, {\n                token: \"string\",\n                regex: '\"|$',\n                next: \"start\"\n              }, {\n                defaultToken: \"string\"\n              }],\n              \"comment\": [{\n                token: \"comment.end\",\n                // comments are not allowed, but who cares?\n                regex: \"\\\\*\\\\/\",\n                next: \"start\"\n              }, {\n                defaultToken: \"comment\"\n              }]\n            };\n          };\n\n          oop.inherits(JsonHighlightRules, TextHighlightRules);\n          exports.JsonHighlightRules = JsonHighlightRules;\n        });\n        ace.define(\"ace/mode/matching_brace_outdent\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n          \"use strict\";\n\n          var Range = require(\"../range\").Range;\n\n          var MatchingBraceOutdent = function MatchingBraceOutdent() {};\n\n          (function () {\n            this.checkOutdent = function (line, input) {\n              if (!/^\\s+$/.test(line)) return false;\n              return /^\\s*\\}/.test(input);\n            };\n\n            this.autoOutdent = function (doc, row) {\n              var line = doc.getLine(row);\n              var match = line.match(/^(\\s*\\})/);\n              if (!match) return 0;\n              var column = match[1].length;\n              var openBracePos = doc.findMatchingBracket({\n                row: row,\n                column: column\n              });\n              if (!openBracePos || openBracePos.row == row) return 0;\n              var indent = this.$getIndent(doc.getLine(openBracePos.row));\n              doc.replace(new Range(row, 0, row, column - 1), indent);\n            };\n\n            this.$getIndent = function (line) {\n              return line.match(/^\\s*/)[0];\n            };\n          }).call(MatchingBraceOutdent.prototype);\n          exports.MatchingBraceOutdent = MatchingBraceOutdent;\n        });\n        ace.define(\"ace/mode/folding/cstyle\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/range\", \"ace/mode/folding/fold_mode\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../../lib/oop\");\n\n          var Range = require(\"../../range\").Range;\n\n          var BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\n          var FoldMode = exports.FoldMode = function (commentRegex) {\n            if (commentRegex) {\n              this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start));\n              this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end));\n            }\n          };\n\n          oop.inherits(FoldMode, BaseFoldMode);\n          (function () {\n            this.foldingStartMarker = /([\\{\\[\\(])[^\\}\\]\\)]*$|^\\s*(\\/\\*)/;\n            this.foldingStopMarker = /^[^\\[\\{\\(]*([\\}\\]\\)])|^[\\s\\*]*(\\*\\/)/;\n            this.singleLineBlockCommentRe = /^\\s*(\\/\\*).*\\*\\/\\s*$/;\n            this.tripleStarBlockCommentRe = /^\\s*(\\/\\*\\*\\*).*\\*\\/\\s*$/;\n            this.startRegionRe = /^\\s*(\\/\\*|\\/\\/)#?region\\b/;\n            this._getFoldWidgetBase = this.getFoldWidget;\n\n            this.getFoldWidget = function (session, foldStyle, row) {\n              var line = session.getLine(row);\n\n              if (this.singleLineBlockCommentRe.test(line)) {\n                if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line)) return \"\";\n              }\n\n              var fw = this._getFoldWidgetBase(session, foldStyle, row);\n\n              if (!fw && this.startRegionRe.test(line)) return \"start\"; // lineCommentRegionStart\n\n              return fw;\n            };\n\n            this.getFoldWidgetRange = function (session, foldStyle, row, forceMultiline) {\n              var line = session.getLine(row);\n              if (this.startRegionRe.test(line)) return this.getCommentRegionBlock(session, line, row);\n              var match = line.match(this.foldingStartMarker);\n\n              if (match) {\n                var i = match.index;\n                if (match[1]) return this.openingBracketBlock(session, match[1], row, i);\n                var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n\n                if (range && !range.isMultiLine()) {\n                  if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                  } else if (foldStyle != \"all\") range = null;\n                }\n\n                return range;\n              }\n\n              if (foldStyle === \"markbegin\") return;\n              var match = line.match(this.foldingStopMarker);\n\n              if (match) {\n                var i = match.index + match[0].length;\n                if (match[1]) return this.closingBracketBlock(session, match[1], row, i);\n                return session.getCommentFoldRange(row, i, -1);\n              }\n            };\n\n            this.getSectionRange = function (session, row) {\n              var line = session.getLine(row);\n              var startIndent = line.search(/\\S/);\n              var startRow = row;\n              var startColumn = line.length;\n              row = row + 1;\n              var endRow = row;\n              var maxRow = session.getLength();\n\n              while (++row < maxRow) {\n                line = session.getLine(row);\n                var indent = line.search(/\\S/);\n                if (indent === -1) continue;\n                if (startIndent > indent) break;\n                var subRange = this.getFoldWidgetRange(session, \"all\", row);\n\n                if (subRange) {\n                  if (subRange.start.row <= startRow) {\n                    break;\n                  } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                  } else if (startIndent == indent) {\n                    break;\n                  }\n                }\n\n                endRow = row;\n              }\n\n              return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n            };\n\n            this.getCommentRegionBlock = function (session, line, row) {\n              var startColumn = line.search(/\\s*$/);\n              var maxRow = session.getLength();\n              var startRow = row;\n              var re = /^\\s*(?:\\/\\*|\\/\\/|--)#?(end)?region\\b/;\n              var depth = 1;\n\n              while (++row < maxRow) {\n                line = session.getLine(row);\n                var m = re.exec(line);\n                if (!m) continue;\n                if (m[1]) depth--;else depth++;\n                if (!depth) break;\n              }\n\n              var endRow = row;\n\n              if (endRow > startRow) {\n                return new Range(startRow, startColumn, endRow, line.length);\n              }\n            };\n          }).call(FoldMode.prototype);\n        });\n        ace.define(\"ace/mode/json\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text\", \"ace/mode/json_highlight_rules\", \"ace/mode/matching_brace_outdent\", \"ace/mode/behaviour/cstyle\", \"ace/mode/folding/cstyle\", \"ace/worker/worker_client\"], function (require, exports, module) {\n          \"use strict\";\n\n          var oop = require(\"../lib/oop\");\n\n          var TextMode = require(\"./text\").Mode;\n\n          var HighlightRules = require(\"./json_highlight_rules\").JsonHighlightRules;\n\n          var MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\n\n          var CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\n\n          var CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\n          var WorkerClient = require(\"../worker/worker_client\").WorkerClient;\n\n          var Mode = function Mode() {\n            this.HighlightRules = HighlightRules;\n            this.$outdent = new MatchingBraceOutdent();\n            this.$behaviour = new CstyleBehaviour();\n            this.foldingRules = new CStyleFoldMode();\n          };\n\n          oop.inherits(Mode, TextMode);\n          (function () {\n            this.getNextLineIndent = function (state, line, tab) {\n              var indent = this.$getIndent(line);\n\n              if (state == \"start\") {\n                var match = line.match(/^.*[\\{\\(\\[]\\s*$/);\n\n                if (match) {\n                  indent += tab;\n                }\n              }\n\n              return indent;\n            };\n\n            this.checkOutdent = function (state, line, input) {\n              return this.$outdent.checkOutdent(line, input);\n            };\n\n            this.autoOutdent = function (state, doc, row) {\n              this.$outdent.autoOutdent(doc, row);\n            };\n\n            this.createWorker = function (session) {\n              var worker = new WorkerClient([\"ace\"], \"ace/mode/json_worker\", \"JsonWorker\");\n              worker.attachToDocument(session.getDocument());\n              worker.on(\"annotate\", function (e) {\n                session.setAnnotations(e.data);\n              });\n              worker.on(\"terminate\", function () {\n                session.clearAnnotations();\n              });\n              return worker;\n            };\n\n            this.$id = \"ace/mode/json\";\n          }).call(Mode.prototype);\n          exports.Mode = Mode;\n        });\n\n        (function () {\n          ace.require([\"ace/mode/json\"], function (m) {\n            if (true && module) {\n              module.exports = m;\n            }\n          });\n        })();\n        /* WEBPACK VAR INJECTION */\n\n      }).call(this, __webpack_require__(16)(module));\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (module) {\n        ace.define(\"ace/ext/searchbox\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/event\", \"ace/keyboard/hash_handler\", \"ace/lib/keys\"], function (require, exports, module) {\n          \"use strict\";\n\n          var dom = require(\"../lib/dom\");\n\n          var lang = require(\"../lib/lang\");\n\n          var event = require(\"../lib/event\");\n\n          var searchboxCss = \"\\\n.ace_search {\\\nbackground-color: #ddd;\\\ncolor: #666;\\\nborder: 1px solid #cbcbcb;\\\nborder-top: 0 none;\\\noverflow: hidden;\\\nmargin: 0;\\\npadding: 4px 6px 0 4px;\\\nposition: absolute;\\\ntop: 0;\\\nz-index: 99;\\\nwhite-space: normal;\\\n}\\\n.ace_search.left {\\\nborder-left: 0 none;\\\nborder-radius: 0px 0px 5px 0px;\\\nleft: 0;\\\n}\\\n.ace_search.right {\\\nborder-radius: 0px 0px 0px 5px;\\\nborder-right: 0 none;\\\nright: 0;\\\n}\\\n.ace_search_form, .ace_replace_form {\\\nmargin: 0 20px 4px 0;\\\noverflow: hidden;\\\nline-height: 1.9;\\\n}\\\n.ace_replace_form {\\\nmargin-right: 0;\\\n}\\\n.ace_search_form.ace_nomatch {\\\noutline: 1px solid red;\\\n}\\\n.ace_search_field {\\\nborder-radius: 3px 0 0 3px;\\\nbackground-color: white;\\\ncolor: black;\\\nborder: 1px solid #cbcbcb;\\\nborder-right: 0 none;\\\noutline: 0;\\\npadding: 0;\\\nfont-size: inherit;\\\nmargin: 0;\\\nline-height: inherit;\\\npadding: 0 6px;\\\nmin-width: 17em;\\\nvertical-align: top;\\\nmin-height: 1.8em;\\\nbox-sizing: content-box;\\\n}\\\n.ace_searchbtn {\\\nborder: 1px solid #cbcbcb;\\\nline-height: inherit;\\\ndisplay: inline-block;\\\npadding: 0 6px;\\\nbackground: #fff;\\\nborder-right: 0 none;\\\nborder-left: 1px solid #dcdcdc;\\\ncursor: pointer;\\\nmargin: 0;\\\nposition: relative;\\\ncolor: #666;\\\n}\\\n.ace_searchbtn:last-child {\\\nborder-radius: 0 3px 3px 0;\\\nborder-right: 1px solid #cbcbcb;\\\n}\\\n.ace_searchbtn:disabled {\\\nbackground: none;\\\ncursor: default;\\\n}\\\n.ace_searchbtn:hover {\\\nbackground-color: #eef1f6;\\\n}\\\n.ace_searchbtn.prev, .ace_searchbtn.next {\\\npadding: 0px 0.7em\\\n}\\\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\\\ncontent: \\\"\\\";\\\nborder: solid 2px #888;\\\nwidth: 0.5em;\\\nheight: 0.5em;\\\nborder-width:  2px 0 0 2px;\\\ndisplay:inline-block;\\\ntransform: rotate(-45deg);\\\n}\\\n.ace_searchbtn.next:after {\\\nborder-width: 0 2px 2px 0 ;\\\n}\\\n.ace_searchbtn_close {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\\\nborder-radius: 50%;\\\nborder: 0 none;\\\ncolor: #656565;\\\ncursor: pointer;\\\nfont: 16px/16px Arial;\\\npadding: 0;\\\nheight: 14px;\\\nwidth: 14px;\\\ntop: 9px;\\\nright: 7px;\\\nposition: absolute;\\\n}\\\n.ace_searchbtn_close:hover {\\\nbackground-color: #656565;\\\nbackground-position: 50% 100%;\\\ncolor: white;\\\n}\\\n.ace_button {\\\nmargin-left: 2px;\\\ncursor: pointer;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\noverflow: hidden;\\\nopacity: 0.7;\\\nborder: 1px solid rgba(100,100,100,0.23);\\\npadding: 1px;\\\nbox-sizing:    border-box!important;\\\ncolor: black;\\\n}\\\n.ace_button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_button.checked {\\\nborder-color: #3399ff;\\\nopacity:1;\\\n}\\\n.ace_search_options{\\\nmargin-bottom: 3px;\\\ntext-align: right;\\\n-webkit-user-select: none;\\\n-moz-user-select: none;\\\n-o-user-select: none;\\\n-ms-user-select: none;\\\nuser-select: none;\\\nclear: both;\\\n}\\\n.ace_search_counter {\\\nfloat: left;\\\nfont-family: arial;\\\npadding: 0 8px;\\\n}\";\n\n          var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n\n          var keyUtil = require(\"../lib/keys\");\n\n          var MAX_COUNT = 999;\n          dom.importCssString(searchboxCss, \"ace_searchbox\");\n\n          var SearchBox = function SearchBox(editor, range, showReplaceForm) {\n            var div = dom.createElement(\"div\");\n            dom.buildDom([\"div\", {\n              class: \"ace_search right\"\n            }, [\"span\", {\n              action: \"hide\",\n              class: \"ace_searchbtn_close\"\n            }], [\"div\", {\n              class: \"ace_search_form\"\n            }, [\"input\", {\n              class: \"ace_search_field\",\n              placeholder: \"Search for\",\n              spellcheck: \"false\"\n            }], [\"span\", {\n              action: \"findPrev\",\n              class: \"ace_searchbtn prev\"\n            }, \"\\u200B\"], [\"span\", {\n              action: \"findNext\",\n              class: \"ace_searchbtn next\"\n            }, \"\\u200B\"], [\"span\", {\n              action: \"findAll\",\n              class: \"ace_searchbtn\",\n              title: \"Alt-Enter\"\n            }, \"All\"]], [\"div\", {\n              class: \"ace_replace_form\"\n            }, [\"input\", {\n              class: \"ace_search_field\",\n              placeholder: \"Replace with\",\n              spellcheck: \"false\"\n            }], [\"span\", {\n              action: \"replaceAndFindNext\",\n              class: \"ace_searchbtn\"\n            }, \"Replace\"], [\"span\", {\n              action: \"replaceAll\",\n              class: \"ace_searchbtn\"\n            }, \"All\"]], [\"div\", {\n              class: \"ace_search_options\"\n            }, [\"span\", {\n              action: \"toggleReplace\",\n              class: \"ace_button\",\n              title: \"Toggle Replace mode\",\n              style: \"float:left;margin-top:-2px;padding:0 5px;\"\n            }, \"+\"], [\"span\", {\n              class: \"ace_search_counter\"\n            }], [\"span\", {\n              action: \"toggleRegexpMode\",\n              class: \"ace_button\",\n              title: \"RegExp Search\"\n            }, \".*\"], [\"span\", {\n              action: \"toggleCaseSensitive\",\n              class: \"ace_button\",\n              title: \"CaseSensitive Search\"\n            }, \"Aa\"], [\"span\", {\n              action: \"toggleWholeWords\",\n              class: \"ace_button\",\n              title: \"Whole Word Search\"\n            }, \"\\\\b\"], [\"span\", {\n              action: \"searchInSelection\",\n              class: \"ace_button\",\n              title: \"Search In Selection\"\n            }, \"S\"]]], div);\n            this.element = div.firstChild;\n            this.setSession = this.setSession.bind(this);\n            this.$init();\n            this.setEditor(editor);\n            dom.importCssString(searchboxCss, \"ace_searchbox\", editor.container);\n          };\n\n          (function () {\n            this.setEditor = function (editor) {\n              editor.searchBox = this;\n              editor.renderer.scroller.appendChild(this.element);\n              this.editor = editor;\n            };\n\n            this.setSession = function (e) {\n              this.searchRange = null;\n              this.$syncOptions(true);\n            };\n\n            this.$initElements = function (sb) {\n              this.searchBox = sb.querySelector(\".ace_search_form\");\n              this.replaceBox = sb.querySelector(\".ace_replace_form\");\n              this.searchOption = sb.querySelector(\"[action=searchInSelection]\");\n              this.replaceOption = sb.querySelector(\"[action=toggleReplace]\");\n              this.regExpOption = sb.querySelector(\"[action=toggleRegexpMode]\");\n              this.caseSensitiveOption = sb.querySelector(\"[action=toggleCaseSensitive]\");\n              this.wholeWordOption = sb.querySelector(\"[action=toggleWholeWords]\");\n              this.searchInput = this.searchBox.querySelector(\".ace_search_field\");\n              this.replaceInput = this.replaceBox.querySelector(\".ace_search_field\");\n              this.searchCounter = sb.querySelector(\".ace_search_counter\");\n            };\n\n            this.$init = function () {\n              var sb = this.element;\n              this.$initElements(sb);\n\n              var _this = this;\n\n              event.addListener(sb, \"mousedown\", function (e) {\n                setTimeout(function () {\n                  _this.activeInput.focus();\n                }, 0);\n                event.stopPropagation(e);\n              });\n              event.addListener(sb, \"click\", function (e) {\n                var t = e.target || e.srcElement;\n                var action = t.getAttribute(\"action\");\n                if (action && _this[action]) _this[action]();else if (_this.$searchBarKb.commands[action]) _this.$searchBarKb.commands[action].exec(_this);\n                event.stopPropagation(e);\n              });\n              event.addCommandKeyListener(sb, function (e, hashId, keyCode) {\n                var keyString = keyUtil.keyCodeToString(keyCode);\n\n                var command = _this.$searchBarKb.findKeyCommand(hashId, keyString);\n\n                if (command && command.exec) {\n                  command.exec(_this);\n                  event.stopEvent(e);\n                }\n              });\n              this.$onChange = lang.delayedCall(function () {\n                _this.find(false, false);\n              });\n              event.addListener(this.searchInput, \"input\", function () {\n                _this.$onChange.schedule(20);\n              });\n              event.addListener(this.searchInput, \"focus\", function () {\n                _this.activeInput = _this.searchInput;\n                _this.searchInput.value && _this.highlight();\n              });\n              event.addListener(this.replaceInput, \"focus\", function () {\n                _this.activeInput = _this.replaceInput;\n                _this.searchInput.value && _this.highlight();\n              });\n            };\n\n            this.$closeSearchBarKb = new HashHandler([{\n              bindKey: \"Esc\",\n              name: \"closeSearchBar\",\n              exec: function exec(editor) {\n                editor.searchBox.hide();\n              }\n            }]);\n            this.$searchBarKb = new HashHandler();\n            this.$searchBarKb.bindKeys({\n              \"Ctrl-f|Command-f\": function CtrlFCommandF(sb) {\n                var isReplace = sb.isReplace = !sb.isReplace;\n                sb.replaceBox.style.display = isReplace ? \"\" : \"none\";\n                sb.replaceOption.checked = false;\n                sb.$syncOptions();\n                sb.searchInput.focus();\n              },\n              \"Ctrl-H|Command-Option-F\": function CtrlHCommandOptionF(sb) {\n                if (sb.editor.getReadOnly()) return;\n                sb.replaceOption.checked = true;\n                sb.$syncOptions();\n                sb.replaceInput.focus();\n              },\n              \"Ctrl-G|Command-G\": function CtrlGCommandG(sb) {\n                sb.findNext();\n              },\n              \"Ctrl-Shift-G|Command-Shift-G\": function CtrlShiftGCommandShiftG(sb) {\n                sb.findPrev();\n              },\n              \"esc\": function esc(sb) {\n                setTimeout(function () {\n                  sb.hide();\n                });\n              },\n              \"Return\": function Return(sb) {\n                if (sb.activeInput == sb.replaceInput) sb.replace();\n                sb.findNext();\n              },\n              \"Shift-Return\": function ShiftReturn(sb) {\n                if (sb.activeInput == sb.replaceInput) sb.replace();\n                sb.findPrev();\n              },\n              \"Alt-Return\": function AltReturn(sb) {\n                if (sb.activeInput == sb.replaceInput) sb.replaceAll();\n                sb.findAll();\n              },\n              \"Tab\": function Tab(sb) {\n                (sb.activeInput == sb.replaceInput ? sb.searchInput : sb.replaceInput).focus();\n              }\n            });\n            this.$searchBarKb.addCommands([{\n              name: \"toggleRegexpMode\",\n              bindKey: {\n                win: \"Alt-R|Alt-/\",\n                mac: \"Ctrl-Alt-R|Ctrl-Alt-/\"\n              },\n              exec: function exec(sb) {\n                sb.regExpOption.checked = !sb.regExpOption.checked;\n                sb.$syncOptions();\n              }\n            }, {\n              name: \"toggleCaseSensitive\",\n              bindKey: {\n                win: \"Alt-C|Alt-I\",\n                mac: \"Ctrl-Alt-R|Ctrl-Alt-I\"\n              },\n              exec: function exec(sb) {\n                sb.caseSensitiveOption.checked = !sb.caseSensitiveOption.checked;\n                sb.$syncOptions();\n              }\n            }, {\n              name: \"toggleWholeWords\",\n              bindKey: {\n                win: \"Alt-B|Alt-W\",\n                mac: \"Ctrl-Alt-B|Ctrl-Alt-W\"\n              },\n              exec: function exec(sb) {\n                sb.wholeWordOption.checked = !sb.wholeWordOption.checked;\n                sb.$syncOptions();\n              }\n            }, {\n              name: \"toggleReplace\",\n              exec: function exec(sb) {\n                sb.replaceOption.checked = !sb.replaceOption.checked;\n                sb.$syncOptions();\n              }\n            }, {\n              name: \"searchInSelection\",\n              exec: function exec(sb) {\n                sb.searchOption.checked = !sb.searchRange;\n                sb.setSearchRange(sb.searchOption.checked && sb.editor.getSelectionRange());\n                sb.$syncOptions();\n              }\n            }]);\n\n            this.setSearchRange = function (range) {\n              this.searchRange = range;\n\n              if (range) {\n                this.searchRangeMarker = this.editor.session.addMarker(range, \"ace_active-line\");\n              } else if (this.searchRangeMarker) {\n                this.editor.session.removeMarker(this.searchRangeMarker);\n                this.searchRangeMarker = null;\n              }\n            };\n\n            this.$syncOptions = function (preventScroll) {\n              dom.setCssClass(this.replaceOption, \"checked\", this.searchRange);\n              dom.setCssClass(this.searchOption, \"checked\", this.searchOption.checked);\n              this.replaceOption.textContent = this.replaceOption.checked ? \"-\" : \"+\";\n              dom.setCssClass(this.regExpOption, \"checked\", this.regExpOption.checked);\n              dom.setCssClass(this.wholeWordOption, \"checked\", this.wholeWordOption.checked);\n              dom.setCssClass(this.caseSensitiveOption, \"checked\", this.caseSensitiveOption.checked);\n              var readOnly = this.editor.getReadOnly();\n              this.replaceOption.style.display = readOnly ? \"none\" : \"\";\n              this.replaceBox.style.display = this.replaceOption.checked && !readOnly ? \"\" : \"none\";\n              this.find(false, false, preventScroll);\n            };\n\n            this.highlight = function (re) {\n              this.editor.session.highlight(re || this.editor.$search.$options.re);\n              this.editor.renderer.updateBackMarkers();\n            };\n\n            this.find = function (skipCurrent, backwards, preventScroll) {\n              var range = this.editor.find(this.searchInput.value, {\n                skipCurrent: skipCurrent,\n                backwards: backwards,\n                wrap: true,\n                regExp: this.regExpOption.checked,\n                caseSensitive: this.caseSensitiveOption.checked,\n                wholeWord: this.wholeWordOption.checked,\n                preventScroll: preventScroll,\n                range: this.searchRange\n              });\n              var noMatch = !range && this.searchInput.value;\n              dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n\n              this.editor._emit(\"findSearchBox\", {\n                match: !noMatch\n              });\n\n              this.highlight();\n              this.updateCounter();\n            };\n\n            this.updateCounter = function () {\n              var editor = this.editor;\n              var regex = editor.$search.$options.re;\n              var all = 0;\n              var before = 0;\n\n              if (regex) {\n                var value = this.searchRange ? editor.session.getTextRange(this.searchRange) : editor.getValue();\n                var offset = editor.session.doc.positionToIndex(editor.selection.anchor);\n                if (this.searchRange) offset -= editor.session.doc.positionToIndex(this.searchRange.start);\n                var last = regex.lastIndex = 0;\n                var m;\n\n                while (m = regex.exec(value)) {\n                  all++;\n                  last = m.index;\n                  if (last <= offset) before++;\n                  if (all > MAX_COUNT) break;\n\n                  if (!m[0]) {\n                    regex.lastIndex = last += 1;\n                    if (last >= value.length) break;\n                  }\n                }\n              }\n\n              this.searchCounter.textContent = before + \" of \" + (all > MAX_COUNT ? MAX_COUNT + \"+\" : all);\n            };\n\n            this.findNext = function () {\n              this.find(true, false);\n            };\n\n            this.findPrev = function () {\n              this.find(true, true);\n            };\n\n            this.findAll = function () {\n              var range = this.editor.findAll(this.searchInput.value, {\n                regExp: this.regExpOption.checked,\n                caseSensitive: this.caseSensitiveOption.checked,\n                wholeWord: this.wholeWordOption.checked\n              });\n              var noMatch = !range && this.searchInput.value;\n              dom.setCssClass(this.searchBox, \"ace_nomatch\", noMatch);\n\n              this.editor._emit(\"findSearchBox\", {\n                match: !noMatch\n              });\n\n              this.highlight();\n              this.hide();\n            };\n\n            this.replace = function () {\n              if (!this.editor.getReadOnly()) this.editor.replace(this.replaceInput.value);\n            };\n\n            this.replaceAndFindNext = function () {\n              if (!this.editor.getReadOnly()) {\n                this.editor.replace(this.replaceInput.value);\n                this.findNext();\n              }\n            };\n\n            this.replaceAll = function () {\n              if (!this.editor.getReadOnly()) this.editor.replaceAll(this.replaceInput.value);\n            };\n\n            this.hide = function () {\n              this.active = false;\n              this.setSearchRange(null);\n              this.editor.off(\"changeSession\", this.setSession);\n              this.element.style.display = \"none\";\n              this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);\n              this.editor.focus();\n            };\n\n            this.show = function (value, isReplace) {\n              this.active = true;\n              this.editor.on(\"changeSession\", this.setSession);\n              this.element.style.display = \"\";\n              this.replaceOption.checked = isReplace;\n              if (value) this.searchInput.value = value;\n              this.searchInput.focus();\n              this.searchInput.select();\n              this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);\n              this.$syncOptions(true);\n            };\n\n            this.isFocused = function () {\n              var el = document.activeElement;\n              return el == this.searchInput || el == this.replaceInput;\n            };\n          }).call(SearchBox.prototype);\n          exports.SearchBox = SearchBox;\n\n          exports.Search = function (editor, isReplace) {\n            var sb = editor.searchBox || new SearchBox(editor);\n            sb.show(editor.session.getTextRange(), isReplace);\n          };\n        });\n\n        (function () {\n          ace.require([\"ace/ext/searchbox\"], function (m) {\n            if (true && module) {\n              module.exports = m;\n            }\n          });\n        })();\n        /* WEBPACK VAR INJECTION */\n\n      }).call(this, __webpack_require__(16)(module));\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports) {\n      module.exports = 'data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyLmRhdGEsCiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICBsaW5lOiBsaW5lLCAKICAgICAgICBjb2w6IGNvbCwKICAgICAgICBzdGFjazogZXJyLnN0YWNrCiAgICB9fSk7Cn07Cgp3aW5kb3cubm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHsKICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gcmVxdWlyZXMKICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoIiEiKSAhPT0gLTEpIHsKICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdCgiISIpOwogICAgICAgIHJldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgIiEiICsgd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTsKICAgIH0KICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09ICIuIikgewogICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoIi8iKS5zbGljZSgwLCAtMSkuam9pbigiLyIpOwogICAgICAgIG1vZHVsZU5hbWUgPSAoYmFzZSA/IGJhc2UgKyAiLyIgOiAiIikgKyBtb2R1bGVOYW1lOwogICAgICAgIAogICAgICAgIHdoaWxlIChtb2R1bGVOYW1lLmluZGV4T2YoIi4iKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBtb2R1bGVOYW1lOwogICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICIiKS5yZXBsYWNlKC9cL1wuXC8vLCAiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywgIiIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIG1vZHVsZU5hbWU7Cn07Cgp3aW5kb3cucmVxdWlyZSA9IGZ1bmN0aW9uIHJlcXVpcmUocGFyZW50SWQsIGlkKSB7CiAgICBpZiAoIWlkKSB7CiAgICAgICAgaWQgPSBwYXJlbnRJZDsKICAgICAgICBwYXJlbnRJZCA9IG51bGw7CiAgICB9CiAgICBpZiAoIWlkLmNoYXJBdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIndvcmtlci5qcyByZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50cyIpOwoKICAgIGlkID0gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgaWQpOwoKICAgIHZhciBtb2R1bGUgPSB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXTsKICAgIGlmIChtb2R1bGUpIHsKICAgICAgICBpZiAoIW1vZHVsZS5pbml0aWFsaXplZCkgewogICAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAKICAgIGlmICghd2luZG93LnJlcXVpcmUudGxucykKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIgKyBpZCk7CiAgICAKICAgIHZhciBwYXRoID0gcmVzb2x2ZU1vZHVsZUlkKGlkLCB3aW5kb3cucmVxdWlyZS50bG5zKTsKICAgIGlmIChwYXRoLnNsaWNlKC0zKSAhPSAiLmpzIikgcGF0aCArPSAiLmpzIjsKICAgIAogICAgd2luZG93LnJlcXVpcmUuaWQgPSBpZDsKICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0ge307IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCBvbiBicm9rZW4gbW9kdWxlcwogICAgaW1wb3J0U2NyaXB0cyhwYXRoKTsKICAgIHJldHVybiB3aW5kb3cucmVxdWlyZShwYXJlbnRJZCwgaWQpOwp9OwpmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQsIHBhdGhzKSB7CiAgICB2YXIgdGVzdFBhdGggPSBpZCwgdGFpbCA9ICIiOwogICAgd2hpbGUgKHRlc3RQYXRoKSB7CiAgICAgICAgdmFyIGFsaWFzID0gcGF0aHNbdGVzdFBhdGhdOwogICAgICAgIGlmICh0eXBlb2YgYWxpYXMgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGFsaWFzICsgdGFpbDsKICAgICAgICB9IGVsc2UgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgIHJldHVybiAgYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXC8qJC8sICIvIikgKyAodGFpbCB8fCBhbGlhcy5tYWluIHx8IGFsaWFzLm5hbWUpOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSB0ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpOwogICAgICAgIGlmIChpID09PSAtMSkgYnJlYWs7CiAgICAgICAgdGFpbCA9IHRlc3RQYXRoLnN1YnN0cihpKSArIHRhaWw7CiAgICAgICAgdGVzdFBhdGggPSB0ZXN0UGF0aC5zbGljZSgwLCBpKTsKICAgIH0KICAgIHJldHVybiBpZDsKfQp3aW5kb3cucmVxdWlyZS5tb2R1bGVzID0ge307CndpbmRvdy5yZXF1aXJlLnRsbnMgPSB7fTsKCndpbmRvdy5kZWZpbmUgPSBmdW5jdGlvbihpZCwgZGVwcywgZmFjdG9yeSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICAgIGZhY3RvcnkgPSBkZXBzOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT0gInN0cmluZyIpIHsKICAgICAgICAgICAgZGVwcyA9IGlkOwogICAgICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgZmFjdG9yeSA9IGlkOwogICAgICAgIGRlcHMgPSBbXTsKICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgfQogICAgCiAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gImZ1bmN0aW9uIikgewogICAgICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0gewogICAgICAgICAgICBleHBvcnRzOiBmYWN0b3J5LAogICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghZGVwcy5sZW5ndGgpCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVwZW5kZW5jaWVzLCB3ZSBpbmplY3QgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kCiAgICAgICAgLy8gIm1vZHVsZSIgYXMgZGVwZW5kZW5jaWVzLCB0byBwcm92aWRlIENvbW1vbkpTIGNvbXBhdGliaWxpdHkuCiAgICAgICAgZGVwcyA9IFsicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSJdOwoKICAgIHZhciByZXEgPSBmdW5jdGlvbihjaGlsZElkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKGlkLCBjaGlsZElkKTsKICAgIH07CgogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkuYXBwbHkodGhpcywgZGVwcy5zbGljZSgwLCBmYWN0b3J5Lmxlbmd0aCkubWFwKGZ1bmN0aW9uKGRlcCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChkZXApIHsKICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlICJyZXF1aXJlIiwgImV4cG9ydHMiIGFuZCAibW9kdWxlIiBhcmVuJ3QgYWN0dWFsCiAgICAgICAgICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzLCB3ZSBtdXN0IGhhbmRsZSB0aGVtIHNlcGVyYXRlbHkuCiAgICAgICAgICAgICAgICAgICAgY2FzZSAicmVxdWlyZSI6IHJldHVybiByZXE7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhwb3J0cyI6IHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICBjYXNlICJtb2R1bGUiOiAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAvLyBCdXQgZm9yIGFsbCBvdGhlciBkZXBlbmRlbmNpZXMsIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgdGhlbS4KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgcmV0dXJuIHJlcShkZXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChyZXR1cm5FeHBvcnRzKQogICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXR1cm5FeHBvcnRzOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH0KICAgIH07Cn07CndpbmRvdy5kZWZpbmUuYW1kID0ge307CnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHJlcXVpcmUudGxuc1tpXSA9IHRvcExldmVsTmFtZXNwYWNlc1tpXTsKfTsKCndpbmRvdy5pbml0U2VuZGVyID0gZnVuY3Rpb24gaW5pdFNlbmRlcigpIHsKCiAgICB2YXIgRXZlbnRFbWl0dGVyID0gd2luZG93LnJlcXVpcmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKICAgIHZhciBvb3AgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9vb3AiKTsKICAgIAogICAgdmFyIFNlbmRlciA9IGZ1bmN0aW9uKCkge307CiAgICAKICAgIChmdW5jdGlvbigpIHsKICAgICAgICAKICAgICAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2tJZCkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2FsbCIsCiAgICAgICAgICAgICAgICBpZDogY2FsbGJhY2tJZCwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgIAogICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImV2ZW50IiwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgCiAgICB9KS5jYWxsKFNlbmRlci5wcm90b3R5cGUpOwogICAgCiAgICByZXR1cm4gbmV3IFNlbmRlcigpOwp9OwoKdmFyIG1haW4gPSB3aW5kb3cubWFpbiA9IG51bGw7CnZhciBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gbnVsbDsKCndpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICB2YXIgbXNnID0gZS5kYXRhOwogICAgaWYgKG1zZy5ldmVudCAmJiBzZW5kZXIpIHsKICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5jb21tYW5kKSB7CiAgICAgICAgaWYgKG1haW5bbXNnLmNvbW1hbmRdKQogICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7CiAgICAgICAgZWxzZSBpZiAod2luZG93W21zZy5jb21tYW5kXSkKICAgICAgICAgICAgd2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csIG1zZy5hcmdzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIgKyBtc2cuY29tbWFuZCk7CiAgICB9CiAgICBlbHNlIGlmIChtc2cuaW5pdCkgewogICAgICAgIHdpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpOwogICAgICAgIHJlcXVpcmUoImFjZS9saWIvZXM1LXNoaW0iKTsKICAgICAgICBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gd2luZG93LmluaXRTZW5kZXIoKTsKICAgICAgICB2YXIgY2xhenogPSByZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbihjdG9yLCBzdXBlckN0b3IpIHsKICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yOwogICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHsKICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICB2YWx1ZTogY3RvciwKICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgICB9CiAgICB9KTsKfTsKCmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbihvYmosIG1peGluKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gbWl4aW4pIHsKICAgICAgICBvYmpba2V5XSA9IG1peGluW2tleV07CiAgICB9CiAgICByZXR1cm4gb2JqOwp9OwoKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbihwcm90bywgbWl4aW4pIHsKICAgIGV4cG9ydHMubWl4aW4ocHJvdG8sIG1peGluKTsKfTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKdmFyIGNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbihwMSwgcDIpIHsKICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uOwp9Owp2YXIgUmFuZ2UgPSBmdW5jdGlvbihzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKCiAgICB0aGlzLmVuZCA9IHsKICAgICAgICByb3c6IGVuZFJvdywKICAgICAgICBjb2x1bW46IGVuZENvbHVtbgogICAgfTsKfTsKCihmdW5jdGlvbigpIHsKICAgIHRoaXMuaXNFcXVhbCA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKCiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgY21wLAogICAgICAgICAgICBlbmQgPSByYW5nZS5lbmQsCiAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7CgogICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShlbmQucm93LCBlbmQuY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pOwogICAgICAgICAgICBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiA0MjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZVBvaW50ID0gZnVuY3Rpb24ocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkgPT0gMCAmJiB0aGlzLmNvbXBhcmVQb2ludChyYW5nZS5lbmQpID09IDA7CiAgICB9OwogICAgdGhpcy5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlUmFuZ2UocmFuZ2UpOwogICAgICAgIHJldHVybiAoY21wID09IC0xIHx8IGNtcCA9PSAwIHx8IGNtcCA9PSAxKTsKICAgIH07CiAgICB0aGlzLmlzRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgdGhpcy5zZXRTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gY29sdW1uOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnNldEVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gcm93LmNvbHVtbjsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93LnJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5pbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICB0aGlzLmluc2lkZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgdGhpcy5jb21wYXJlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocm93IDwgdGhpcy5zdGFydC5yb3cpCiAgICAgICAgICAgIHJldHVybiAtMTsKCiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CgogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwoKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPD0gdGhpcy5lbmQuY29sdW1uID8gMCA6IDE7CgogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY2xpcFJvd3MgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07CiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmQucm93IDwgZmlyc3RSb3cpCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTsKCiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogZmlyc3RSb3csIGNvbHVtbjogMH07CgogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwoKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICAgICAgZWxzZQogICAgICAgICAgICB2YXIgZW5kID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CgogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwoKICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyAhPT0gdGhpcy5lbmQucm93KTsKICAgIH07CiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHModGhpcy5zdGFydCwgdGhpcy5lbmQpOwogICAgfTsKICAgIHRoaXMuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93LTEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgdGhpcy50b1NjcmVlblJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CgogICAgICAgIHJldHVybiBuZXcgUmFuZ2UoCiAgICAgICAgICAgIHNjcmVlblBvc1N0YXJ0LnJvdywgc2NyZWVuUG9zU3RhcnQuY29sdW1uLAogICAgICAgICAgICBzY3JlZW5Qb3NFbmQucm93LCBzY3JlZW5Qb3NFbmQuY29sdW1uCiAgICAgICAgKTsKICAgIH07CiAgICB0aGlzLm1vdmVCeSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdGhpcy5zdGFydC5yb3cgKz0gcm93OwogICAgICAgIHRoaXMuc3RhcnQuY29sdW1uICs9IGNvbHVtbjsKICAgICAgICB0aGlzLmVuZC5yb3cgKz0gcm93OwogICAgICAgIHRoaXMuZW5kLmNvbHVtbiArPSBjb2x1bW47CiAgICB9OwoKfSkuY2FsbChSYW5nZS5wcm90b3R5cGUpOwpSYW5nZS5mcm9tUG9pbnRzID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkgewogICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbiwgZW5kLnJvdywgZW5kLmNvbHVtbik7Cn07ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBjb21wYXJlUG9pbnRzOwoKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CgoKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7CgpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCl7CiAgICBjb25zb2xlLmxvZygiSW52YWxpZCBEZWx0YToiLCBkZWx0YSk7CiAgICB0aHJvdyAiSW52YWxpZCBEZWx0YTogIiArIGVycm9yVGV4dDsKfQoKZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyAgICA+PSAwICYmIHBvc2l0aW9uLnJvdyAgICA8ICBkb2NMaW5lcy5sZW5ndGggJiYKICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPj0gMCAmJiBwb3NpdGlvbi5jb2x1bW4gPD0gZG9jTGluZXNbcG9zaXRpb24ucm93XS5sZW5ndGg7Cn0KCmZ1bmN0aW9uIHZhbGlkYXRlRGVsdGEoZG9jTGluZXMsIGRlbHRhKSB7CiAgICBpZiAoZGVsdGEuYWN0aW9uICE9ICJpbnNlcnQiICYmIGRlbHRhLmFjdGlvbiAhPSAicmVtb3ZlIikKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5hY3Rpb24gbXVzdCBiZSAnaW5zZXJ0JyBvciAncmVtb3ZlJyIpOwogICAgaWYgKCEoZGVsdGEubGluZXMgaW5zdGFuY2VvZiBBcnJheSkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEubGluZXMgbXVzdCBiZSBhbiBBcnJheSIpOwogICAgaWYgKCFkZWx0YS5zdGFydCB8fCAhZGVsdGEuZW5kKQogICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQvZW5kIG11c3QgYmUgYW4gcHJlc2VudCIpOwogICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICBpZiAoIXBvc2l0aW9uSW5Eb2N1bWVudChkb2NMaW5lcywgZGVsdGEuc3RhcnQpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLnN0YXJ0IG11c3QgYmUgY29udGFpbmVkIGluIGRvY3VtZW50Iik7CiAgICB2YXIgZW5kID0gZGVsdGEuZW5kOwogICAgaWYgKGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiAhcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBlbmQpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmVuZCBtdXN0IGNvbnRhaW5lZCBpbiBkb2N1bWVudCBmb3IgJ3JlbW92ZScgYWN0aW9ucyIpOwogICAgdmFyIG51bVJhbmdlUm93cyA9IGVuZC5yb3cgLSBzdGFydC5yb3c7CiAgICB2YXIgbnVtUmFuZ2VMYXN0TGluZUNoYXJzID0gKGVuZC5jb2x1bW4gLSAobnVtUmFuZ2VSb3dzID09IDAgPyBzdGFydC5jb2x1bW4gOiAwKSk7CiAgICBpZiAobnVtUmFuZ2VSb3dzICE9IGRlbHRhLmxpbmVzLmxlbmd0aCAtIDEgfHwgZGVsdGEubGluZXNbbnVtUmFuZ2VSb3dzXS5sZW5ndGggIT0gbnVtUmFuZ2VMYXN0TGluZUNoYXJzKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLnJhbmdlIG11c3QgbWF0Y2ggZGVsdGEgbGluZXMiKTsKfQoKZXhwb3J0cy5hcHBseURlbHRhID0gZnVuY3Rpb24oZG9jTGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKAogICAgICAgICAgICAgICAgICAgIHJvdywgZW5kUm93IC0gcm93ICsgMSwKICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgfQp9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHsgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9Owp2YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfTsKCkV2ZW50RW1pdHRlci5fZW1pdCA9CkV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkgewogICAgdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCAodGhpcy5fZXZlbnRSZWdpc3RyeSA9IHt9KTsKICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVycyB8fCAodGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge30pOwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gfHwgW107CiAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgIGlmICghbGlzdGVuZXJzLmxlbmd0aCAmJiAhZGVmYXVsdEhhbmRsZXIpCiAgICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2YgZSAhPSAib2JqZWN0IiB8fCAhZSkKICAgICAgICBlID0ge307CgogICAgaWYgKCFlLnR5cGUpCiAgICAgICAgZS50eXBlID0gZXZlbnROYW1lOwogICAgaWYgKCFlLnN0b3BQcm9wYWdhdGlvbikKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgIGlmICghZS5wcmV2ZW50RGVmYXVsdCkKICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQ7CgogICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpOwogICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgYnJlYWs7CiAgICB9CiAgICAKICAgIGlmIChkZWZhdWx0SGFuZGxlciAmJiAhZS5kZWZhdWx0UHJldmVudGVkKQogICAgICAgIHJldHVybiBkZWZhdWx0SGFuZGxlcihlLCB0aGlzKTsKfTsKCgpFdmVudEVtaXR0ZXIuX3NpZ25hbCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkgewogICAgdmFyIGxpc3RlbmVycyA9ICh0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9KVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgcmV0dXJuOwogICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKCkV2ZW50RW1pdHRlci5vbmNlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCkgewogICAgICAgIF9zZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgICAgICAgIGNhbGxiYWNrID0gcmVzb2x2ZTsKICAgICAgICB9KTsKICAgIH0KfTsKCgpFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge19kaXNhYmxlZF86IHt9fTsKICAgIAogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkgCiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTsKICAgIH0KICAgIGhhbmRsZXJzW2V2ZW50TmFtZV0gPSBjYWxsYmFjazsKfTsKRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAKICAgIGlmIChoYW5kbGVyc1tldmVudE5hbWVdID09IGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKGRpc2FibGVkKQogICAgICAgICAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyKGV2ZW50TmFtZSwgZGlzYWJsZWQucG9wKCkpOwogICAgfSBlbHNlIGlmIChkaXNhYmxlZCkgewogICAgICAgIHZhciBpID0gZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7CiAgICAgICAgaWYgKGkgIT0gLTEpCiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTsKICAgIH0KfTsKCkV2ZW50RW1pdHRlci5vbiA9CkV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTsKCiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CgogICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICBsaXN0ZW5lcnNbY2FwdHVyaW5nID8gInVuc2hpZnQiIDogInB1c2giXShjYWxsYmFjayk7CiAgICByZXR1cm4gY2FsbGJhY2s7Cn07CgpFdmVudEVtaXR0ZXIub2ZmID0KRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KRXZlbnRFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTsKCiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgcmV0dXJuOwoKICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTsKICAgIGlmIChpbmRleCAhPT0gLTEpCiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7Cn07CgpFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkgdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107Cn07CgpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL2FuY2hvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwoKdmFyIEFuY2hvciA9IGV4cG9ydHMuQW5jaG9yID0gZnVuY3Rpb24oZG9jLCByb3csIGNvbHVtbikgewogICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7CiAgICB0aGlzLmF0dGFjaChkb2MpOwogICAgCiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwoKKGZ1bmN0aW9uKCkgewoKICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgIHRoaXMuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudDsKICAgIH07CiAgICB0aGlzLiRpbnNlcnRSaWdodCA9IGZhbHNlOwogICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA9PSBkZWx0YS5lbmQucm93ICYmIGRlbHRhLnN0YXJ0LnJvdyAhPSB0aGlzLnJvdykKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID4gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHtyb3c6IHRoaXMucm93LCBjb2x1bW46IHRoaXMuY29sdW1ufSwgdGhpcy4kaW5zZXJ0UmlnaHQpOwogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocG9pbnQucm93LCBwb2ludC5jb2x1bW4sIHRydWUpOwogICAgfTsKICAgIAogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgICAgICAgICAKICAgIGZ1bmN0aW9uICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCBwb2ludCwgbW92ZUlmRXF1YWwpIHsKICAgICAgICB2YXIgZGVsdGFJc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgICAgICB2YXIgZGVsdGFSb3dTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQucm93ICAgIC0gZGVsdGEuc3RhcnQucm93KTsKICAgICAgICB2YXIgZGVsdGFDb2xTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQuY29sdW1uIC0gZGVsdGEuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZGVsdGFTdGFydCA9IGRlbHRhLnN0YXJ0OwogICAgICAgIHZhciBkZWx0YUVuZCA9IGRlbHRhSXNJbnNlcnQgPyBkZWx0YVN0YXJ0IDogZGVsdGEuZW5kOyAvLyBDb2xsYXBzZSBpbnNlcnQgcmFuZ2UuCiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKHBvaW50LCBkZWx0YVN0YXJ0LCBtb3ZlSWZFcXVhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJvdzogcG9pbnQucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLCBwb2ludCwgIW1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3cgKyBkZWx0YVJvd1NoaWZ0LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW4gKyAocG9pbnQucm93ID09IGRlbHRhRW5kLnJvdyA/IGRlbHRhQ29sU2hpZnQgOiAwKQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByb3c6IGRlbHRhU3RhcnQucm93LAogICAgICAgICAgICBjb2x1bW46IGRlbHRhU3RhcnQuY29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwb3MgPSB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdywgY29sdW1uKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnJvdyA9PSBwb3Mucm93ICYmIHRoaXMuY29sdW1uID09IHBvcy5jb2x1bW4pCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CgogICAgICAgIHRoaXMucm93ID0gcG9zLnJvdzsKICAgICAgICB0aGlzLmNvbHVtbiA9IHBvcy5jb2x1bW47CiAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCB7CiAgICAgICAgICAgIG9sZDogb2xkLAogICAgICAgICAgICB2YWx1ZTogcG9zCiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwoKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbHVtbiA8IDApCiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwoKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKCn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKCnZhciBEb2N1bWVudCA9IGZ1bmN0aW9uKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dE9yTGluZXMpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46MH0sIHRleHRPckxpbmVzKTsKICAgIH0KfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0KTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmNyZWF0ZUFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIGlmICgiYWFhIi5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgICAgIH07CiAgICB9CgoKICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICBjYXNlICJ3aW5kb3dzIjoKICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgIGNhc2UgInVuaXgiOgogICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CgogICAgdGhpcy4kYXV0b05ld0xpbmUgPSAiIjsKICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gImF1dG8iOwogICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7CiAgICAgICAgaWYgKHRoaXMuJG5ld0xpbmVNb2RlID09PSBuZXdMaW5lTW9kZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIHRoaXMuaXNOZXdMaW5lID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24ocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgdGhpcy5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICB0aGlzLmluc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgCiAgICB0aGlzLmNsaXBwZWRQb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTsKICAgICAgICBpZiAoY29sdW1uID09IHVuZGVmaW5lZCkKICAgICAgICAgICAgY29sdW1uID0gbGluZS5sZW5ndGg7CiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpOwogICAgICAgIHJldHVybiB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMuY2xvbmVQb3MgPSBmdW5jdGlvbihwb3MpIHsKICAgICAgICByZXR1cm4ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMucG9zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChwb3NpdGlvbi5yb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSB0aGlzLmdldExpbmUobGVuZ3RoIC0gMSkubGVuZ3RoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59LCBsaW5lcyk7CiAgICB9OyAgICAKICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbihwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUluTGluZSA9IGZ1bmN0aW9uKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICAKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSkKICAgICAgICB9LCB0cnVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyAgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93ICksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgICAgICAgICAgICAgICAgICA6IGZpcnN0Um93ICAgICAgICAgICAgICAgICAgICApOwogICAgICAgIHZhciBzdGFydENvbCA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgdmFyIGVuZENvbCAgID0gKCBkZWxldGVMYXN0TmV3TGluZSAgPyAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCApOyAKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykgewogICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiByb3cgPj0gMCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgMSwgMCksCiAgICAgICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICAgICAgbGluZXM6IFsiIiwgIiJdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgdGV4dCkgewogICAgICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKQogICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7CiAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwICYmIHJhbmdlLmlzRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0OwogICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmVuZDsKCiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgdGhpcy5hcHBseURlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaT1kZWx0YXMubGVuZ3RoLTE7IGk+PTA7IGktLSkgewogICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAgICAgdmFyIGlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIGlmIChpc0luc2VydCA/IGRlbHRhLmxpbmVzLmxlbmd0aCA8PSAxICYmICFkZWx0YS5saW5lc1swXQogICAgICAgICAgICA6ICFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LCBkZWx0YS5lbmQpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLCAyMDAwMCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBhcHBseURlbHRhKHRoaXMuJGxpbmVzLCBkZWx0YSwgZG9Ob3RWYWxpZGF0ZSk7CiAgICAgICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24oZGVsdGEsIE1BWCkgewogICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgIHZhciBsID0gbGluZXMubGVuZ3RoIC0gTUFYICsgMTsKICAgICAgICB2YXIgcm93ID0gZGVsdGEuc3RhcnQucm93OyAKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbihkZWx0YSkgewogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24oaW5kZXgsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgIGluZGV4IC09IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CiAgICAgICAgICAgIGlmIChpbmRleCA8IDApCiAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGh9OwogICAgICAgIH0KICAgICAgICByZXR1cm4ge3JvdzogbC0xLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbC0xXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RofTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uKHBvcywgc3RhcnRSb3cpIHsKICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7CiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7CiAgICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgICB2YXIgcm93ID0gTWF0aC5taW4ocG9zLnJvdywgbGluZXMubGVuZ3RoKTsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMDsgaSA8IHJvdzsgKytpKQogICAgICAgICAgICBpbmRleCArPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwoKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKCn0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKTsKCmV4cG9ydHMuRG9jdW1lbnQgPSBEb2N1bWVudDsKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2xhbmciLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24oYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKCmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwoKZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkgewogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgd2hpbGUgKGNvdW50ID4gMCkgewogICAgICAgIGlmIChjb3VudCAmIDEpCiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7CgogICAgICAgIGlmIChjb3VudCA+Pj0gMSkKICAgICAgICAgICAgc3RyaW5nICs9IHN0cmluZzsKICAgIH0KICAgIHJldHVybiByZXN1bHQ7Cn07Cgp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CgpleHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpOwp9OwoKZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwgJycpOwp9OwoKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7CiAgICB2YXIgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGNvcHlba2V5XSA9IG9ialtrZXldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CgpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycmF5KXsKICAgIHZhciBjb3B5ID0gW107CiAgICBmb3IgKHZhciBpPTAsIGw9YXJyYXkubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gIm9iamVjdCIpCiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOwogICAgICAgIGVsc2UgCiAgICAgICAgICAgIGNvcHlbaV0gPSBhcnJheVtpXTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgCiAgICBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKQogICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24oYXJyKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbWFwW2FycltpXV0gPSAxOwogICAgfQogICAgcmV0dXJuIG1hcDsKCn07CgpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uKHByb3BzKSB7CiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHsKICAgICAgICBtYXBbaV0gPSBwcm9wc1tpXTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuYXJyYXlSZW1vdmUgPSBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykgewogICAgaWYgKHZhbHVlID09PSBhcnJheVtpXSkgewogICAgICBhcnJheS5zcGxpY2UoaSwgMSk7CiAgICB9CiAgfQp9OwoKZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbihzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwp9OwoKZXhwb3J0cy5lc2NhcGVIVE1MID0gZnVuY3Rpb24oc3RyKSB7CiAgICByZXR1cm4gKCIiICsgc3RyKS5yZXBsYWNlKC8mL2csICImIzM4OyIpLnJlcGxhY2UoLyIvZywgIiYjMzQ7IikucmVwbGFjZSgvJy9nLCAiJiMzOTsiKS5yZXBsYWNlKC88L2csICImIzYwOyIpOwp9OwoKZXhwb3J0cy5nZXRNYXRjaE9mZnNldHMgPSBmdW5jdGlvbihzdHJpbmcsIHJlZ0V4cCkgewogICAgdmFyIG1hdGNoZXMgPSBbXTsKCiAgICBzdHJpbmcucmVwbGFjZShyZWdFeHAsIGZ1bmN0aW9uKHN0cikgewogICAgICAgIG1hdGNoZXMucHVzaCh7CiAgICAgICAgICAgIG9mZnNldDogYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sCiAgICAgICAgICAgIGxlbmd0aDogc3RyLmxlbmd0aAogICAgICAgIH0pOwogICAgfSk7CgogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24oZmNuKSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIGZjbigpOwogICAgfTsKCiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgZGVmZXJyZWQuY2FuY2VsKCk7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IDApOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CgogICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDsKCiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwoKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICAKICAgIGRlZmVycmVkLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CgogICAgcmV0dXJuIGRlZmVycmVkOwp9OwoKCmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbihmY24sIGRlZmF1bHRUaW1lb3V0KSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIGZjbigpOwogICAgfTsKCiAgICB2YXIgX3NlbGYgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgaWYgKHRpbWVyID09IG51bGwpCiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwoKICAgIF9zZWxmLmRlbGF5ID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5zY2hlZHVsZSA9IF9zZWxmOwoKICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIGZjbigpOwogICAgfTsKCiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgIH07CgogICAgX3NlbGYuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKCiAgICByZXR1cm4gX3NlbGY7Cn07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL3dvcmtlci9taXJyb3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIFJhbmdlID0gcmVxdWlyZSgiLi4vcmFuZ2UiKS5SYW5nZTsKdmFyIERvY3VtZW50ID0gcmVxdWlyZSgiLi4vZG9jdW1lbnQiKS5Eb2N1bWVudDsKdmFyIGxhbmcgPSByZXF1aXJlKCIuLi9saWIvbGFuZyIpOwogICAgCnZhciBNaXJyb3IgPSBleHBvcnRzLk1pcnJvciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7CiAgICB2YXIgZG9jID0gdGhpcy5kb2MgPSBuZXcgRG9jdW1lbnQoIiIpOwogICAgCiAgICB2YXIgZGVmZXJyZWRVcGRhdGUgPSB0aGlzLmRlZmVycmVkVXBkYXRlID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpOwogICAgCiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgc2VuZGVyLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgdmFyIGRhdGEgPSBlLmRhdGE7CiAgICAgICAgaWYgKGRhdGFbMF0uc3RhcnQpIHsKICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGFzKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMikgewogICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVtpKzFdKSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB7YWN0aW9uOiAicmVtb3ZlIiwgc3RhcnQ6IGRhdGFbaV0sIGVuZDogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRvYy5hcHBseURlbHRhKGQsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChfc2VsZi4kdGltZW91dCkKICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKF9zZWxmLiR0aW1lb3V0KTsKICAgICAgICBfc2VsZi5vblVwZGF0ZSgpOwogICAgfSk7Cn07CgooZnVuY3Rpb24oKSB7CiAgICAKICAgIHRoaXMuJHRpbWVvdXQgPSA1MDA7CiAgICAKICAgIHRoaXMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICB0aGlzLiR0aW1lb3V0ID0gdGltZW91dDsKICAgIH07CiAgICAKICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHRoaXMuZG9jLnNldFZhbHVlKHZhbHVlKTsKICAgICAgICB0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKHRoaXMuJHRpbWVvdXQpOwogICAgfTsKICAgIAogICAgdGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrSWQpIHsKICAgICAgICB0aGlzLnNlbmRlci5jYWxsYmFjayh0aGlzLmRvYy5nZXRWYWx1ZSgpLCBjYWxsYmFja0lkKTsKICAgIH07CiAgICAKICAgIHRoaXMub25VcGRhdGUgPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICAKICAgIHRoaXMuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmZXJyZWRVcGRhdGUuaXNQZW5kaW5nKCk7CiAgICB9OwogICAgCn0pLmNhbGwoTWlycm9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL2pzb24vanNvbl9wYXJzZSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7CgogICAgdmFyIGF0LCAgICAgLy8gVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGNoLCAgICAgLy8gVGhlIGN1cnJlbnQgY2hhcmFjdGVyCiAgICAgICAgZXNjYXBlZSA9IHsKICAgICAgICAgICAgJyInOiAgJyInLAogICAgICAgICAgICAnXFwnOiAnXFwnLAogICAgICAgICAgICAnLyc6ICAnLycsCiAgICAgICAgICAgIGI6ICAgICdcYicsCiAgICAgICAgICAgIGY6ICAgICdcZicsCiAgICAgICAgICAgIG46ICAgICdcbicsCiAgICAgICAgICAgIHI6ICAgICdccicsCiAgICAgICAgICAgIHQ6ICAgICdcdCcKICAgICAgICB9LAogICAgICAgIHRleHQsCgogICAgICAgIGVycm9yID0gZnVuY3Rpb24gKG0pIHsKCiAgICAgICAgICAgIHRocm93IHsKICAgICAgICAgICAgICAgIG5hbWU6ICAgICdTeW50YXhFcnJvcicsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtLAogICAgICAgICAgICAgICAgYXQ6ICAgICAgYXQsCiAgICAgICAgICAgICAgICB0ZXh0OiAgICB0ZXh0CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKCiAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIChjKSB7CgogICAgICAgICAgICBpZiAoYyAmJiBjICE9PSBjaCkgewogICAgICAgICAgICAgICAgZXJyb3IoIkV4cGVjdGVkICciICsgYyArICInIGluc3RlYWQgb2YgJyIgKyBjaCArICInIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNoID0gdGV4dC5jaGFyQXQoYXQpOwogICAgICAgICAgICBhdCArPSAxOwogICAgICAgICAgICByZXR1cm4gY2g7CiAgICAgICAgfSwKCiAgICAgICAgbnVtYmVyID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIG51bWJlciwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnLScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyA9ICctJzsKICAgICAgICAgICAgICAgIG5leHQoJy0nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjaCA9PT0gJy4nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJy4nOwogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSAmJiBjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjaCA9PT0gJ2UnIHx8IGNoID09PSAnRScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG51bWJlciA9ICtzdHJpbmc7CiAgICAgICAgICAgIGlmIChpc05hTihudW1iZXIpKSB7CiAgICAgICAgICAgICAgICBlcnJvcigiQmFkIG51bWJlciIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHN0cmluZyA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBoZXgsCiAgICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgICAgc3RyaW5nID0gJycsCiAgICAgICAgICAgICAgICB1ZmZmZjsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAnIicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd1JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWZmZmYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleCA9IHBhcnNlSW50KG5leHQoKSwgMTYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNGaW5pdGUoaGV4KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWZmZmYgPSB1ZmZmZiAqIDE2ICsgaGV4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodWZmZmYpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlc2NhcGVlW2NoXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBlc2NhcGVlW2NoXTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSAiXG4iIHx8IGNoID09ICJcciIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIHN0cmluZyIpOwogICAgICAgIH0sCgogICAgICAgIHdoaXRlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgd2hpbGUgKGNoICYmIGNoIDw9ICcgJykgewogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgd29yZCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICAgICAgY2FzZSAndCc6CiAgICAgICAgICAgICAgICBuZXh0KCd0Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdyJyk7CiAgICAgICAgICAgICAgICBuZXh0KCd1Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdlJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgY2FzZSAnZic6CiAgICAgICAgICAgICAgICBuZXh0KCdmJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdhJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdzJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdlJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgJ24nOgogICAgICAgICAgICAgICAgbmV4dCgnbicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIlVuZXhwZWN0ZWQgJyIgKyBjaCArICInIik7CiAgICAgICAgfSwKCiAgICAgICAgdmFsdWUsICAvLyBQbGFjZSBob2xkZXIgZm9yIHRoZSB2YWx1ZSBmdW5jdGlvbi4KCiAgICAgICAgYXJyYXkgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1snKSB7CiAgICAgICAgICAgICAgICBuZXh0KCdbJyk7CiAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXScpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0KCddJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OyAgIC8vIGVtcHR5IGFycmF5CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2gpIHsKICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKCkpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG5leHQoJywnKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgYXJyYXkiKTsKICAgICAgICB9LAoKICAgICAgICBvYmplY3QgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIga2V5LAogICAgICAgICAgICAgICAgb2JqZWN0ID0ge307CgogICAgICAgICAgICBpZiAoY2ggPT09ICd7JykgewogICAgICAgICAgICAgICAgbmV4dCgneycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnfScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7ICAgLy8gZW1wdHkgb2JqZWN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2gpIHsKICAgICAgICAgICAgICAgICAgICBrZXkgPSBzdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIG5leHQoJzonKTsKICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKCdEdXBsaWNhdGUga2V5ICInICsga2V5ICsgJyInKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZSgpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAnfScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgnfScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIG9iamVjdCIpOwogICAgICAgIH07CgogICAgdmFsdWUgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgIHdoaXRlKCk7CiAgICAgICAgc3dpdGNoIChjaCkgewogICAgICAgIGNhc2UgJ3snOgogICAgICAgICAgICByZXR1cm4gb2JqZWN0KCk7CiAgICAgICAgY2FzZSAnWyc6CiAgICAgICAgICAgIHJldHVybiBhcnJheSgpOwogICAgICAgIGNhc2UgJyInOgogICAgICAgICAgICByZXR1cm4gc3RyaW5nKCk7CiAgICAgICAgY2FzZSAnLSc6CiAgICAgICAgICAgIHJldHVybiBudW1iZXIoKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gY2ggPj0gJzAnICYmIGNoIDw9ICc5JyA/IG51bWJlcigpIDogd29yZCgpOwogICAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UsIHJldml2ZXIpIHsKICAgICAgICB2YXIgcmVzdWx0OwoKICAgICAgICB0ZXh0ID0gc291cmNlOwogICAgICAgIGF0ID0gMDsKICAgICAgICBjaCA9ICcgJzsKICAgICAgICByZXN1bHQgPSB2YWx1ZSgpOwogICAgICAgIHdoaXRlKCk7CiAgICAgICAgaWYgKGNoKSB7CiAgICAgICAgICAgIGVycm9yKCJTeW50YXggZXJyb3IiKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0eXBlb2YgcmV2aXZlciA9PT0gJ2Z1bmN0aW9uJyA/IGZ1bmN0aW9uIHdhbGsoaG9sZGVyLCBrZXkpIHsKICAgICAgICAgICAgdmFyIGssIHYsIHZhbHVlID0gaG9sZGVyW2tleV07CiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgICBmb3IgKGsgaW4gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGspKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSB3YWxrKHZhbHVlLCBrKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVba10gPSB2OwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlW2tdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXZpdmVyLmNhbGwoaG9sZGVyLCBrZXksIHZhbHVlKTsKICAgICAgICB9KHsnJzogcmVzdWx0fSwgJycpIDogcmVzdWx0OwogICAgfTsKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uX3dvcmtlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgTWlycm9yID0gcmVxdWlyZSgiLi4vd29ya2VyL21pcnJvciIpLk1pcnJvcjsKdmFyIHBhcnNlID0gcmVxdWlyZSgiLi9qc29uL2pzb25fcGFyc2UiKTsKCnZhciBKc29uV29ya2VyID0gZXhwb3J0cy5Kc29uV29ya2VyID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICBNaXJyb3IuY2FsbCh0aGlzLCBzZW5kZXIpOwogICAgdGhpcy5zZXRUaW1lb3V0KDIwMCk7Cn07Cgpvb3AuaW5oZXJpdHMoSnNvbldvcmtlciwgTWlycm9yKTsKCihmdW5jdGlvbigpIHsKCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5kb2MuZ2V0VmFsdWUoKTsKICAgICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKHZhbHVlKQogICAgICAgICAgICAgICAgcGFyc2UodmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZG9jLmluZGV4VG9Qb3NpdGlvbihlLmF0LTEpOwogICAgICAgICAgICBlcnJvcnMucHVzaCh7CiAgICAgICAgICAgICAgICByb3c6IHBvcy5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvcy5jb2x1bW4sCiAgICAgICAgICAgICAgICB0ZXh0OiBlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB0aGlzLnNlbmRlci5lbWl0KCJhbm5vdGF0ZSIsIGVycm9ycyk7CiAgICB9OwoKfSkuY2FsbChKc29uV29ya2VyLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXM1LXNoaW0iLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKCmZ1bmN0aW9uIEVtcHR5KCkge30KCmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHsKICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCh0aGF0KSB7IC8vIC5sZW5ndGggaXMgMQogICAgICAgIHZhciB0YXJnZXQgPSB0aGlzOwogICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiICsgdGFyZ2V0KTsKICAgICAgICB9CiAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IC8vIGZvciBub3JtYWwgY2FsbAogICAgICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHsKCiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LmFwcGx5KAogICAgICAgICAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoCiAgICAgICAgICAgICAgICAgICAgdGhhdCwKICAgICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgfQoKICAgICAgICB9OwogICAgICAgIGlmKHRhcmdldC5wcm90b3R5cGUpIHsKICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTsKICAgICAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7CiAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7CiAgICAgICAgfQogICAgICAgIHJldHVybiBib3VuZDsKICAgIH07Cn0KdmFyIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDsKdmFyIHByb3RvdHlwZU9mQXJyYXkgPSBBcnJheS5wcm90b3R5cGU7CnZhciBwcm90b3R5cGVPZk9iamVjdCA9IE9iamVjdC5wcm90b3R5cGU7CnZhciBzbGljZSA9IHByb3RvdHlwZU9mQXJyYXkuc2xpY2U7CnZhciBfdG9TdHJpbmcgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QudG9TdHJpbmcpOwp2YXIgb3ducyA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7CnZhciBkZWZpbmVHZXR0ZXI7CnZhciBkZWZpbmVTZXR0ZXI7CnZhciBsb29rdXBHZXR0ZXI7CnZhciBsb29rdXBTZXR0ZXI7CnZhciBzdXBwb3J0c0FjY2Vzc29yczsKaWYgKChzdXBwb3J0c0FjY2Vzc29ycyA9IG93bnMocHJvdG90eXBlT2ZPYmplY3QsICJfX2RlZmluZUdldHRlcl9fIikpKSB7CiAgICBkZWZpbmVHZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVHZXR0ZXJfXyk7CiAgICBkZWZpbmVTZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVTZXR0ZXJfXyk7CiAgICBsb29rdXBHZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyk7CiAgICBsb29rdXBTZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXyk7Cn0KaWYgKFsxLDJdLnNwbGljZSgwKS5sZW5ndGggIT0gMikgewogICAgaWYoZnVuY3Rpb24oKSB7IC8vIHRlc3QgSUUgPCA5IHRvIHNwbGljZSBidWcgLSBzZWUgaXNzdWUgIzEzOAogICAgICAgIGZ1bmN0aW9uIG1ha2VBcnJheShsKSB7CiAgICAgICAgICAgIHZhciBhID0gbmV3IEFycmF5KGwrMik7CiAgICAgICAgICAgIGFbMF0gPSBhWzFdID0gMDsKICAgICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfQogICAgICAgIHZhciBhcnJheSA9IFtdLCBsZW5ndGhCZWZvcmU7CiAgICAgICAgCiAgICAgICAgYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LCBtYWtlQXJyYXkoMjApKTsKICAgICAgICBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksIG1ha2VBcnJheSgyNikpOwoKICAgICAgICBsZW5ndGhCZWZvcmUgPSBhcnJheS5sZW5ndGg7IC8vNDYKICAgICAgICBhcnJheS5zcGxpY2UoNSwgMCwgIlhYWCIpOyAvLyBhZGQgb25lIGVsZW1lbnQKCiAgICAgICAgbGVuZ3RoQmVmb3JlICsgMSA9PSBhcnJheS5sZW5ndGgKCiAgICAgICAgaWYgKGxlbmd0aEJlZm9yZSArIDEgPT0gYXJyYXkubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOy8vIGhhcyByaWdodCBzcGxpY2UgaW1wbGVtZW50YXRpb24gd2l0aG91dCBidWdzCiAgICAgICAgfQogICAgfSgpKSB7Ly9JRSA2LzcKICAgICAgICB2YXIgYXJyYXlfc3BsaWNlID0gQXJyYXkucHJvdG90eXBlLnNwbGljZTsKICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGRlbGV0ZUNvdW50KSB7CiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5X3NwbGljZS5hcHBseSh0aGlzLCBbCiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPT09IHZvaWQgMCA/IDAgOiBzdGFydCwKICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudCA9PT0gdm9pZCAwID8gKHRoaXMubGVuZ3RoIC0gc3RhcnQpIDogZGVsZXRlQ291bnQKICAgICAgICAgICAgICAgIF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSkpCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSBlbHNlIHsvL0lFOAogICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbihwb3MsIHJlbW92ZUNvdW50KXsKICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoOwogICAgICAgICAgICBpZiAocG9zID4gMCkgewogICAgICAgICAgICAgICAgaWYgKHBvcyA+IGxlbmd0aCkKICAgICAgICAgICAgICAgICAgICBwb3MgPSBsZW5ndGg7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zID09IHZvaWQgMCkgewogICAgICAgICAgICAgICAgcG9zID0gMDsKICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MgPCAwKSB7CiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1heChsZW5ndGggKyBwb3MsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIShwb3MrcmVtb3ZlQ291bnQgPCBsZW5ndGgpKQogICAgICAgICAgICAgICAgcmVtb3ZlQ291bnQgPSBsZW5ndGggLSBwb3M7CgogICAgICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMuc2xpY2UocG9zLCBwb3MrcmVtb3ZlQ291bnQpOwogICAgICAgICAgICB2YXIgaW5zZXJ0ID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpOwogICAgICAgICAgICB2YXIgYWRkID0gaW5zZXJ0Lmxlbmd0aDsgICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHBvcyA9PT0gbGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBpZiAoYWRkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGluc2VydCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gTWF0aC5taW4ocmVtb3ZlQ291bnQsIGxlbmd0aCAtIHBvcyk7CiAgICAgICAgICAgICAgICB2YXIgdGFpbE9sZFBvcyA9IHBvcyArIHJlbW92ZTsKICAgICAgICAgICAgICAgIHZhciB0YWlsTmV3UG9zID0gdGFpbE9sZFBvcyArIGFkZCAtIHJlbW92ZTsKICAgICAgICAgICAgICAgIHZhciB0YWlsQ291bnQgPSBsZW5ndGggLSB0YWlsT2xkUG9zOwogICAgICAgICAgICAgICAgdmFyIGxlbmd0aEFmdGVyUmVtb3ZlID0gbGVuZ3RoIC0gcmVtb3ZlOwoKICAgICAgICAgICAgICAgIGlmICh0YWlsTmV3UG9zIDwgdGFpbE9sZFBvcykgeyAvLyBjYXNlIEEKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWxDb3VudDsgKytpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbdGFpbE5ld1BvcytpXSA9IHRoaXNbdGFpbE9sZFBvcytpXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhaWxOZXdQb3MgPiB0YWlsT2xkUG9zKSB7IC8vIGNhc2UgQgogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHRhaWxDb3VudDsgaS0tOyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1t0YWlsTmV3UG9zK2ldID0gdGhpc1t0YWlsT2xkUG9zK2ldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gLy8gZWxzZSwgYWRkID09IHJlbW92ZSAobm90aGluZyB0byBkbykKCiAgICAgICAgICAgICAgICBpZiAoYWRkICYmIHBvcyA9PT0gbGVuZ3RoQWZ0ZXJSZW1vdmUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aEFmdGVyUmVtb3ZlOyAvLyB0cnVuY2F0ZSBhcnJheQogICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaC5hcHBseSh0aGlzLCBpbnNlcnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aEFmdGVyUmVtb3ZlICsgYWRkOyAvLyByZXNlcnZlcyBzcGFjZQogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGQ7ICsraSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3BvcytpXSA9IGluc2VydFtpXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWQ7CiAgICAgICAgfTsKICAgIH0KfQppZiAoIUFycmF5LmlzQXJyYXkpIHsKICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KG9iaikgewogICAgICAgIHJldHVybiBfdG9TdHJpbmcob2JqKSA9PSAiW29iamVjdCBBcnJheV0iOwogICAgfTsKfQp2YXIgYm94ZWRTdHJpbmcgPSBPYmplY3QoImEiKSwKICAgIHNwbGl0U3RyaW5nID0gYm94ZWRTdHJpbmdbMF0gIT0gImEiIHx8ICEoMCBpbiBib3hlZFN0cmluZyk7CgppZiAoIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7CiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZnVuIC8qLCB0aGlzcCovKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV0sCiAgICAgICAgICAgIGkgPSAtMSwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBUT0RPIG1lc3NhZ2UKICAgICAgICB9CgogICAgICAgIHdoaWxlICgrK2kgPCBsZW5ndGgpIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLm1hcCkgewogICAgQXJyYXkucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcChmdW4gLyosIHRoaXNwKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCwKICAgICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpCiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBmdW4uY2FsbCh0aGlzcCwgc2VsZltpXSwgaSwgb2JqZWN0KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKSB7CiAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKGZ1biAvKiwgdGhpc3AgKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsCiAgICAgICAgICAgIHJlc3VsdCA9IFtdLAogICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gc2VsZltpXTsKICAgICAgICAgICAgICAgIGlmIChmdW4uY2FsbCh0aGlzcCwgdmFsdWUsIGksIG9iamVjdCkpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuZXZlcnkpIHsKICAgIEFycmF5LnByb3RvdHlwZS5ldmVyeSA9IGZ1bmN0aW9uIGV2ZXJ5KGZ1biAvKiwgdGhpc3AgKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgIWZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLnNvbWUpIHsKICAgIEFycmF5LnByb3RvdHlwZS5zb21lID0gZnVuY3Rpb24gc29tZShmdW4gLyosIHRoaXNwICovKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsCiAgICAgICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdOwogICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgewogICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIHJlZHVjZShmdW4gLyosIGluaXRpYWwqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICBvYmplY3QsCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwOwogICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIH0KICAgICAgICBpZiAoIWxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikgewogICAgICAgICAgICByZXN1bHQgPSBhcmd1bWVudHNbMV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNlbGZbaSsrXTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgrK2kgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IHdoaWxlICh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuLmNhbGwodm9pZCAwLCByZXN1bHQsIHNlbGZbaV0sIGksIG9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSB7CiAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiByZWR1Y2VSaWdodChmdW4gLyosIGluaXRpYWwqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICBvYmplY3QsCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwOwogICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIH0KICAgICAgICBpZiAoIWxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7CiAgICAgICAgfQoKICAgICAgICB2YXIgcmVzdWx0LCBpID0gbGVuZ3RoIC0gMTsKICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1sxXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VsZltpLS1dOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKC0taSA8IDApIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICBkbyB7CiAgICAgICAgICAgIGlmIChpIGluIHRoaXMpIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bi5jYWxsKHZvaWQgMCwgcmVzdWx0LCBzZWxmW2ldLCBpLCBvYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgfSB3aGlsZSAoaS0tKTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZiB8fCAoWzAsIDFdLmluZGV4T2YoMSwgMikgIT0gLTEpKSB7CiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2Yoc291Z2h0IC8qLCBmcm9tSW5kZXggKi8gKSB7CiAgICAgICAgdmFyIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwOwoKICAgICAgICBpZiAoIWxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQoKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIGkgPSB0b0ludGVnZXIoYXJndW1lbnRzWzFdKTsKICAgICAgICB9CiAgICAgICAgaSA9IGkgPj0gMCA/IGkgOiBNYXRoLm1heCgwLCBsZW5ndGggKyBpKTsKICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgc2VsZltpXSA9PT0gc291Z2h0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gLTE7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mIHx8IChbMCwgMV0ubGFzdEluZGV4T2YoMCwgLTMpICE9IC0xKSkgewogICAgQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2Yoc291Z2h0IC8qLCBmcm9tSW5kZXggKi8pIHsKICAgICAgICB2YXIgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CgogICAgICAgIGlmICghbGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSBsZW5ndGggLSAxOwogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgICAgICBpID0gTWF0aC5taW4oaSwgdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpOwogICAgICAgIH0KICAgICAgICBpID0gaSA+PSAwID8gaSA6IGxlbmd0aCAtIE1hdGguYWJzKGkpOwogICAgICAgIGZvciAoOyBpID49IDA7IGktLSkgewogICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIHNvdWdodCA9PT0gc2VsZltpXSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0xOwogICAgfTsKfQppZiAoIU9iamVjdC5nZXRQcm90b3R5cGVPZikgewogICAgT2JqZWN0LmdldFByb3RvdHlwZU9mID0gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIG9iamVjdC5fX3Byb3RvX18gfHwgKAogICAgICAgICAgICBvYmplY3QuY29uc3RydWN0b3IgPwogICAgICAgICAgICBvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlIDoKICAgICAgICAgICAgcHJvdG90eXBlT2ZPYmplY3QKICAgICAgICApOwogICAgfTsKfQppZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpIHsKICAgIHZhciBFUlJfTk9OX09CSkVDVCA9ICJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhICIgKwogICAgICAgICAgICAgICAgICAgICAgICAgIm5vbi1vYmplY3Q6ICI7CiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpIHsKICAgICAgICBpZiAoKHR5cGVvZiBvYmplY3QgIT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iamVjdCAhPSAiZnVuY3Rpb24iKSB8fCBvYmplY3QgPT09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1QgKyBvYmplY3QpOwogICAgICAgIGlmICghb3ducyhvYmplY3QsIHByb3BlcnR5KSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB2YXIgZGVzY3JpcHRvciwgZ2V0dGVyLCBzZXR0ZXI7CiAgICAgICAgZGVzY3JpcHRvciA9ICB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OwogICAgICAgIGlmIChzdXBwb3J0c0FjY2Vzc29ycykgewogICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gb2JqZWN0Ll9fcHJvdG9fXzsKICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZU9mT2JqZWN0OwoKICAgICAgICAgICAgdmFyIGdldHRlciA9IGxvb2t1cEdldHRlcihvYmplY3QsIHByb3BlcnR5KTsKICAgICAgICAgICAgdmFyIHNldHRlciA9IGxvb2t1cFNldHRlcihvYmplY3QsIHByb3BlcnR5KTsKICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTsKCiAgICAgICAgICAgIGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7CiAgICAgICAgICAgICAgICBpZiAoZ2V0dGVyKSBkZXNjcmlwdG9yLmdldCA9IGdldHRlcjsKICAgICAgICAgICAgICAgIGlmIChzZXR0ZXIpIGRlc2NyaXB0b3Iuc2V0ID0gc2V0dGVyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07CiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7CiAgICB9Owp9CmlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpIHsKICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KTsKICAgIH07Cn0KaWYgKCFPYmplY3QuY3JlYXRlKSB7CiAgICB2YXIgY3JlYXRlRW1wdHk7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18gPT09IG51bGwpIHsKICAgICAgICBjcmVhdGVFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsgIl9fcHJvdG9fXyI6IG51bGwgfTsKICAgICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgICBjcmVhdGVFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGVtcHR5ID0ge307CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZW1wdHkpCiAgICAgICAgICAgICAgICBlbXB0eVtpXSA9IG51bGw7CiAgICAgICAgICAgIGVtcHR5LmNvbnN0cnVjdG9yID0KICAgICAgICAgICAgZW1wdHkuaGFzT3duUHJvcGVydHkgPQogICAgICAgICAgICBlbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9CiAgICAgICAgICAgIGVtcHR5LmlzUHJvdG90eXBlT2YgPQogICAgICAgICAgICBlbXB0eS50b0xvY2FsZVN0cmluZyA9CiAgICAgICAgICAgIGVtcHR5LnRvU3RyaW5nID0KICAgICAgICAgICAgZW1wdHkudmFsdWVPZiA9CiAgICAgICAgICAgIGVtcHR5Ll9fcHJvdG9fXyA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiBlbXB0eTsKICAgICAgICB9CiAgICB9CgogICAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHsKICAgICAgICB2YXIgb2JqZWN0OwogICAgICAgIGlmIChwcm90b3R5cGUgPT09IG51bGwpIHsKICAgICAgICAgICAgb2JqZWN0ID0gY3JlYXRlRW1wdHkoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSAhPSAib2JqZWN0IikKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoInR5cGVvZiBwcm90b3R5cGVbIisodHlwZW9mIHByb3RvdHlwZSkrIl0gIT0gJ29iamVjdCciKTsKICAgICAgICAgICAgdmFyIFR5cGUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgICAgVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7CiAgICAgICAgICAgIG9iamVjdCA9IG5ldyBUeXBlKCk7CiAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7CiAgICAgICAgfQogICAgICAgIGlmIChwcm9wZXJ0aWVzICE9PSB2b2lkIDApCiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcyk7CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KCmZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KSB7CiAgICB0cnkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsICJzZW50aW5lbCIsIHt9KTsKICAgICAgICByZXR1cm4gInNlbnRpbmVsIiBpbiBvYmplY3Q7CiAgICB9IGNhdGNoIChleGNlcHRpb24pIHsKICAgIH0KfQppZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7CiAgICB2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0ID0gZG9lc0RlZmluZVByb3BlcnR5V29yayh7fSk7CiAgICB2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tID0gdHlwZW9mIGRvY3VtZW50ID09ICJ1bmRlZmluZWQiIHx8CiAgICAgICAgZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7CiAgICBpZiAoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdCB8fCAhZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tKSB7CiAgICAgICAgdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2sgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgICB9Cn0KCmlmICghT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGRlZmluZVByb3BlcnR5RmFsbGJhY2spIHsKICAgIHZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SID0gIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiAiOwogICAgdmFyIEVSUl9OT05fT0JKRUNUX1RBUkdFVCA9ICJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6ICIKICAgIHZhciBFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQgPSAiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkICIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lIjsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7CiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqZWN0ICE9ICJvYmplY3QiICYmIHR5cGVvZiBvYmplY3QgIT0gImZ1bmN0aW9uIikgfHwgb2JqZWN0ID09PSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX1RBUkdFVCArIG9iamVjdCk7CiAgICAgICAgaWYgKCh0eXBlb2YgZGVzY3JpcHRvciAhPSAib2JqZWN0IiAmJiB0eXBlb2YgZGVzY3JpcHRvciAhPSAiZnVuY3Rpb24iKSB8fCBkZXNjcmlwdG9yID09PSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IgKyBkZXNjcmlwdG9yKTsKICAgICAgICBpZiAoZGVmaW5lUHJvcGVydHlGYWxsYmFjaykgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3QsIG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpOwogICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCAidmFsdWUiKSkgewoKICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWNjZXNzb3JzICYmIChsb29rdXBHZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSkgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29rdXBTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSkpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gb2JqZWN0Ll9fcHJvdG9fXzsKICAgICAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGVPZk9iamVjdDsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldOwogICAgICAgICAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7CiAgICAgICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIXN1cHBvcnRzQWNjZXNzb3JzKQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpOwogICAgICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCAiZ2V0IikpCiAgICAgICAgICAgICAgICBkZWZpbmVHZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvci5nZXQpOwogICAgICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCAic2V0IikpCiAgICAgICAgICAgICAgICBkZWZpbmVTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvci5zZXQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3QuZGVmaW5lUHJvcGVydGllcykgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcykgewogICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHsKICAgICAgICAgICAgaWYgKG93bnMocHJvcGVydGllcywgcHJvcGVydHkpKQogICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHByb3BlcnRpZXNbcHJvcGVydHldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3Quc2VhbCkgewogICAgT2JqZWN0LnNlYWwgPSBmdW5jdGlvbiBzZWFsKG9iamVjdCkgewogICAgICAgIHJldHVybiBvYmplY3Q7CiAgICB9Owp9CmlmICghT2JqZWN0LmZyZWV6ZSkgewogICAgT2JqZWN0LmZyZWV6ZSA9IGZ1bmN0aW9uIGZyZWV6ZShvYmplY3QpIHsKICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgfTsKfQp0cnkgewogICAgT2JqZWN0LmZyZWV6ZShmdW5jdGlvbiAoKSB7fSk7Cn0gY2F0Y2ggKGV4Y2VwdGlvbikgewogICAgT2JqZWN0LmZyZWV6ZSA9IChmdW5jdGlvbiBmcmVlemUoZnJlZXplT2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZyZWV6ZShvYmplY3QpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmcmVlemVPYmplY3Qob2JqZWN0KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KShPYmplY3QuZnJlZXplKTsKfQppZiAoIU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucykgewogICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zID0gZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3QuaXNTZWFsZWQpIHsKICAgIE9iamVjdC5pc1NlYWxlZCA9IGZ1bmN0aW9uIGlzU2VhbGVkKG9iamVjdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07Cn0KaWYgKCFPYmplY3QuaXNGcm96ZW4pIHsKICAgIE9iamVjdC5pc0Zyb3plbiA9IGZ1bmN0aW9uIGlzRnJvemVuKG9iamVjdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07Cn0KaWYgKCFPYmplY3QuaXNFeHRlbnNpYmxlKSB7CiAgICBPYmplY3QuaXNFeHRlbnNpYmxlID0gZnVuY3Rpb24gaXNFeHRlbnNpYmxlKG9iamVjdCkgewogICAgICAgIGlmIChPYmplY3Qob2JqZWN0KSA9PT0gb2JqZWN0KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gVE9ETyBtZXNzYWdlCiAgICAgICAgfQogICAgICAgIHZhciBuYW1lID0gJyc7CiAgICAgICAgd2hpbGUgKG93bnMob2JqZWN0LCBuYW1lKSkgewogICAgICAgICAgICBuYW1lICs9ICc/JzsKICAgICAgICB9CiAgICAgICAgb2JqZWN0W25hbWVdID0gdHJ1ZTsKICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBvd25zKG9iamVjdCwgbmFtZSk7CiAgICAgICAgZGVsZXRlIG9iamVjdFtuYW1lXTsKICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgICB9Owp9CmlmICghT2JqZWN0LmtleXMpIHsKICAgIHZhciBoYXNEb250RW51bUJ1ZyA9IHRydWUsCiAgICAgICAgZG9udEVudW1zID0gWwogICAgICAgICAgICAidG9TdHJpbmciLAogICAgICAgICAgICAidG9Mb2NhbGVTdHJpbmciLAogICAgICAgICAgICAidmFsdWVPZiIsCiAgICAgICAgICAgICJoYXNPd25Qcm9wZXJ0eSIsCiAgICAgICAgICAgICJpc1Byb3RvdHlwZU9mIiwKICAgICAgICAgICAgInByb3BlcnR5SXNFbnVtZXJhYmxlIiwKICAgICAgICAgICAgImNvbnN0cnVjdG9yIgogICAgICAgIF0sCiAgICAgICAgZG9udEVudW1zTGVuZ3RoID0gZG9udEVudW1zLmxlbmd0aDsKCiAgICBmb3IgKHZhciBrZXkgaW4geyJ0b1N0cmluZyI6IG51bGx9KSB7CiAgICAgICAgaGFzRG9udEVudW1CdWcgPSBmYWxzZTsKICAgIH0KCiAgICBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7CgogICAgICAgIGlmICgKICAgICAgICAgICAgKHR5cGVvZiBvYmplY3QgIT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iamVjdCAhPSAiZnVuY3Rpb24iKSB8fAogICAgICAgICAgICBvYmplY3QgPT09IG51bGwKICAgICAgICApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCIpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgICBmb3IgKHZhciBuYW1lIGluIG9iamVjdCkgewogICAgICAgICAgICBpZiAob3ducyhvYmplY3QsIG5hbWUpKSB7CiAgICAgICAgICAgICAgICBrZXlzLnB1c2gobmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChoYXNEb250RW51bUJ1ZykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb250RW51bXNMZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgZG9udEVudW0gPSBkb250RW51bXNbaV07CiAgICAgICAgICAgICAgICBpZiAob3ducyhvYmplY3QsIGRvbnRFbnVtKSkgewogICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChkb250RW51bSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGtleXM7CiAgICB9OwoKfQppZiAoIURhdGUubm93KSB7CiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICB9Owp9CnZhciB3cyA9ICJceDA5XHgwQVx4MEJceDBDXHgwRFx4MjBceEEwXHUxNjgwXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzIiArCiAgICAiXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBBXHUyMDJGXHUyMDVGXHUzMDAwXHUyMDI4IiArCiAgICAiXHUyMDI5XHVGRUZGIjsKaWYgKCFTdHJpbmcucHJvdG90eXBlLnRyaW0pIHsKICAgIHdzID0gIlsiICsgd3MgKyAiXSI7CiAgICB2YXIgdHJpbUJlZ2luUmVnZXhwID0gbmV3IFJlZ0V4cCgiXiIgKyB3cyArIHdzICsgIioiKSwKICAgICAgICB0cmltRW5kUmVnZXhwID0gbmV3IFJlZ0V4cCh3cyArIHdzICsgIiokIik7CiAgICBTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbiB0cmltKCkgewogICAgICAgIHJldHVybiBTdHJpbmcodGhpcykucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICIiKS5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICIiKTsKICAgIH07Cn0KCmZ1bmN0aW9uIHRvSW50ZWdlcihuKSB7CiAgICBuID0gK247CiAgICBpZiAobiAhPT0gbikgeyAvLyBpc05hTgogICAgICAgIG4gPSAwOwogICAgfSBlbHNlIGlmIChuICE9PSAwICYmIG4gIT09ICgxLzApICYmIG4gIT09IC0oMS8wKSkgewogICAgICAgIG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7CiAgICB9CiAgICByZXR1cm4gbjsKfQoKZnVuY3Rpb24gaXNQcmltaXRpdmUoaW5wdXQpIHsKICAgIHZhciB0eXBlID0gdHlwZW9mIGlucHV0OwogICAgcmV0dXJuICgKICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fAogICAgICAgIHR5cGUgPT09ICJ1bmRlZmluZWQiIHx8CiAgICAgICAgdHlwZSA9PT0gImJvb2xlYW4iIHx8CiAgICAgICAgdHlwZSA9PT0gIm51bWJlciIgfHwKICAgICAgICB0eXBlID09PSAic3RyaW5nIgogICAgKTsKfQoKZnVuY3Rpb24gdG9QcmltaXRpdmUoaW5wdXQpIHsKICAgIHZhciB2YWwsIHZhbHVlT2YsIHRvU3RyaW5nOwogICAgaWYgKGlzUHJpbWl0aXZlKGlucHV0KSkgewogICAgICAgIHJldHVybiBpbnB1dDsKICAgIH0KICAgIHZhbHVlT2YgPSBpbnB1dC52YWx1ZU9mOwogICAgaWYgKHR5cGVvZiB2YWx1ZU9mID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgdmFsID0gdmFsdWVPZi5jYWxsKGlucHV0KTsKICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsKSkgewogICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgIH0KICAgIH0KICAgIHRvU3RyaW5nID0gaW5wdXQudG9TdHJpbmc7CiAgICBpZiAodHlwZW9mIHRvU3RyaW5nID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgdmFsID0gdG9TdHJpbmcuY2FsbChpbnB1dCk7CiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICB9CiAgICB9CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7Cn0KdmFyIHRvT2JqZWN0ID0gZnVuY3Rpb24gKG8pIHsKICAgIGlmIChvID09IG51bGwpIHsgLy8gdGhpcyBtYXRjaGVzIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkCiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiY2FuJ3QgY29udmVydCAiK28rIiB0byBvYmplY3QiKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qobyk7Cn07Cgp9KTsK';\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /*!\n       * vanilla-picker v2.10.0\n       * https://vanilla-picker.js.org\n       *\n       * Copyright 2017-2019 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)\n       * Released under the ISC license.\n       */\n      (function (global, factory) {\n        true ? module.exports = factory() : undefined;\n      })(this, function () {\n        'use strict';\n\n        var classCallCheck = function classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        };\n\n        var createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        String.prototype.startsWith = String.prototype.startsWith || function (needle) {\n          return this.indexOf(needle) === 0;\n        };\n\n        String.prototype.padStart = String.prototype.padStart || function (len, pad) {\n          var str = this;\n\n          while (str.length < len) {\n            str = pad + str;\n          }\n\n          return str;\n        };\n\n        var colorNames = {\n          cb: '0f8ff',\n          tqw: 'aebd7',\n          q: '-ffff',\n          qmrn: '7fffd4',\n          zr: '0ffff',\n          bg: '5f5dc',\n          bsq: 'e4c4',\n          bck: '---',\n          nch: 'ebcd',\n          b: '--ff',\n          bvt: '8a2be2',\n          brwn: 'a52a2a',\n          brw: 'deb887',\n          ctb: '5f9ea0',\n          hrt: '7fff-',\n          chcT: 'd2691e',\n          cr: '7f50',\n          rnw: '6495ed',\n          crns: '8dc',\n          crms: 'dc143c',\n          cn: '-ffff',\n          Db: '--8b',\n          Dcn: '-8b8b',\n          Dgnr: 'b8860b',\n          Dgr: 'a9a9a9',\n          Dgrn: '-64-',\n          Dkhk: 'bdb76b',\n          Dmgn: '8b-8b',\n          Dvgr: '556b2f',\n          Drng: '8c-',\n          Drch: '9932cc',\n          Dr: '8b--',\n          Dsmn: 'e9967a',\n          Dsgr: '8fbc8f',\n          DsTb: '483d8b',\n          DsTg: '2f4f4f',\n          Dtrq: '-ced1',\n          Dvt: '94-d3',\n          ppnk: '1493',\n          pskb: '-bfff',\n          mgr: '696969',\n          grb: '1e90ff',\n          rbrc: 'b22222',\n          rwht: 'af0',\n          stg: '228b22',\n          chs: '-ff',\n          gnsb: 'dcdcdc',\n          st: '8f8ff',\n          g: 'd7-',\n          gnr: 'daa520',\n          gr: '808080',\n          grn: '-8-0',\n          grnw: 'adff2f',\n          hnw: '0fff0',\n          htpn: '69b4',\n          nnr: 'cd5c5c',\n          ng: '4b-82',\n          vr: '0',\n          khk: '0e68c',\n          vnr: 'e6e6fa',\n          nrb: '0f5',\n          wngr: '7cfc-',\n          mnch: 'acd',\n          Lb: 'add8e6',\n          Lcr: '08080',\n          Lcn: 'e0ffff',\n          Lgnr: 'afad2',\n          Lgr: 'd3d3d3',\n          Lgrn: '90ee90',\n          Lpnk: 'b6c1',\n          Lsmn: 'a07a',\n          Lsgr: '20b2aa',\n          Lskb: '87cefa',\n          LsTg: '778899',\n          Lstb: 'b0c4de',\n          Lw: 'e0',\n          m: '-ff-',\n          mgrn: '32cd32',\n          nn: 'af0e6',\n          mgnt: '-ff',\n          mrn: '8--0',\n          mqm: '66cdaa',\n          mmb: '--cd',\n          mmrc: 'ba55d3',\n          mmpr: '9370db',\n          msg: '3cb371',\n          mmsT: '7b68ee',\n          '': '-fa9a',\n          mtr: '48d1cc',\n          mmvt: 'c71585',\n          mnLb: '191970',\n          ntc: '5fffa',\n          mstr: 'e4e1',\n          mccs: 'e4b5',\n          vjw: 'dead',\n          nv: '--80',\n          c: 'df5e6',\n          v: '808-0',\n          vrb: '6b8e23',\n          rng: 'a5-',\n          rngr: '45-',\n          rch: 'da70d6',\n          pgnr: 'eee8aa',\n          pgrn: '98fb98',\n          ptrq: 'afeeee',\n          pvtr: 'db7093',\n          ppwh: 'efd5',\n          pchp: 'dab9',\n          pr: 'cd853f',\n          pnk: 'c0cb',\n          pm: 'dda0dd',\n          pwrb: 'b0e0e6',\n          prp: '8-080',\n          cc: '663399',\n          r: '--',\n          sbr: 'bc8f8f',\n          rb: '4169e1',\n          sbrw: '8b4513',\n          smn: 'a8072',\n          nbr: '4a460',\n          sgrn: '2e8b57',\n          ssh: '5ee',\n          snn: 'a0522d',\n          svr: 'c0c0c0',\n          skb: '87ceeb',\n          sTb: '6a5acd',\n          sTgr: '708090',\n          snw: 'afa',\n          n: '-ff7f',\n          stb: '4682b4',\n          tn: 'd2b48c',\n          t: '-8080',\n          thst: 'd8bfd8',\n          tmT: '6347',\n          trqs: '40e0d0',\n          vt: 'ee82ee',\n          whT: '5deb3',\n          wht: '',\n          hts: '5f5f5',\n          w: '-',\n          wgrn: '9acd32'\n        };\n\n        function printNum(num) {\n          var decs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n          var str = decs > 0 ? num.toFixed(decs).replace(/0+$/, '').replace(/\\.$/, '') : num.toString();\n          return str || '0';\n        }\n\n        var Color = function () {\n          function Color(r, g, b, a) {\n            classCallCheck(this, Color);\n            var that = this;\n\n            function parseString(input) {\n              if (input.startsWith('hsl')) {\n                var _input$match$map = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n                    _input$match$map2 = slicedToArray(_input$match$map, 4),\n                    h = _input$match$map2[0],\n                    s = _input$match$map2[1],\n                    l = _input$match$map2[2],\n                    _a = _input$match$map2[3];\n\n                if (_a === undefined) {\n                  _a = 1;\n                }\n\n                h /= 360;\n                s /= 100;\n                l /= 100;\n                that.hsla = [h, s, l, _a];\n              } else if (input.startsWith('rgb')) {\n                var _input$match$map3 = input.match(/([\\-\\d\\.e]+)/g).map(Number),\n                    _input$match$map4 = slicedToArray(_input$match$map3, 4),\n                    _r = _input$match$map4[0],\n                    _g = _input$match$map4[1],\n                    _b = _input$match$map4[2],\n                    _a2 = _input$match$map4[3];\n\n                if (_a2 === undefined) {\n                  _a2 = 1;\n                }\n\n                that.rgba = [_r, _g, _b, _a2];\n              } else {\n                if (input.startsWith('#')) {\n                  that.rgba = Color.hexToRgb(input);\n                } else {\n                  that.rgba = Color.nameToRgb(input) || Color.hexToRgb(input);\n                }\n              }\n            }\n\n            if (r === undefined) ;else if (Array.isArray(r)) {\n              this.rgba = r;\n            } else if (b === undefined) {\n              var color = r && '' + r;\n\n              if (color) {\n                parseString(color.toLowerCase());\n              }\n            } else {\n              this.rgba = [r, g, b, a === undefined ? 1 : a];\n            }\n          }\n\n          createClass(Color, [{\n            key: 'printRGB',\n            value: function printRGB(alpha) {\n              var rgb = alpha ? this.rgba : this.rgba.slice(0, 3),\n                  vals = rgb.map(function (x, i) {\n                return printNum(x, i === 3 ? 3 : 0);\n              });\n              return alpha ? 'rgba(' + vals + ')' : 'rgb(' + vals + ')';\n            }\n          }, {\n            key: 'printHSL',\n            value: function printHSL(alpha) {\n              var mults = [360, 100, 100, 1],\n                  suff = ['', '%', '%', ''];\n              var hsl = alpha ? this.hsla : this.hsla.slice(0, 3),\n                  vals = hsl.map(function (x, i) {\n                return printNum(x * mults[i], i === 3 ? 3 : 1) + suff[i];\n              });\n              return alpha ? 'hsla(' + vals + ')' : 'hsl(' + vals + ')';\n            }\n          }, {\n            key: 'printHex',\n            value: function printHex(alpha) {\n              var hex = this.hex;\n              return alpha ? hex : hex.substring(0, 7);\n            }\n          }, {\n            key: 'rgba',\n            get: function get$$1() {\n              if (this._rgba) {\n                return this._rgba;\n              }\n\n              if (!this._hsla) {\n                throw new Error('No color is set');\n              }\n\n              return this._rgba = Color.hslToRgb(this._hsla);\n            },\n            set: function set$$1(rgb) {\n              if (rgb.length === 3) {\n                rgb[3] = 1;\n              }\n\n              this._rgba = rgb;\n              this._hsla = null;\n            }\n          }, {\n            key: 'rgbString',\n            get: function get$$1() {\n              return this.printRGB();\n            }\n          }, {\n            key: 'rgbaString',\n            get: function get$$1() {\n              return this.printRGB(true);\n            }\n          }, {\n            key: 'hsla',\n            get: function get$$1() {\n              if (this._hsla) {\n                return this._hsla;\n              }\n\n              if (!this._rgba) {\n                throw new Error('No color is set');\n              }\n\n              return this._hsla = Color.rgbToHsl(this._rgba);\n            },\n            set: function set$$1(hsl) {\n              if (hsl.length === 3) {\n                hsl[3] = 1;\n              }\n\n              this._hsla = hsl;\n              this._rgba = null;\n            }\n          }, {\n            key: 'hslString',\n            get: function get$$1() {\n              return this.printHSL();\n            }\n          }, {\n            key: 'hslaString',\n            get: function get$$1() {\n              return this.printHSL(true);\n            }\n          }, {\n            key: 'hex',\n            get: function get$$1() {\n              var rgb = this.rgba,\n                  hex = rgb.map(function (x, i) {\n                return i < 3 ? x.toString(16) : Math.round(x * 255).toString(16);\n              });\n              return '#' + hex.map(function (x) {\n                return x.padStart(2, '0');\n              }).join('');\n            },\n            set: function set$$1(hex) {\n              this.rgba = Color.hexToRgb(hex);\n            }\n          }], [{\n            key: 'hexToRgb',\n            value: function hexToRgb(input) {\n              var hex = (input.startsWith('#') ? input.slice(1) : input).replace(/^(\\w{3})$/, '$1F').replace(/^(\\w)(\\w)(\\w)(\\w)$/, '$1$1$2$2$3$3$4$4').replace(/^(\\w{6})$/, '$1FF');\n\n              if (!hex.match(/^([0-9a-fA-F]{8})$/)) {\n                throw new Error('Unknown hex color; ' + input);\n              }\n\n              var rgba = hex.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1).map(function (x) {\n                return parseInt(x, 16);\n              });\n              rgba[3] = rgba[3] / 255;\n              return rgba;\n            }\n          }, {\n            key: 'nameToRgb',\n            value: function nameToRgb(input) {\n              var hash = input.toLowerCase().replace('at', 'T').replace(/[aeiouyldf]/g, '').replace('ght', 'L').replace('rk', 'D').slice(-5, 4),\n                  hex = colorNames[hash];\n              return hex === undefined ? hex : Color.hexToRgb(hex.replace(/\\-/g, '00').padStart(6, 'f'));\n            }\n          }, {\n            key: 'rgbToHsl',\n            value: function rgbToHsl(_ref) {\n              var _ref2 = slicedToArray(_ref, 4),\n                  r = _ref2[0],\n                  g = _ref2[1],\n                  b = _ref2[2],\n                  a = _ref2[3];\n\n              r /= 255;\n              g /= 255;\n              b /= 255;\n              var max = Math.max(r, g, b),\n                  min = Math.min(r, g, b);\n              var h = void 0,\n                  s = void 0,\n                  l = (max + min) / 2;\n\n              if (max === min) {\n                h = s = 0;\n              } else {\n                var d = max - min;\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n                switch (max) {\n                  case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n\n                  case g:\n                    h = (b - r) / d + 2;\n                    break;\n\n                  case b:\n                    h = (r - g) / d + 4;\n                    break;\n                }\n\n                h /= 6;\n              }\n\n              return [h, s, l, a];\n            }\n          }, {\n            key: 'hslToRgb',\n            value: function hslToRgb(_ref3) {\n              var _ref4 = slicedToArray(_ref3, 4),\n                  h = _ref4[0],\n                  s = _ref4[1],\n                  l = _ref4[2],\n                  a = _ref4[3];\n\n              var r = void 0,\n                  g = void 0,\n                  b = void 0;\n\n              if (s === 0) {\n                r = g = b = l;\n              } else {\n                var hue2rgb = function hue2rgb(p, q, t) {\n                  if (t < 0) t += 1;\n                  if (t > 1) t -= 1;\n                  if (t < 1 / 6) return p + (q - p) * 6 * t;\n                  if (t < 1 / 2) return q;\n                  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n                  return p;\n                };\n\n                var q = l < 0.5 ? l * (1 + s) : l + s - l * s,\n                    p = 2 * l - q;\n                r = hue2rgb(p, q, h + 1 / 3);\n                g = hue2rgb(p, q, h);\n                b = hue2rgb(p, q, h - 1 / 3);\n              }\n\n              var rgba = [r * 255, g * 255, b * 255].map(Math.round);\n              rgba[3] = a;\n              return rgba;\n            }\n          }]);\n          return Color;\n        }();\n\n        var EventBucket = function () {\n          function EventBucket() {\n            classCallCheck(this, EventBucket);\n            this._events = [];\n          }\n\n          createClass(EventBucket, [{\n            key: 'add',\n            value: function add(target, type, handler) {\n              target.addEventListener(type, handler, false);\n\n              this._events.push({\n                target: target,\n                type: type,\n                handler: handler\n              });\n            }\n          }, {\n            key: 'remove',\n            value: function remove(target, type, handler) {\n              this._events = this._events.filter(function (e) {\n                var isMatch = true;\n\n                if (target && target !== e.target) {\n                  isMatch = false;\n                }\n\n                if (type && type !== e.type) {\n                  isMatch = false;\n                }\n\n                if (handler && handler !== e.handler) {\n                  isMatch = false;\n                }\n\n                if (isMatch) {\n                  EventBucket._doRemove(e.target, e.type, e.handler);\n                }\n\n                return !isMatch;\n              });\n            }\n          }, {\n            key: 'destroy',\n            value: function destroy() {\n              this._events.forEach(function (e) {\n                return EventBucket._doRemove(e.target, e.type, e.handler);\n              });\n\n              this._events = [];\n            }\n          }], [{\n            key: '_doRemove',\n            value: function _doRemove(target, type, handler) {\n              target.removeEventListener(type, handler, false);\n            }\n          }]);\n          return EventBucket;\n        }();\n\n        function parseHTML(htmlString) {\n          var div = document.createElement('div');\n          div.innerHTML = htmlString;\n          return div.firstElementChild;\n        }\n\n        function dragTrack(eventBucket, area, callback) {\n          var dragging = false;\n\n          function clamp(val, min, max) {\n            return Math.max(min, Math.min(val, max));\n          }\n\n          function onMove(e, info, starting) {\n            if (starting) {\n              dragging = true;\n            }\n\n            if (!dragging) {\n              return;\n            }\n\n            e.preventDefault();\n            var bounds = area.getBoundingClientRect(),\n                w = bounds.width,\n                h = bounds.height,\n                x = info.clientX,\n                y = info.clientY;\n            var relX = clamp(x - bounds.left, 0, w),\n                relY = clamp(y - bounds.top, 0, h);\n            callback(relX / w, relY / h);\n          }\n\n          function onMouse(e, starting) {\n            var button = e.buttons === undefined ? e.which : e.buttons;\n\n            if (button === 1) {\n              onMove(e, e, starting);\n            } else {\n              dragging = false;\n            }\n          }\n\n          function onTouch(e, starting) {\n            if (e.touches.length === 1) {\n              onMove(e, e.touches[0], starting);\n            } else {\n              dragging = false;\n            }\n          }\n\n          eventBucket.add(area, 'mousedown', function (e) {\n            onMouse(e, true);\n          });\n          eventBucket.add(area, 'touchstart', function (e) {\n            onTouch(e, true);\n          });\n          eventBucket.add(window, 'mousemove', onMouse);\n          eventBucket.add(area, 'touchmove', onTouch);\n          eventBucket.add(window, 'mouseup', function (e) {\n            dragging = false;\n          });\n          eventBucket.add(area, 'touchend', function (e) {\n            dragging = false;\n          });\n          eventBucket.add(area, 'touchcancel', function (e) {\n            dragging = false;\n          });\n        }\n\n        var BG_TRANSP = 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'2\\' height=\\'2\\'%3E%3Cpath d=\\'M1,0H0V1H2V2H1\\' fill=\\'lightgrey\\'/%3E%3C/svg%3E\")';\n        var HUES = 360;\n        var EVENT_KEY = 'keydown',\n            EVENT_CLICK_OUTSIDE = 'mousedown',\n            EVENT_TAB_MOVE = 'focusin';\n\n        function $(selector, context) {\n          return (context || document).querySelector(selector);\n        }\n\n        function stopEvent(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        function onKey(bucket, target, keys, handler, stop) {\n          bucket.add(target, EVENT_KEY, function (e) {\n            if (keys.indexOf(e.key) >= 0) {\n              if (stop) {\n                stopEvent(e);\n              }\n\n              handler(e);\n            }\n          });\n        }\n\n        var _style = document.createElement('style');\n\n        _style.textContent = '.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:\\'\\';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:\\'\\';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'2\\' height=\\'2\\'%3E%3Cpath d=\\'M1,0H0V1H2V2H1\\' fill=\\'lightgrey\\'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:\\'\\';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}';\n        document.documentElement.firstElementChild.appendChild(_style);\n\n        var Picker = function () {\n          function Picker(options) {\n            classCallCheck(this, Picker);\n            this.settings = {\n              popup: 'right',\n              layout: 'default',\n              alpha: true,\n              editor: true,\n              editorFormat: 'hex',\n              cancelButton: false\n            };\n            this._events = new EventBucket();\n            this.onChange = null;\n            this.onDone = null;\n            this.onOpen = null;\n            this.onClose = null;\n            this.setOptions(options);\n          }\n\n          createClass(Picker, [{\n            key: 'setOptions',\n            value: function setOptions(options) {\n              var _this = this;\n\n              if (!options) {\n                return;\n              }\n\n              var settings = this.settings;\n\n              function transfer(source, target, skipKeys) {\n                for (var key in source) {\n                  if (skipKeys && skipKeys.indexOf(key) >= 0) {\n                    continue;\n                  }\n\n                  target[key] = source[key];\n                }\n              }\n\n              if (options instanceof HTMLElement) {\n                settings.parent = options;\n              } else {\n                if (settings.parent && options.parent && settings.parent !== options.parent) {\n                  this._events.remove(settings.parent);\n\n                  this._popupInited = false;\n                }\n\n                transfer(options, settings);\n\n                if (options.onChange) {\n                  this.onChange = options.onChange;\n                }\n\n                if (options.onDone) {\n                  this.onDone = options.onDone;\n                }\n\n                if (options.onOpen) {\n                  this.onOpen = options.onOpen;\n                }\n\n                if (options.onClose) {\n                  this.onClose = options.onClose;\n                }\n\n                var col = options.color || options.colour;\n\n                if (col) {\n                  this._setColor(col);\n                }\n              }\n\n              var parent = settings.parent;\n\n              if (parent && settings.popup && !this._popupInited) {\n                var openProxy = function openProxy(e) {\n                  return _this.openHandler(e);\n                };\n\n                this._events.add(parent, 'click', openProxy);\n\n                onKey(this._events, parent, [' ', 'Spacebar', 'Enter'], openProxy);\n                this._popupInited = true;\n              } else if (options.parent && !settings.popup) {\n                this.show();\n              }\n            }\n          }, {\n            key: 'openHandler',\n            value: function openHandler(e) {\n              if (this.show()) {\n                e && e.preventDefault();\n                this.settings.parent.style.pointerEvents = 'none';\n                var toFocus = e && e.type === EVENT_KEY ? this._domEdit : this.domElement;\n                setTimeout(function () {\n                  return toFocus.focus();\n                }, 100);\n\n                if (this.onOpen) {\n                  this.onOpen(this.colour);\n                }\n              }\n            }\n          }, {\n            key: 'closeHandler',\n            value: function closeHandler(e) {\n              var event = e && e.type;\n              var doHide = false;\n\n              if (!e) {\n                doHide = true;\n              } else if (event === EVENT_CLICK_OUTSIDE || event === EVENT_TAB_MOVE) {\n                var knownTime = (this.__containedEvent || 0) + 100;\n\n                if (e.timeStamp > knownTime) {\n                  doHide = true;\n                }\n              } else {\n                stopEvent(e);\n                doHide = true;\n              }\n\n              if (doHide && this.hide()) {\n                this.settings.parent.style.pointerEvents = '';\n\n                if (event !== EVENT_CLICK_OUTSIDE) {\n                  this.settings.parent.focus();\n                }\n\n                if (this.onClose) {\n                  this.onClose(this.colour);\n                }\n              }\n            }\n          }, {\n            key: 'movePopup',\n            value: function movePopup(options, open) {\n              this.closeHandler();\n              this.setOptions(options);\n\n              if (open) {\n                this.openHandler();\n              }\n            }\n          }, {\n            key: 'setColor',\n            value: function setColor(color, silent) {\n              this._setColor(color, {\n                silent: silent\n              });\n            }\n          }, {\n            key: '_setColor',\n            value: function _setColor(color, flags) {\n              if (typeof color === 'string') {\n                color = color.trim();\n              }\n\n              if (!color) {\n                return;\n              }\n\n              flags = flags || {};\n              var c = void 0;\n\n              try {\n                c = new Color(color);\n              } catch (ex) {\n                if (flags.failSilently) {\n                  return;\n                }\n\n                throw ex;\n              }\n\n              if (!this.settings.alpha) {\n                var hsla = c.hsla;\n                hsla[3] = 1;\n                c.hsla = hsla;\n              }\n\n              this.colour = this.color = c;\n\n              this._setHSLA(null, null, null, null, flags);\n            }\n          }, {\n            key: 'setColour',\n            value: function setColour(colour, silent) {\n              this.setColor(colour, silent);\n            }\n          }, {\n            key: 'show',\n            value: function show() {\n              var parent = this.settings.parent;\n\n              if (!parent) {\n                return false;\n              }\n\n              if (this.domElement) {\n                var toggled = this._toggleDOM(true);\n\n                this._setPosition();\n\n                return toggled;\n              }\n\n              var html = this.settings.template || '<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div><div class=\"picker_cancel\"><button>Cancel</button></div></div>';\n              var wrapper = parseHTML(html);\n              this.domElement = wrapper;\n              this._domH = $('.picker_hue', wrapper);\n              this._domSL = $('.picker_sl', wrapper);\n              this._domA = $('.picker_alpha', wrapper);\n              this._domEdit = $('.picker_editor input', wrapper);\n              this._domSample = $('.picker_sample', wrapper);\n              this._domOkay = $('.picker_done button', wrapper);\n              this._domCancel = $('.picker_cancel button', wrapper);\n              wrapper.classList.add('layout_' + this.settings.layout);\n\n              if (!this.settings.alpha) {\n                wrapper.classList.add('no_alpha');\n              }\n\n              if (!this.settings.editor) {\n                wrapper.classList.add('no_editor');\n              }\n\n              if (!this.settings.cancelButton) {\n                wrapper.classList.add('no_cancel');\n              }\n\n              this._ifPopup(function () {\n                return wrapper.classList.add('popup');\n              });\n\n              this._setPosition();\n\n              if (this.colour) {\n                this._updateUI();\n              } else {\n                this._setColor('#0cf');\n              }\n\n              this._bindEvents();\n\n              return true;\n            }\n          }, {\n            key: 'hide',\n            value: function hide() {\n              return this._toggleDOM(false);\n            }\n          }, {\n            key: 'destroy',\n            value: function destroy() {\n              this._events.destroy();\n\n              if (this.domElement) {\n                this.settings.parent.removeChild(this.domElement);\n              }\n            }\n          }, {\n            key: '_bindEvents',\n            value: function _bindEvents() {\n              var _this2 = this;\n\n              var that = this,\n                  dom = this.domElement,\n                  events = this._events;\n\n              function addEvent(target, type, handler) {\n                events.add(target, type, handler);\n              }\n\n              addEvent(dom, 'click', function (e) {\n                return e.preventDefault();\n              });\n              dragTrack(events, this._domH, function (x, y) {\n                return that._setHSLA(x);\n              });\n              dragTrack(events, this._domSL, function (x, y) {\n                return that._setHSLA(null, x, 1 - y);\n              });\n\n              if (this.settings.alpha) {\n                dragTrack(events, this._domA, function (x, y) {\n                  return that._setHSLA(null, null, null, 1 - y);\n                });\n              }\n\n              var editInput = this._domEdit;\n              {\n                addEvent(editInput, 'input', function (e) {\n                  that._setColor(this.value, {\n                    fromEditor: true,\n                    failSilently: true\n                  });\n                });\n                addEvent(editInput, 'focus', function (e) {\n                  var input = this;\n\n                  if (input.selectionStart === input.selectionEnd) {\n                    input.select();\n                  }\n                });\n              }\n\n              this._ifPopup(function () {\n                var popupCloseProxy = function popupCloseProxy(e) {\n                  return _this2.closeHandler(e);\n                };\n\n                addEvent(window, EVENT_CLICK_OUTSIDE, popupCloseProxy);\n                addEvent(window, EVENT_TAB_MOVE, popupCloseProxy);\n                onKey(events, dom, ['Esc', 'Escape'], popupCloseProxy);\n\n                var timeKeeper = function timeKeeper(e) {\n                  _this2.__containedEvent = e.timeStamp;\n                };\n\n                addEvent(dom, EVENT_CLICK_OUTSIDE, timeKeeper);\n                addEvent(dom, EVENT_TAB_MOVE, timeKeeper);\n                addEvent(_this2._domCancel, 'click', popupCloseProxy);\n              });\n\n              var onDoneProxy = function onDoneProxy(e) {\n                _this2._ifPopup(function () {\n                  return _this2.closeHandler(e);\n                });\n\n                if (_this2.onDone) {\n                  _this2.onDone(_this2.colour);\n                }\n              };\n\n              addEvent(this._domOkay, 'click', onDoneProxy);\n              onKey(events, dom, ['Enter'], onDoneProxy);\n            }\n          }, {\n            key: '_setPosition',\n            value: function _setPosition() {\n              var parent = this.settings.parent,\n                  elm = this.domElement;\n\n              if (parent !== elm.parentNode) {\n                parent.appendChild(elm);\n              }\n\n              this._ifPopup(function (popup) {\n                if (getComputedStyle(parent).position === 'static') {\n                  parent.style.position = 'relative';\n                }\n\n                var cssClass = popup === true ? 'popup_right' : 'popup_' + popup;\n                ['popup_top', 'popup_bottom', 'popup_left', 'popup_right'].forEach(function (c) {\n                  if (c === cssClass) {\n                    elm.classList.add(c);\n                  } else {\n                    elm.classList.remove(c);\n                  }\n                });\n                elm.classList.add(cssClass);\n              });\n            }\n          }, {\n            key: '_setHSLA',\n            value: function _setHSLA(h, s, l, a, flags) {\n              flags = flags || {};\n              var col = this.colour,\n                  hsla = col.hsla;\n              [h, s, l, a].forEach(function (x, i) {\n                if (x || x === 0) {\n                  hsla[i] = x;\n                }\n              });\n              col.hsla = hsla;\n\n              this._updateUI(flags);\n\n              if (this.onChange && !flags.silent) {\n                this.onChange(col);\n              }\n            }\n          }, {\n            key: '_updateUI',\n            value: function _updateUI(flags) {\n              if (!this.domElement) {\n                return;\n              }\n\n              flags = flags || {};\n              var col = this.colour,\n                  hsl = col.hsla,\n                  cssHue = 'hsl(' + hsl[0] * HUES + ', 100%, 50%)',\n                  cssHSL = col.hslString,\n                  cssHSLA = col.hslaString;\n              var uiH = this._domH,\n                  uiSL = this._domSL,\n                  uiA = this._domA,\n                  thumbH = $('.picker_selector', uiH),\n                  thumbSL = $('.picker_selector', uiSL),\n                  thumbA = $('.picker_selector', uiA);\n\n              function posX(parent, child, relX) {\n                child.style.left = relX * 100 + '%';\n              }\n\n              function posY(parent, child, relY) {\n                child.style.top = relY * 100 + '%';\n              }\n\n              posX(uiH, thumbH, hsl[0]);\n              this._domSL.style.backgroundColor = this._domH.style.color = cssHue;\n              posX(uiSL, thumbSL, hsl[1]);\n              posY(uiSL, thumbSL, 1 - hsl[2]);\n              uiSL.style.color = cssHSL;\n              posY(uiA, thumbA, 1 - hsl[3]);\n              var opaque = cssHSL,\n                  transp = opaque.replace('hsl', 'hsla').replace(')', ', 0)'),\n                  bg = 'linear-gradient(' + [opaque, transp] + ')';\n              this._domA.style.backgroundImage = bg + ', ' + BG_TRANSP;\n\n              if (!flags.fromEditor) {\n                var format = this.settings.editorFormat,\n                    alpha = this.settings.alpha;\n                var value = void 0;\n\n                switch (format) {\n                  case 'rgb':\n                    value = col.printRGB(alpha);\n                    break;\n\n                  case 'hsl':\n                    value = col.printHSL(alpha);\n                    break;\n\n                  default:\n                    value = col.printHex(alpha);\n                }\n\n                this._domEdit.value = value;\n              }\n\n              this._domSample.style.color = cssHSLA;\n            }\n          }, {\n            key: '_ifPopup',\n            value: function _ifPopup(actionIf, actionElse) {\n              if (this.settings.parent && this.settings.popup) {\n                actionIf && actionIf(this.settings.popup);\n              } else {\n                actionElse && actionElse();\n              }\n            }\n          }, {\n            key: '_toggleDOM',\n            value: function _toggleDOM(toVisible) {\n              var dom = this.domElement;\n\n              if (!dom) {\n                return false;\n              }\n\n              var displayStyle = toVisible ? '' : 'none',\n                  toggle = dom.style.display !== displayStyle;\n\n              if (toggle) {\n                dom.style.display = displayStyle;\n              }\n\n              return toggle;\n            }\n          }], [{\n            key: 'StyleElement',\n            get: function get$$1() {\n              return _style;\n            }\n          }]);\n          return Picker;\n        }();\n\n        return Picker;\n      });\n      /***/\n\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports) {\n      /* ***** BEGIN LICENSE BLOCK *****\n       * Distributed under the BSD license:\n       *\n       * Copyright (c) 2010, Ajax.org B.V.\n       * All rights reserved.\n       *\n       * Redistribution and use in source and binary forms, with or without\n       * modification, are permitted provided that the following conditions are met:\n       *     * Redistributions of source code must retain the above copyright\n       *       notice, this list of conditions and the following disclaimer.\n       *     * Redistributions in binary form must reproduce the above copyright\n       *       notice, this list of conditions and the following disclaimer in the\n       *       documentation and/or other materials provided with the distribution.\n       *     * Neither the name of Ajax.org B.V. nor the\n       *       names of its contributors may be used to endorse or promote products\n       *       derived from this software without specific prior written permission.\n       *\n       * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n       * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n       * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n       * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n       * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n       * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n       * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n       * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n       * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n       * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n       *\n       * ***** END LICENSE BLOCK ***** */\n      window.ace.define('ace/theme/jsoneditor', ['require', 'exports', 'module', 'ace/lib/dom'], function (acequire, exports, module) {\n        exports.isDark = false;\n        exports.cssClass = 'ace-jsoneditor';\n        exports.cssText = \".ace-jsoneditor .ace_gutter {\\nbackground: #ebebeb;\\ncolor: #333\\n}\\n\\n.ace-jsoneditor.ace_editor {\\nfont-family: \\\"dejavu sans mono\\\", \\\"droid sans mono\\\", consolas, monaco, \\\"lucida console\\\", \\\"courier new\\\", courier, monospace, sans-serif;\\nline-height: 1.3;\\nbackground-color: #fff;\\n}\\n.ace-jsoneditor .ace_print-margin {\\nwidth: 1px;\\nbackground: #e8e8e8\\n}\\n.ace-jsoneditor .ace_scroller {\\nbackground-color: #FFFFFF\\n}\\n.ace-jsoneditor .ace_text-layer {\\ncolor: gray\\n}\\n.ace-jsoneditor .ace_variable {\\ncolor: #1a1a1a\\n}\\n.ace-jsoneditor .ace_cursor {\\nborder-left: 2px solid #000000\\n}\\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\\nborder-left: 0px;\\nborder-bottom: 1px solid #000000\\n}\\n.ace-jsoneditor .ace_marker-layer .ace_selection {\\nbackground: lightgray\\n}\\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\\nbox-shadow: 0 0 3px 0px #FFFFFF;\\nborder-radius: 2px\\n}\\n.ace-jsoneditor .ace_marker-layer .ace_step {\\nbackground: rgb(255, 255, 0)\\n}\\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\\nmargin: -1px 0 0 -1px;\\nborder: 1px solid #BFBFBF\\n}\\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\\nbackground: #FFFBD1\\n}\\n.ace-jsoneditor .ace_gutter-active-line {\\nbackground-color : #dcdcdc\\n}\\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\\nborder: 1px solid lightgray\\n}\\n.ace-jsoneditor .ace_invisible {\\ncolor: #BFBFBF\\n}\\n.ace-jsoneditor .ace_keyword,\\n.ace-jsoneditor .ace_meta,\\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\\ncolor: #AF956F\\n}\\n.ace-jsoneditor .ace_keyword.ace_operator {\\ncolor: #484848\\n}\\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\\ncolor: #96DC5F\\n}\\n.ace-jsoneditor .ace_constant.ace_language {\\ncolor: darkorange\\n}\\n.ace-jsoneditor .ace_constant.ace_numeric {\\ncolor: red\\n}\\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\\ncolor: #BF78CC\\n}\\n.ace-jsoneditor .ace_invalid {\\ncolor: #FFFFFF;\\nbackground-color: #FF002A;\\n}\\n.ace-jsoneditor .ace_fold {\\nbackground-color: #AF956F;\\nborder-color: #000000\\n}\\n.ace-jsoneditor .ace_storage,\\n.ace-jsoneditor .ace_support.ace_class,\\n.ace-jsoneditor .ace_support.ace_function,\\n.ace-jsoneditor .ace_support.ace_other,\\n.ace-jsoneditor .ace_support.ace_type {\\ncolor: #C52727\\n}\\n.ace-jsoneditor .ace_string {\\ncolor: green\\n}\\n.ace-jsoneditor .ace_comment {\\ncolor: #BCC8BA\\n}\\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\\ncolor: #606060\\n}\\n.ace-jsoneditor .ace_markup.ace_underline {\\ntext-decoration: underline\\n}\\n.ace-jsoneditor .ace_indent-guide {\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y\\n}\";\n        var dom = acequire('../lib/dom');\n        dom.importCssString(exports.cssText, exports.cssClass);\n      });\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      exports.tryRequireAjv = function () {\n        try {\n          return __webpack_require__(43);\n        } catch (err) {// no problem... when we need Ajv we will throw a neat exception\n        }\n      };\n      /***/\n\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var compileSchema = __webpack_require__(44),\n          resolve = __webpack_require__(17),\n          Cache = __webpack_require__(48),\n          SchemaObject = __webpack_require__(25),\n          stableStringify = __webpack_require__(26),\n          formats = __webpack_require__(49),\n          rules = __webpack_require__(50),\n          $dataMetaSchema = __webpack_require__(71),\n          util = __webpack_require__(5);\n\n      module.exports = Ajv;\n      Ajv.prototype.validate = validate;\n      Ajv.prototype.compile = compile;\n      Ajv.prototype.addSchema = addSchema;\n      Ajv.prototype.addMetaSchema = addMetaSchema;\n      Ajv.prototype.validateSchema = validateSchema;\n      Ajv.prototype.getSchema = getSchema;\n      Ajv.prototype.removeSchema = removeSchema;\n      Ajv.prototype.addFormat = addFormat;\n      Ajv.prototype.errorsText = errorsText;\n      Ajv.prototype._addSchema = _addSchema;\n      Ajv.prototype._compile = _compile;\n      Ajv.prototype.compileAsync = __webpack_require__(72);\n\n      var customKeyword = __webpack_require__(73);\n\n      Ajv.prototype.addKeyword = customKeyword.add;\n      Ajv.prototype.getKeyword = customKeyword.get;\n      Ajv.prototype.removeKeyword = customKeyword.remove;\n      Ajv.prototype.validateKeyword = customKeyword.validate;\n\n      var errorClasses = __webpack_require__(19);\n\n      Ajv.ValidationError = errorClasses.Validation;\n      Ajv.MissingRefError = errorClasses.MissingRef;\n      Ajv.$dataMetaSchema = $dataMetaSchema;\n      var META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n      var META_IGNORE_OPTIONS = ['removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults'];\n      var META_SUPPORT_DATA = ['/properties'];\n      /**\n       * Creates validator instance.\n       * Usage: `Ajv(opts)`\n       * @param {Object} opts optional options\n       * @return {Object} ajv instance\n       */\n\n      function Ajv(opts) {\n        if (!(this instanceof Ajv)) return new Ajv(opts);\n        opts = this._opts = util.copy(opts) || {};\n        setLogger(this);\n        this._schemas = {};\n        this._refs = {};\n        this._fragments = {};\n        this._formats = formats(opts.format);\n        this._cache = opts.cache || new Cache();\n        this._loadingSchemas = {};\n        this._compilations = [];\n        this.RULES = rules();\n        this._getId = chooseGetId(opts);\n        opts.loopRequired = opts.loopRequired || Infinity;\n        if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n        if (opts.serialize === undefined) opts.serialize = stableStringify;\n        this._metaOpts = getMetaSchemaOptions(this);\n        if (opts.formats) addInitialFormats(this);\n        addDefaultMetaSchema(this);\n        if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n        if (opts.nullable) this.addKeyword('nullable', {\n          metaSchema: {\n            type: 'boolean'\n          }\n        });\n        addInitialSchemas(this);\n      }\n      /**\n       * Validate data using schema\n       * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n       * @this   Ajv\n       * @param  {String|Object} schemaKeyRef key, ref or schema object\n       * @param  {Any} data to be validated\n       * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n       */\n\n\n      function validate(schemaKeyRef, data) {\n        var v;\n\n        if (typeof schemaKeyRef == 'string') {\n          v = this.getSchema(schemaKeyRef);\n          if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n        } else {\n          var schemaObj = this._addSchema(schemaKeyRef);\n\n          v = schemaObj.validate || this._compile(schemaObj);\n        }\n\n        var valid = v(data);\n        if (v.$async !== true) this.errors = v.errors;\n        return valid;\n      }\n      /**\n       * Create validating function for passed schema.\n       * @this   Ajv\n       * @param  {Object} schema schema object\n       * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n       * @return {Function} validating function\n       */\n\n\n      function compile(schema, _meta) {\n        var schemaObj = this._addSchema(schema, undefined, _meta);\n\n        return schemaObj.validate || this._compile(schemaObj);\n      }\n      /**\n       * Adds schema to the instance.\n       * @this   Ajv\n       * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n       * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n       * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n       * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n       * @return {Ajv} this for method chaining\n       */\n\n\n      function addSchema(schema, key, _skipValidation, _meta) {\n        if (Array.isArray(schema)) {\n          for (var i = 0; i < schema.length; i++) {\n            this.addSchema(schema[i], undefined, _skipValidation, _meta);\n          }\n\n          return this;\n        }\n\n        var id = this._getId(schema);\n\n        if (id !== undefined && typeof id != 'string') throw new Error('schema id must be string');\n        key = resolve.normalizeId(key || id);\n        checkUnique(this, key);\n        this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n        return this;\n      }\n      /**\n       * Add schema that will be used to validate other schemas\n       * options in META_IGNORE_OPTIONS are alway set to false\n       * @this   Ajv\n       * @param {Object} schema schema object\n       * @param {String} key optional schema key\n       * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n       * @return {Ajv} this for method chaining\n       */\n\n\n      function addMetaSchema(schema, key, skipValidation) {\n        this.addSchema(schema, key, skipValidation, true);\n        return this;\n      }\n      /**\n       * Validate schema\n       * @this   Ajv\n       * @param {Object} schema schema to validate\n       * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n       * @return {Boolean} true if schema is valid\n       */\n\n\n      function validateSchema(schema, throwOrLogError) {\n        var $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != 'string') throw new Error('$schema must be a string');\n        $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n\n        if (!$schema) {\n          this.logger.warn('meta-schema not available');\n          this.errors = null;\n          return true;\n        }\n\n        var valid = this.validate($schema, schema);\n\n        if (!valid && throwOrLogError) {\n          var message = 'schema is invalid: ' + this.errorsText();\n          if (this._opts.validateSchema == 'log') this.logger.error(message);else throw new Error(message);\n        }\n\n        return valid;\n      }\n\n      function defaultMeta(self) {\n        var meta = self._opts.meta;\n        self._opts.defaultMeta = typeof meta == 'object' ? self._getId(meta) || meta : self.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined;\n        return self._opts.defaultMeta;\n      }\n      /**\n       * Get compiled schema from the instance by `key` or `ref`.\n       * @this   Ajv\n       * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n       * @return {Function} schema validating function (with property `schema`).\n       */\n\n\n      function getSchema(keyRef) {\n        var schemaObj = _getSchemaObj(this, keyRef);\n\n        switch (typeof schemaObj) {\n          case 'object':\n            return schemaObj.validate || this._compile(schemaObj);\n\n          case 'string':\n            return this.getSchema(schemaObj);\n\n          case 'undefined':\n            return _getSchemaFragment(this, keyRef);\n        }\n      }\n\n      function _getSchemaFragment(self, ref) {\n        var res = resolve.schema.call(self, {\n          schema: {}\n        }, ref);\n\n        if (res) {\n          var schema = res.schema,\n              root = res.root,\n              baseId = res.baseId;\n          var v = compileSchema.call(self, schema, root, undefined, baseId);\n          self._fragments[ref] = new SchemaObject({\n            ref: ref,\n            fragment: true,\n            schema: schema,\n            root: root,\n            baseId: baseId,\n            validate: v\n          });\n          return v;\n        }\n      }\n\n      function _getSchemaObj(self, keyRef) {\n        keyRef = resolve.normalizeId(keyRef);\n        return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n      }\n      /**\n       * Remove cached schema(s).\n       * If no parameter is passed all schemas but meta-schemas are removed.\n       * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n       * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n       * @this   Ajv\n       * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n       * @return {Ajv} this for method chaining\n       */\n\n\n      function removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n          _removeAllSchemas(this, this._schemas, schemaKeyRef);\n\n          _removeAllSchemas(this, this._refs, schemaKeyRef);\n\n          return this;\n        }\n\n        switch (typeof schemaKeyRef) {\n          case 'undefined':\n            _removeAllSchemas(this, this._schemas);\n\n            _removeAllSchemas(this, this._refs);\n\n            this._cache.clear();\n\n            return this;\n\n          case 'string':\n            var schemaObj = _getSchemaObj(this, schemaKeyRef);\n\n            if (schemaObj) this._cache.del(schemaObj.cacheKey);\n            delete this._schemas[schemaKeyRef];\n            delete this._refs[schemaKeyRef];\n            return this;\n\n          case 'object':\n            var serialize = this._opts.serialize;\n            var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n\n            this._cache.del(cacheKey);\n\n            var id = this._getId(schemaKeyRef);\n\n            if (id) {\n              id = resolve.normalizeId(id);\n              delete this._schemas[id];\n              delete this._refs[id];\n            }\n\n        }\n\n        return this;\n      }\n\n      function _removeAllSchemas(self, schemas, regex) {\n        for (var keyRef in schemas) {\n          var schemaObj = schemas[keyRef];\n\n          if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n            self._cache.del(schemaObj.cacheKey);\n\n            delete schemas[keyRef];\n          }\n        }\n      }\n      /* @this   Ajv */\n\n\n      function _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n        if (typeof schema != 'object' && typeof schema != 'boolean') throw new Error('schema should be object or boolean');\n        var serialize = this._opts.serialize;\n        var cacheKey = serialize ? serialize(schema) : schema;\n\n        var cached = this._cache.get(cacheKey);\n\n        if (cached) return cached;\n        shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n        var id = resolve.normalizeId(this._getId(schema));\n        if (id && shouldAddSchema) checkUnique(this, id);\n        var willValidate = this._opts.validateSchema !== false && !skipValidation;\n        var recursiveMeta;\n        if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema))) this.validateSchema(schema, true);\n        var localRefs = resolve.ids.call(this, schema);\n        var schemaObj = new SchemaObject({\n          id: id,\n          schema: schema,\n          localRefs: localRefs,\n          cacheKey: cacheKey,\n          meta: meta\n        });\n        if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n\n        this._cache.put(cacheKey, schemaObj);\n\n        if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n        return schemaObj;\n      }\n      /* @this   Ajv */\n\n\n      function _compile(schemaObj, root) {\n        if (schemaObj.compiling) {\n          schemaObj.validate = callValidate;\n          callValidate.schema = schemaObj.schema;\n          callValidate.errors = null;\n          callValidate.root = root ? root : callValidate;\n          if (schemaObj.schema.$async === true) callValidate.$async = true;\n          return callValidate;\n        }\n\n        schemaObj.compiling = true;\n        var currentOpts;\n\n        if (schemaObj.meta) {\n          currentOpts = this._opts;\n          this._opts = this._metaOpts;\n        }\n\n        var v;\n\n        try {\n          v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs);\n        } catch (e) {\n          delete schemaObj.validate;\n          throw e;\n        } finally {\n          schemaObj.compiling = false;\n          if (schemaObj.meta) this._opts = currentOpts;\n        }\n\n        schemaObj.validate = v;\n        schemaObj.refs = v.refs;\n        schemaObj.refVal = v.refVal;\n        schemaObj.root = v.root;\n        return v;\n        /* @this   {*} - custom context, see passContext option */\n\n        function callValidate() {\n          /* jshint validthis: true */\n          var _validate = schemaObj.validate;\n\n          var result = _validate.apply(this, arguments);\n\n          callValidate.errors = _validate.errors;\n          return result;\n        }\n      }\n\n      function chooseGetId(opts) {\n        switch (opts.schemaId) {\n          case 'auto':\n            return _get$IdOrId;\n\n          case 'id':\n            return _getId;\n\n          default:\n            return _get$Id;\n        }\n      }\n      /* @this   Ajv */\n\n\n      function _getId(schema) {\n        if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n        return schema.id;\n      }\n      /* @this   Ajv */\n\n\n      function _get$Id(schema) {\n        if (schema.id) this.logger.warn('schema id ignored', schema.id);\n        return schema.$id;\n      }\n\n      function _get$IdOrId(schema) {\n        if (schema.$id && schema.id && schema.$id != schema.id) throw new Error('schema $id is different from id');\n        return schema.$id || schema.id;\n      }\n      /**\n       * Convert array of error message objects to string\n       * @this   Ajv\n       * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n       * @param  {Object} options optional options with properties `separator` and `dataVar`.\n       * @return {String} human readable string with all errors descriptions\n       */\n\n\n      function errorsText(errors, options) {\n        errors = errors || this.errors;\n        if (!errors) return 'No errors';\n        options = options || {};\n        var separator = options.separator === undefined ? ', ' : options.separator;\n        var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n        var text = '';\n\n        for (var i = 0; i < errors.length; i++) {\n          var e = errors[i];\n          if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n        }\n\n        return text.slice(0, -separator.length);\n      }\n      /**\n       * Add custom format\n       * @this   Ajv\n       * @param {String} name format name\n       * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n       * @return {Ajv} this for method chaining\n       */\n\n\n      function addFormat(name, format) {\n        if (typeof format == 'string') format = new RegExp(format);\n        this._formats[name] = format;\n        return this;\n      }\n\n      function addDefaultMetaSchema(self) {\n        var $dataSchema;\n\n        if (self._opts.$data) {\n          $dataSchema = __webpack_require__(76);\n          self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n        }\n\n        if (self._opts.meta === false) return;\n\n        var metaSchema = __webpack_require__(32);\n\n        if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n        self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n        self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n      }\n\n      function addInitialSchemas(self) {\n        var optsSchemas = self._opts.schemas;\n        if (!optsSchemas) return;\n        if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);else for (var key in optsSchemas) {\n          self.addSchema(optsSchemas[key], key);\n        }\n      }\n\n      function addInitialFormats(self) {\n        for (var name in self._opts.formats) {\n          var format = self._opts.formats[name];\n          self.addFormat(name, format);\n        }\n      }\n\n      function checkUnique(self, id) {\n        if (self._schemas[id] || self._refs[id]) throw new Error('schema with key or id \"' + id + '\" already exists');\n      }\n\n      function getMetaSchemaOptions(self) {\n        var metaOpts = util.copy(self._opts);\n\n        for (var i = 0; i < META_IGNORE_OPTIONS.length; i++) {\n          delete metaOpts[META_IGNORE_OPTIONS[i]];\n        }\n\n        return metaOpts;\n      }\n\n      function setLogger(self) {\n        var logger = self._opts.logger;\n\n        if (logger === false) {\n          self.logger = {\n            log: noop,\n            warn: noop,\n            error: noop\n          };\n        } else {\n          if (logger === undefined) logger = console;\n          if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error)) throw new Error('logger must implement log, warn and error methods');\n          self.logger = logger;\n        }\n      }\n\n      function noop() {}\n      /***/\n\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var resolve = __webpack_require__(17),\n          util = __webpack_require__(5),\n          errorClasses = __webpack_require__(19),\n          stableStringify = __webpack_require__(26);\n\n      var validateGenerator = __webpack_require__(27);\n      /**\n       * Functions below are used inside compiled validations function\n       */\n\n\n      var ucs2length = util.ucs2length;\n\n      var equal = __webpack_require__(18); // this error is thrown by async schemas to return validation errors via exception\n\n\n      var ValidationError = errorClasses.Validation;\n      module.exports = compile;\n      /**\n       * Compiles schema to validation function\n       * @this   Ajv\n       * @param  {Object} schema schema object\n       * @param  {Object} root object with information about the root schema for this schema\n       * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n       * @param  {String} baseId base ID for IDs in the schema\n       * @return {Function} validation function\n       */\n\n      function compile(schema, root, localRefs, baseId) {\n        /* jshint validthis: true, evil: true */\n\n        /* eslint no-shadow: 0 */\n        var self = this,\n            opts = this._opts,\n            refVal = [undefined],\n            refs = {},\n            patterns = [],\n            patternsHash = {},\n            defaults = [],\n            defaultsHash = {},\n            customRules = [];\n        root = root || {\n          schema: schema,\n          refVal: refVal,\n          refs: refs\n        };\n        var c = checkCompiling.call(this, schema, root, baseId);\n        var compilation = this._compilations[c.index];\n        if (c.compiling) return compilation.callValidate = callValidate;\n        var formats = this._formats;\n        var RULES = this.RULES;\n\n        try {\n          var v = localCompile(schema, root, localRefs, baseId);\n          compilation.validate = v;\n          var cv = compilation.callValidate;\n\n          if (cv) {\n            cv.schema = v.schema;\n            cv.errors = null;\n            cv.refs = v.refs;\n            cv.refVal = v.refVal;\n            cv.root = v.root;\n            cv.$async = v.$async;\n            if (opts.sourceCode) cv.source = v.source;\n          }\n\n          return v;\n        } finally {\n          endCompiling.call(this, schema, root, baseId);\n        }\n        /* @this   {*} - custom context, see passContext option */\n\n\n        function callValidate() {\n          /* jshint validthis: true */\n          var validate = compilation.validate;\n          var result = validate.apply(this, arguments);\n          callValidate.errors = validate.errors;\n          return result;\n        }\n\n        function localCompile(_schema, _root, localRefs, baseId) {\n          var isRoot = !_root || _root && _root.schema == _schema;\n          if (_root.schema != root.schema) return compile.call(self, _schema, _root, localRefs, baseId);\n          var $async = _schema.$async === true;\n          var sourceCode = validateGenerator({\n            isTop: true,\n            schema: _schema,\n            isRoot: isRoot,\n            baseId: baseId,\n            root: _root,\n            schemaPath: '',\n            errSchemaPath: '#',\n            errorPath: '\"\"',\n            MissingRefError: errorClasses.MissingRef,\n            RULES: RULES,\n            validate: validateGenerator,\n            util: util,\n            resolve: resolve,\n            resolveRef: resolveRef,\n            usePattern: usePattern,\n            useDefault: useDefault,\n            useCustomRule: useCustomRule,\n            opts: opts,\n            formats: formats,\n            logger: self.logger,\n            self: self\n          });\n          sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode) + vars(defaults, defaultCode) + vars(customRules, customRuleCode) + sourceCode;\n          if (opts.processCode) sourceCode = opts.processCode(sourceCode); // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n\n          var validate;\n\n          try {\n            var makeValidate = new Function('self', 'RULES', 'formats', 'root', 'refVal', 'defaults', 'customRules', 'equal', 'ucs2length', 'ValidationError', sourceCode);\n            validate = makeValidate(self, RULES, formats, root, refVal, defaults, customRules, equal, ucs2length, ValidationError);\n            refVal[0] = validate;\n          } catch (e) {\n            self.logger.error('Error compiling schema, function code:', sourceCode);\n            throw e;\n          }\n\n          validate.schema = _schema;\n          validate.errors = null;\n          validate.refs = refs;\n          validate.refVal = refVal;\n          validate.root = isRoot ? validate : _root;\n          if ($async) validate.$async = true;\n\n          if (opts.sourceCode === true) {\n            validate.source = {\n              code: sourceCode,\n              patterns: patterns,\n              defaults: defaults\n            };\n          }\n\n          return validate;\n        }\n\n        function resolveRef(baseId, ref, isRoot) {\n          ref = resolve.url(baseId, ref);\n          var refIndex = refs[ref];\n\n          var _refVal, refCode;\n\n          if (refIndex !== undefined) {\n            _refVal = refVal[refIndex];\n            refCode = 'refVal[' + refIndex + ']';\n            return resolvedRef(_refVal, refCode);\n          }\n\n          if (!isRoot && root.refs) {\n            var rootRefId = root.refs[ref];\n\n            if (rootRefId !== undefined) {\n              _refVal = root.refVal[rootRefId];\n              refCode = addLocalRef(ref, _refVal);\n              return resolvedRef(_refVal, refCode);\n            }\n          }\n\n          refCode = addLocalRef(ref);\n          var v = resolve.call(self, localCompile, root, ref);\n\n          if (v === undefined) {\n            var localSchema = localRefs && localRefs[ref];\n\n            if (localSchema) {\n              v = resolve.inlineRef(localSchema, opts.inlineRefs) ? localSchema : compile.call(self, localSchema, root, localRefs, baseId);\n            }\n          }\n\n          if (v === undefined) {\n            removeLocalRef(ref);\n          } else {\n            replaceLocalRef(ref, v);\n            return resolvedRef(v, refCode);\n          }\n        }\n\n        function addLocalRef(ref, v) {\n          var refId = refVal.length;\n          refVal[refId] = v;\n          refs[ref] = refId;\n          return 'refVal' + refId;\n        }\n\n        function removeLocalRef(ref) {\n          delete refs[ref];\n        }\n\n        function replaceLocalRef(ref, v) {\n          var refId = refs[ref];\n          refVal[refId] = v;\n        }\n\n        function resolvedRef(refVal, code) {\n          return typeof refVal == 'object' || typeof refVal == 'boolean' ? {\n            code: code,\n            schema: refVal,\n            inline: true\n          } : {\n            code: code,\n            $async: refVal && !!refVal.$async\n          };\n        }\n\n        function usePattern(regexStr) {\n          var index = patternsHash[regexStr];\n\n          if (index === undefined) {\n            index = patternsHash[regexStr] = patterns.length;\n            patterns[index] = regexStr;\n          }\n\n          return 'pattern' + index;\n        }\n\n        function useDefault(value) {\n          switch (typeof value) {\n            case 'boolean':\n            case 'number':\n              return '' + value;\n\n            case 'string':\n              return util.toQuotedString(value);\n\n            case 'object':\n              if (value === null) return 'null';\n              var valueStr = stableStringify(value);\n              var index = defaultsHash[valueStr];\n\n              if (index === undefined) {\n                index = defaultsHash[valueStr] = defaults.length;\n                defaults[index] = value;\n              }\n\n              return 'default' + index;\n          }\n        }\n\n        function useCustomRule(rule, schema, parentSchema, it) {\n          if (self._opts.validateSchema !== false) {\n            var deps = rule.definition.dependencies;\n            if (deps && !deps.every(function (keyword) {\n              return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n            })) throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n            var validateSchema = rule.definition.validateSchema;\n\n            if (validateSchema) {\n              var valid = validateSchema(schema);\n\n              if (!valid) {\n                var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n                if (self._opts.validateSchema == 'log') self.logger.error(message);else throw new Error(message);\n              }\n            }\n          }\n\n          var compile = rule.definition.compile,\n              inline = rule.definition.inline,\n              macro = rule.definition.macro;\n          var validate;\n\n          if (compile) {\n            validate = compile.call(self, schema, parentSchema, it);\n          } else if (macro) {\n            validate = macro.call(self, schema, parentSchema, it);\n            if (opts.validateSchema !== false) self.validateSchema(validate, true);\n          } else if (inline) {\n            validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n          } else {\n            validate = rule.definition.validate;\n            if (!validate) return;\n          }\n\n          if (validate === undefined) throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n          var index = customRules.length;\n          customRules[index] = validate;\n          return {\n            code: 'customRule' + index,\n            validate: validate\n          };\n        }\n      }\n      /**\n       * Checks if the schema is currently compiled\n       * @this   Ajv\n       * @param  {Object} schema schema to compile\n       * @param  {Object} root root object\n       * @param  {String} baseId base schema ID\n       * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n       */\n\n\n      function checkCompiling(schema, root, baseId) {\n        /* jshint validthis: true */\n        var index = compIndex.call(this, schema, root, baseId);\n        if (index >= 0) return {\n          index: index,\n          compiling: true\n        };\n        index = this._compilations.length;\n        this._compilations[index] = {\n          schema: schema,\n          root: root,\n          baseId: baseId\n        };\n        return {\n          index: index,\n          compiling: false\n        };\n      }\n      /**\n       * Removes the schema from the currently compiled list\n       * @this   Ajv\n       * @param  {Object} schema schema to compile\n       * @param  {Object} root root object\n       * @param  {String} baseId base schema ID\n       */\n\n\n      function endCompiling(schema, root, baseId) {\n        /* jshint validthis: true */\n        var i = compIndex.call(this, schema, root, baseId);\n        if (i >= 0) this._compilations.splice(i, 1);\n      }\n      /**\n       * Index of schema compilation in the currently compiled list\n       * @this   Ajv\n       * @param  {Object} schema schema to compile\n       * @param  {Object} root root object\n       * @param  {String} baseId base schema ID\n       * @return {Integer} compilation index\n       */\n\n\n      function compIndex(schema, root, baseId) {\n        /* jshint validthis: true */\n        for (var i = 0; i < this._compilations.length; i++) {\n          var c = this._compilations[i];\n          if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n        }\n\n        return -1;\n      }\n\n      function patternCode(i, patterns) {\n        return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n      }\n\n      function defaultCode(i) {\n        return 'var default' + i + ' = defaults[' + i + '];';\n      }\n\n      function refValCode(i, refVal) {\n        return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n      }\n\n      function customRuleCode(i) {\n        return 'var customRule' + i + ' = customRules[' + i + '];';\n      }\n\n      function vars(arr, statement) {\n        if (!arr.length) return '';\n        var code = '';\n\n        for (var i = 0; i < arr.length; i++) {\n          code += statement(i, arr);\n        }\n\n        return code;\n      }\n      /***/\n\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n      (function (global, factory) {\n        true ? factory(exports) : undefined;\n      })(this, function (exports) {\n        'use strict';\n\n        function merge() {\n          for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n            sets[_key] = arguments[_key];\n          }\n\n          if (sets.length > 1) {\n            sets[0] = sets[0].slice(0, -1);\n            var xl = sets.length - 1;\n\n            for (var x = 1; x < xl; ++x) {\n              sets[x] = sets[x].slice(1, -1);\n            }\n\n            sets[xl] = sets[xl].slice(1);\n            return sets.join('');\n          } else {\n            return sets[0];\n          }\n        }\n\n        function subexp(str) {\n          return \"(?:\" + str + \")\";\n        }\n\n        function typeOf(o) {\n          return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n        }\n\n        function toUpperCase(str) {\n          return str.toUpperCase();\n        }\n\n        function toArray(obj) {\n          return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n        }\n\n        function assign(target, source) {\n          var obj = target;\n\n          if (source) {\n            for (var key in source) {\n              obj[key] = source[key];\n            }\n          }\n\n          return obj;\n        }\n\n        function buildExps(isIRI) {\n          var ALPHA$$ = \"[A-Za-z]\",\n              CR$ = \"[\\\\x0D]\",\n              DIGIT$$ = \"[0-9]\",\n              DQUOTE$$ = \"[\\\\x22]\",\n              HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n              //case-insensitive\n          LF$$ = \"[\\\\x0A]\",\n              SP$$ = \"[\\\\x20]\",\n              PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n              //expanded\n          GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n              SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n              RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n              UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n              //subset, excludes bidi control characters\n          IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n              //subset\n          UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n              SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n              USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n              DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n              DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n              //relaxed parsing rules\n          IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n              H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n              LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n              IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n              //                           6( h16 \":\" ) ls32\n          IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n              //                      \"::\" 5( h16 \":\" ) ls32\n          IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n              //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n          IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n              //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n          IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n              //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n          IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n              //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n          IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n              //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n          IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n              //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n          IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n              //[ *6( h16 \":\" ) h16 ] \"::\"\n          IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n              ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n              //RFC 6874\n          IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n              //RFC 6874\n          IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n              //RFC 6874, with relaxed parsing rules\n          IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n              IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n              //RFC 6874\n          REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n              HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n              PORT$ = subexp(DIGIT$$ + \"*\"),\n              AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n              PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n              SEGMENT$ = subexp(PCHAR$ + \"*\"),\n              SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n              SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n              PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n              PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n              //simplified\n          PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n              //simplified\n          PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n              //simplified\n          PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n              PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n              QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n              FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n              HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n              URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n              RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n              RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n              URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n              ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n              GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n              RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n              ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n              SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n              AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n          return {\n            NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n            NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n            NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n            NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n            NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n            NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n            NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n            ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n            UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n            OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n            PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n            IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n            IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n\n          };\n        }\n\n        var URI_PROTOCOL = buildExps(false);\n        var IRI_PROTOCOL = buildExps(true);\n\n        var slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var toConsumableArray = function toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        };\n        /** Highest positive signed 32-bit float value */\n\n\n        var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n        /** Bootstring parameters */\n\n        var base = 36;\n        var tMin = 1;\n        var tMax = 26;\n        var skew = 38;\n        var damp = 700;\n        var initialBias = 72;\n        var initialN = 128; // 0x80\n\n        var delimiter = '-'; // '\\x2D'\n\n        /** Regular expressions */\n\n        var regexPunycode = /^xn--/;\n        var regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\n\n        var regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n        /** Error messages */\n\n        var errors = {\n          'overflow': 'Overflow: input needs wider integers to process',\n          'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n          'invalid-input': 'Invalid input'\n        };\n        /** Convenience shortcuts */\n\n        var baseMinusTMin = base - tMin;\n        var floor = Math.floor;\n        var stringFromCharCode = String.fromCharCode;\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * A generic error utility function.\n         * @private\n         * @param {String} type The error type.\n         * @returns {Error} Throws a `RangeError` with the applicable error message.\n         */\n\n        function error$1(type) {\n          throw new RangeError(errors[type]);\n        }\n        /**\n         * A generic `Array#map` utility function.\n         * @private\n         * @param {Array} array The array to iterate over.\n         * @param {Function} callback The function that gets called for every array\n         * item.\n         * @returns {Array} A new array of values returned by the callback function.\n         */\n\n\n        function map(array, fn) {\n          var result = [];\n          var length = array.length;\n\n          while (length--) {\n            result[length] = fn(array[length]);\n          }\n\n          return result;\n        }\n        /**\n         * A simple `Array#map`-like wrapper to work with domain name strings or email\n         * addresses.\n         * @private\n         * @param {String} domain The domain name or email address.\n         * @param {Function} callback The function that gets called for every\n         * character.\n         * @returns {Array} A new string of characters returned by the callback\n         * function.\n         */\n\n\n        function mapDomain(string, fn) {\n          var parts = string.split('@');\n          var result = '';\n\n          if (parts.length > 1) {\n            // In email addresses, only the domain name should be punycoded. Leave\n            // the local part (i.e. everything up to `@`) intact.\n            result = parts[0] + '@';\n            string = parts[1];\n          } // Avoid `split(regex)` for IE8 compatibility. See #17.\n\n\n          string = string.replace(regexSeparators, '\\x2E');\n          var labels = string.split('.');\n          var encoded = map(labels, fn).join('.');\n          return result + encoded;\n        }\n        /**\n         * Creates an array containing the numeric code points of each Unicode\n         * character in the string. While JavaScript uses UCS-2 internally,\n         * this function will convert a pair of surrogate halves (each of which\n         * UCS-2 exposes as separate characters) into a single code point,\n         * matching UTF-16.\n         * @see `punycode.ucs2.encode`\n         * @see <https://mathiasbynens.be/notes/javascript-encoding>\n         * @memberOf punycode.ucs2\n         * @name decode\n         * @param {String} string The Unicode input string (UCS-2).\n         * @returns {Array} The new array of code points.\n         */\n\n\n        function ucs2decode(string) {\n          var output = [];\n          var counter = 0;\n          var length = string.length;\n\n          while (counter < length) {\n            var value = string.charCodeAt(counter++);\n\n            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n              // It's a high surrogate, and there is a next character.\n              var extra = string.charCodeAt(counter++);\n\n              if ((extra & 0xFC00) == 0xDC00) {\n                // Low surrogate.\n                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n              } else {\n                // It's an unmatched surrogate; only append this code unit, in case the\n                // next code unit is the high surrogate of a surrogate pair.\n                output.push(value);\n                counter--;\n              }\n            } else {\n              output.push(value);\n            }\n          }\n\n          return output;\n        }\n        /**\n         * Creates a string based on an array of numeric code points.\n         * @see `punycode.ucs2.decode`\n         * @memberOf punycode.ucs2\n         * @name encode\n         * @param {Array} codePoints The array of numeric code points.\n         * @returns {String} The new Unicode string (UCS-2).\n         */\n\n\n        var ucs2encode = function ucs2encode(array) {\n          return String.fromCodePoint.apply(String, toConsumableArray(array));\n        };\n        /**\n         * Converts a basic code point into a digit/integer.\n         * @see `digitToBasic()`\n         * @private\n         * @param {Number} codePoint The basic numeric code point value.\n         * @returns {Number} The numeric value of a basic code point (for use in\n         * representing integers) in the range `0` to `base - 1`, or `base` if\n         * the code point does not represent a value.\n         */\n\n\n        var basicToDigit = function basicToDigit(codePoint) {\n          if (codePoint - 0x30 < 0x0A) {\n            return codePoint - 0x16;\n          }\n\n          if (codePoint - 0x41 < 0x1A) {\n            return codePoint - 0x41;\n          }\n\n          if (codePoint - 0x61 < 0x1A) {\n            return codePoint - 0x61;\n          }\n\n          return base;\n        };\n        /**\n         * Converts a digit/integer into a basic code point.\n         * @see `basicToDigit()`\n         * @private\n         * @param {Number} digit The numeric value of a basic code point.\n         * @returns {Number} The basic code point whose value (when used for\n         * representing integers) is `digit`, which needs to be in the range\n         * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n         * used; else, the lowercase form is used. The behavior is undefined\n         * if `flag` is non-zero and `digit` has no uppercase form.\n         */\n\n\n        var digitToBasic = function digitToBasic(digit, flag) {\n          //  0..25 map to ASCII a..z or A..Z\n          // 26..35 map to ASCII 0..9\n          return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n        };\n        /**\n         * Bias adaptation function as per section 3.4 of RFC 3492.\n         * https://tools.ietf.org/html/rfc3492#section-3.4\n         * @private\n         */\n\n\n        var adapt = function adapt(delta, numPoints, firstTime) {\n          var k = 0;\n          delta = firstTime ? floor(delta / damp) : delta >> 1;\n          delta += floor(delta / numPoints);\n\n          for (;\n          /* no initialization */\n          delta > baseMinusTMin * tMax >> 1; k += base) {\n            delta = floor(delta / baseMinusTMin);\n          }\n\n          return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n        };\n        /**\n         * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n         * symbols.\n         * @memberOf punycode\n         * @param {String} input The Punycode string of ASCII-only symbols.\n         * @returns {String} The resulting string of Unicode symbols.\n         */\n\n\n        var decode = function decode(input) {\n          // Don't use UCS-2.\n          var output = [];\n          var inputLength = input.length;\n          var i = 0;\n          var n = initialN;\n          var bias = initialBias; // Handle the basic code points: let `basic` be the number of input code\n          // points before the last delimiter, or `0` if there is none, then copy\n          // the first basic code points to the output.\n\n          var basic = input.lastIndexOf(delimiter);\n\n          if (basic < 0) {\n            basic = 0;\n          }\n\n          for (var j = 0; j < basic; ++j) {\n            // if it's not a basic code point\n            if (input.charCodeAt(j) >= 0x80) {\n              error$1('not-basic');\n            }\n\n            output.push(input.charCodeAt(j));\n          } // Main decoding loop: start just after the last delimiter if any basic code\n          // points were copied; start at the beginning otherwise.\n\n\n          for (var index = basic > 0 ? basic + 1 : 0; index < inputLength;)\n          /* no final expression */\n          {\n            // `index` is the index of the next character to be consumed.\n            // Decode a generalized variable-length integer into `delta`,\n            // which gets added to `i`. The overflow checking is easier\n            // if we increase `i` as we go, then subtract off its starting\n            // value at the end to obtain `delta`.\n            var oldi = i;\n\n            for (var w = 1, k = base;;\n            /* no condition */\n            k += base) {\n              if (index >= inputLength) {\n                error$1('invalid-input');\n              }\n\n              var digit = basicToDigit(input.charCodeAt(index++));\n\n              if (digit >= base || digit > floor((maxInt - i) / w)) {\n                error$1('overflow');\n              }\n\n              i += digit * w;\n              var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n              if (digit < t) {\n                break;\n              }\n\n              var baseMinusT = base - t;\n\n              if (w > floor(maxInt / baseMinusT)) {\n                error$1('overflow');\n              }\n\n              w *= baseMinusT;\n            }\n\n            var out = output.length + 1;\n            bias = adapt(i - oldi, out, oldi == 0); // `i` was supposed to wrap around from `out` to `0`,\n            // incrementing `n` each time, so we'll fix that now:\n\n            if (floor(i / out) > maxInt - n) {\n              error$1('overflow');\n            }\n\n            n += floor(i / out);\n            i %= out; // Insert `n` at position `i` of the output.\n\n            output.splice(i++, 0, n);\n          }\n\n          return String.fromCodePoint.apply(String, output);\n        };\n        /**\n         * Converts a string of Unicode symbols (e.g. a domain name label) to a\n         * Punycode string of ASCII-only symbols.\n         * @memberOf punycode\n         * @param {String} input The string of Unicode symbols.\n         * @returns {String} The resulting Punycode string of ASCII-only symbols.\n         */\n\n\n        var encode = function encode(input) {\n          var output = []; // Convert the input in UCS-2 to an array of Unicode code points.\n\n          input = ucs2decode(input); // Cache the length.\n\n          var inputLength = input.length; // Initialize the state.\n\n          var n = initialN;\n          var delta = 0;\n          var bias = initialBias; // Handle the basic code points.\n\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var _currentValue2 = _step.value;\n\n              if (_currentValue2 < 0x80) {\n                output.push(stringFromCharCode(_currentValue2));\n              }\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          var basicLength = output.length;\n          var handledCPCount = basicLength; // `handledCPCount` is the number of code points that have been handled;\n          // `basicLength` is the number of basic code points.\n          // Finish the basic string with a delimiter unless it's empty.\n\n          if (basicLength) {\n            output.push(delimiter);\n          } // Main encoding loop:\n\n\n          while (handledCPCount < inputLength) {\n            // All non-basic code points < n have been handled already. Find the next\n            // larger one:\n            var m = maxInt;\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n              for (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var currentValue = _step2.value;\n\n                if (currentValue >= n && currentValue < m) {\n                  m = currentValue;\n                }\n              } // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n              // but guard against overflow.\n\n            } catch (err) {\n              _didIteratorError2 = true;\n              _iteratorError2 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                  _iterator2.return();\n                }\n              } finally {\n                if (_didIteratorError2) {\n                  throw _iteratorError2;\n                }\n              }\n            }\n\n            var handledCPCountPlusOne = handledCPCount + 1;\n\n            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n              error$1('overflow');\n            }\n\n            delta += (m - n) * handledCPCountPlusOne;\n            n = m;\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n              for (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var _currentValue = _step3.value;\n\n                if (_currentValue < n && ++delta > maxInt) {\n                  error$1('overflow');\n                }\n\n                if (_currentValue == n) {\n                  // Represent delta as a generalized variable-length integer.\n                  var q = delta;\n\n                  for (var k = base;;\n                  /* no condition */\n                  k += base) {\n                    var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n                    if (q < t) {\n                      break;\n                    }\n\n                    var qMinusT = q - t;\n                    var baseMinusT = base - t;\n                    output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n                    q = floor(qMinusT / baseMinusT);\n                  }\n\n                  output.push(stringFromCharCode(digitToBasic(q, 0)));\n                  bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n                  delta = 0;\n                  ++handledCPCount;\n                }\n              }\n            } catch (err) {\n              _didIteratorError3 = true;\n              _iteratorError3 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                  _iterator3.return();\n                }\n              } finally {\n                if (_didIteratorError3) {\n                  throw _iteratorError3;\n                }\n              }\n            }\n\n            ++delta;\n            ++n;\n          }\n\n          return output.join('');\n        };\n        /**\n         * Converts a Punycode string representing a domain name or an email address\n         * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n         * it doesn't matter if you call it on a string that has already been\n         * converted to Unicode.\n         * @memberOf punycode\n         * @param {String} input The Punycoded domain name or email address to\n         * convert to Unicode.\n         * @returns {String} The Unicode representation of the given Punycode\n         * string.\n         */\n\n\n        var toUnicode = function toUnicode(input) {\n          return mapDomain(input, function (string) {\n            return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n          });\n        };\n        /**\n         * Converts a Unicode string representing a domain name or an email address to\n         * Punycode. Only the non-ASCII parts of the domain name will be converted,\n         * i.e. it doesn't matter if you call it with a domain that's already in\n         * ASCII.\n         * @memberOf punycode\n         * @param {String} input The domain name or email address to convert, as a\n         * Unicode string.\n         * @returns {String} The Punycode representation of the given domain name or\n         * email address.\n         */\n\n\n        var toASCII = function toASCII(input) {\n          return mapDomain(input, function (string) {\n            return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n          });\n        };\n        /*--------------------------------------------------------------------------*/\n\n        /** Define the public API */\n\n\n        var punycode = {\n          /**\n           * A string representing the current Punycode.js version number.\n           * @memberOf punycode\n           * @type String\n           */\n          'version': '2.1.0',\n\n          /**\n           * An object of methods to convert from JavaScript's internal character\n           * representation (UCS-2) to Unicode code points, and back.\n           * @see <https://mathiasbynens.be/notes/javascript-encoding>\n           * @memberOf punycode\n           * @type Object\n           */\n          'ucs2': {\n            'decode': ucs2decode,\n            'encode': ucs2encode\n          },\n          'decode': decode,\n          'encode': encode,\n          'toASCII': toASCII,\n          'toUnicode': toUnicode\n        };\n        /**\n         * URI.js\n         *\n         * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n         * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n         * @see http://github.com/garycourt/uri-js\n         */\n\n        /**\n         * Copyright 2011 Gary Court. All rights reserved.\n         *\n         * Redistribution and use in source and binary forms, with or without modification, are\n         * permitted provided that the following conditions are met:\n         *\n         *    1. Redistributions of source code must retain the above copyright notice, this list of\n         *       conditions and the following disclaimer.\n         *\n         *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n         *       of conditions and the following disclaimer in the documentation and/or other materials\n         *       provided with the distribution.\n         *\n         * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n         * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n         * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n         * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n         * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n         * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n         * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n         * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n         * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n         *\n         * The views and conclusions contained in the software and documentation are those of the\n         * authors and should not be interpreted as representing official policies, either expressed\n         * or implied, of Gary Court.\n         */\n\n        var SCHEMES = {};\n\n        function pctEncChar(chr) {\n          var c = chr.charCodeAt(0);\n          var e = void 0;\n          if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n          return e;\n        }\n\n        function pctDecChars(str) {\n          var newStr = \"\";\n          var i = 0;\n          var il = str.length;\n\n          while (i < il) {\n            var c = parseInt(str.substr(i + 1, 2), 16);\n\n            if (c < 128) {\n              newStr += String.fromCharCode(c);\n              i += 3;\n            } else if (c >= 194 && c < 224) {\n              if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n              } else {\n                newStr += str.substr(i, 6);\n              }\n\n              i += 6;\n            } else if (c >= 224) {\n              if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n              } else {\n                newStr += str.substr(i, 9);\n              }\n\n              i += 9;\n            } else {\n              newStr += str.substr(i, 3);\n              i += 3;\n            }\n          }\n\n          return newStr;\n        }\n\n        function _normalizeComponentEncoding(components, protocol) {\n          function decodeUnreserved(str) {\n            var decStr = pctDecChars(str);\n            return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n          }\n\n          if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n          if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n          if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n          if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n          if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n          if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n          return components;\n        }\n\n        function _stripLeadingZeros(str) {\n          return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n        }\n\n        function _normalizeIPv4(host, protocol) {\n          var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n          var _matches = slicedToArray(matches, 2),\n              address = _matches[1];\n\n          if (address) {\n            return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n          } else {\n            return host;\n          }\n        }\n\n        function _normalizeIPv6(host, protocol) {\n          var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n          var _matches2 = slicedToArray(matches, 3),\n              address = _matches2[1],\n              zone = _matches2[2];\n\n          if (address) {\n            var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n                _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n                last = _address$toLowerCase$2[0],\n                first = _address$toLowerCase$2[1];\n\n            var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n            var lastFields = last.split(\":\").map(_stripLeadingZeros);\n            var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n            var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n            var lastFieldsStart = lastFields.length - fieldCount;\n            var fields = Array(fieldCount);\n\n            for (var x = 0; x < fieldCount; ++x) {\n              fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n            }\n\n            if (isLastFieldIPv4Address) {\n              fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n            }\n\n            var allZeroFields = fields.reduce(function (acc, field, index) {\n              if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                  lastLongest.length++;\n                } else {\n                  acc.push({\n                    index: index,\n                    length: 1\n                  });\n                }\n              }\n\n              return acc;\n            }, []);\n            var longestZeroFields = allZeroFields.sort(function (a, b) {\n              return b.length - a.length;\n            })[0];\n            var newHost = void 0;\n\n            if (longestZeroFields && longestZeroFields.length > 1) {\n              var newFirst = fields.slice(0, longestZeroFields.index);\n              var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n              newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n            } else {\n              newHost = fields.join(\":\");\n            }\n\n            if (zone) {\n              newHost += \"%\" + zone;\n            }\n\n            return newHost;\n          } else {\n            return host;\n          }\n        }\n\n        var URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\n        var NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\n\n        function parse(uriString) {\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var components = {};\n          var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n          if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n          var matches = uriString.match(URI_PARSE);\n\n          if (matches) {\n            if (NO_MATCH_IS_UNDEFINED) {\n              //store each component\n              components.scheme = matches[1];\n              components.userinfo = matches[3];\n              components.host = matches[4];\n              components.port = parseInt(matches[5], 10);\n              components.path = matches[6] || \"\";\n              components.query = matches[7];\n              components.fragment = matches[8]; //fix port number\n\n              if (isNaN(components.port)) {\n                components.port = matches[5];\n              }\n            } else {\n              //IE FIX for improper RegExp matching\n              //store each component\n              components.scheme = matches[1] || undefined;\n              components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n              components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n              components.port = parseInt(matches[5], 10);\n              components.path = matches[6] || \"\";\n              components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n              components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined; //fix port number\n\n              if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n              }\n            }\n\n            if (components.host) {\n              //normalize IP hosts\n              components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n            } //determine reference type\n\n\n            if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n              components.reference = \"same-document\";\n            } else if (components.scheme === undefined) {\n              components.reference = \"relative\";\n            } else if (components.fragment === undefined) {\n              components.reference = \"absolute\";\n            } else {\n              components.reference = \"uri\";\n            } //check for reference errors\n\n\n            if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n              components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n            } //find scheme handler\n\n\n            var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()]; //check if scheme can't handle IRIs\n\n            if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n              //if host component is a domain name\n              if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                  components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                  components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n              } //convert IRI -> URI\n\n\n              _normalizeComponentEncoding(components, URI_PROTOCOL);\n            } else {\n              //normalize encodings\n              _normalizeComponentEncoding(components, protocol);\n            } //perform scheme specific parsing\n\n\n            if (schemeHandler && schemeHandler.parse) {\n              schemeHandler.parse(components, options);\n            }\n          } else {\n            components.error = components.error || \"URI can not be parsed.\";\n          }\n\n          return components;\n        }\n\n        function _recomposeAuthority(components, options) {\n          var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n          var uriTokens = [];\n\n          if (components.userinfo !== undefined) {\n            uriTokens.push(components.userinfo);\n            uriTokens.push(\"@\");\n          }\n\n          if (components.host !== undefined) {\n            //normalize IP hosts, add brackets and escape zone separator for IPv6\n            uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n              return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n            }));\n          }\n\n          if (typeof components.port === \"number\") {\n            uriTokens.push(\":\");\n            uriTokens.push(components.port.toString(10));\n          }\n\n          return uriTokens.length ? uriTokens.join(\"\") : undefined;\n        }\n\n        var RDS1 = /^\\.\\.?\\//;\n        var RDS2 = /^\\/\\.(\\/|$)/;\n        var RDS3 = /^\\/\\.\\.(\\/|$)/;\n        var RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\n        function removeDotSegments(input) {\n          var output = [];\n\n          while (input.length) {\n            if (input.match(RDS1)) {\n              input = input.replace(RDS1, \"\");\n            } else if (input.match(RDS2)) {\n              input = input.replace(RDS2, \"/\");\n            } else if (input.match(RDS3)) {\n              input = input.replace(RDS3, \"/\");\n              output.pop();\n            } else if (input === \".\" || input === \"..\") {\n              input = \"\";\n            } else {\n              var im = input.match(RDS5);\n\n              if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n              } else {\n                throw new Error(\"Unexpected dot segment condition\");\n              }\n            }\n          }\n\n          return output.join(\"\");\n        }\n\n        function serialize(components) {\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n          var uriTokens = []; //find scheme handler\n\n          var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()]; //perform scheme specific serialization\n\n          if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n          if (components.host) {\n            //if host component is an IPv6 address\n            if (protocol.IPV6ADDRESS.test(components.host)) {} //TODO: normalize IPv6 address as per RFC 5952\n            //if host component is a domain name\n            else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                  components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                  components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n              }\n          } //normalize encoding\n\n\n          _normalizeComponentEncoding(components, protocol);\n\n          if (options.reference !== \"suffix\" && components.scheme) {\n            uriTokens.push(components.scheme);\n            uriTokens.push(\":\");\n          }\n\n          var authority = _recomposeAuthority(components, options);\n\n          if (authority !== undefined) {\n            if (options.reference !== \"suffix\") {\n              uriTokens.push(\"//\");\n            }\n\n            uriTokens.push(authority);\n\n            if (components.path && components.path.charAt(0) !== \"/\") {\n              uriTokens.push(\"/\");\n            }\n          }\n\n          if (components.path !== undefined) {\n            var s = components.path;\n\n            if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n              s = removeDotSegments(s);\n            }\n\n            if (authority === undefined) {\n              s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n            }\n\n            uriTokens.push(s);\n          }\n\n          if (components.query !== undefined) {\n            uriTokens.push(\"?\");\n            uriTokens.push(components.query);\n          }\n\n          if (components.fragment !== undefined) {\n            uriTokens.push(\"#\");\n            uriTokens.push(components.fragment);\n          }\n\n          return uriTokens.join(\"\"); //merge tokens into a string\n        }\n\n        function resolveComponents(base, relative) {\n          var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var skipNormalization = arguments[3];\n          var target = {};\n\n          if (!skipNormalization) {\n            base = parse(serialize(base, options), options); //normalize base components\n\n            relative = parse(serialize(relative, options), options); //normalize relative components\n          }\n\n          options = options || {};\n\n          if (!options.tolerant && relative.scheme) {\n            target.scheme = relative.scheme; //target.authority = relative.authority;\n\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n          } else {\n            if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n              //target.authority = relative.authority;\n              target.userinfo = relative.userinfo;\n              target.host = relative.host;\n              target.port = relative.port;\n              target.path = removeDotSegments(relative.path || \"\");\n              target.query = relative.query;\n            } else {\n              if (!relative.path) {\n                target.path = base.path;\n\n                if (relative.query !== undefined) {\n                  target.query = relative.query;\n                } else {\n                  target.query = base.query;\n                }\n              } else {\n                if (relative.path.charAt(0) === \"/\") {\n                  target.path = removeDotSegments(relative.path);\n                } else {\n                  if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                    target.path = \"/\" + relative.path;\n                  } else if (!base.path) {\n                    target.path = relative.path;\n                  } else {\n                    target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                  }\n\n                  target.path = removeDotSegments(target.path);\n                }\n\n                target.query = relative.query;\n              } //target.authority = base.authority;\n\n\n              target.userinfo = base.userinfo;\n              target.host = base.host;\n              target.port = base.port;\n            }\n\n            target.scheme = base.scheme;\n          }\n\n          target.fragment = relative.fragment;\n          return target;\n        }\n\n        function resolve(baseURI, relativeURI, options) {\n          var schemelessOptions = assign({\n            scheme: 'null'\n          }, options);\n          return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n        }\n\n        function normalize(uri, options) {\n          if (typeof uri === \"string\") {\n            uri = serialize(parse(uri, options), options);\n          } else if (typeOf(uri) === \"object\") {\n            uri = parse(serialize(uri, options), options);\n          }\n\n          return uri;\n        }\n\n        function equal(uriA, uriB, options) {\n          if (typeof uriA === \"string\") {\n            uriA = serialize(parse(uriA, options), options);\n          } else if (typeOf(uriA) === \"object\") {\n            uriA = serialize(uriA, options);\n          }\n\n          if (typeof uriB === \"string\") {\n            uriB = serialize(parse(uriB, options), options);\n          } else if (typeOf(uriB) === \"object\") {\n            uriB = serialize(uriB, options);\n          }\n\n          return uriA === uriB;\n        }\n\n        function escapeComponent(str, options) {\n          return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n        }\n\n        function unescapeComponent(str, options) {\n          return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n        }\n\n        var handler = {\n          scheme: \"http\",\n          domainHost: true,\n          parse: function parse(components, options) {\n            //report missing host\n            if (!components.host) {\n              components.error = components.error || \"HTTP URIs must have a host.\";\n            }\n\n            return components;\n          },\n          serialize: function serialize(components, options) {\n            //normalize the default port\n            if (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n              components.port = undefined;\n            } //normalize the empty path\n\n\n            if (!components.path) {\n              components.path = \"/\";\n            } //NOTE: We do not parse query strings for HTTP URIs\n            //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n            //and not the HTTP spec.\n\n\n            return components;\n          }\n        };\n        var handler$1 = {\n          scheme: \"https\",\n          domainHost: handler.domainHost,\n          parse: handler.parse,\n          serialize: handler.serialize\n        };\n        var O = {};\n        var isIRI = true; //RFC 3986\n\n        var UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\n        var HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\n\n        var PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n        //RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n        //const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n        //const WSP$$ = \"[\\\\x20\\\\x09]\";\n        //const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n        //const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n        //const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n        //const WSP$$ = \"[\\\\x20\\\\x09]\";\n        //const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n        //const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n        //const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n        //const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\n\n        var ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n        var QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\n        var VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\n        var SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\n        var UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\n        var PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\n        var NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\n        var NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\n        var NOT_HFVALUE = NOT_HFNAME;\n\n        function decodeUnreserved(str) {\n          var decStr = pctDecChars(str);\n          return !decStr.match(UNRESERVED) ? str : decStr;\n        }\n\n        var handler$2 = {\n          scheme: \"mailto\",\n          parse: function parse$$1(components, options) {\n            var mailtoComponents = components;\n            var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n            mailtoComponents.path = undefined;\n\n            if (mailtoComponents.query) {\n              var unknownHeaders = false;\n              var headers = {};\n              var hfields = mailtoComponents.query.split(\"&\");\n\n              for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n\n                switch (hfield[0]) {\n                  case \"to\":\n                    var toAddrs = hfield[1].split(\",\");\n\n                    for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                      to.push(toAddrs[_x]);\n                    }\n\n                    break;\n\n                  case \"subject\":\n                    mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                    break;\n\n                  case \"body\":\n                    mailtoComponents.body = unescapeComponent(hfield[1], options);\n                    break;\n\n                  default:\n                    unknownHeaders = true;\n                    headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                    break;\n                }\n              }\n\n              if (unknownHeaders) mailtoComponents.headers = headers;\n            }\n\n            mailtoComponents.query = undefined;\n\n            for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n              var addr = to[_x2].split(\"@\");\n\n              addr[0] = unescapeComponent(addr[0]);\n\n              if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                  addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                  mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n              } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n              }\n\n              to[_x2] = addr.join(\"@\");\n            }\n\n            return mailtoComponents;\n          },\n          serialize: function serialize$$1(mailtoComponents, options) {\n            var components = mailtoComponents;\n            var to = toArray(mailtoComponents.to);\n\n            if (to) {\n              for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1); //convert IDN via punycode\n\n                try {\n                  domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                  components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n\n                to[x] = localPart + \"@\" + domain;\n              }\n\n              components.path = to.join(\",\");\n            }\n\n            var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n            if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n            if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n            var fields = [];\n\n            for (var name in headers) {\n              if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n              }\n            }\n\n            if (fields.length) {\n              components.query = fields.join(\"&\");\n            }\n\n            return components;\n          }\n        };\n        var URN_PARSE = /^([^\\:]+)\\:(.*)/; //RFC 2141\n\n        var handler$3 = {\n          scheme: \"urn\",\n          parse: function parse$$1(components, options) {\n            var matches = components.path && components.path.match(URN_PARSE);\n            var urnComponents = components;\n\n            if (matches) {\n              var scheme = options.scheme || urnComponents.scheme || \"urn\";\n              var nid = matches[1].toLowerCase();\n              var nss = matches[2];\n              var urnScheme = scheme + \":\" + (options.nid || nid);\n              var schemeHandler = SCHEMES[urnScheme];\n              urnComponents.nid = nid;\n              urnComponents.nss = nss;\n              urnComponents.path = undefined;\n\n              if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n              }\n            } else {\n              urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n            }\n\n            return urnComponents;\n          },\n          serialize: function serialize$$1(urnComponents, options) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = urnComponents.nid;\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n\n            if (schemeHandler) {\n              urnComponents = schemeHandler.serialize(urnComponents, options);\n            }\n\n            var uriComponents = urnComponents;\n            var nss = urnComponents.nss;\n            uriComponents.path = (nid || options.nid) + \":\" + nss;\n            return uriComponents;\n          }\n        };\n        var UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/; //RFC 4122\n\n        var handler$4 = {\n          scheme: \"urn:uuid\",\n          parse: function parse(urnComponents, options) {\n            var uuidComponents = urnComponents;\n            uuidComponents.uuid = uuidComponents.nss;\n            uuidComponents.nss = undefined;\n\n            if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n              uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n            }\n\n            return uuidComponents;\n          },\n          serialize: function serialize(uuidComponents, options) {\n            var urnComponents = uuidComponents; //normalize UUID\n\n            urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n            return urnComponents;\n          }\n        };\n        SCHEMES[handler.scheme] = handler;\n        SCHEMES[handler$1.scheme] = handler$1;\n        SCHEMES[handler$2.scheme] = handler$2;\n        SCHEMES[handler$3.scheme] = handler$3;\n        SCHEMES[handler$4.scheme] = handler$4;\n        exports.SCHEMES = SCHEMES;\n        exports.pctEncChar = pctEncChar;\n        exports.pctDecChars = pctDecChars;\n        exports.parse = parse;\n        exports.removeDotSegments = removeDotSegments;\n        exports.serialize = serialize;\n        exports.resolveComponents = resolveComponents;\n        exports.resolve = resolve;\n        exports.normalize = normalize;\n        exports.equal = equal;\n        exports.escapeComponent = escapeComponent;\n        exports.unescapeComponent = unescapeComponent;\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n      });\n      /***/\n\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\"; // https://mathiasbynens.be/notes/javascript-encoding\n      // https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\n\n      module.exports = function ucs2length(str) {\n        var length = 0,\n            len = str.length,\n            pos = 0,\n            value;\n\n        while (pos < len) {\n          length++;\n          value = str.charCodeAt(pos++);\n\n          if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n          }\n        }\n\n        return length;\n      };\n      /***/\n\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var traverse = module.exports = function (schema, opts, cb) {\n        // Legacy support for v0.3.1 and earlier.\n        if (typeof opts == 'function') {\n          cb = opts;\n          opts = {};\n        }\n\n        cb = opts.cb || cb;\n        var pre = typeof cb == 'function' ? cb : cb.pre || function () {};\n\n        var post = cb.post || function () {};\n\n        _traverse(opts, pre, post, schema, '', schema);\n      };\n\n      traverse.keywords = {\n        additionalItems: true,\n        items: true,\n        contains: true,\n        additionalProperties: true,\n        propertyNames: true,\n        not: true\n      };\n      traverse.arrayKeywords = {\n        items: true,\n        allOf: true,\n        anyOf: true,\n        oneOf: true\n      };\n      traverse.propsKeywords = {\n        definitions: true,\n        properties: true,\n        patternProperties: true,\n        dependencies: true\n      };\n      traverse.skipKeywords = {\n        default: true,\n        enum: true,\n        const: true,\n        required: true,\n        maximum: true,\n        minimum: true,\n        exclusiveMaximum: true,\n        exclusiveMinimum: true,\n        multipleOf: true,\n        maxLength: true,\n        minLength: true,\n        pattern: true,\n        format: true,\n        maxItems: true,\n        minItems: true,\n        uniqueItems: true,\n        maxProperties: true,\n        minProperties: true\n      };\n\n      function _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n        if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n          pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n\n          for (var key in schema) {\n            var sch = schema[key];\n\n            if (Array.isArray(sch)) {\n              if (key in traverse.arrayKeywords) {\n                for (var i = 0; i < sch.length; i++) {\n                  _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n                }\n              }\n            } else if (key in traverse.propsKeywords) {\n              if (sch && typeof sch == 'object') {\n                for (var prop in sch) {\n                  _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n                }\n              }\n            } else if (key in traverse.keywords || opts.allKeys && !(key in traverse.skipKeywords)) {\n              _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n            }\n          }\n\n          post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n        }\n      }\n\n      function escapeJsonPtr(str) {\n        return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n      }\n      /***/\n\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var Cache = module.exports = function Cache() {\n        this._cache = {};\n      };\n\n      Cache.prototype.put = function Cache_put(key, value) {\n        this._cache[key] = value;\n      };\n\n      Cache.prototype.get = function Cache_get(key) {\n        return this._cache[key];\n      };\n\n      Cache.prototype.del = function Cache_del(key) {\n        delete this._cache[key];\n      };\n\n      Cache.prototype.clear = function Cache_clear() {\n        this._cache = {};\n      };\n      /***/\n\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var util = __webpack_require__(5);\n\n      var DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\n      var DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n      var TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\n      var HOSTNAME = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;\n      var URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n      var URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i; // uri-template: https://tools.ietf.org/html/rfc6570\n\n      var URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i; // For the source: https://gist.github.com/dperini/729294\n      // For test cases: https://mathiasbynens.be/demo/url-regex\n      // @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n      // var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\n\n      var URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\n      var UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\n      var JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\n      var JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\n      var RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n      module.exports = formats;\n\n      function formats(mode) {\n        mode = mode == 'full' ? 'full' : 'fast';\n        return util.copy(formats[mode]);\n      }\n\n      formats.fast = {\n        // date: http://tools.ietf.org/html/rfc3339#section-5.6\n        date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n        // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n        time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n        'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,\n        // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n        uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n        'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n        'uri-template': URITEMPLATE,\n        url: URL,\n        // email (sources from jsen validator):\n        // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n        // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n        email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n        hostname: HOSTNAME,\n        // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n        ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n        // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n        ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n        regex: regex,\n        // uuid: http://tools.ietf.org/html/rfc4122\n        uuid: UUID,\n        // JSON-pointer: https://tools.ietf.org/html/rfc6901\n        // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n        'json-pointer': JSON_POINTER,\n        'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n        // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n        'relative-json-pointer': RELATIVE_JSON_POINTER\n      };\n      formats.full = {\n        date: date,\n        time: time,\n        'date-time': date_time,\n        uri: uri,\n        'uri-reference': URIREF,\n        'uri-template': URITEMPLATE,\n        url: URL,\n        email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n        hostname: hostname,\n        ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n        ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n        regex: regex,\n        uuid: UUID,\n        'json-pointer': JSON_POINTER,\n        'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n        'relative-json-pointer': RELATIVE_JSON_POINTER\n      };\n\n      function isLeapYear(year) {\n        // https://tools.ietf.org/html/rfc3339#appendix-C\n        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n      }\n\n      function date(str) {\n        // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n        var matches = str.match(DATE);\n        if (!matches) return false;\n        var year = +matches[1];\n        var month = +matches[2];\n        var day = +matches[3];\n        return month >= 1 && month <= 12 && day >= 1 && day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n      }\n\n      function time(str, full) {\n        var matches = str.match(TIME);\n        if (!matches) return false;\n        var hour = matches[1];\n        var minute = matches[2];\n        var second = matches[3];\n        var timeZone = matches[5];\n        return (hour <= 23 && minute <= 59 && second <= 59 || hour == 23 && minute == 59 && second == 60) && (!full || timeZone);\n      }\n\n      var DATE_TIME_SEPARATOR = /t|\\s/i;\n\n      function date_time(str) {\n        // http://tools.ietf.org/html/rfc3339#section-5.6\n        var dateTime = str.split(DATE_TIME_SEPARATOR);\n        return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n      }\n\n      function hostname(str) {\n        // https://tools.ietf.org/html/rfc1034#section-3.5\n        // https://tools.ietf.org/html/rfc1123#section-2\n        return str.length <= 255 && HOSTNAME.test(str);\n      }\n\n      var NOT_URI_FRAGMENT = /\\/|:/;\n\n      function uri(str) {\n        // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n        return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n      }\n\n      var Z_ANCHOR = /[^\\\\]\\\\Z/;\n\n      function regex(str) {\n        if (Z_ANCHOR.test(str)) return false;\n\n        try {\n          new RegExp(str);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n      /***/\n\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var ruleModules = __webpack_require__(51),\n          toHash = __webpack_require__(5).toHash;\n\n      module.exports = function rules() {\n        var RULES = [{\n          type: 'number',\n          rules: [{\n            'maximum': ['exclusiveMaximum']\n          }, {\n            'minimum': ['exclusiveMinimum']\n          }, 'multipleOf', 'format']\n        }, {\n          type: 'string',\n          rules: ['maxLength', 'minLength', 'pattern', 'format']\n        }, {\n          type: 'array',\n          rules: ['maxItems', 'minItems', 'items', 'contains', 'uniqueItems']\n        }, {\n          type: 'object',\n          rules: ['maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames', {\n            'properties': ['additionalProperties', 'patternProperties']\n          }]\n        }, {\n          rules: ['$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if']\n        }];\n        var ALL = ['type', '$comment'];\n        var KEYWORDS = ['$schema', '$id', 'id', '$data', '$async', 'title', 'description', 'default', 'definitions', 'examples', 'readOnly', 'writeOnly', 'contentMediaType', 'contentEncoding', 'additionalItems', 'then', 'else'];\n        var TYPES = ['number', 'integer', 'string', 'array', 'object', 'boolean', 'null'];\n        RULES.all = toHash(ALL);\n        RULES.types = toHash(TYPES);\n        RULES.forEach(function (group) {\n          group.rules = group.rules.map(function (keyword) {\n            var implKeywords;\n\n            if (typeof keyword == 'object') {\n              var key = Object.keys(keyword)[0];\n              implKeywords = keyword[key];\n              keyword = key;\n              implKeywords.forEach(function (k) {\n                ALL.push(k);\n                RULES.all[k] = true;\n              });\n            }\n\n            ALL.push(keyword);\n            var rule = RULES.all[keyword] = {\n              keyword: keyword,\n              code: ruleModules[keyword],\n              implements: implKeywords\n            };\n            return rule;\n          });\n          RULES.all.$comment = {\n            keyword: '$comment',\n            code: ruleModules.$comment\n          };\n          if (group.type) RULES.types[group.type] = group;\n        });\n        RULES.keywords = toHash(ALL.concat(KEYWORDS));\n        RULES.custom = {};\n        return RULES;\n      };\n      /***/\n\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\"; //all requires must be explicit because browserify won't work with dynamic requires\n\n      module.exports = {\n        '$ref': __webpack_require__(52),\n        allOf: __webpack_require__(53),\n        anyOf: __webpack_require__(54),\n        '$comment': __webpack_require__(55),\n        const: __webpack_require__(56),\n        contains: __webpack_require__(57),\n        dependencies: __webpack_require__(58),\n        'enum': __webpack_require__(59),\n        format: __webpack_require__(60),\n        'if': __webpack_require__(61),\n        items: __webpack_require__(62),\n        maximum: __webpack_require__(28),\n        minimum: __webpack_require__(28),\n        maxItems: __webpack_require__(29),\n        minItems: __webpack_require__(29),\n        maxLength: __webpack_require__(30),\n        minLength: __webpack_require__(30),\n        maxProperties: __webpack_require__(31),\n        minProperties: __webpack_require__(31),\n        multipleOf: __webpack_require__(63),\n        not: __webpack_require__(64),\n        oneOf: __webpack_require__(65),\n        pattern: __webpack_require__(66),\n        properties: __webpack_require__(67),\n        propertyNames: __webpack_require__(68),\n        required: __webpack_require__(69),\n        uniqueItems: __webpack_require__(70),\n        validate: __webpack_require__(27)\n      };\n      /***/\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_ref(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $async, $refCode;\n\n        if ($schema == '#' || $schema == '#/') {\n          if (it.isRoot) {\n            $async = it.async;\n            $refCode = 'validate';\n          } else {\n            $async = it.root.schema.$async === true;\n            $refCode = 'root.refVal[0]';\n          }\n        } else {\n          var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n\n          if ($refVal === undefined) {\n            var $message = it.MissingRefError.message(it.baseId, $schema);\n\n            if (it.opts.missingRefs == 'fail') {\n              it.logger.error($message);\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = '';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + '$ref' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { ref: \\'' + it.util.escapeQuotes($schema) + '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'can\\\\\\'t resolve reference ' + it.util.escapeQuotes($schema) + '\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: ' + it.util.toQuotedString($schema) + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              var __err = out;\n              out = $$outStack.pop();\n\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + __err + ']); ';\n                } else {\n                  out += ' validate.errors = [' + __err + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n\n              if ($breakOnError) {\n                out += ' if (false) { ';\n              }\n            } else if (it.opts.missingRefs == 'ignore') {\n              it.logger.warn($message);\n\n              if ($breakOnError) {\n                out += ' if (true) { ';\n              }\n            } else {\n              throw new it.MissingRefError(it.baseId, $schema, $message);\n            }\n          } else if ($refVal.inline) {\n            var $it = it.util.copy(it);\n            $it.level++;\n            var $nextValid = 'valid' + $it.level;\n            $it.schema = $refVal.schema;\n            $it.schemaPath = '';\n            $it.errSchemaPath = $schema;\n            var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n            out += ' ' + $code + ' ';\n\n            if ($breakOnError) {\n              out += ' if (' + $nextValid + ') { ';\n            }\n          } else {\n            $async = $refVal.$async === true || it.async && $refVal.$async !== false;\n            $refCode = $refVal.code;\n          }\n        }\n\n        if ($refCode) {\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n\n          if (it.opts.passContext) {\n            out += ' ' + $refCode + '.call(this, ';\n          } else {\n            out += ' ' + $refCode + '( ';\n          }\n\n          out += ' ' + $data + ', (dataPath || \\'\\')';\n\n          if (it.errorPath != '\"\"') {\n            out += ' + ' + it.errorPath;\n          }\n\n          var $parentData = $dataLvl ? 'data' + ($dataLvl - 1 || '') : 'parentData',\n              $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n          out += ' , ' + $parentData + ' , ' + $parentDataProperty + ', rootData)  ';\n          var __callValidate = out;\n          out = $$outStack.pop();\n\n          if ($async) {\n            if (!it.async) throw new Error('async schema referenced by sync schema');\n\n            if ($breakOnError) {\n              out += ' var ' + $valid + '; ';\n            }\n\n            out += ' try { await ' + __callValidate + '; ';\n\n            if ($breakOnError) {\n              out += ' ' + $valid + ' = true; ';\n            }\n\n            out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n\n            if ($breakOnError) {\n              out += ' ' + $valid + ' = false; ';\n            }\n\n            out += ' } ';\n\n            if ($breakOnError) {\n              out += ' if (' + $valid + ') { ';\n            }\n          } else {\n            out += ' if (!' + __callValidate + ') { if (vErrors === null) vErrors = ' + $refCode + '.errors; else vErrors = vErrors.concat(' + $refCode + '.errors); errors = vErrors.length; } ';\n\n            if ($breakOnError) {\n              out += ' else { ';\n            }\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_allOf(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $currentBaseId = $it.baseId,\n            $allSchemasEmpty = true;\n        var arr1 = $schema;\n\n        if (arr1) {\n          var $sch,\n              $i = -1,\n              l1 = arr1.length - 1;\n\n          while ($i < l1) {\n            $sch = arr1[$i += 1];\n\n            if (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all)) {\n              $allSchemasEmpty = false;\n              $it.schema = $sch;\n              $it.schemaPath = $schemaPath + '[' + $i + ']';\n              $it.errSchemaPath = $errSchemaPath + '/' + $i;\n              out += '  ' + it.validate($it) + ' ';\n              $it.baseId = $currentBaseId;\n\n              if ($breakOnError) {\n                out += ' if (' + $nextValid + ') { ';\n                $closingBraces += '}';\n              }\n            }\n          }\n        }\n\n        if ($breakOnError) {\n          if ($allSchemasEmpty) {\n            out += ' if (true) { ';\n          } else {\n            out += ' ' + $closingBraces.slice(0, -1) + ' ';\n          }\n        }\n\n        out = it.util.cleanUpCode(out);\n        return out;\n      };\n      /***/\n\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_anyOf(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $noEmptySchema = $schema.every(function ($sch) {\n          return it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all);\n        });\n\n        if ($noEmptySchema) {\n          var $currentBaseId = $it.baseId;\n          out += ' var ' + $errs + ' = errors; var ' + $valid + ' = false;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          var arr1 = $schema;\n\n          if (arr1) {\n            var $sch,\n                $i = -1,\n                l1 = arr1.length - 1;\n\n            while ($i < l1) {\n              $sch = arr1[$i += 1];\n              $it.schema = $sch;\n              $it.schemaPath = $schemaPath + '[' + $i + ']';\n              $it.errSchemaPath = $errSchemaPath + '/' + $i;\n              out += '  ' + it.validate($it) + ' ';\n              $it.baseId = $currentBaseId;\n              out += ' ' + $valid + ' = ' + $valid + ' || ' + $nextValid + '; if (!' + $valid + ') { ';\n              $closingBraces += '}';\n            }\n          }\n\n          it.compositeRule = $it.compositeRule = $wasComposite;\n          out += ' ' + $closingBraces + ' if (!' + $valid + ') {   var err =   ';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + 'anyOf' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: {} ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should match some schema in anyOf\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError(vErrors); ';\n            } else {\n              out += ' validate.errors = vErrors; return false; ';\n            }\n          }\n\n          out += ' } else {  errors = ' + $errs + '; if (vErrors !== null) { if (' + $errs + ') vErrors.length = ' + $errs + '; else vErrors = null; } ';\n\n          if (it.opts.allErrors) {\n            out += ' } ';\n          }\n\n          out = it.util.cleanUpCode(out);\n        } else {\n          if ($breakOnError) {\n            out += ' if (true) { ';\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_comment(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $schema = it.schema[$keyword];\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $comment = it.util.toQuotedString($schema);\n\n        if (it.opts.$comment === true) {\n          out += ' console.log(' + $comment + ');';\n        } else if (typeof it.opts.$comment == 'function') {\n          out += ' self._opts.$comment(' + $comment + ', ' + it.util.toQuotedString($errSchemaPath) + ', validate.root.schema);';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_const(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        if (!$isData) {\n          out += ' var schema' + $lvl + ' = validate.schema' + $schemaPath + ';';\n        }\n\n        out += 'var ' + $valid + ' = equal(' + $data + ', schema' + $lvl + '); if (!' + $valid + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'const' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { allowedValue: schema' + $lvl + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be equal to constant\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += ' }';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_contains(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $idx = 'i' + $lvl,\n            $dataNxt = $it.dataLevel = it.dataLevel + 1,\n            $nextData = 'data' + $dataNxt,\n            $currentBaseId = it.baseId,\n            $nonEmptySchema = it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all);\n        out += 'var ' + $errs + ' = errors;var ' + $valid + ';';\n\n        if ($nonEmptySchema) {\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $schema;\n          $it.schemaPath = $schemaPath;\n          $it.errSchemaPath = $errSchemaPath;\n          out += ' var ' + $nextValid + ' = false; for (var ' + $idx + ' = 0; ' + $idx + ' < ' + $data + '.length; ' + $idx + '++) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n          var $passData = $data + '[' + $idx + ']';\n          $it.dataPathArr[$dataNxt] = $idx;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n          } else {\n            out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n          }\n\n          out += ' if (' + $nextValid + ') break; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n          out += ' ' + $closingBraces + ' if (!' + $nextValid + ') {';\n        } else {\n          out += ' if (' + $data + '.length == 0) {';\n        }\n\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'contains' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: {} ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should contain a valid item\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += ' } else { ';\n\n        if ($nonEmptySchema) {\n          out += '  errors = ' + $errs + '; if (vErrors !== null) { if (' + $errs + ') vErrors.length = ' + $errs + '; else vErrors = null; } ';\n        }\n\n        if (it.opts.allErrors) {\n          out += ' } ';\n        }\n\n        out = it.util.cleanUpCode(out);\n        return out;\n      };\n      /***/\n\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_dependencies(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $schemaDeps = {},\n            $propertyDeps = {},\n            $ownProperties = it.opts.ownProperties;\n\n        for ($property in $schema) {\n          var $sch = $schema[$property];\n          var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n          $deps[$property] = $sch;\n        }\n\n        out += 'var ' + $errs + ' = errors;';\n        var $currentErrorPath = it.errorPath;\n        out += 'var missing' + $lvl + ';';\n\n        for (var $property in $propertyDeps) {\n          $deps = $propertyDeps[$property];\n\n          if ($deps.length) {\n            out += ' if ( ' + $data + it.util.getProperty($property) + ' !== undefined ';\n\n            if ($ownProperties) {\n              out += ' && Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($property) + '\\') ';\n            }\n\n            if ($breakOnError) {\n              out += ' && ( ';\n              var arr1 = $deps;\n\n              if (arr1) {\n                var $propertyKey,\n                    $i = -1,\n                    l1 = arr1.length - 1;\n\n                while ($i < l1) {\n                  $propertyKey = arr1[$i += 1];\n\n                  if ($i) {\n                    out += ' || ';\n                  }\n\n                  var $prop = it.util.getProperty($propertyKey),\n                      $useData = $data + $prop;\n                  out += ' ( ( ' + $useData + ' === undefined ';\n\n                  if ($ownProperties) {\n                    out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                  }\n\n                  out += ') && (missing' + $lvl + ' = ' + it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop) + ') ) ';\n                }\n              }\n\n              out += ')) {  ';\n              var $propertyPath = 'missing' + $lvl,\n                  $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n              }\n\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = '';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + 'dependencies' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { property: \\'' + it.util.escapeQuotes($property) + '\\', missingProperty: \\'' + $missingProperty + '\\', depsCount: ' + $deps.length + ', deps: \\'' + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \")) + '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should have ';\n\n                  if ($deps.length == 1) {\n                    out += 'property ' + it.util.escapeQuotes($deps[0]);\n                  } else {\n                    out += 'properties ' + it.util.escapeQuotes($deps.join(\", \"));\n                  }\n\n                  out += ' when property ' + it.util.escapeQuotes($property) + ' is present\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              var __err = out;\n              out = $$outStack.pop();\n\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + __err + ']); ';\n                } else {\n                  out += ' validate.errors = [' + __err + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n            } else {\n              out += ' ) { ';\n              var arr2 = $deps;\n\n              if (arr2) {\n                var $propertyKey,\n                    i2 = -1,\n                    l2 = arr2.length - 1;\n\n                while (i2 < l2) {\n                  $propertyKey = arr2[i2 += 1];\n                  var $prop = it.util.getProperty($propertyKey),\n                      $missingProperty = it.util.escapeQuotes($propertyKey),\n                      $useData = $data + $prop;\n\n                  if (it.opts._errorDataPathProperty) {\n                    it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n                  }\n\n                  out += ' if ( ' + $useData + ' === undefined ';\n\n                  if ($ownProperties) {\n                    out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                  }\n\n                  out += ') {  var err =   ';\n                  /* istanbul ignore else */\n\n                  if (it.createErrors !== false) {\n                    out += ' { keyword: \\'' + 'dependencies' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { property: \\'' + it.util.escapeQuotes($property) + '\\', missingProperty: \\'' + $missingProperty + '\\', depsCount: ' + $deps.length + ', deps: \\'' + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \")) + '\\' } ';\n\n                    if (it.opts.messages !== false) {\n                      out += ' , message: \\'should have ';\n\n                      if ($deps.length == 1) {\n                        out += 'property ' + it.util.escapeQuotes($deps[0]);\n                      } else {\n                        out += 'properties ' + it.util.escapeQuotes($deps.join(\", \"));\n                      }\n\n                      out += ' when property ' + it.util.escapeQuotes($property) + ' is present\\' ';\n                    }\n\n                    if (it.opts.verbose) {\n                      out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                    }\n\n                    out += ' } ';\n                  } else {\n                    out += ' {} ';\n                  }\n\n                  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n                }\n              }\n            }\n\n            out += ' }   ';\n\n            if ($breakOnError) {\n              $closingBraces += '}';\n              out += ' else { ';\n            }\n          }\n        }\n\n        it.errorPath = $currentErrorPath;\n        var $currentBaseId = $it.baseId;\n\n        for (var $property in $schemaDeps) {\n          var $sch = $schemaDeps[$property];\n\n          if (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all)) {\n            out += ' ' + $nextValid + ' = true; if ( ' + $data + it.util.getProperty($property) + ' !== undefined ';\n\n            if ($ownProperties) {\n              out += ' && Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($property) + '\\') ';\n            }\n\n            out += ') { ';\n            $it.schema = $sch;\n            $it.schemaPath = $schemaPath + it.util.getProperty($property);\n            $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n            out += '  ' + it.validate($it) + ' ';\n            $it.baseId = $currentBaseId;\n            out += ' }  ';\n\n            if ($breakOnError) {\n              out += ' if (' + $nextValid + ') { ';\n              $closingBraces += '}';\n            }\n          }\n        }\n\n        if ($breakOnError) {\n          out += '   ' + $closingBraces + ' if (' + $errs + ' == errors) {';\n        }\n\n        out = it.util.cleanUpCode(out);\n        return out;\n      };\n      /***/\n\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_enum(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $i = 'i' + $lvl,\n            $vSchema = 'schema' + $lvl;\n\n        if (!$isData) {\n          out += ' var ' + $vSchema + ' = validate.schema' + $schemaPath + ';';\n        }\n\n        out += 'var ' + $valid + ';';\n\n        if ($isData) {\n          out += ' if (schema' + $lvl + ' === undefined) ' + $valid + ' = true; else if (!Array.isArray(schema' + $lvl + ')) ' + $valid + ' = false; else {';\n        }\n\n        out += '' + $valid + ' = false;for (var ' + $i + '=0; ' + $i + '<' + $vSchema + '.length; ' + $i + '++) if (equal(' + $data + ', ' + $vSchema + '[' + $i + '])) { ' + $valid + ' = true; break; }';\n\n        if ($isData) {\n          out += '  }  ';\n        }\n\n        out += ' if (!' + $valid + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'enum' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { allowedValues: schema' + $lvl + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be equal to one of the allowed values\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += ' }';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_format(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n\n        if (it.opts.format === false) {\n          if ($breakOnError) {\n            out += ' if (true) { ';\n          }\n\n          return out;\n        }\n\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $unknownFormats = it.opts.unknownFormats,\n            $allowUnknown = Array.isArray($unknownFormats);\n\n        if ($isData) {\n          var $format = 'format' + $lvl,\n              $isObject = 'isObject' + $lvl,\n              $formatType = 'formatType' + $lvl;\n          out += ' var ' + $format + ' = formats[' + $schemaValue + ']; var ' + $isObject + ' = typeof ' + $format + ' == \\'object\\' && !(' + $format + ' instanceof RegExp) && ' + $format + '.validate; var ' + $formatType + ' = ' + $isObject + ' && ' + $format + '.type || \\'string\\'; if (' + $isObject + ') { ';\n\n          if (it.async) {\n            out += ' var async' + $lvl + ' = ' + $format + '.async; ';\n          }\n\n          out += ' ' + $format + ' = ' + $format + '.validate; } if (  ';\n\n          if ($isData) {\n            out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'string\\') || ';\n          }\n\n          out += ' (';\n\n          if ($unknownFormats != 'ignore') {\n            out += ' (' + $schemaValue + ' && !' + $format + ' ';\n\n            if ($allowUnknown) {\n              out += ' && self._opts.unknownFormats.indexOf(' + $schemaValue + ') == -1 ';\n            }\n\n            out += ') || ';\n          }\n\n          out += ' (' + $format + ' && ' + $formatType + ' == \\'' + $ruleType + '\\' && !(typeof ' + $format + ' == \\'function\\' ? ';\n\n          if (it.async) {\n            out += ' (async' + $lvl + ' ? await ' + $format + '(' + $data + ') : ' + $format + '(' + $data + ')) ';\n          } else {\n            out += ' ' + $format + '(' + $data + ') ';\n          }\n\n          out += ' : ' + $format + '.test(' + $data + '))))) {';\n        } else {\n          var $format = it.formats[$schema];\n\n          if (!$format) {\n            if ($unknownFormats == 'ignore') {\n              it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n\n              if ($breakOnError) {\n                out += ' if (true) { ';\n              }\n\n              return out;\n            } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n              if ($breakOnError) {\n                out += ' if (true) { ';\n              }\n\n              return out;\n            } else {\n              throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n            }\n          }\n\n          var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n          var $formatType = $isObject && $format.type || 'string';\n\n          if ($isObject) {\n            var $async = $format.async === true;\n            $format = $format.validate;\n          }\n\n          if ($formatType != $ruleType) {\n            if ($breakOnError) {\n              out += ' if (true) { ';\n            }\n\n            return out;\n          }\n\n          if ($async) {\n            if (!it.async) throw new Error('async format in sync schema');\n            var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n            out += ' if (!(await ' + $formatRef + '(' + $data + '))) { ';\n          } else {\n            out += ' if (! ';\n            var $formatRef = 'formats' + it.util.getProperty($schema);\n            if ($isObject) $formatRef += '.validate';\n\n            if (typeof $format == 'function') {\n              out += ' ' + $formatRef + '(' + $data + ') ';\n            } else {\n              out += ' ' + $formatRef + '.test(' + $data + ') ';\n            }\n\n            out += ') { ';\n          }\n        }\n\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'format' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { format:  ';\n\n          if ($isData) {\n            out += '' + $schemaValue;\n          } else {\n            out += '' + it.util.toQuotedString($schema);\n          }\n\n          out += '  } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should match format \"';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue + ' + \\'';\n            } else {\n              out += '' + it.util.escapeQuotes($schema);\n            }\n\n            out += '\"\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + it.util.toQuotedString($schema);\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += ' } ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_if(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $thenSch = it.schema['then'],\n            $elseSch = it.schema['else'],\n            $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n            $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n            $currentBaseId = $it.baseId;\n\n        if ($thenPresent || $elsePresent) {\n          var $ifClause;\n          $it.createErrors = false;\n          $it.schema = $schema;\n          $it.schemaPath = $schemaPath;\n          $it.errSchemaPath = $errSchemaPath;\n          out += ' var ' + $errs + ' = errors; var ' + $valid + ' = true;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          out += '  ' + it.validate($it) + ' ';\n          $it.baseId = $currentBaseId;\n          $it.createErrors = true;\n          out += '  errors = ' + $errs + '; if (vErrors !== null) { if (' + $errs + ') vErrors.length = ' + $errs + '; else vErrors = null; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n\n          if ($thenPresent) {\n            out += ' if (' + $nextValid + ') {  ';\n            $it.schema = it.schema['then'];\n            $it.schemaPath = it.schemaPath + '.then';\n            $it.errSchemaPath = it.errSchemaPath + '/then';\n            out += '  ' + it.validate($it) + ' ';\n            $it.baseId = $currentBaseId;\n            out += ' ' + $valid + ' = ' + $nextValid + '; ';\n\n            if ($thenPresent && $elsePresent) {\n              $ifClause = 'ifClause' + $lvl;\n              out += ' var ' + $ifClause + ' = \\'then\\'; ';\n            } else {\n              $ifClause = '\\'then\\'';\n            }\n\n            out += ' } ';\n\n            if ($elsePresent) {\n              out += ' else { ';\n            }\n          } else {\n            out += ' if (!' + $nextValid + ') { ';\n          }\n\n          if ($elsePresent) {\n            $it.schema = it.schema['else'];\n            $it.schemaPath = it.schemaPath + '.else';\n            $it.errSchemaPath = it.errSchemaPath + '/else';\n            out += '  ' + it.validate($it) + ' ';\n            $it.baseId = $currentBaseId;\n            out += ' ' + $valid + ' = ' + $nextValid + '; ';\n\n            if ($thenPresent && $elsePresent) {\n              $ifClause = 'ifClause' + $lvl;\n              out += ' var ' + $ifClause + ' = \\'else\\'; ';\n            } else {\n              $ifClause = '\\'else\\'';\n            }\n\n            out += ' } ';\n          }\n\n          out += ' if (!' + $valid + ') {   var err =   ';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + 'if' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { failingKeyword: ' + $ifClause + ' } ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should match \"\\' + ' + $ifClause + ' + \\'\" schema\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError(vErrors); ';\n            } else {\n              out += ' validate.errors = vErrors; return false; ';\n            }\n          }\n\n          out += ' }   ';\n\n          if ($breakOnError) {\n            out += ' else { ';\n          }\n\n          out = it.util.cleanUpCode(out);\n        } else {\n          if ($breakOnError) {\n            out += ' if (true) { ';\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_items(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $idx = 'i' + $lvl,\n            $dataNxt = $it.dataLevel = it.dataLevel + 1,\n            $nextData = 'data' + $dataNxt,\n            $currentBaseId = it.baseId;\n        out += 'var ' + $errs + ' = errors;var ' + $valid + ';';\n\n        if (Array.isArray($schema)) {\n          var $additionalItems = it.schema.additionalItems;\n\n          if ($additionalItems === false) {\n            out += ' ' + $valid + ' = ' + $data + '.length <= ' + $schema.length + '; ';\n            var $currErrSchemaPath = $errSchemaPath;\n            $errSchemaPath = it.errSchemaPath + '/additionalItems';\n            out += '  if (!' + $valid + ') {   ';\n            var $$outStack = $$outStack || [];\n            $$outStack.push(out);\n            out = '';\n            /* istanbul ignore else */\n\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + 'additionalItems' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { limit: ' + $schema.length + ' } ';\n\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should NOT have more than ' + $schema.length + ' items\\' ';\n              }\n\n              if (it.opts.verbose) {\n                out += ' , schema: false , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n              }\n\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n\n            var __err = out;\n            out = $$outStack.pop();\n\n            if (!it.compositeRule && $breakOnError) {\n              /* istanbul ignore if */\n              if (it.async) {\n                out += ' throw new ValidationError([' + __err + ']); ';\n              } else {\n                out += ' validate.errors = [' + __err + ']; return false; ';\n              }\n            } else {\n              out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n            }\n\n            out += ' } ';\n            $errSchemaPath = $currErrSchemaPath;\n\n            if ($breakOnError) {\n              $closingBraces += '}';\n              out += ' else { ';\n            }\n          }\n\n          var arr1 = $schema;\n\n          if (arr1) {\n            var $sch,\n                $i = -1,\n                l1 = arr1.length - 1;\n\n            while ($i < l1) {\n              $sch = arr1[$i += 1];\n\n              if (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all)) {\n                out += ' ' + $nextValid + ' = true; if (' + $data + '.length > ' + $i + ') { ';\n                var $passData = $data + '[' + $i + ']';\n                $it.schema = $sch;\n                $it.schemaPath = $schemaPath + '[' + $i + ']';\n                $it.errSchemaPath = $errSchemaPath + '/' + $i;\n                $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n                $it.dataPathArr[$dataNxt] = $i;\n                var $code = it.validate($it);\n                $it.baseId = $currentBaseId;\n\n                if (it.util.varOccurences($code, $nextData) < 2) {\n                  out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n                } else {\n                  out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n                }\n\n                out += ' }  ';\n\n                if ($breakOnError) {\n                  out += ' if (' + $nextValid + ') { ';\n                  $closingBraces += '}';\n                }\n              }\n            }\n          }\n\n          if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n            $it.schema = $additionalItems;\n            $it.schemaPath = it.schemaPath + '.additionalItems';\n            $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n            out += ' ' + $nextValid + ' = true; if (' + $data + '.length > ' + $schema.length + ') {  for (var ' + $idx + ' = ' + $schema.length + '; ' + $idx + ' < ' + $data + '.length; ' + $idx + '++) { ';\n            $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n            var $passData = $data + '[' + $idx + ']';\n            $it.dataPathArr[$dataNxt] = $idx;\n            var $code = it.validate($it);\n            $it.baseId = $currentBaseId;\n\n            if (it.util.varOccurences($code, $nextData) < 2) {\n              out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n            } else {\n              out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n            }\n\n            if ($breakOnError) {\n              out += ' if (!' + $nextValid + ') break; ';\n            }\n\n            out += ' } }  ';\n\n            if ($breakOnError) {\n              out += ' if (' + $nextValid + ') { ';\n              $closingBraces += '}';\n            }\n          }\n        } else if (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all)) {\n          $it.schema = $schema;\n          $it.schemaPath = $schemaPath;\n          $it.errSchemaPath = $errSchemaPath;\n          out += '  for (var ' + $idx + ' = ' + 0 + '; ' + $idx + ' < ' + $data + '.length; ' + $idx + '++) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n          var $passData = $data + '[' + $idx + ']';\n          $it.dataPathArr[$dataNxt] = $idx;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n          } else {\n            out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n          }\n\n          if ($breakOnError) {\n            out += ' if (!' + $nextValid + ') break; ';\n          }\n\n          out += ' }';\n        }\n\n        if ($breakOnError) {\n          out += ' ' + $closingBraces + ' if (' + $errs + ' == errors) {';\n        }\n\n        out = it.util.cleanUpCode(out);\n        return out;\n      };\n      /***/\n\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        out += 'var division' + $lvl + ';if (';\n\n        if ($isData) {\n          out += ' ' + $schemaValue + ' !== undefined && ( typeof ' + $schemaValue + ' != \\'number\\' || ';\n        }\n\n        out += ' (division' + $lvl + ' = ' + $data + ' / ' + $schemaValue + ', ';\n\n        if (it.opts.multipleOfPrecision) {\n          out += ' Math.abs(Math.round(division' + $lvl + ') - division' + $lvl + ') > 1e-' + it.opts.multipleOfPrecision + ' ';\n        } else {\n          out += ' division' + $lvl + ' !== parseInt(division' + $lvl + ') ';\n        }\n\n        out += ' ) ';\n\n        if ($isData) {\n          out += '  )  ';\n        }\n\n        out += ' ) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'multipleOf' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { multipleOf: ' + $schemaValue + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be multiple of ';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue;\n            } else {\n              out += '' + $schemaValue + '\\'';\n            }\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + $schema;\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += '} ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_not(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n\n        if (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all)) {\n          $it.schema = $schema;\n          $it.schemaPath = $schemaPath;\n          $it.errSchemaPath = $errSchemaPath;\n          out += ' var ' + $errs + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.createErrors = false;\n          var $allErrorsOption;\n\n          if ($it.opts.allErrors) {\n            $allErrorsOption = $it.opts.allErrors;\n            $it.opts.allErrors = false;\n          }\n\n          out += ' ' + it.validate($it) + ' ';\n          $it.createErrors = true;\n          if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n          it.compositeRule = $it.compositeRule = $wasComposite;\n          out += ' if (' + $nextValid + ') {   ';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + 'not' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: {} ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should NOT be valid\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          var __err = out;\n          out = $$outStack.pop();\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + __err + ']); ';\n            } else {\n              out += ' validate.errors = [' + __err + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n\n          out += ' } else {  errors = ' + $errs + '; if (vErrors !== null) { if (' + $errs + ') vErrors.length = ' + $errs + '; else vErrors = null; } ';\n\n          if (it.opts.allErrors) {\n            out += ' } ';\n          }\n        } else {\n          out += '  var err =   ';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + 'not' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: {} ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should NOT be valid\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n          if ($breakOnError) {\n            out += ' if (false) { ';\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_oneOf(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $currentBaseId = $it.baseId,\n            $prevValid = 'prevValid' + $lvl,\n            $passingSchemas = 'passingSchemas' + $lvl;\n        out += 'var ' + $errs + ' = errors , ' + $prevValid + ' = false , ' + $valid + ' = false , ' + $passingSchemas + ' = null; ';\n        var $wasComposite = it.compositeRule;\n        it.compositeRule = $it.compositeRule = true;\n        var arr1 = $schema;\n\n        if (arr1) {\n          var $sch,\n              $i = -1,\n              l1 = arr1.length - 1;\n\n          while ($i < l1) {\n            $sch = arr1[$i += 1];\n\n            if (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all)) {\n              $it.schema = $sch;\n              $it.schemaPath = $schemaPath + '[' + $i + ']';\n              $it.errSchemaPath = $errSchemaPath + '/' + $i;\n              out += '  ' + it.validate($it) + ' ';\n              $it.baseId = $currentBaseId;\n            } else {\n              out += ' var ' + $nextValid + ' = true; ';\n            }\n\n            if ($i) {\n              out += ' if (' + $nextValid + ' && ' + $prevValid + ') { ' + $valid + ' = false; ' + $passingSchemas + ' = [' + $passingSchemas + ', ' + $i + ']; } else { ';\n              $closingBraces += '}';\n            }\n\n            out += ' if (' + $nextValid + ') { ' + $valid + ' = ' + $prevValid + ' = true; ' + $passingSchemas + ' = ' + $i + '; }';\n          }\n        }\n\n        it.compositeRule = $it.compositeRule = $wasComposite;\n        out += '' + $closingBraces + 'if (!' + $valid + ') {   var err =   ';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'oneOf' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { passingSchemas: ' + $passingSchemas + ' } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError(vErrors); ';\n          } else {\n            out += ' validate.errors = vErrors; return false; ';\n          }\n        }\n\n        out += '} else {  errors = ' + $errs + '; if (vErrors !== null) { if (' + $errs + ') vErrors.length = ' + $errs + '; else vErrors = null; }';\n\n        if (it.opts.allErrors) {\n          out += ' } ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_pattern(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n        out += 'if ( ';\n\n        if ($isData) {\n          out += ' (' + $schemaValue + ' !== undefined && typeof ' + $schemaValue + ' != \\'string\\') || ';\n        }\n\n        out += ' !' + $regexp + '.test(' + $data + ') ) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = '';\n        /* istanbul ignore else */\n\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + 'pattern' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { pattern:  ';\n\n          if ($isData) {\n            out += '' + $schemaValue;\n          } else {\n            out += '' + it.util.toQuotedString($schema);\n          }\n\n          out += '  } ';\n\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should match pattern \"';\n\n            if ($isData) {\n              out += '\\' + ' + $schemaValue + ' + \\'';\n            } else {\n              out += '' + it.util.escapeQuotes($schema);\n            }\n\n            out += '\"\\' ';\n          }\n\n          if (it.opts.verbose) {\n            out += ' , schema:  ';\n\n            if ($isData) {\n              out += 'validate.schema' + $schemaPath;\n            } else {\n              out += '' + it.util.toQuotedString($schema);\n            }\n\n            out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n          }\n\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n\n        var __err = out;\n        out = $$outStack.pop();\n\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + __err + ']); ';\n          } else {\n            out += ' validate.errors = [' + __err + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n\n        out += '} ';\n\n        if ($breakOnError) {\n          out += ' else { ';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_properties(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        var $key = 'key' + $lvl,\n            $idx = 'idx' + $lvl,\n            $dataNxt = $it.dataLevel = it.dataLevel + 1,\n            $nextData = 'data' + $dataNxt,\n            $dataProperties = 'dataProperties' + $lvl;\n        var $schemaKeys = Object.keys($schema || {}),\n            $pProperties = it.schema.patternProperties || {},\n            $pPropertyKeys = Object.keys($pProperties),\n            $aProperties = it.schema.additionalProperties,\n            $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n            $noAdditional = $aProperties === false,\n            $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n            $removeAdditional = it.opts.removeAdditional,\n            $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n            $ownProperties = it.opts.ownProperties,\n            $currentBaseId = it.baseId;\n        var $required = it.schema.required;\n        if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n        out += 'var ' + $errs + ' = errors;var ' + $nextValid + ' = true;';\n\n        if ($ownProperties) {\n          out += ' var ' + $dataProperties + ' = undefined;';\n        }\n\n        if ($checkAdditional) {\n          if ($ownProperties) {\n            out += ' ' + $dataProperties + ' = ' + $dataProperties + ' || Object.keys(' + $data + '); for (var ' + $idx + '=0; ' + $idx + '<' + $dataProperties + '.length; ' + $idx + '++) { var ' + $key + ' = ' + $dataProperties + '[' + $idx + ']; ';\n          } else {\n            out += ' for (var ' + $key + ' in ' + $data + ') { ';\n          }\n\n          if ($someProperties) {\n            out += ' var isAdditional' + $lvl + ' = !(false ';\n\n            if ($schemaKeys.length) {\n              if ($schemaKeys.length > 8) {\n                out += ' || validate.schema' + $schemaPath + '.hasOwnProperty(' + $key + ') ';\n              } else {\n                var arr1 = $schemaKeys;\n\n                if (arr1) {\n                  var $propertyKey,\n                      i1 = -1,\n                      l1 = arr1.length - 1;\n\n                  while (i1 < l1) {\n                    $propertyKey = arr1[i1 += 1];\n                    out += ' || ' + $key + ' == ' + it.util.toQuotedString($propertyKey) + ' ';\n                  }\n                }\n              }\n            }\n\n            if ($pPropertyKeys.length) {\n              var arr2 = $pPropertyKeys;\n\n              if (arr2) {\n                var $pProperty,\n                    $i = -1,\n                    l2 = arr2.length - 1;\n\n                while ($i < l2) {\n                  $pProperty = arr2[$i += 1];\n                  out += ' || ' + it.usePattern($pProperty) + '.test(' + $key + ') ';\n                }\n              }\n            }\n\n            out += ' ); if (isAdditional' + $lvl + ') { ';\n          }\n\n          if ($removeAdditional == 'all') {\n            out += ' delete ' + $data + '[' + $key + ']; ';\n          } else {\n            var $currentErrorPath = it.errorPath;\n            var $additionalProperty = '\\' + ' + $key + ' + \\'';\n\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n            }\n\n            if ($noAdditional) {\n              if ($removeAdditional) {\n                out += ' delete ' + $data + '[' + $key + ']; ';\n              } else {\n                out += ' ' + $nextValid + ' = false; ';\n                var $currErrSchemaPath = $errSchemaPath;\n                $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n                var $$outStack = $$outStack || [];\n                $$outStack.push(out);\n                out = '';\n                /* istanbul ignore else */\n\n                if (it.createErrors !== false) {\n                  out += ' { keyword: \\'' + 'additionalProperties' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { additionalProperty: \\'' + $additionalProperty + '\\' } ';\n\n                  if (it.opts.messages !== false) {\n                    out += ' , message: \\'';\n\n                    if (it.opts._errorDataPathProperty) {\n                      out += 'is an invalid additional property';\n                    } else {\n                      out += 'should NOT have additional properties';\n                    }\n\n                    out += '\\' ';\n                  }\n\n                  if (it.opts.verbose) {\n                    out += ' , schema: false , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                  }\n\n                  out += ' } ';\n                } else {\n                  out += ' {} ';\n                }\n\n                var __err = out;\n                out = $$outStack.pop();\n\n                if (!it.compositeRule && $breakOnError) {\n                  /* istanbul ignore if */\n                  if (it.async) {\n                    out += ' throw new ValidationError([' + __err + ']); ';\n                  } else {\n                    out += ' validate.errors = [' + __err + ']; return false; ';\n                  }\n                } else {\n                  out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n                }\n\n                $errSchemaPath = $currErrSchemaPath;\n\n                if ($breakOnError) {\n                  out += ' break; ';\n                }\n              }\n            } else if ($additionalIsSchema) {\n              if ($removeAdditional == 'failing') {\n                out += ' var ' + $errs + ' = errors;  ';\n                var $wasComposite = it.compositeRule;\n                it.compositeRule = $it.compositeRule = true;\n                $it.schema = $aProperties;\n                $it.schemaPath = it.schemaPath + '.additionalProperties';\n                $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n                $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n                var $passData = $data + '[' + $key + ']';\n                $it.dataPathArr[$dataNxt] = $key;\n                var $code = it.validate($it);\n                $it.baseId = $currentBaseId;\n\n                if (it.util.varOccurences($code, $nextData) < 2) {\n                  out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n                } else {\n                  out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n                }\n\n                out += ' if (!' + $nextValid + ') { errors = ' + $errs + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + $data + '[' + $key + ']; }  ';\n                it.compositeRule = $it.compositeRule = $wasComposite;\n              } else {\n                $it.schema = $aProperties;\n                $it.schemaPath = it.schemaPath + '.additionalProperties';\n                $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n                $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n                var $passData = $data + '[' + $key + ']';\n                $it.dataPathArr[$dataNxt] = $key;\n                var $code = it.validate($it);\n                $it.baseId = $currentBaseId;\n\n                if (it.util.varOccurences($code, $nextData) < 2) {\n                  out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n                } else {\n                  out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n                }\n\n                if ($breakOnError) {\n                  out += ' if (!' + $nextValid + ') break; ';\n                }\n              }\n            }\n\n            it.errorPath = $currentErrorPath;\n          }\n\n          if ($someProperties) {\n            out += ' } ';\n          }\n\n          out += ' }  ';\n\n          if ($breakOnError) {\n            out += ' if (' + $nextValid + ') { ';\n            $closingBraces += '}';\n          }\n        }\n\n        var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n\n        if ($schemaKeys.length) {\n          var arr3 = $schemaKeys;\n\n          if (arr3) {\n            var $propertyKey,\n                i3 = -1,\n                l3 = arr3.length - 1;\n\n            while (i3 < l3) {\n              $propertyKey = arr3[i3 += 1];\n              var $sch = $schema[$propertyKey];\n\n              if (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all)) {\n                var $prop = it.util.getProperty($propertyKey),\n                    $passData = $data + $prop,\n                    $hasDefault = $useDefaults && $sch.default !== undefined;\n                $it.schema = $sch;\n                $it.schemaPath = $schemaPath + $prop;\n                $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n                $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n                $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n                var $code = it.validate($it);\n                $it.baseId = $currentBaseId;\n\n                if (it.util.varOccurences($code, $nextData) < 2) {\n                  $code = it.util.varReplace($code, $nextData, $passData);\n                  var $useData = $passData;\n                } else {\n                  var $useData = $nextData;\n                  out += ' var ' + $nextData + ' = ' + $passData + '; ';\n                }\n\n                if ($hasDefault) {\n                  out += ' ' + $code + ' ';\n                } else {\n                  if ($requiredHash && $requiredHash[$propertyKey]) {\n                    out += ' if ( ' + $useData + ' === undefined ';\n\n                    if ($ownProperties) {\n                      out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                    }\n\n                    out += ') { ' + $nextValid + ' = false; ';\n                    var $currentErrorPath = it.errorPath,\n                        $currErrSchemaPath = $errSchemaPath,\n                        $missingProperty = it.util.escapeQuotes($propertyKey);\n\n                    if (it.opts._errorDataPathProperty) {\n                      it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n                    }\n\n                    $errSchemaPath = it.errSchemaPath + '/required';\n                    var $$outStack = $$outStack || [];\n                    $$outStack.push(out);\n                    out = '';\n                    /* istanbul ignore else */\n\n                    if (it.createErrors !== false) {\n                      out += ' { keyword: \\'' + 'required' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { missingProperty: \\'' + $missingProperty + '\\' } ';\n\n                      if (it.opts.messages !== false) {\n                        out += ' , message: \\'';\n\n                        if (it.opts._errorDataPathProperty) {\n                          out += 'is a required property';\n                        } else {\n                          out += 'should have required property \\\\\\'' + $missingProperty + '\\\\\\'';\n                        }\n\n                        out += '\\' ';\n                      }\n\n                      if (it.opts.verbose) {\n                        out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                      }\n\n                      out += ' } ';\n                    } else {\n                      out += ' {} ';\n                    }\n\n                    var __err = out;\n                    out = $$outStack.pop();\n\n                    if (!it.compositeRule && $breakOnError) {\n                      /* istanbul ignore if */\n                      if (it.async) {\n                        out += ' throw new ValidationError([' + __err + ']); ';\n                      } else {\n                        out += ' validate.errors = [' + __err + ']; return false; ';\n                      }\n                    } else {\n                      out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n                    }\n\n                    $errSchemaPath = $currErrSchemaPath;\n                    it.errorPath = $currentErrorPath;\n                    out += ' } else { ';\n                  } else {\n                    if ($breakOnError) {\n                      out += ' if ( ' + $useData + ' === undefined ';\n\n                      if ($ownProperties) {\n                        out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                      }\n\n                      out += ') { ' + $nextValid + ' = true; } else { ';\n                    } else {\n                      out += ' if (' + $useData + ' !== undefined ';\n\n                      if ($ownProperties) {\n                        out += ' &&   Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                      }\n\n                      out += ' ) { ';\n                    }\n                  }\n\n                  out += ' ' + $code + ' } ';\n                }\n              }\n\n              if ($breakOnError) {\n                out += ' if (' + $nextValid + ') { ';\n                $closingBraces += '}';\n              }\n            }\n          }\n        }\n\n        if ($pPropertyKeys.length) {\n          var arr4 = $pPropertyKeys;\n\n          if (arr4) {\n            var $pProperty,\n                i4 = -1,\n                l4 = arr4.length - 1;\n\n            while (i4 < l4) {\n              $pProperty = arr4[i4 += 1];\n              var $sch = $pProperties[$pProperty];\n\n              if (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all)) {\n                $it.schema = $sch;\n                $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n                $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n\n                if ($ownProperties) {\n                  out += ' ' + $dataProperties + ' = ' + $dataProperties + ' || Object.keys(' + $data + '); for (var ' + $idx + '=0; ' + $idx + '<' + $dataProperties + '.length; ' + $idx + '++) { var ' + $key + ' = ' + $dataProperties + '[' + $idx + ']; ';\n                } else {\n                  out += ' for (var ' + $key + ' in ' + $data + ') { ';\n                }\n\n                out += ' if (' + it.usePattern($pProperty) + '.test(' + $key + ')) { ';\n                $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n                var $passData = $data + '[' + $key + ']';\n                $it.dataPathArr[$dataNxt] = $key;\n                var $code = it.validate($it);\n                $it.baseId = $currentBaseId;\n\n                if (it.util.varOccurences($code, $nextData) < 2) {\n                  out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n                } else {\n                  out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n                }\n\n                if ($breakOnError) {\n                  out += ' if (!' + $nextValid + ') break; ';\n                }\n\n                out += ' } ';\n\n                if ($breakOnError) {\n                  out += ' else ' + $nextValid + ' = true; ';\n                }\n\n                out += ' }  ';\n\n                if ($breakOnError) {\n                  out += ' if (' + $nextValid + ') { ';\n                  $closingBraces += '}';\n                }\n              }\n            }\n          }\n        }\n\n        if ($breakOnError) {\n          out += ' ' + $closingBraces + ' if (' + $errs + ' == errors) {';\n        }\n\n        out = it.util.cleanUpCode(out);\n        return out;\n      };\n      /***/\n\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $errs = 'errs__' + $lvl;\n        var $it = it.util.copy(it);\n        var $closingBraces = '';\n        $it.level++;\n        var $nextValid = 'valid' + $it.level;\n        out += 'var ' + $errs + ' = errors;';\n\n        if (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all)) {\n          $it.schema = $schema;\n          $it.schemaPath = $schemaPath;\n          $it.errSchemaPath = $errSchemaPath;\n          var $key = 'key' + $lvl,\n              $idx = 'idx' + $lvl,\n              $i = 'i' + $lvl,\n              $invalidName = '\\' + ' + $key + ' + \\'',\n              $dataNxt = $it.dataLevel = it.dataLevel + 1,\n              $nextData = 'data' + $dataNxt,\n              $dataProperties = 'dataProperties' + $lvl,\n              $ownProperties = it.opts.ownProperties,\n              $currentBaseId = it.baseId;\n\n          if ($ownProperties) {\n            out += ' var ' + $dataProperties + ' = undefined; ';\n          }\n\n          if ($ownProperties) {\n            out += ' ' + $dataProperties + ' = ' + $dataProperties + ' || Object.keys(' + $data + '); for (var ' + $idx + '=0; ' + $idx + '<' + $dataProperties + '.length; ' + $idx + '++) { var ' + $key + ' = ' + $dataProperties + '[' + $idx + ']; ';\n          } else {\n            out += ' for (var ' + $key + ' in ' + $data + ') { ';\n          }\n\n          out += ' var startErrs' + $lvl + ' = errors; ';\n          var $passData = $key;\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + it.util.varReplace($code, $nextData, $passData) + ' ';\n          } else {\n            out += ' var ' + $nextData + ' = ' + $passData + '; ' + $code + ' ';\n          }\n\n          it.compositeRule = $it.compositeRule = $wasComposite;\n          out += ' if (!' + $nextValid + ') { for (var ' + $i + '=startErrs' + $lvl + '; ' + $i + '<errors; ' + $i + '++) { vErrors[' + $i + '].propertyName = ' + $key + '; }   var err =   ';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + 'propertyNames' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { propertyName: \\'' + $invalidName + '\\' } ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'property name \\\\\\'' + $invalidName + '\\\\\\' is invalid\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError(vErrors); ';\n            } else {\n              out += ' validate.errors = vErrors; return false; ';\n            }\n          }\n\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n\n          out += ' } }';\n        }\n\n        if ($breakOnError) {\n          out += ' ' + $closingBraces + ' if (' + $errs + ' == errors) {';\n        }\n\n        out = it.util.cleanUpCode(out);\n        return out;\n      };\n      /***/\n\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_required(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $vSchema = 'schema' + $lvl;\n\n        if (!$isData) {\n          if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n            var $required = [];\n            var arr1 = $schema;\n\n            if (arr1) {\n              var $property,\n                  i1 = -1,\n                  l1 = arr1.length - 1;\n\n              while (i1 < l1) {\n                $property = arr1[i1 += 1];\n                var $propertySch = it.schema.properties[$property];\n\n                if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n                  $required[$required.length] = $property;\n                }\n              }\n            }\n          } else {\n            var $required = $schema;\n          }\n        }\n\n        if ($isData || $required.length) {\n          var $currentErrorPath = it.errorPath,\n              $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n              $ownProperties = it.opts.ownProperties;\n\n          if ($breakOnError) {\n            out += ' var missing' + $lvl + '; ';\n\n            if ($loopRequired) {\n              if (!$isData) {\n                out += ' var ' + $vSchema + ' = validate.schema' + $schemaPath + '; ';\n              }\n\n              var $i = 'i' + $lvl,\n                  $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n                  $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n              }\n\n              out += ' var ' + $valid + ' = true; ';\n\n              if ($isData) {\n                out += ' if (schema' + $lvl + ' === undefined) ' + $valid + ' = true; else if (!Array.isArray(schema' + $lvl + ')) ' + $valid + ' = false; else {';\n              }\n\n              out += ' for (var ' + $i + ' = 0; ' + $i + ' < ' + $vSchema + '.length; ' + $i + '++) { ' + $valid + ' = ' + $data + '[' + $vSchema + '[' + $i + ']] !== undefined ';\n\n              if ($ownProperties) {\n                out += ' &&   Object.prototype.hasOwnProperty.call(' + $data + ', ' + $vSchema + '[' + $i + ']) ';\n              }\n\n              out += '; if (!' + $valid + ') break; } ';\n\n              if ($isData) {\n                out += '  }  ';\n              }\n\n              out += '  if (!' + $valid + ') {   ';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = '';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + 'required' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { missingProperty: \\'' + $missingProperty + '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + $missingProperty + '\\\\\\'';\n                  }\n\n                  out += '\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              var __err = out;\n              out = $$outStack.pop();\n\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + __err + ']); ';\n                } else {\n                  out += ' validate.errors = [' + __err + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n\n              out += ' } else { ';\n            } else {\n              out += ' if ( ';\n              var arr2 = $required;\n\n              if (arr2) {\n                var $propertyKey,\n                    $i = -1,\n                    l2 = arr2.length - 1;\n\n                while ($i < l2) {\n                  $propertyKey = arr2[$i += 1];\n\n                  if ($i) {\n                    out += ' || ';\n                  }\n\n                  var $prop = it.util.getProperty($propertyKey),\n                      $useData = $data + $prop;\n                  out += ' ( ( ' + $useData + ' === undefined ';\n\n                  if ($ownProperties) {\n                    out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                  }\n\n                  out += ') && (missing' + $lvl + ' = ' + it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop) + ') ) ';\n                }\n              }\n\n              out += ') {  ';\n              var $propertyPath = 'missing' + $lvl,\n                  $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n              }\n\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = '';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + 'required' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { missingProperty: \\'' + $missingProperty + '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + $missingProperty + '\\\\\\'';\n                  }\n\n                  out += '\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              var __err = out;\n              out = $$outStack.pop();\n\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + __err + ']); ';\n                } else {\n                  out += ' validate.errors = [' + __err + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n\n              out += ' } else { ';\n            }\n          } else {\n            if ($loopRequired) {\n              if (!$isData) {\n                out += ' var ' + $vSchema + ' = validate.schema' + $schemaPath + '; ';\n              }\n\n              var $i = 'i' + $lvl,\n                  $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n                  $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n              }\n\n              if ($isData) {\n                out += ' if (' + $vSchema + ' && !Array.isArray(' + $vSchema + ')) {  var err =   ';\n                /* istanbul ignore else */\n\n                if (it.createErrors !== false) {\n                  out += ' { keyword: \\'' + 'required' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { missingProperty: \\'' + $missingProperty + '\\' } ';\n\n                  if (it.opts.messages !== false) {\n                    out += ' , message: \\'';\n\n                    if (it.opts._errorDataPathProperty) {\n                      out += 'is a required property';\n                    } else {\n                      out += 'should have required property \\\\\\'' + $missingProperty + '\\\\\\'';\n                    }\n\n                    out += '\\' ';\n                  }\n\n                  if (it.opts.verbose) {\n                    out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                  }\n\n                  out += ' } ';\n                } else {\n                  out += ' {} ';\n                }\n\n                out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + $vSchema + ' !== undefined) { ';\n              }\n\n              out += ' for (var ' + $i + ' = 0; ' + $i + ' < ' + $vSchema + '.length; ' + $i + '++) { if (' + $data + '[' + $vSchema + '[' + $i + ']] === undefined ';\n\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', ' + $vSchema + '[' + $i + ']) ';\n              }\n\n              out += ') {  var err =   ';\n              /* istanbul ignore else */\n\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + 'required' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { missingProperty: \\'' + $missingProperty + '\\' } ';\n\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + $missingProperty + '\\\\\\'';\n                  }\n\n                  out += '\\' ';\n                }\n\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                }\n\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n\n              out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n\n              if ($isData) {\n                out += '  }  ';\n              }\n            } else {\n              var arr3 = $required;\n\n              if (arr3) {\n                var $propertyKey,\n                    i3 = -1,\n                    l3 = arr3.length - 1;\n\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $prop = it.util.getProperty($propertyKey),\n                      $missingProperty = it.util.escapeQuotes($propertyKey),\n                      $useData = $data + $prop;\n\n                  if (it.opts._errorDataPathProperty) {\n                    it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n                  }\n\n                  out += ' if ( ' + $useData + ' === undefined ';\n\n                  if ($ownProperties) {\n                    out += ' || ! Object.prototype.hasOwnProperty.call(' + $data + ', \\'' + it.util.escapeQuotes($propertyKey) + '\\') ';\n                  }\n\n                  out += ') {  var err =   ';\n                  /* istanbul ignore else */\n\n                  if (it.createErrors !== false) {\n                    out += ' { keyword: \\'' + 'required' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { missingProperty: \\'' + $missingProperty + '\\' } ';\n\n                    if (it.opts.messages !== false) {\n                      out += ' , message: \\'';\n\n                      if (it.opts._errorDataPathProperty) {\n                        out += 'is a required property';\n                      } else {\n                        out += 'should have required property \\\\\\'' + $missingProperty + '\\\\\\'';\n                      }\n\n                      out += '\\' ';\n                    }\n\n                    if (it.opts.verbose) {\n                      out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n                    }\n\n                    out += ' } ';\n                  } else {\n                    out += ' {} ';\n                  }\n\n                  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n                }\n              }\n            }\n          }\n\n          it.errorPath = $currentErrorPath;\n        } else if ($breakOnError) {\n          out += ' if (true) {';\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        if (($schema || $isData) && it.opts.uniqueItems !== false) {\n          if ($isData) {\n            out += ' var ' + $valid + '; if (' + $schemaValue + ' === false || ' + $schemaValue + ' === undefined) ' + $valid + ' = true; else if (typeof ' + $schemaValue + ' != \\'boolean\\') ' + $valid + ' = false; else { ';\n          }\n\n          out += ' var i = ' + $data + '.length , ' + $valid + ' = true , j; if (i > 1) { ';\n          var $itemType = it.schema.items && it.schema.items.type,\n              $typeIsArray = Array.isArray($itemType);\n\n          if (!$itemType || $itemType == 'object' || $itemType == 'array' || $typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0)) {\n            out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + $data + '[i], ' + $data + '[j])) { ' + $valid + ' = false; break outer; } } } ';\n          } else {\n            out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + $data + '[i]; ';\n            var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n            out += ' if (' + it.util[$method]($itemType, 'item', true) + ') continue; ';\n\n            if ($typeIsArray) {\n              out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n            }\n\n            out += ' if (typeof itemIndices[item] == \\'number\\') { ' + $valid + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n          }\n\n          out += ' } ';\n\n          if ($isData) {\n            out += '  }  ';\n          }\n\n          out += ' if (!' + $valid + ') {   ';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + 'uniqueItems' + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { i: i, j: j } ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema:  ';\n\n              if ($isData) {\n                out += 'validate.schema' + $schemaPath;\n              } else {\n                out += '' + $schema;\n              }\n\n              out += '         , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          var __err = out;\n          out = $$outStack.pop();\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + __err + ']); ';\n            } else {\n              out += ' validate.errors = [' + __err + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n\n          out += ' } ';\n\n          if ($breakOnError) {\n            out += ' else { ';\n          }\n        } else {\n          if ($breakOnError) {\n            out += ' if (true) { ';\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var KEYWORDS = ['multipleOf', 'maximum', 'exclusiveMaximum', 'minimum', 'exclusiveMinimum', 'maxLength', 'minLength', 'pattern', 'additionalItems', 'maxItems', 'minItems', 'uniqueItems', 'maxProperties', 'minProperties', 'required', 'additionalProperties', 'enum', 'format', 'const'];\n\n      module.exports = function (metaSchema, keywordsJsonPointers) {\n        for (var i = 0; i < keywordsJsonPointers.length; i++) {\n          metaSchema = JSON.parse(JSON.stringify(metaSchema));\n          var segments = keywordsJsonPointers[i].split('/');\n          var keywords = metaSchema;\n          var j;\n\n          for (j = 1; j < segments.length; j++) {\n            keywords = keywords[segments[j]];\n          }\n\n          for (j = 0; j < KEYWORDS.length; j++) {\n            var key = KEYWORDS[j];\n            var schema = keywords[key];\n\n            if (schema) {\n              keywords[key] = {\n                anyOf: [schema, {\n                  $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#'\n                }]\n              };\n            }\n          }\n        }\n\n        return metaSchema;\n      };\n      /***/\n\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var MissingRefError = __webpack_require__(19).MissingRef;\n\n      module.exports = compileAsync;\n      /**\n       * Creates validating function for passed schema with asynchronous loading of missing schemas.\n       * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n       * @this  Ajv\n       * @param {Object}   schema schema object\n       * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n       * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n       * @return {Promise} promise that resolves with a validating function.\n       */\n\n      function compileAsync(schema, meta, callback) {\n        /* eslint no-shadow: 0 */\n\n        /* global Promise */\n\n        /* jshint validthis: true */\n        var self = this;\n        if (typeof this._opts.loadSchema != 'function') throw new Error('options.loadSchema should be a function');\n\n        if (typeof meta == 'function') {\n          callback = meta;\n          meta = undefined;\n        }\n\n        var p = loadMetaSchemaOf(schema).then(function () {\n          var schemaObj = self._addSchema(schema, undefined, meta);\n\n          return schemaObj.validate || _compileAsync(schemaObj);\n        });\n\n        if (callback) {\n          p.then(function (v) {\n            callback(null, v);\n          }, callback);\n        }\n\n        return p;\n\n        function loadMetaSchemaOf(sch) {\n          var $schema = sch.$schema;\n          return $schema && !self.getSchema($schema) ? compileAsync.call(self, {\n            $ref: $schema\n          }, true) : Promise.resolve();\n        }\n\n        function _compileAsync(schemaObj) {\n          try {\n            return self._compile(schemaObj);\n          } catch (e) {\n            if (e instanceof MissingRefError) return loadMissingSchema(e);\n            throw e;\n          }\n\n          function loadMissingSchema(e) {\n            var ref = e.missingSchema;\n            if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n            var schemaPromise = self._loadingSchemas[ref];\n\n            if (!schemaPromise) {\n              schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n              schemaPromise.then(removePromise, removePromise);\n            }\n\n            return schemaPromise.then(function (sch) {\n              if (!added(ref)) {\n                return loadMetaSchemaOf(sch).then(function () {\n                  if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n                });\n              }\n            }).then(function () {\n              return _compileAsync(schemaObj);\n            });\n\n            function removePromise() {\n              delete self._loadingSchemas[ref];\n            }\n\n            function added(ref) {\n              return self._refs[ref] || self._schemas[ref];\n            }\n          }\n        }\n      }\n      /***/\n\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\n\n      var customRuleCode = __webpack_require__(74);\n\n      var definitionSchema = __webpack_require__(75);\n\n      module.exports = {\n        add: addKeyword,\n        get: getKeyword,\n        remove: removeKeyword,\n        validate: validateKeyword\n      };\n      /**\n       * Define custom keyword\n       * @this  Ajv\n       * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n       * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n       * @return {Ajv} this for method chaining\n       */\n\n      function addKeyword(keyword, definition) {\n        /* jshint validthis: true */\n\n        /* eslint no-shadow: 0 */\n        var RULES = this.RULES;\n        if (RULES.keywords[keyword]) throw new Error('Keyword ' + keyword + ' is already defined');\n        if (!IDENTIFIER.test(keyword)) throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n        if (definition) {\n          this.validateKeyword(definition, true);\n          var dataType = definition.type;\n\n          if (Array.isArray(dataType)) {\n            for (var i = 0; i < dataType.length; i++) {\n              _addRule(keyword, dataType[i], definition);\n            }\n          } else {\n            _addRule(keyword, dataType, definition);\n          }\n\n          var metaSchema = definition.metaSchema;\n\n          if (metaSchema) {\n            if (definition.$data && this._opts.$data) {\n              metaSchema = {\n                anyOf: [metaSchema, {\n                  '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#'\n                }]\n              };\n            }\n\n            definition.validateSchema = this.compile(metaSchema, true);\n          }\n        }\n\n        RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n        function _addRule(keyword, dataType, definition) {\n          var ruleGroup;\n\n          for (var i = 0; i < RULES.length; i++) {\n            var rg = RULES[i];\n\n            if (rg.type == dataType) {\n              ruleGroup = rg;\n              break;\n            }\n          }\n\n          if (!ruleGroup) {\n            ruleGroup = {\n              type: dataType,\n              rules: []\n            };\n            RULES.push(ruleGroup);\n          }\n\n          var rule = {\n            keyword: keyword,\n            definition: definition,\n            custom: true,\n            code: customRuleCode,\n            implements: definition.implements\n          };\n          ruleGroup.rules.push(rule);\n          RULES.custom[keyword] = rule;\n        }\n\n        return this;\n      }\n      /**\n       * Get keyword\n       * @this  Ajv\n       * @param {String} keyword pre-defined or custom keyword.\n       * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n       */\n\n\n      function getKeyword(keyword) {\n        /* jshint validthis: true */\n        var rule = this.RULES.custom[keyword];\n        return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n      }\n      /**\n       * Remove keyword\n       * @this  Ajv\n       * @param {String} keyword pre-defined or custom keyword.\n       * @return {Ajv} this for method chaining\n       */\n\n\n      function removeKeyword(keyword) {\n        /* jshint validthis: true */\n        var RULES = this.RULES;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        delete RULES.custom[keyword];\n\n        for (var i = 0; i < RULES.length; i++) {\n          var rules = RULES[i].rules;\n\n          for (var j = 0; j < rules.length; j++) {\n            if (rules[j].keyword == keyword) {\n              rules.splice(j, 1);\n              break;\n            }\n          }\n        }\n\n        return this;\n      }\n      /**\n       * Validate keyword definition\n       * @this  Ajv\n       * @param {Object} definition keyword definition object.\n       * @param {Boolean} throwError true to throw exception if definition is invalid\n       * @return {boolean} validation result\n       */\n\n\n      function validateKeyword(definition, throwError) {\n        validateKeyword.errors = null;\n        var v = this._validateKeyword = this._validateKeyword || this.compile(definitionSchema, true);\n        if (v(definition)) return true;\n        validateKeyword.errors = v.errors;\n        if (throwError) throw new Error('custom keyword definition is invalid: ' + this.errorsText(v.errors));else return false;\n      }\n      /***/\n\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = function generate_custom(it, $keyword, $ruleType) {\n        var out = ' ';\n        var $lvl = it.level;\n        var $dataLvl = it.dataLevel;\n        var $schema = it.schema[$keyword];\n        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n        var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n        var $breakOnError = !it.opts.allErrors;\n        var $errorKeyword;\n        var $data = 'data' + ($dataLvl || '');\n        var $valid = 'valid' + $lvl;\n        var $errs = 'errs__' + $lvl;\n        var $isData = it.opts.$data && $schema && $schema.$data,\n            $schemaValue;\n\n        if ($isData) {\n          out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n          $schemaValue = 'schema' + $lvl;\n        } else {\n          $schemaValue = $schema;\n        }\n\n        var $rule = this,\n            $definition = 'definition' + $lvl,\n            $rDef = $rule.definition,\n            $closingBraces = '';\n        var $compile, $inline, $macro, $ruleValidate, $validateCode;\n\n        if ($isData && $rDef.$data) {\n          $validateCode = 'keywordValidate' + $lvl;\n          var $validateSchema = $rDef.validateSchema;\n          out += ' var ' + $definition + ' = RULES.custom[\\'' + $keyword + '\\'].definition; var ' + $validateCode + ' = ' + $definition + '.validate;';\n        } else {\n          $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n          if (!$ruleValidate) return;\n          $schemaValue = 'validate.schema' + $schemaPath;\n          $validateCode = $ruleValidate.code;\n          $compile = $rDef.compile;\n          $inline = $rDef.inline;\n          $macro = $rDef.macro;\n        }\n\n        var $ruleErrs = $validateCode + '.errors',\n            $i = 'i' + $lvl,\n            $ruleErr = 'ruleErr' + $lvl,\n            $asyncKeyword = $rDef.async;\n        if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n\n        if (!($inline || $macro)) {\n          out += '' + $ruleErrs + ' = null;';\n        }\n\n        out += 'var ' + $errs + ' = errors;var ' + $valid + ';';\n\n        if ($isData && $rDef.$data) {\n          $closingBraces += '}';\n          out += ' if (' + $schemaValue + ' === undefined) { ' + $valid + ' = true; } else { ';\n\n          if ($validateSchema) {\n            $closingBraces += '}';\n            out += ' ' + $valid + ' = ' + $definition + '.validateSchema(' + $schemaValue + '); if (' + $valid + ') { ';\n          }\n        }\n\n        if ($inline) {\n          if ($rDef.statements) {\n            out += ' ' + $ruleValidate.validate + ' ';\n          } else {\n            out += ' ' + $valid + ' = ' + $ruleValidate.validate + '; ';\n          }\n        } else if ($macro) {\n          var $it = it.util.copy(it);\n          var $closingBraces = '';\n          $it.level++;\n          var $nextValid = 'valid' + $it.level;\n          $it.schema = $ruleValidate.validate;\n          $it.schemaPath = '';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n          it.compositeRule = $it.compositeRule = $wasComposite;\n          out += ' ' + $code;\n        } else {\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n          out += '  ' + $validateCode + '.call( ';\n\n          if (it.opts.passContext) {\n            out += 'this';\n          } else {\n            out += 'self';\n          }\n\n          if ($compile || $rDef.schema === false) {\n            out += ' , ' + $data + ' ';\n          } else {\n            out += ' , ' + $schemaValue + ' , ' + $data + ' , validate.schema' + it.schemaPath + ' ';\n          }\n\n          out += ' , (dataPath || \\'\\')';\n\n          if (it.errorPath != '\"\"') {\n            out += ' + ' + it.errorPath;\n          }\n\n          var $parentData = $dataLvl ? 'data' + ($dataLvl - 1 || '') : 'parentData',\n              $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n          out += ' , ' + $parentData + ' , ' + $parentDataProperty + ' , rootData )  ';\n          var def_callRuleValidate = out;\n          out = $$outStack.pop();\n\n          if ($rDef.errors === false) {\n            out += ' ' + $valid + ' = ';\n\n            if ($asyncKeyword) {\n              out += 'await ';\n            }\n\n            out += '' + def_callRuleValidate + '; ';\n          } else {\n            if ($asyncKeyword) {\n              $ruleErrs = 'customErrors' + $lvl;\n              out += ' var ' + $ruleErrs + ' = null; try { ' + $valid + ' = await ' + def_callRuleValidate + '; } catch (e) { ' + $valid + ' = false; if (e instanceof ValidationError) ' + $ruleErrs + ' = e.errors; else throw e; } ';\n            } else {\n              out += ' ' + $ruleErrs + ' = null; ' + $valid + ' = ' + def_callRuleValidate + '; ';\n            }\n          }\n        }\n\n        if ($rDef.modifying) {\n          out += ' if (' + $parentData + ') ' + $data + ' = ' + $parentData + '[' + $parentDataProperty + '];';\n        }\n\n        out += '' + $closingBraces;\n\n        if ($rDef.valid) {\n          if ($breakOnError) {\n            out += ' if (true) { ';\n          }\n        } else {\n          out += ' if ( ';\n\n          if ($rDef.valid === undefined) {\n            out += ' !';\n\n            if ($macro) {\n              out += '' + $nextValid;\n            } else {\n              out += '' + $valid;\n            }\n          } else {\n            out += ' ' + !$rDef.valid + ' ';\n          }\n\n          out += ') { ';\n          $errorKeyword = $rule.keyword;\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = '';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { keyword: \\'' + $rule.keyword + '\\' } ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should pass \"' + $rule.keyword + '\" keyword validation\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          var __err = out;\n          out = $$outStack.pop();\n\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + __err + ']); ';\n            } else {\n              out += ' validate.errors = [' + __err + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n\n          var def_customError = out;\n          out = $$outStack.pop();\n\n          if ($inline) {\n            if ($rDef.errors) {\n              if ($rDef.errors != 'full') {\n                out += '  for (var ' + $i + '=' + $errs + '; ' + $i + '<errors; ' + $i + '++) { var ' + $ruleErr + ' = vErrors[' + $i + ']; if (' + $ruleErr + '.dataPath === undefined) ' + $ruleErr + '.dataPath = (dataPath || \\'\\') + ' + it.errorPath + '; if (' + $ruleErr + '.schemaPath === undefined) { ' + $ruleErr + '.schemaPath = \"' + $errSchemaPath + '\"; } ';\n\n                if (it.opts.verbose) {\n                  out += ' ' + $ruleErr + '.schema = ' + $schemaValue + '; ' + $ruleErr + '.data = ' + $data + '; ';\n                }\n\n                out += ' } ';\n              }\n            } else {\n              if ($rDef.errors === false) {\n                out += ' ' + def_customError + ' ';\n              } else {\n                out += ' if (' + $errs + ' == errors) { ' + def_customError + ' } else {  for (var ' + $i + '=' + $errs + '; ' + $i + '<errors; ' + $i + '++) { var ' + $ruleErr + ' = vErrors[' + $i + ']; if (' + $ruleErr + '.dataPath === undefined) ' + $ruleErr + '.dataPath = (dataPath || \\'\\') + ' + it.errorPath + '; if (' + $ruleErr + '.schemaPath === undefined) { ' + $ruleErr + '.schemaPath = \"' + $errSchemaPath + '\"; } ';\n\n                if (it.opts.verbose) {\n                  out += ' ' + $ruleErr + '.schema = ' + $schemaValue + '; ' + $ruleErr + '.data = ' + $data + '; ';\n                }\n\n                out += ' } } ';\n              }\n            }\n          } else if ($macro) {\n            out += '   var err =   ';\n            /* istanbul ignore else */\n\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { keyword: \\'' + $rule.keyword + '\\' } ';\n\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should pass \"' + $rule.keyword + '\" keyword validation\\' ';\n              }\n\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n              }\n\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n            if (!it.compositeRule && $breakOnError) {\n              /* istanbul ignore if */\n              if (it.async) {\n                out += ' throw new ValidationError(vErrors); ';\n              } else {\n                out += ' validate.errors = vErrors; return false; ';\n              }\n            }\n          } else {\n            if ($rDef.errors === false) {\n              out += ' ' + def_customError + ' ';\n            } else {\n              out += ' if (Array.isArray(' + $ruleErrs + ')) { if (vErrors === null) vErrors = ' + $ruleErrs + '; else vErrors = vErrors.concat(' + $ruleErrs + '); errors = vErrors.length;  for (var ' + $i + '=' + $errs + '; ' + $i + '<errors; ' + $i + '++) { var ' + $ruleErr + ' = vErrors[' + $i + ']; if (' + $ruleErr + '.dataPath === undefined) ' + $ruleErr + '.dataPath = (dataPath || \\'\\') + ' + it.errorPath + ';  ' + $ruleErr + '.schemaPath = \"' + $errSchemaPath + '\";  ';\n\n              if (it.opts.verbose) {\n                out += ' ' + $ruleErr + '.schema = ' + $schemaValue + '; ' + $ruleErr + '.data = ' + $data + '; ';\n              }\n\n              out += ' } } else { ' + def_customError + ' } ';\n            }\n          }\n\n          out += ' } ';\n\n          if ($breakOnError) {\n            out += ' else { ';\n          }\n        }\n\n        return out;\n      };\n      /***/\n\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var metaSchema = __webpack_require__(32);\n\n      module.exports = {\n        $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',\n        definitions: {\n          simpleTypes: metaSchema.definitions.simpleTypes\n        },\n        type: 'object',\n        dependencies: {\n          schema: ['validate'],\n          $data: ['validate'],\n          statements: ['inline'],\n          valid: {\n            not: {\n              required: ['macro']\n            }\n          }\n        },\n        properties: {\n          type: metaSchema.properties.type,\n          schema: {\n            type: 'boolean'\n          },\n          statements: {\n            type: 'boolean'\n          },\n          dependencies: {\n            type: 'array',\n            items: {\n              type: 'string'\n            }\n          },\n          metaSchema: {\n            type: 'object'\n          },\n          modifying: {\n            type: 'boolean'\n          },\n          valid: {\n            type: 'boolean'\n          },\n          $data: {\n            type: 'boolean'\n          },\n          async: {\n            type: 'boolean'\n          },\n          errors: {\n            anyOf: [{\n              type: 'boolean'\n            }, {\n              const: 'full'\n            }]\n          }\n        }\n      };\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module) {\n      module.exports = JSON.parse(\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-07/schema#\\\",\\\"$id\\\":\\\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\\\",\\\"description\\\":\\\"Meta-schema for $data reference (JSON Schema extension proposal)\\\",\\\"type\\\":\\\"object\\\",\\\"required\\\":[\\\"$data\\\"],\\\"properties\\\":{\\\"$data\\\":{\\\"type\\\":\\\"string\\\",\\\"anyOf\\\":[{\\\"format\\\":\\\"relative-json-pointer\\\"},{\\\"format\\\":\\\"json-pointer\\\"}]}},\\\"additionalProperties\\\":false}\");\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module) {\n      module.exports = JSON.parse(\"{\\\"id\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"description\\\":\\\"Core schema meta-schema\\\",\\\"definitions\\\":{\\\"schemaArray\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"items\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"positiveInteger\\\":{\\\"type\\\":\\\"integer\\\",\\\"minimum\\\":0},\\\"positiveIntegerDefault0\\\":{\\\"allOf\\\":[{\\\"$ref\\\":\\\"#/definitions/positiveInteger\\\"},{\\\"default\\\":0}]},\\\"simpleTypes\\\":{\\\"enum\\\":[\\\"array\\\",\\\"boolean\\\",\\\"integer\\\",\\\"null\\\",\\\"number\\\",\\\"object\\\",\\\"string\\\"]},\\\"stringArray\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"minItems\\\":1,\\\"uniqueItems\\\":true}},\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"id\\\":{\\\"type\\\":\\\"string\\\"},\\\"$schema\\\":{\\\"type\\\":\\\"string\\\"},\\\"title\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"type\\\":\\\"string\\\"},\\\"default\\\":{},\\\"multipleOf\\\":{\\\"type\\\":\\\"number\\\",\\\"minimum\\\":0,\\\"exclusiveMinimum\\\":true},\\\"maximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMaximum\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"minimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMinimum\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"maxLength\\\":{\\\"$ref\\\":\\\"#/definitions/positiveInteger\\\"},\\\"minLength\\\":{\\\"$ref\\\":\\\"#/definitions/positiveIntegerDefault0\\\"},\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"regex\\\"},\\\"additionalItems\\\":{\\\"anyOf\\\":[{\\\"type\\\":\\\"boolean\\\"},{\\\"$ref\\\":\\\"#\\\"}],\\\"default\\\":{}},\\\"items\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"}],\\\"default\\\":{}},\\\"maxItems\\\":{\\\"$ref\\\":\\\"#/definitions/positiveInteger\\\"},\\\"minItems\\\":{\\\"$ref\\\":\\\"#/definitions/positiveIntegerDefault0\\\"},\\\"uniqueItems\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"maxProperties\\\":{\\\"$ref\\\":\\\"#/definitions/positiveInteger\\\"},\\\"minProperties\\\":{\\\"$ref\\\":\\\"#/definitions/positiveIntegerDefault0\\\"},\\\"required\\\":{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"},\\\"additionalProperties\\\":{\\\"anyOf\\\":[{\\\"type\\\":\\\"boolean\\\"},{\\\"$ref\\\":\\\"#\\\"}],\\\"default\\\":{}},\\\"definitions\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"properties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"patternProperties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"dependencies\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"}]}},\\\"enum\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"uniqueItems\\\":true},\\\"type\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},\\\"minItems\\\":1,\\\"uniqueItems\\\":true}]},\\\"format\\\":{\\\"type\\\":\\\"string\\\"},\\\"allOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"anyOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"oneOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"not\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"dependencies\\\":{\\\"exclusiveMaximum\\\":[\\\"maximum\\\"],\\\"exclusiveMinimum\\\":[\\\"minimum\\\"]},\\\"default\\\":{}}\");\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module) {\n      module.exports = JSON.parse(\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-06/schema#\\\",\\\"$id\\\":\\\"http://json-schema.org/draft-06/schema#\\\",\\\"title\\\":\\\"Core schema meta-schema\\\",\\\"definitions\\\":{\\\"schemaArray\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"items\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"nonNegativeInteger\\\":{\\\"type\\\":\\\"integer\\\",\\\"minimum\\\":0},\\\"nonNegativeIntegerDefault0\\\":{\\\"allOf\\\":[{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},{\\\"default\\\":0}]},\\\"simpleTypes\\\":{\\\"enum\\\":[\\\"array\\\",\\\"boolean\\\",\\\"integer\\\",\\\"null\\\",\\\"number\\\",\\\"object\\\",\\\"string\\\"]},\\\"stringArray\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"uniqueItems\\\":true,\\\"default\\\":[]}},\\\"type\\\":[\\\"object\\\",\\\"boolean\\\"],\\\"properties\\\":{\\\"$id\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri-reference\\\"},\\\"$schema\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri\\\"},\\\"$ref\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"uri-reference\\\"},\\\"title\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"type\\\":\\\"string\\\"},\\\"default\\\":{},\\\"examples\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{}},\\\"multipleOf\\\":{\\\"type\\\":\\\"number\\\",\\\"exclusiveMinimum\\\":0},\\\"maximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMaximum\\\":{\\\"type\\\":\\\"number\\\"},\\\"minimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"exclusiveMinimum\\\":{\\\"type\\\":\\\"number\\\"},\\\"maxLength\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minLength\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"pattern\\\":{\\\"type\\\":\\\"string\\\",\\\"format\\\":\\\"regex\\\"},\\\"additionalItems\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"items\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"}],\\\"default\\\":{}},\\\"maxItems\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minItems\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"uniqueItems\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"contains\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"maxProperties\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeInteger\\\"},\\\"minProperties\\\":{\\\"$ref\\\":\\\"#/definitions/nonNegativeIntegerDefault0\\\"},\\\"required\\\":{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"},\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"definitions\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"properties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"patternProperties\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"default\\\":{}},\\\"dependencies\\\":{\\\"type\\\":\\\"object\\\",\\\"additionalProperties\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#\\\"},{\\\"$ref\\\":\\\"#/definitions/stringArray\\\"}]}},\\\"propertyNames\\\":{\\\"$ref\\\":\\\"#\\\"},\\\"const\\\":{},\\\"enum\\\":{\\\"type\\\":\\\"array\\\",\\\"minItems\\\":1,\\\"uniqueItems\\\":true},\\\"type\\\":{\\\"anyOf\\\":[{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"$ref\\\":\\\"#/definitions/simpleTypes\\\"},\\\"minItems\\\":1,\\\"uniqueItems\\\":true}]},\\\"format\\\":{\\\"type\\\":\\\"string\\\"},\\\"allOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"anyOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"oneOf\\\":{\\\"$ref\\\":\\\"#/definitions/schemaArray\\\"},\\\"not\\\":{\\\"$ref\\\":\\\"#\\\"}},\\\"default\\\":{}}\");\n      /***/\n    },\n    /* 79 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__); // EXTERNAL MODULE: ./src/js/vanilla-picker/index.js\n\n\n      var vanilla_picker = __webpack_require__(13);\n\n      var vanilla_picker_default = /*#__PURE__*/__webpack_require__.n(vanilla_picker); // CONCATENATED MODULE: ./src/js/Highlighter.js\n\n      /**\n       * The highlighter can highlight/unhighlight a node, and\n       * animate the visibility of a context menu.\n       * @constructor Highlighter\n       */\n\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      var Highlighter = /*#__PURE__*/function () {\n        function Highlighter() {\n          _classCallCheck(this, Highlighter);\n\n          this.locked = false;\n        }\n        /**\n         * Hightlight given node and its childs\n         * @param {Node} node\n         */\n\n\n        _createClass(Highlighter, [{\n          key: \"highlight\",\n          value: function highlight(node) {\n            if (this.locked) {\n              return;\n            }\n\n            if (this.node !== node) {\n              // unhighlight current node\n              if (this.node) {\n                this.node.setHighlight(false);\n              } // highlight new node\n\n\n              this.node = node;\n              this.node.setHighlight(true);\n            } // cancel any current timeout\n\n\n            this._cancelUnhighlight();\n          }\n          /**\n           * Unhighlight currently highlighted node.\n           * Will be done after a delay\n           */\n\n        }, {\n          key: \"unhighlight\",\n          value: function unhighlight() {\n            if (this.locked) {\n              return;\n            }\n\n            var me = this;\n\n            if (this.node) {\n              this._cancelUnhighlight(); // do the unhighlighting after a small delay, to prevent re-highlighting\n              // the same node when moving from the drag-icon to the contextmenu-icon\n              // or vice versa.\n\n\n              this.unhighlightTimer = setTimeout(function () {\n                me.node.setHighlight(false);\n                me.node = undefined;\n                me.unhighlightTimer = undefined;\n              }, 0);\n            }\n          }\n          /**\n           * Cancel an unhighlight action (if before the timeout of the unhighlight action)\n           * @private\n           */\n\n        }, {\n          key: \"_cancelUnhighlight\",\n          value: function _cancelUnhighlight() {\n            if (this.unhighlightTimer) {\n              clearTimeout(this.unhighlightTimer);\n              this.unhighlightTimer = undefined;\n            }\n          }\n          /**\n           * Lock highlighting or unhighlighting nodes.\n           * methods highlight and unhighlight do not work while locked.\n           */\n\n        }, {\n          key: \"lock\",\n          value: function lock() {\n            this.locked = true;\n          }\n          /**\n           * Unlock highlighting or unhighlighting nodes\n           */\n\n        }, {\n          key: \"unlock\",\n          value: function unlock() {\n            this.locked = false;\n          }\n        }]);\n\n        return Highlighter;\n      }(); // EXTERNAL MODULE: ./src/js/util.js\n\n\n      var util = __webpack_require__(0); // CONCATENATED MODULE: ./src/js/NodeHistory.js\n\n\n      function NodeHistory_classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function NodeHistory_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function NodeHistory_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) NodeHistory_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) NodeHistory_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @constructor History\n       * Store action history, enables undo and redo\n       * @param {JSONEditor} editor\n       */\n\n\n      var NodeHistory_NodeHistory = /*#__PURE__*/function () {\n        function NodeHistory(editor) {\n          NodeHistory_classCallCheck(this, NodeHistory);\n          this.editor = editor;\n          this.history = [];\n          this.index = -1;\n          this.clear(); // helper function to find a Node from a path\n\n          function findNode(path) {\n            return editor.node.findNodeByInternalPath(path);\n          } // map with all supported actions\n\n\n          this.actions = {\n            editField: {\n              undo: function undo(params) {\n                var parentNode = findNode(params.parentPath);\n                var node = parentNode.childs[params.index];\n                node.updateField(params.oldValue);\n              },\n              redo: function redo(params) {\n                var parentNode = findNode(params.parentPath);\n                var node = parentNode.childs[params.index];\n                node.updateField(params.newValue);\n              }\n            },\n            editValue: {\n              undo: function undo(params) {\n                findNode(params.path).updateValue(params.oldValue);\n              },\n              redo: function redo(params) {\n                findNode(params.path).updateValue(params.newValue);\n              }\n            },\n            changeType: {\n              undo: function undo(params) {\n                findNode(params.path).changeType(params.oldType);\n              },\n              redo: function redo(params) {\n                findNode(params.path).changeType(params.newType);\n              }\n            },\n            appendNodes: {\n              undo: function undo(params) {\n                var parentNode = findNode(params.parentPath);\n                params.paths.map(findNode).forEach(function (node) {\n                  parentNode.removeChild(node);\n                });\n              },\n              redo: function redo(params) {\n                var parentNode = findNode(params.parentPath);\n                params.nodes.forEach(function (node) {\n                  parentNode.appendChild(node);\n                });\n              }\n            },\n            insertBeforeNodes: {\n              undo: function undo(params) {\n                var parentNode = findNode(params.parentPath);\n                params.paths.map(findNode).forEach(function (node) {\n                  parentNode.removeChild(node);\n                });\n              },\n              redo: function redo(params) {\n                var parentNode = findNode(params.parentPath);\n                var beforeNode = findNode(params.beforePath);\n                params.nodes.forEach(function (node) {\n                  parentNode.insertBefore(node, beforeNode);\n                });\n              }\n            },\n            insertAfterNodes: {\n              undo: function undo(params) {\n                var parentNode = findNode(params.parentPath);\n                params.paths.map(findNode).forEach(function (node) {\n                  parentNode.removeChild(node);\n                });\n              },\n              redo: function redo(params) {\n                var parentNode = findNode(params.parentPath);\n                var afterNode = findNode(params.afterPath);\n                params.nodes.forEach(function (node) {\n                  parentNode.insertAfter(node, afterNode);\n                  afterNode = node;\n                });\n              }\n            },\n            removeNodes: {\n              undo: function undo(params) {\n                var parentNode = findNode(params.parentPath);\n                var beforeNode = parentNode.childs[params.index] || parentNode.append;\n                params.nodes.forEach(function (node) {\n                  parentNode.insertBefore(node, beforeNode);\n                });\n              },\n              redo: function redo(params) {\n                var parentNode = findNode(params.parentPath);\n                params.paths.map(findNode).forEach(function (node) {\n                  parentNode.removeChild(node);\n                });\n              }\n            },\n            duplicateNodes: {\n              undo: function undo(params) {\n                var parentNode = findNode(params.parentPath);\n                params.clonePaths.map(findNode).forEach(function (node) {\n                  parentNode.removeChild(node);\n                });\n              },\n              redo: function redo(params) {\n                var parentNode = findNode(params.parentPath);\n                var afterNode = findNode(params.afterPath);\n                var nodes = params.paths.map(findNode);\n                nodes.forEach(function (node) {\n                  var clone = node.clone();\n\n                  if (parentNode.type === 'object') {\n                    var existingFieldNames = parentNode.getFieldNames();\n                    clone.field = Object(util[\"findUniqueName\"])(node.field, existingFieldNames);\n                  }\n\n                  parentNode.insertAfter(clone, afterNode);\n                  afterNode = clone;\n                });\n              }\n            },\n            moveNodes: {\n              undo: function undo(params) {\n                var oldParentNode = findNode(params.oldParentPath);\n                var newParentNode = findNode(params.newParentPath);\n                var oldBeforeNode = oldParentNode.childs[params.oldIndex] || oldParentNode.append; // first copy the nodes, then move them\n\n                var nodes = newParentNode.childs.slice(params.newIndex, params.newIndex + params.count);\n                nodes.forEach(function (node, index) {\n                  node.field = params.fieldNames[index];\n                  oldParentNode.moveBefore(node, oldBeforeNode);\n                }); // This is a hack to work around an issue that we don't know tha original\n                // path of the new parent after dragging, as the node is already moved at that time.\n\n                if (params.newParentPathRedo === null) {\n                  params.newParentPathRedo = newParentNode.getInternalPath();\n                }\n              },\n              redo: function redo(params) {\n                var oldParentNode = findNode(params.oldParentPathRedo);\n                var newParentNode = findNode(params.newParentPathRedo);\n                var newBeforeNode = newParentNode.childs[params.newIndexRedo] || newParentNode.append; // first copy the nodes, then move them\n\n                var nodes = oldParentNode.childs.slice(params.oldIndexRedo, params.oldIndexRedo + params.count);\n                nodes.forEach(function (node, index) {\n                  node.field = params.fieldNames[index];\n                  newParentNode.moveBefore(node, newBeforeNode);\n                });\n              }\n            },\n            sort: {\n              undo: function undo(params) {\n                var node = findNode(params.path);\n                node.hideChilds();\n                node.childs = params.oldChilds;\n                node.updateDom({\n                  updateIndexes: true\n                });\n                node.showChilds();\n              },\n              redo: function redo(params) {\n                var node = findNode(params.path);\n                node.hideChilds();\n                node.childs = params.newChilds;\n                node.updateDom({\n                  updateIndexes: true\n                });\n                node.showChilds();\n              }\n            },\n            transform: {\n              undo: function undo(params) {\n                findNode(params.path).setInternalValue(params.oldValue); // TODO: would be nice to restore the state of the node and childs\n              },\n              redo: function redo(params) {\n                findNode(params.path).setInternalValue(params.newValue); // TODO: would be nice to restore the state of the node and childs\n              }\n            } // TODO: restore the original caret position and selection with each undo\n            // TODO: implement history for actions \"expand\", \"collapse\", \"scroll\", \"setDocument\"\n\n          };\n        }\n        /**\n         * The method onChange is executed when the History is changed, and can\n         * be overloaded.\n         */\n\n\n        NodeHistory_createClass(NodeHistory, [{\n          key: \"onChange\",\n          value: function onChange() {}\n          /**\n           * Add a new action to the history\n           * @param {String} action  The executed action. Available actions: \"editField\",\n           *                         \"editValue\", \"changeType\", \"appendNode\",\n           *                         \"removeNode\", \"duplicateNode\", \"moveNode\"\n           * @param {Object} params  Object containing parameters describing the change.\n           *                         The parameters in params depend on the action (for\n           *                         example for \"editValue\" the Node, old value, and new\n           *                         value are provided). params contains all information\n           *                         needed to undo or redo the action.\n           */\n\n        }, {\n          key: \"add\",\n          value: function add(action, params) {\n            this.index++;\n            this.history[this.index] = {\n              action: action,\n              params: params,\n              timestamp: new Date()\n            }; // remove redo actions which are invalid now\n\n            if (this.index < this.history.length - 1) {\n              this.history.splice(this.index + 1, this.history.length - this.index - 1);\n            } // fire onchange event\n\n\n            this.onChange();\n          }\n          /**\n           * Clear history\n           */\n\n        }, {\n          key: \"clear\",\n          value: function clear() {\n            this.history = [];\n            this.index = -1; // fire onchange event\n\n            this.onChange();\n          }\n          /**\n           * Check if there is an action available for undo\n           * @return {Boolean} canUndo\n           */\n\n        }, {\n          key: \"canUndo\",\n          value: function canUndo() {\n            return this.index >= 0;\n          }\n          /**\n           * Check if there is an action available for redo\n           * @return {Boolean} canRedo\n           */\n\n        }, {\n          key: \"canRedo\",\n          value: function canRedo() {\n            return this.index < this.history.length - 1;\n          }\n          /**\n           * Undo the last action\n           */\n\n        }, {\n          key: \"undo\",\n          value: function undo() {\n            if (this.canUndo()) {\n              var obj = this.history[this.index];\n\n              if (obj) {\n                var action = this.actions[obj.action];\n\n                if (action && action.undo) {\n                  action.undo(obj.params);\n\n                  if (obj.params.oldSelection) {\n                    try {\n                      this.editor.setDomSelection(obj.params.oldSelection);\n                    } catch (err) {\n                      console.error(err);\n                    }\n                  }\n                } else {\n                  console.error(new Error('unknown action \"' + obj.action + '\"'));\n                }\n              }\n\n              this.index--; // fire onchange event\n\n              this.onChange();\n            }\n          }\n          /**\n           * Redo the last action\n           */\n\n        }, {\n          key: \"redo\",\n          value: function redo() {\n            if (this.canRedo()) {\n              this.index++;\n              var obj = this.history[this.index];\n\n              if (obj) {\n                var action = this.actions[obj.action];\n\n                if (action && action.redo) {\n                  action.redo(obj.params);\n\n                  if (obj.params.newSelection) {\n                    try {\n                      this.editor.setDomSelection(obj.params.newSelection);\n                    } catch (err) {\n                      console.error(err);\n                    }\n                  }\n                } else {\n                  console.error(new Error('unknown action \"' + obj.action + '\"'));\n                }\n              } // fire onchange event\n\n\n              this.onChange();\n            }\n          }\n          /**\n           * Destroy history\n           */\n\n        }, {\n          key: \"destroy\",\n          value: function destroy() {\n            this.editor = null;\n            this.history = [];\n            this.index = -1;\n          }\n        }]);\n        return NodeHistory;\n      }(); // EXTERNAL MODULE: ./src/js/i18n.js\n\n\n      var i18n = __webpack_require__(1); // CONCATENATED MODULE: ./src/js/SearchBox.js\n\n\n      function SearchBox_classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function SearchBox_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function SearchBox_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) SearchBox_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) SearchBox_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @constructor SearchBox\n       * Create a search box in given HTML container\n       * @param {JSONEditor} editor    The JSON Editor to attach to\n       * @param {Element} container               HTML container element of where to\n       *                                          create the search box\n       */\n\n\n      var SearchBox_SearchBox = /*#__PURE__*/function () {\n        function SearchBox(editor, container) {\n          SearchBox_classCallCheck(this, SearchBox);\n          var searchBox = this;\n          this.editor = editor;\n          this.timeout = undefined;\n          this.delay = 200; // ms\n\n          this.lastText = undefined;\n          this.results = null;\n          this.dom = {};\n          this.dom.container = container;\n          var wrapper = document.createElement('div');\n          this.dom.wrapper = wrapper;\n          wrapper.className = 'jsoneditor-search';\n          container.appendChild(wrapper);\n          var results = document.createElement('div');\n          this.dom.results = results;\n          results.className = 'jsoneditor-results';\n          wrapper.appendChild(results);\n          var divInput = document.createElement('div');\n          this.dom.input = divInput;\n          divInput.className = 'jsoneditor-frame';\n          divInput.title = Object(i18n[\"c\"\n          /* translate */\n          ])('searchTitle');\n          wrapper.appendChild(divInput);\n          var refreshSearch = document.createElement('button');\n          refreshSearch.type = 'button';\n          refreshSearch.className = 'jsoneditor-refresh';\n          divInput.appendChild(refreshSearch);\n          var search = document.createElement('input');\n          search.type = 'text';\n          this.dom.search = search;\n\n          search.oninput = function (event) {\n            searchBox._onDelayedSearch(event);\n          };\n\n          search.onchange = function (event) {\n            // For IE 9\n            searchBox._onSearch();\n          };\n\n          search.onkeydown = function (event) {\n            searchBox._onKeyDown(event);\n          };\n\n          search.onkeyup = function (event) {\n            searchBox._onKeyUp(event);\n          };\n\n          refreshSearch.onclick = function (event) {\n            search.select();\n          }; // TODO: ESC in FF restores the last input, is a FF bug, https://bugzilla.mozilla.org/show_bug.cgi?id=598819\n\n\n          divInput.appendChild(search);\n          var searchNext = document.createElement('button');\n          searchNext.type = 'button';\n          searchNext.title = Object(i18n[\"c\"\n          /* translate */\n          ])('searchNextResultTitle');\n          searchNext.className = 'jsoneditor-next';\n\n          searchNext.onclick = function () {\n            searchBox.next();\n          };\n\n          divInput.appendChild(searchNext);\n          var searchPrevious = document.createElement('button');\n          searchPrevious.type = 'button';\n          searchPrevious.title = Object(i18n[\"c\"\n          /* translate */\n          ])('searchPreviousResultTitle');\n          searchPrevious.className = 'jsoneditor-previous';\n\n          searchPrevious.onclick = function () {\n            searchBox.previous();\n          };\n\n          divInput.appendChild(searchPrevious);\n        }\n        /**\n         * Go to the next search result\n         * @param {boolean} [focus]   If true, focus will be set to the next result\n         *                            focus is false by default.\n         */\n\n\n        SearchBox_createClass(SearchBox, [{\n          key: \"next\",\n          value: function next(focus) {\n            if (this.results) {\n              var index = this.resultIndex !== null ? this.resultIndex + 1 : 0;\n\n              if (index > this.results.length - 1) {\n                index = 0;\n              }\n\n              this._setActiveResult(index, focus);\n            }\n          }\n          /**\n           * Go to the prevous search result\n           * @param {boolean} [focus]   If true, focus will be set to the next result\n           *                            focus is false by default.\n           */\n\n        }, {\n          key: \"previous\",\n          value: function previous(focus) {\n            if (this.results) {\n              var max = this.results.length - 1;\n              var index = this.resultIndex !== null ? this.resultIndex - 1 : max;\n\n              if (index < 0) {\n                index = max;\n              }\n\n              this._setActiveResult(index, focus);\n            }\n          }\n          /**\n           * Set new value for the current active result\n           * @param {Number} index\n           * @param {boolean} [focus]   If true, focus will be set to the next result.\n           *                            focus is false by default.\n           * @private\n           */\n\n        }, {\n          key: \"_setActiveResult\",\n          value: function _setActiveResult(index, focus) {\n            // de-activate current active result\n            if (this.activeResult) {\n              var prevNode = this.activeResult.node;\n              var prevElem = this.activeResult.elem;\n\n              if (prevElem === 'field') {\n                delete prevNode.searchFieldActive;\n              } else {\n                delete prevNode.searchValueActive;\n              }\n\n              prevNode.updateDom();\n            }\n\n            if (!this.results || !this.results[index]) {\n              // out of range, set to undefined\n              this.resultIndex = undefined;\n              this.activeResult = undefined;\n              return;\n            }\n\n            this.resultIndex = index; // set new node active\n\n            var node = this.results[this.resultIndex].node;\n            var elem = this.results[this.resultIndex].elem;\n\n            if (elem === 'field') {\n              node.searchFieldActive = true;\n            } else {\n              node.searchValueActive = true;\n            }\n\n            this.activeResult = this.results[this.resultIndex];\n            node.updateDom(); // TODO: not so nice that the focus is only set after the animation is finished\n\n            node.scrollTo(function () {\n              if (focus) {\n                node.focus(elem);\n              }\n            });\n          }\n          /**\n           * Cancel any running onDelayedSearch.\n           * @private\n           */\n\n        }, {\n          key: \"_clearDelay\",\n          value: function _clearDelay() {\n            if (this.timeout !== undefined) {\n              clearTimeout(this.timeout);\n              delete this.timeout;\n            }\n          }\n          /**\n           * Start a timer to execute a search after a short delay.\n           * Used for reducing the number of searches while typing.\n           * @param {Event} event\n           * @private\n           */\n\n        }, {\n          key: \"_onDelayedSearch\",\n          value: function _onDelayedSearch(event) {\n            // execute the search after a short delay (reduces the number of\n            // search actions while typing in the search text box)\n            this._clearDelay();\n\n            var searchBox = this;\n            this.timeout = setTimeout(function (event) {\n              searchBox._onSearch();\n            }, this.delay);\n          }\n          /**\n           * Handle onSearch event\n           * @param {boolean} [forceSearch]  If true, search will be executed again even\n           *                                 when the search text is not changed.\n           *                                 Default is false.\n           * @private\n           */\n\n        }, {\n          key: \"_onSearch\",\n          value: function _onSearch(forceSearch) {\n            this._clearDelay();\n\n            var value = this.dom.search.value;\n            var text = value.length > 0 ? value : undefined;\n\n            if (text !== this.lastText || forceSearch) {\n              // only search again when changed\n              this.lastText = text;\n              this.results = this.editor.search(text);\n              var MAX_SEARCH_RESULTS = this.results[0] ? this.results[0].node.MAX_SEARCH_RESULTS : Infinity; // try to maintain the current active result if this is still part of the new search results\n\n              var activeResultIndex = 0;\n\n              if (this.activeResult) {\n                for (var i = 0; i < this.results.length; i++) {\n                  if (this.results[i].node === this.activeResult.node) {\n                    activeResultIndex = i;\n                    break;\n                  }\n                }\n              }\n\n              this._setActiveResult(activeResultIndex, false); // display search results\n\n\n              if (text !== undefined) {\n                var resultCount = this.results.length;\n\n                if (resultCount === 0) {\n                  this.dom.results.innerHTML = 'no&nbsp;results';\n                } else if (resultCount === 1) {\n                  this.dom.results.innerHTML = '1&nbsp;result';\n                } else if (resultCount > MAX_SEARCH_RESULTS) {\n                  this.dom.results.innerHTML = MAX_SEARCH_RESULTS + '+&nbsp;results';\n                } else {\n                  this.dom.results.innerHTML = resultCount + '&nbsp;results';\n                }\n              } else {\n                this.dom.results.innerHTML = '';\n              }\n            }\n          }\n          /**\n           * Handle onKeyDown event in the input box\n           * @param {Event} event\n           * @private\n           */\n\n        }, {\n          key: \"_onKeyDown\",\n          value: function _onKeyDown(event) {\n            var keynum = event.which;\n\n            if (keynum === 27) {\n              // ESC\n              this.dom.search.value = ''; // clear search\n\n              this._onSearch();\n\n              event.preventDefault();\n              event.stopPropagation();\n            } else if (keynum === 13) {\n              // Enter\n              if (event.ctrlKey) {\n                // force to search again\n                this._onSearch(true);\n              } else if (event.shiftKey) {\n                // move to the previous search result\n                this.previous();\n              } else {\n                // move to the next search result\n                this.next();\n              }\n\n              event.preventDefault();\n              event.stopPropagation();\n            }\n          }\n          /**\n           * Handle onKeyUp event in the input box\n           * @param {Event} event\n           * @private\n           */\n\n        }, {\n          key: \"_onKeyUp\",\n          value: function _onKeyUp(event) {\n            var keynum = event.keyCode;\n\n            if (keynum !== 27 && keynum !== 13) {\n              // !show and !Enter\n              this._onDelayedSearch(event); // For IE 9\n\n            }\n          }\n          /**\n           * Clear the search results\n           */\n\n        }, {\n          key: \"clear\",\n          value: function clear() {\n            this.dom.search.value = '';\n\n            this._onSearch();\n          }\n          /**\n           * Refresh searchResults if there is a search value\n           */\n\n        }, {\n          key: \"forceSearch\",\n          value: function forceSearch() {\n            this._onSearch(true);\n          }\n          /**\n           * Test whether the search box value is empty\n           * @returns {boolean} Returns true when empty.\n           */\n\n        }, {\n          key: \"isEmpty\",\n          value: function isEmpty() {\n            return this.dom.search.value === '';\n          }\n          /**\n           * Destroy the search box\n           */\n\n        }, {\n          key: \"destroy\",\n          value: function destroy() {\n            this.editor = null;\n            this.dom.container.removeChild(this.dom.wrapper);\n            this.dom = null;\n            this.results = null;\n            this.activeResult = null;\n\n            this._clearDelay();\n          }\n        }]);\n        return SearchBox;\n      }(); // EXTERNAL MODULE: ./src/js/ContextMenu.js\n\n\n      var ContextMenu = __webpack_require__(3); // CONCATENATED MODULE: ./src/js/TreePath.js\n\n\n      function TreePath_classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function TreePath_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function TreePath_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) TreePath_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) TreePath_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * Creates a component that visualize path selection in tree based editors\n       * @param {HTMLElement} container\n       * @param {HTMLElement} root\n       * @constructor\n       */\n\n\n      var TreePath_TreePath = /*#__PURE__*/function () {\n        function TreePath(container, root) {\n          TreePath_classCallCheck(this, TreePath);\n\n          if (container) {\n            this.root = root;\n            this.path = document.createElement('div');\n            this.path.className = 'jsoneditor-treepath';\n            this.path.setAttribute('tabindex', 0);\n            this.contentMenuClicked = false;\n            container.appendChild(this.path);\n            this.reset();\n          }\n        }\n        /**\n         * Reset component to initial status\n         */\n\n\n        TreePath_createClass(TreePath, [{\n          key: \"reset\",\n          value: function reset() {\n            this.path.innerHTML = Object(i18n[\"c\"\n            /* translate */\n            ])('selectNode');\n          }\n          /**\n           * Renders the component UI according to a given path objects\n           * @param {Array<{name: String, childs: Array}>} pathObjs a list of path objects\n           *\n           */\n\n        }, {\n          key: \"setPath\",\n          value: function setPath(pathObjs) {\n            var me = this;\n            this.path.innerHTML = '';\n\n            if (pathObjs && pathObjs.length) {\n              pathObjs.forEach(function (pathObj, idx) {\n                var pathEl = document.createElement('span');\n                var sepEl;\n                pathEl.className = 'jsoneditor-treepath-element';\n                pathEl.innerText = pathObj.name;\n                pathEl.onclick = _onSegmentClick.bind(me, pathObj);\n                me.path.appendChild(pathEl);\n\n                if (pathObj.children.length) {\n                  sepEl = document.createElement('span');\n                  sepEl.className = 'jsoneditor-treepath-seperator';\n                  sepEl.innerHTML = '&#9658;';\n\n                  sepEl.onclick = function () {\n                    me.contentMenuClicked = true;\n                    var items = [];\n                    pathObj.children.forEach(function (child) {\n                      items.push({\n                        text: child.name,\n                        className: 'jsoneditor-type-modes' + (pathObjs[idx + 1] + 1 && pathObjs[idx + 1].name === child.name ? ' jsoneditor-selected' : ''),\n                        click: _onContextMenuItemClick.bind(me, pathObj, child.name)\n                      });\n                    });\n                    var menu = new ContextMenu[\"a\"\n                    /* ContextMenu */\n                    ](items);\n                    menu.show(sepEl, me.root, true);\n                  };\n\n                  me.path.appendChild(sepEl);\n                }\n\n                if (idx === pathObjs.length - 1) {\n                  var leftRectPos = (sepEl || pathEl).getBoundingClientRect().right;\n\n                  if (me.path.offsetWidth < leftRectPos) {\n                    me.path.scrollLeft = leftRectPos;\n                  }\n\n                  if (me.path.scrollLeft) {\n                    var showAllBtn = document.createElement('span');\n                    showAllBtn.className = 'jsoneditor-treepath-show-all-btn';\n                    showAllBtn.title = 'show all path';\n                    showAllBtn.innerHTML = '...';\n                    showAllBtn.onclick = _onShowAllClick.bind(me, pathObjs);\n                    me.path.insertBefore(showAllBtn, me.path.firstChild);\n                  }\n                }\n              });\n            }\n\n            function _onShowAllClick(pathObjs) {\n              me.contentMenuClicked = false;\n              Object(util[\"addClassName\"])(me.path, 'show-all');\n              me.path.style.width = me.path.parentNode.getBoundingClientRect().width - 10 + 'px';\n\n              me.path.onblur = function () {\n                if (me.contentMenuClicked) {\n                  me.contentMenuClicked = false;\n                  me.path.focus();\n                  return;\n                }\n\n                Object(util[\"removeClassName\"])(me.path, 'show-all');\n                me.path.onblur = undefined;\n                me.path.style.width = '';\n                me.setPath(pathObjs);\n              };\n            }\n\n            function _onSegmentClick(pathObj) {\n              if (this.selectionCallback) {\n                this.selectionCallback(pathObj);\n              }\n            }\n\n            function _onContextMenuItemClick(pathObj, selection) {\n              if (this.contextMenuCallback) {\n                this.contextMenuCallback(pathObj, selection);\n              }\n            }\n          }\n          /**\n           * set a callback function for selection of path section\n           * @param {Function} callback function to invoke when section is selected\n           */\n\n        }, {\n          key: \"onSectionSelected\",\n          value: function onSectionSelected(callback) {\n            if (typeof callback === 'function') {\n              this.selectionCallback = callback;\n            }\n          }\n          /**\n           * set a callback function for selection of path section\n           * @param {Function} callback function to invoke when section is selected\n           */\n\n        }, {\n          key: \"onContextMenuItemSelected\",\n          value: function onContextMenuItemSelected(callback) {\n            if (typeof callback === 'function') {\n              this.contextMenuCallback = callback;\n            }\n          }\n        }]);\n        return TreePath;\n      }(); // EXTERNAL MODULE: ./node_modules/jmespath/jmespath.js\n\n\n      var jmespath = __webpack_require__(4);\n\n      var jmespath_default = /*#__PURE__*/__webpack_require__.n(jmespath); // EXTERNAL MODULE: ./node_modules/javascript-natural-sort/naturalSort.js\n\n\n      var naturalSort = __webpack_require__(11);\n\n      var naturalSort_default = /*#__PURE__*/__webpack_require__.n(naturalSort); // EXTERNAL MODULE: ./src/js/createAbsoluteAnchor.js\n\n\n      var createAbsoluteAnchor = __webpack_require__(12); // CONCATENATED MODULE: ./src/js/appendNodeFactory.js\n\n      /**\n       * A factory function to create an AppendNode, which depends on a Node\n       * @param {Node} Node\n       */\n\n\n      function appendNodeFactory(Node) {\n        /**\n         * @constructor AppendNode\n         * @extends Node\n         * @param {TreeEditor} editor\n         * Create a new AppendNode. This is a special node which is created at the\n         * end of the list with childs for an object or array\n         */\n        function AppendNode(editor) {\n          /** @type {TreeEditor} */\n          this.editor = editor;\n          this.dom = {};\n        }\n\n        AppendNode.prototype = new Node();\n        /**\n         * Return a table row with an append button.\n         * @return {Element} dom   TR element\n         */\n\n        AppendNode.prototype.getDom = function () {\n          // TODO: implement a new solution for the append node\n          var dom = this.dom;\n\n          if (dom.tr) {\n            return dom.tr;\n          }\n\n          this._updateEditability(); // a row for the append button\n\n\n          var trAppend = document.createElement('tr');\n          trAppend.className = 'jsoneditor-append';\n          trAppend.node = this;\n          dom.tr = trAppend; // TODO: consistent naming\n\n          if (this.editor.options.mode === 'tree') {\n            // a cell for the dragarea column\n            dom.tdDrag = document.createElement('td'); // create context menu\n\n            var tdMenu = document.createElement('td');\n            dom.tdMenu = tdMenu;\n            var menu = document.createElement('button');\n            menu.type = 'button';\n            menu.className = 'jsoneditor-button jsoneditor-contextmenu-button';\n            menu.title = 'Click to open the actions menu (Ctrl+M)';\n            dom.menu = menu;\n            tdMenu.appendChild(dom.menu);\n          } // a cell for the contents (showing text 'empty')\n\n\n          var tdAppend = document.createElement('td');\n          var domText = document.createElement('div');\n          domText.innerHTML = '(' + Object(i18n[\"c\"\n          /* translate */\n          ])('empty') + ')';\n          domText.className = 'jsoneditor-readonly';\n          tdAppend.appendChild(domText);\n          dom.td = tdAppend;\n          dom.text = domText;\n          this.updateDom();\n          return trAppend;\n        };\n        /**\n         * Append node doesn't have a path\n         * @returns {null}\n         */\n\n\n        AppendNode.prototype.getPath = function () {\n          return null;\n        };\n        /**\n         * Append node doesn't have an index\n         * @returns {null}\n         */\n\n\n        AppendNode.prototype.getIndex = function () {\n          return null;\n        };\n        /**\n         * Update the HTML dom of the Node\n         */\n\n\n        AppendNode.prototype.updateDom = function (options) {\n          var dom = this.dom;\n          var tdAppend = dom.td;\n\n          if (tdAppend) {\n            tdAppend.style.paddingLeft = this.getLevel() * 24 + 26 + 'px'; // TODO: not so nice hard coded offset\n          }\n\n          var domText = dom.text;\n\n          if (domText) {\n            domText.innerHTML = '(' + Object(i18n[\"c\"\n            /* translate */\n            ])('empty') + ' ' + this.parent.type + ')';\n          } // attach or detach the contents of the append node:\n          // hide when the parent has childs, show when the parent has no childs\n\n\n          var trAppend = dom.tr;\n\n          if (!this.isVisible()) {\n            if (dom.tr.firstChild) {\n              if (dom.tdDrag) {\n                trAppend.removeChild(dom.tdDrag);\n              }\n\n              if (dom.tdMenu) {\n                trAppend.removeChild(dom.tdMenu);\n              }\n\n              trAppend.removeChild(tdAppend);\n            }\n          } else {\n            if (!dom.tr.firstChild) {\n              if (dom.tdDrag) {\n                trAppend.appendChild(dom.tdDrag);\n              }\n\n              if (dom.tdMenu) {\n                trAppend.appendChild(dom.tdMenu);\n              }\n\n              trAppend.appendChild(tdAppend);\n            }\n          }\n        };\n        /**\n         * Check whether the AppendNode is currently visible.\n         * the AppendNode is visible when its parent has no childs (i.e. is empty).\n         * @return {boolean} isVisible\n         */\n\n\n        AppendNode.prototype.isVisible = function () {\n          return this.parent.childs.length === 0;\n        };\n        /**\n         * Show a contextmenu for this node\n         * @param {HTMLElement} anchor   The element to attach the menu to.\n         * @param {function} [onClose]   Callback method called when the context menu\n         *                               is being closed.\n         */\n\n\n        AppendNode.prototype.showContextMenu = function (anchor, onClose) {\n          var node = this;\n          var titles = Node.TYPE_TITLES;\n          var appendSubmenu = [{\n            text: Object(i18n[\"c\"\n            /* translate */\n            ])('auto'),\n            className: 'jsoneditor-type-auto',\n            title: titles.auto,\n            click: function click() {\n              node._onAppend('', '', 'auto');\n            }\n          }, {\n            text: Object(i18n[\"c\"\n            /* translate */\n            ])('array'),\n            className: 'jsoneditor-type-array',\n            title: titles.array,\n            click: function click() {\n              node._onAppend('', []);\n            }\n          }, {\n            text: Object(i18n[\"c\"\n            /* translate */\n            ])('object'),\n            className: 'jsoneditor-type-object',\n            title: titles.object,\n            click: function click() {\n              node._onAppend('', {});\n            }\n          }, {\n            text: Object(i18n[\"c\"\n            /* translate */\n            ])('string'),\n            className: 'jsoneditor-type-string',\n            title: titles.string,\n            click: function click() {\n              node._onAppend('', '', 'string');\n            }\n          }];\n          node.addTemplates(appendSubmenu, true);\n          var items = [// create append button\n          {\n            text: Object(i18n[\"c\"\n            /* translate */\n            ])('appendText'),\n            title: Object(i18n[\"c\"\n            /* translate */\n            ])('appendTitleAuto'),\n            submenuTitle: Object(i18n[\"c\"\n            /* translate */\n            ])('appendSubmenuTitle'),\n            className: 'jsoneditor-insert',\n            click: function click() {\n              node._onAppend('', '', 'auto');\n            },\n            submenu: appendSubmenu\n          }];\n\n          if (this.editor.options.onCreateMenu) {\n            var path = node.parent.getPath();\n            items = this.editor.options.onCreateMenu(items, {\n              type: 'append',\n              path: path,\n              paths: [path]\n            });\n          }\n\n          var menu = new ContextMenu[\"a\"\n          /* ContextMenu */\n          ](items, {\n            close: onClose\n          });\n          menu.show(anchor, this.editor.frame);\n        };\n        /**\n         * Handle an event. The event is caught centrally by the editor\n         * @param {Event} event\n         */\n\n\n        AppendNode.prototype.onEvent = function (event) {\n          var type = event.type;\n          var target = event.target || event.srcElement;\n          var dom = this.dom; // highlight the append nodes parent\n\n          var menu = dom.menu;\n\n          if (target === menu) {\n            if (type === 'mouseover') {\n              this.editor.highlighter.highlight(this.parent);\n            } else if (type === 'mouseout') {\n              this.editor.highlighter.unhighlight();\n            }\n          } // context menu events\n\n\n          if (type === 'click' && target === dom.menu) {\n            var highlighter = this.editor.highlighter;\n            highlighter.highlight(this.parent);\n            highlighter.lock();\n            Object(util[\"addClassName\"])(dom.menu, 'jsoneditor-selected');\n            this.showContextMenu(dom.menu, function () {\n              Object(util[\"removeClassName\"])(dom.menu, 'jsoneditor-selected');\n              highlighter.unlock();\n              highlighter.unhighlight();\n            });\n          }\n\n          if (type === 'keydown') {\n            this.onKeyDown(event);\n          }\n        };\n\n        return AppendNode;\n      } // CONCATENATED MODULE: ./src/js/showMoreNodeFactory.js\n\n      /**\n       * A factory function to create an ShowMoreNode, which depends on a Node\n       * @param {function} Node\n       */\n\n\n      function showMoreNodeFactory(Node) {\n        /**\n         * @constructor ShowMoreNode\n         * @extends Node\n         * @param {TreeEditor} editor\n         * @param {Node} parent\n         * Create a new ShowMoreNode. This is a special node which is created\n         * for arrays or objects having more than 100 items\n         */\n        function ShowMoreNode(editor, parent) {\n          /** @type {TreeEditor} */\n          this.editor = editor;\n          this.parent = parent;\n          this.dom = {};\n        }\n\n        ShowMoreNode.prototype = new Node();\n        /**\n         * Return a table row with an append button.\n         * @return {Element} dom   TR element\n         */\n\n        ShowMoreNode.prototype.getDom = function () {\n          if (this.dom.tr) {\n            return this.dom.tr;\n          }\n\n          this._updateEditability(); // display \"show more\"\n\n\n          if (!this.dom.tr) {\n            var me = this;\n            var parent = this.parent;\n            var showMoreButton = document.createElement('a');\n            showMoreButton.appendChild(document.createTextNode(Object(i18n[\"c\"\n            /* translate */\n            ])('showMore')));\n            showMoreButton.href = '#';\n\n            showMoreButton.onclick = function (event) {\n              // TODO: use callback instead of accessing a method of the parent\n              parent.visibleChilds = Math.floor(parent.visibleChilds / parent.getMaxVisibleChilds() + 1) * parent.getMaxVisibleChilds();\n              me.updateDom();\n              parent.showChilds();\n              event.preventDefault();\n              return false;\n            };\n\n            var showAllButton = document.createElement('a');\n            showAllButton.appendChild(document.createTextNode(Object(i18n[\"c\"\n            /* translate */\n            ])('showAll')));\n            showAllButton.href = '#';\n\n            showAllButton.onclick = function (event) {\n              // TODO: use callback instead of accessing a method of the parent\n              parent.visibleChilds = Infinity;\n              me.updateDom();\n              parent.showChilds();\n              event.preventDefault();\n              return false;\n            };\n\n            var moreContents = document.createElement('div');\n            var moreText = document.createTextNode(this._getShowMoreText());\n            moreContents.className = 'jsoneditor-show-more';\n            moreContents.appendChild(moreText);\n            moreContents.appendChild(showMoreButton);\n            moreContents.appendChild(document.createTextNode('. '));\n            moreContents.appendChild(showAllButton);\n            moreContents.appendChild(document.createTextNode('. '));\n            var tdContents = document.createElement('td');\n            tdContents.appendChild(moreContents);\n            var moreTr = document.createElement('tr');\n\n            if (this.editor.options.mode === 'tree') {\n              moreTr.appendChild(document.createElement('td'));\n              moreTr.appendChild(document.createElement('td'));\n            }\n\n            moreTr.appendChild(tdContents);\n            moreTr.className = 'jsoneditor-show-more';\n            this.dom.tr = moreTr;\n            this.dom.moreContents = moreContents;\n            this.dom.moreText = moreText;\n          }\n\n          this.updateDom();\n          return this.dom.tr;\n        };\n        /**\n         * Update the HTML dom of the Node\n         */\n\n\n        ShowMoreNode.prototype.updateDom = function (options) {\n          if (this.isVisible()) {\n            // attach to the right child node (the first non-visible child)\n            this.dom.tr.node = this.parent.childs[this.parent.visibleChilds];\n\n            if (!this.dom.tr.parentNode) {\n              var nextTr = this.parent._getNextTr();\n\n              if (nextTr) {\n                nextTr.parentNode.insertBefore(this.dom.tr, nextTr);\n              }\n            } // update the counts in the text\n\n\n            this.dom.moreText.nodeValue = this._getShowMoreText(); // update left margin\n\n            this.dom.moreContents.style.marginLeft = (this.getLevel() + 1) * 24 + 'px';\n          } else {\n            if (this.dom.tr && this.dom.tr.parentNode) {\n              this.dom.tr.parentNode.removeChild(this.dom.tr);\n            }\n          }\n        };\n\n        ShowMoreNode.prototype._getShowMoreText = function () {\n          return Object(i18n[\"c\"\n          /* translate */\n          ])('showMoreStatus', {\n            visibleChilds: this.parent.visibleChilds,\n            totalChilds: this.parent.childs.length\n          }) + ' ';\n        };\n        /**\n         * Check whether the ShowMoreNode is currently visible.\n         * the ShowMoreNode is visible when it's parent has more childs than\n         * the current visibleChilds\n         * @return {boolean} isVisible\n         */\n\n\n        ShowMoreNode.prototype.isVisible = function () {\n          return this.parent.expanded && this.parent.childs.length > this.parent.visibleChilds;\n        };\n        /**\n         * Handle an event. The event is caught centrally by the editor\n         * @param {Event} event\n         */\n\n\n        ShowMoreNode.prototype.onEvent = function (event) {\n          var type = event.type;\n\n          if (type === 'keydown') {\n            this.onKeyDown(event);\n          }\n        };\n\n        return ShowMoreNode;\n      } // EXTERNAL MODULE: ./src/js/showSortModal.js\n\n\n      var js_showSortModal = __webpack_require__(6); // EXTERNAL MODULE: ./src/js/showTransformModal.js + 1 modules\n\n\n      var js_showTransformModal = __webpack_require__(9); // EXTERNAL MODULE: ./src/js/constants.js\n\n\n      var constants = __webpack_require__(2); // CONCATENATED MODULE: ./src/js/Node.js\n\n\n      function _typeof(obj) {\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          _typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          _typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n\n        return _typeof(obj);\n      }\n\n      function Node_classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function Node_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function Node_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) Node_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) Node_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @constructor Node\n       * Create a new Node\n       * @param {./treemode} editor\n       * @param {Object} [params] Can contain parameters:\n       *                          {string}  field\n       *                          {boolean} fieldEditable\n       *                          {*}       value\n       *                          {String}  type  Can have values 'auto', 'array',\n       *                                          'object', or 'string'.\n       */\n\n\n      var Node_Node = /*#__PURE__*/function () {\n        function Node(editor, params) {\n          Node_classCallCheck(this, Node);\n          /** @type {./treemode} */\n\n          this.editor = editor;\n          this.dom = {};\n          this.expanded = false;\n\n          if (params && params instanceof Object) {\n            this.setField(params.field, params.fieldEditable);\n\n            if ('value' in params) {\n              this.setValue(params.value, params.type);\n            }\n\n            if ('internalValue' in params) {\n              this.setInternalValue(params.internalValue);\n            }\n          } else {\n            this.setField('');\n            this.setValue(null);\n          }\n\n          this._debouncedOnChangeValue = Object(util[\"debounce\"])(this._onChangeValue.bind(this), Node.prototype.DEBOUNCE_INTERVAL);\n          this._debouncedOnChangeField = Object(util[\"debounce\"])(this._onChangeField.bind(this), Node.prototype.DEBOUNCE_INTERVAL); // starting value for visible children\n\n          this.visibleChilds = this.getMaxVisibleChilds();\n        }\n\n        Node_createClass(Node, [{\n          key: \"getMaxVisibleChilds\",\n          value: function getMaxVisibleChilds() {\n            return this.editor && this.editor.options && this.editor.options.maxVisibleChilds ? this.editor.options.maxVisibleChilds : DEFAULT_MAX_VISIBLE_CHILDS;\n          }\n          /**\n           * Determine whether the field and/or value of this node are editable\n           * @private\n           */\n\n        }, {\n          key: \"_updateEditability\",\n          value: function _updateEditability() {\n            this.editable = {\n              field: true,\n              value: true\n            };\n\n            if (this.editor) {\n              this.editable.field = this.editor.options.mode === 'tree';\n              this.editable.value = this.editor.options.mode !== 'view';\n\n              if ((this.editor.options.mode === 'tree' || this.editor.options.mode === 'form') && typeof this.editor.options.onEditable === 'function') {\n                var editable = this.editor.options.onEditable({\n                  field: this.field,\n                  value: this.value,\n                  path: this.getPath()\n                });\n\n                if (typeof editable === 'boolean') {\n                  this.editable.field = editable;\n                  this.editable.value = editable;\n                } else {\n                  if (typeof editable.field === 'boolean') this.editable.field = editable.field;\n                  if (typeof editable.value === 'boolean') this.editable.value = editable.value;\n                }\n              }\n            }\n          }\n          /**\n           * Get the path of this node\n           * @return {{string|number}[]} Array containing the path to this node.\n           * Element is a number if is the index of an array, a string otherwise.\n           */\n\n        }, {\n          key: \"getPath\",\n          value: function getPath() {\n            var node = this;\n            var path = [];\n\n            while (node) {\n              var field = node.getName();\n\n              if (field !== undefined) {\n                path.unshift(field);\n              }\n\n              node = node.parent;\n            }\n\n            return path;\n          }\n          /**\n           * Get the internal path of this node, a list with the child indexes.\n           * @return {String[]} Array containing the internal path to this node\n           */\n\n        }, {\n          key: \"getInternalPath\",\n          value: function getInternalPath() {\n            var node = this;\n            var internalPath = [];\n\n            while (node) {\n              if (node.parent) {\n                internalPath.unshift(node.getIndex());\n              }\n\n              node = node.parent;\n            }\n\n            return internalPath;\n          }\n          /**\n           * Get node serializable name\n           * @returns {String|Number}\n           */\n\n        }, {\n          key: \"getName\",\n          value: function getName() {\n            return !this.parent ? undefined // do not add an (optional) field name of the root node\n            : this.parent.type !== 'array' ? this.field : this.index;\n          }\n          /**\n           * Find child node by serializable path\n           * @param {Array<String>} path\n           */\n\n        }, {\n          key: \"findNodeByPath\",\n          value: function findNodeByPath(path) {\n            if (!path) {\n              return;\n            }\n\n            if (path.length === 0) {\n              return this;\n            }\n\n            if (path.length && this.childs && this.childs.length) {\n              for (var i = 0; i < this.childs.length; ++i) {\n                if ('' + path[0] === '' + this.childs[i].getName()) {\n                  return this.childs[i].findNodeByPath(path.slice(1));\n                }\n              }\n            }\n          }\n          /**\n           * Find child node by an internal path: the indexes of the childs nodes\n           * @param {Array<String>} internalPath\n           * @return {Node | undefined} Returns the node if the path exists.\n           *                            Returns undefined otherwise.\n           */\n\n        }, {\n          key: \"findNodeByInternalPath\",\n          value: function findNodeByInternalPath(internalPath) {\n            if (!internalPath) {\n              return undefined;\n            }\n\n            var node = this;\n\n            for (var i = 0; i < internalPath.length && node; i++) {\n              var childIndex = internalPath[i];\n              node = node.childs[childIndex];\n            }\n\n            return node;\n          }\n          /**\n           * @typedef {{value: String|Object|Number|Boolean, path: Array.<String|Number>}} SerializableNode\n           *\n           * Returns serializable representation for the node\n           * @return {SerializableNode}\n           */\n\n        }, {\n          key: \"serialize\",\n          value: function serialize() {\n            return {\n              value: this.getValue(),\n              path: this.getPath()\n            };\n          }\n          /**\n           * Find a Node from a JSON path like '.items[3].name'\n           * @param {string} jsonPath\n           * @return {Node | null} Returns the Node when found, returns null if not found\n           */\n\n        }, {\n          key: \"findNode\",\n          value: function findNode(jsonPath) {\n            var path = Object(util[\"parsePath\"])(jsonPath);\n            var node = this;\n\n            var _loop = function _loop() {\n              var prop = path.shift();\n\n              if (typeof prop === 'number') {\n                if (node.type !== 'array') {\n                  throw new Error('Cannot get child node at index ' + prop + ': node is no array');\n                }\n\n                node = node.childs[prop];\n              } else {\n                // string\n                if (node.type !== 'object') {\n                  throw new Error('Cannot get child node ' + prop + ': node is no object');\n                }\n\n                node = node.childs.filter(function (child) {\n                  return child.field === prop;\n                })[0];\n              }\n            };\n\n            while (node && path.length > 0) {\n              _loop();\n            }\n\n            return node;\n          }\n          /**\n           * Find all parents of this node. The parents are ordered from root node towards\n           * the original node.\n           * @return {Array.<Node>}\n           */\n\n        }, {\n          key: \"findParents\",\n          value: function findParents() {\n            var parents = [];\n            var parent = this.parent;\n\n            while (parent) {\n              parents.unshift(parent);\n              parent = parent.parent;\n            }\n\n            return parents;\n          }\n          /**\n           *\n           * @param {{dataPath: string, keyword: string, message: string, params: Object, schemaPath: string} | null} error\n           * @param {Node} [child]  When this is the error of a parent node, pointing\n           *                        to an invalid child node, the child node itself\n           *                        can be provided. If provided, clicking the error\n           *                        icon will set focus to the invalid child node.\n           */\n\n        }, {\n          key: \"setError\",\n          value: function setError(error, child) {\n            this.error = error;\n            this.errorChild = child;\n\n            if (this.dom && this.dom.tr) {\n              this.updateError();\n            }\n          }\n          /**\n           * Render the error\n           */\n\n        }, {\n          key: \"updateError\",\n          value: function updateError() {\n            var _this = this;\n\n            var error = this.fieldError || this.valueError || this.error;\n            var tdError = this.dom.tdError;\n\n            if (error && this.dom && this.dom.tr) {\n              Object(util[\"addClassName\"])(this.dom.tr, 'jsoneditor-validation-error');\n\n              if (!tdError) {\n                tdError = document.createElement('td');\n                this.dom.tdError = tdError;\n                this.dom.tdValue.parentNode.appendChild(tdError);\n              }\n\n              var button = document.createElement('button');\n              button.type = 'button';\n              button.className = 'jsoneditor-button jsoneditor-schema-error';\n\n              var destroy = function destroy() {\n                if (_this.dom.popupAnchor) {\n                  _this.dom.popupAnchor.destroy(); // this will trigger the onDestroy callback\n\n                }\n              };\n\n              var onDestroy = function onDestroy() {\n                delete _this.dom.popupAnchor;\n              };\n\n              var createPopup = function createPopup(destroyOnMouseOut) {\n                var frame = _this.editor.frame;\n                _this.dom.popupAnchor = Object(createAbsoluteAnchor[\"a\"\n                /* createAbsoluteAnchor */\n                ])(button, frame, onDestroy, destroyOnMouseOut);\n                var popupWidth = 200; // must correspond to what's configured in the CSS\n\n                var buttonRect = button.getBoundingClientRect();\n                var frameRect = frame.getBoundingClientRect();\n                var position = frameRect.width - buttonRect.x > popupWidth / 2 + 20 ? 'jsoneditor-above' : 'jsoneditor-left';\n                var popover = document.createElement('div');\n                popover.className = 'jsoneditor-popover ' + position;\n                popover.appendChild(document.createTextNode(error.message));\n\n                _this.dom.popupAnchor.appendChild(popover);\n              };\n\n              button.onmouseover = function () {\n                if (!_this.dom.popupAnchor) {\n                  createPopup(true);\n                }\n              };\n\n              button.onfocus = function () {\n                destroy();\n                createPopup(false);\n              };\n\n              button.onblur = function () {\n                destroy();\n              }; // when clicking the error icon, expand all nodes towards the invalid\n              // child node, and set focus to the child node\n\n\n              var child = this.errorChild;\n\n              if (child) {\n                button.onclick = function showInvalidNode() {\n                  child.findParents().forEach(function (parent) {\n                    parent.expand(false);\n                  });\n                  child.scrollTo(function () {\n                    child.focus();\n                  });\n                };\n              } // apply the error message to the node\n\n\n              while (tdError.firstChild) {\n                tdError.removeChild(tdError.firstChild);\n              }\n\n              tdError.appendChild(button);\n            } else {\n              if (this.dom.tr) {\n                Object(util[\"removeClassName\"])(this.dom.tr, 'jsoneditor-validation-error');\n              }\n\n              if (tdError) {\n                this.dom.tdError.parentNode.removeChild(this.dom.tdError);\n                delete this.dom.tdError;\n              }\n            }\n          }\n          /**\n           * Get the index of this node: the index in the list of childs where this\n           * node is part of\n           * @return {number | null} Returns the index, or null if this is the root node\n           */\n\n        }, {\n          key: \"getIndex\",\n          value: function getIndex() {\n            if (this.parent) {\n              var index = this.parent.childs.indexOf(this);\n              return index !== -1 ? index : null;\n            } else {\n              return -1;\n            }\n          }\n          /**\n           * Set parent node\n           * @param {Node} parent\n           */\n\n        }, {\n          key: \"setParent\",\n          value: function setParent(parent) {\n            this.parent = parent;\n          }\n          /**\n           * Set field\n           * @param {String}  field\n           * @param {boolean} [fieldEditable]\n           */\n\n        }, {\n          key: \"setField\",\n          value: function setField(field, fieldEditable) {\n            this.field = field;\n            this.previousField = field;\n            this.fieldEditable = fieldEditable === true;\n          }\n          /**\n           * Get field\n           * @return {String}\n           */\n\n        }, {\n          key: \"getField\",\n          value: function getField() {\n            if (this.field === undefined) {\n              this._getDomField();\n            }\n\n            return this.field;\n          }\n          /**\n           * Set value. Value is a JSON structure or an element String, Boolean, etc.\n           * @param {*} value\n           * @param {String} [type]  Specify the type of the value. Can be 'auto',\n           *                         'array', 'object', or 'string'\n           */\n\n        }, {\n          key: \"setValue\",\n          value: function setValue(value, type) {\n            var childValue, child, visible;\n            var i, j;\n            var notUpdateDom = false;\n            var previousChilds = this.childs;\n            this.type = this._getType(value); // check if type corresponds with the provided type\n\n            if (type && type !== this.type) {\n              if (type === 'string' && this.type === 'auto') {\n                this.type = type;\n              } else {\n                throw new Error('Type mismatch: ' + 'cannot cast value of type \"' + this.type + ' to the specified type \"' + type + '\"');\n              }\n            }\n\n            if (this.type === 'array') {\n              // array\n              if (!this.childs) {\n                this.childs = [];\n              }\n\n              for (i = 0; i < value.length; i++) {\n                childValue = value[i];\n\n                if (childValue !== undefined && !(childValue instanceof Function)) {\n                  if (i < this.childs.length) {\n                    // reuse existing child, keep its state\n                    child = this.childs[i];\n                    child.fieldEditable = false;\n                    child.index = i;\n                    child.setValue(childValue);\n                  } else {\n                    // create a new child\n                    child = new Node(this.editor, {\n                      value: childValue\n                    });\n                    visible = i < this.getMaxVisibleChilds();\n                    this.appendChild(child, visible, notUpdateDom);\n                  }\n                }\n              } // cleanup redundant childs\n              // we loop backward to prevent issues with shifting index numbers\n\n\n              for (j = this.childs.length; j >= value.length; j--) {\n                this.removeChild(this.childs[j], notUpdateDom);\n              }\n            } else if (this.type === 'object') {\n              // object\n              if (!this.childs) {\n                this.childs = [];\n              } // cleanup redundant childs\n              // we loop backward to prevent issues with shifting index numbers\n\n\n              for (j = this.childs.length - 1; j >= 0; j--) {\n                if (!Node_hasOwnProperty(value, this.childs[j].field)) {\n                  this.removeChild(this.childs[j], notUpdateDom);\n                }\n              }\n\n              i = 0;\n\n              for (var childField in value) {\n                if (Node_hasOwnProperty(value, childField)) {\n                  childValue = value[childField];\n\n                  if (childValue !== undefined && !(childValue instanceof Function)) {\n                    child = this.findChildByProperty(childField);\n\n                    if (child) {\n                      // reuse existing child, keep its state\n                      child.setField(childField, true);\n                      child.setValue(childValue);\n                    } else {\n                      // create a new child\n                      child = new Node(this.editor, {\n                        field: childField,\n                        value: childValue\n                      });\n                      visible = i < this.getMaxVisibleChilds();\n                      this.appendChild(child, visible, notUpdateDom);\n                    }\n                  }\n\n                  i++;\n                }\n              }\n\n              this.value = ''; // sort object keys\n\n              if (this.editor.options.sortObjectKeys === true) {\n                this.sort([], 'asc');\n              }\n            } else {\n              // value\n              this.hideChilds();\n              delete this.append;\n              delete this.showMore;\n              delete this.expanded;\n              delete this.childs;\n              this.value = value;\n            } // recreate the DOM if switching from an object/array to auto/string or vice versa\n            // needed to recreated the expand button for example\n\n\n            if (Array.isArray(previousChilds) !== Array.isArray(this.childs)) {\n              this.recreateDom();\n            }\n\n            this.updateDom({\n              updateIndexes: true\n            });\n            this.previousValue = this.value; // used only to check for changes in DOM vs JS model\n          }\n          /**\n           * Set internal value\n           * @param {*} internalValue  Internal value structure keeping type,\n           *                           order and duplicates in objects\n           */\n\n        }, {\n          key: \"setInternalValue\",\n          value: function setInternalValue(internalValue) {\n            var childValue, child, visible;\n            var i, j;\n            var notUpdateDom = false;\n            var previousChilds = this.childs;\n            this.type = internalValue.type;\n\n            if (internalValue.type === 'array') {\n              // array\n              if (!this.childs) {\n                this.childs = [];\n              }\n\n              for (i = 0; i < internalValue.childs.length; i++) {\n                childValue = internalValue.childs[i];\n\n                if (childValue !== undefined && !(childValue instanceof Function)) {\n                  if (i < this.childs.length) {\n                    // reuse existing child, keep its state\n                    child = this.childs[i];\n                    child.fieldEditable = false;\n                    child.index = i;\n                    child.setInternalValue(childValue);\n                  } else {\n                    // create a new child\n                    child = new Node(this.editor, {\n                      internalValue: childValue\n                    });\n                    visible = i < this.getMaxVisibleChilds();\n                    this.appendChild(child, visible, notUpdateDom);\n                  }\n                }\n              } // cleanup redundant childs\n              // we loop backward to prevent issues with shifting index numbers\n\n\n              for (j = this.childs.length; j >= internalValue.childs.length; j--) {\n                this.removeChild(this.childs[j], notUpdateDom);\n              }\n            } else if (internalValue.type === 'object') {\n              // object\n              if (!this.childs) {\n                this.childs = [];\n              }\n\n              for (i = 0; i < internalValue.childs.length; i++) {\n                childValue = internalValue.childs[i];\n\n                if (childValue !== undefined && !(childValue instanceof Function)) {\n                  if (i < this.childs.length) {\n                    // reuse existing child, keep its state\n                    child = this.childs[i];\n                    delete child.index;\n                    child.setField(childValue.field, true);\n                    child.setInternalValue(childValue.value);\n                  } else {\n                    // create a new child\n                    child = new Node(this.editor, {\n                      field: childValue.field,\n                      internalValue: childValue.value\n                    });\n                    visible = i < this.getMaxVisibleChilds();\n                    this.appendChild(child, visible, notUpdateDom);\n                  }\n                }\n              } // cleanup redundant childs\n              // we loop backward to prevent issues with shifting index numbers\n\n\n              for (j = this.childs.length; j >= internalValue.childs.length; j--) {\n                this.removeChild(this.childs[j], notUpdateDom);\n              }\n            } else {\n              // value\n              this.hideChilds();\n              delete this.append;\n              delete this.showMore;\n              delete this.expanded;\n              delete this.childs;\n              this.value = internalValue.value;\n            } // recreate the DOM if switching from an object/array to auto/string or vice versa\n            // needed to recreated the expand button for example\n\n\n            if (Array.isArray(previousChilds) !== Array.isArray(this.childs)) {\n              this.recreateDom();\n            }\n\n            this.updateDom({\n              updateIndexes: true\n            });\n            this.previousValue = this.value; // used only to check for changes in DOM vs JS model\n          }\n          /**\n           * Remove the DOM of this node and it's childs and recreate it again\n           */\n\n        }, {\n          key: \"recreateDom\",\n          value: function recreateDom() {\n            if (this.dom && this.dom.tr && this.dom.tr.parentNode) {\n              var domAnchor = this._detachFromDom();\n\n              this.clearDom();\n\n              this._attachToDom(domAnchor);\n            } else {\n              this.clearDom();\n            }\n          }\n          /**\n           * Get value. Value is a JSON structure\n           * @return {*} value\n           */\n\n        }, {\n          key: \"getValue\",\n          value: function getValue() {\n            if (this.type === 'array') {\n              var arr = [];\n              this.childs.forEach(function (child) {\n                arr.push(child.getValue());\n              });\n              return arr;\n            } else if (this.type === 'object') {\n              var obj = {};\n              this.childs.forEach(function (child) {\n                obj[child.getField()] = child.getValue();\n              });\n              return obj;\n            } else {\n              if (this.value === undefined) {\n                this._getDomValue();\n              }\n\n              return this.value;\n            }\n          }\n          /**\n           * Get internal value, a structure which maintains ordering and duplicates in objects\n           * @return {*} value\n           */\n\n        }, {\n          key: \"getInternalValue\",\n          value: function getInternalValue() {\n            if (this.type === 'array') {\n              return {\n                type: this.type,\n                childs: this.childs.map(function (child) {\n                  return child.getInternalValue();\n                })\n              };\n            } else if (this.type === 'object') {\n              return {\n                type: this.type,\n                childs: this.childs.map(function (child) {\n                  return {\n                    field: child.getField(),\n                    value: child.getInternalValue()\n                  };\n                })\n              };\n            } else {\n              if (this.value === undefined) {\n                this._getDomValue();\n              }\n\n              return {\n                type: this.type,\n                value: this.value\n              };\n            }\n          }\n          /**\n           * Get the nesting level of this node\n           * @return {Number} level\n           */\n\n        }, {\n          key: \"getLevel\",\n          value: function getLevel() {\n            return this.parent ? this.parent.getLevel() + 1 : 0;\n          }\n          /**\n           * Get jsonpath of the current node\n           * @return {Node[]} Returns an array with nodes\n           */\n\n        }, {\n          key: \"getNodePath\",\n          value: function getNodePath() {\n            var path = this.parent ? this.parent.getNodePath() : [];\n            path.push(this);\n            return path;\n          }\n          /**\n           * Create a clone of a node\n           * The complete state of a clone is copied, including whether it is expanded or\n           * not. The DOM elements are not cloned.\n           * @return {Node} clone\n           */\n\n        }, {\n          key: \"clone\",\n          value: function clone() {\n            var clone = new Node(this.editor);\n            clone.type = this.type;\n            clone.field = this.field;\n            clone.fieldInnerText = this.fieldInnerText;\n            clone.fieldEditable = this.fieldEditable;\n            clone.previousField = this.previousField;\n            clone.value = this.value;\n            clone.valueInnerText = this.valueInnerText;\n            clone.previousValue = this.previousValue;\n            clone.expanded = this.expanded;\n            clone.visibleChilds = this.visibleChilds;\n\n            if (this.childs) {\n              // an object or array\n              var cloneChilds = [];\n              this.childs.forEach(function (child) {\n                var childClone = child.clone();\n                childClone.setParent(clone);\n                cloneChilds.push(childClone);\n              });\n              clone.childs = cloneChilds;\n            } else {\n              // a value\n              clone.childs = undefined;\n            }\n\n            return clone;\n          }\n          /**\n           * Expand this node and optionally its childs.\n           * @param {boolean} [recurse] Optional recursion, true by default. When\n           *                            true, all childs will be expanded recursively\n           */\n\n        }, {\n          key: \"expand\",\n          value: function expand(recurse) {\n            if (!this.childs) {\n              return;\n            } // set this node expanded\n\n\n            this.expanded = true;\n\n            if (this.dom.expand) {\n              this.dom.expand.className = 'jsoneditor-button jsoneditor-expanded';\n            }\n\n            this.showChilds();\n\n            if (recurse !== false) {\n              this.childs.forEach(function (child) {\n                child.expand(recurse);\n              });\n            }\n          }\n          /**\n           * Collapse this node and optionally its childs.\n           * @param {boolean} [recurse] Optional recursion, true by default. When\n           *                            true, all childs will be collapsed recursively\n           */\n\n        }, {\n          key: \"collapse\",\n          value: function collapse(recurse) {\n            if (!this.childs) {\n              return;\n            }\n\n            this.hideChilds(); // collapse childs in case of recurse\n\n            if (recurse !== false) {\n              this.childs.forEach(function (child) {\n                child.collapse(recurse);\n              });\n            } // make this node collapsed\n\n\n            if (this.dom.expand) {\n              this.dom.expand.className = 'jsoneditor-button jsoneditor-collapsed';\n            }\n\n            this.expanded = false;\n          }\n          /**\n           * Recursively show all childs when they are expanded\n           */\n\n        }, {\n          key: \"showChilds\",\n          value: function showChilds() {\n            var childs = this.childs;\n\n            if (!childs) {\n              return;\n            }\n\n            if (!this.expanded) {\n              return;\n            }\n\n            var tr = this.dom.tr;\n            var nextTr;\n            var table = tr ? tr.parentNode : undefined;\n\n            if (table) {\n              // show row with append button\n              var append = this.getAppendDom();\n\n              if (!append.parentNode) {\n                nextTr = tr.nextSibling;\n\n                if (nextTr) {\n                  table.insertBefore(append, nextTr);\n                } else {\n                  table.appendChild(append);\n                }\n              } // show childs\n\n\n              var iMax = Math.min(this.childs.length, this.visibleChilds);\n              nextTr = this._getNextTr();\n\n              for (var i = 0; i < iMax; i++) {\n                var child = this.childs[i];\n\n                if (!child.getDom().parentNode) {\n                  table.insertBefore(child.getDom(), nextTr);\n                }\n\n                child.showChilds();\n              } // show \"show more childs\" if limited\n\n\n              var showMore = this.getShowMoreDom();\n              nextTr = this._getNextTr();\n\n              if (!showMore.parentNode) {\n                table.insertBefore(showMore, nextTr);\n              }\n\n              this.showMore.updateDom(); // to update the counter\n            }\n          }\n        }, {\n          key: \"_getNextTr\",\n          value: function _getNextTr() {\n            if (this.showMore && this.showMore.getDom().parentNode) {\n              return this.showMore.getDom();\n            }\n\n            if (this.append && this.append.getDom().parentNode) {\n              return this.append.getDom();\n            }\n          }\n          /**\n           * Hide the node with all its childs\n           * @param {{resetVisibleChilds: boolean}} [options]\n           */\n\n        }, {\n          key: \"hide\",\n          value: function hide(options) {\n            var tr = this.dom.tr;\n            var table = tr ? tr.parentNode : undefined;\n\n            if (table) {\n              table.removeChild(tr);\n            }\n\n            if (this.dom.popupAnchor) {\n              this.dom.popupAnchor.destroy();\n            }\n\n            this.hideChilds(options);\n          }\n          /**\n           * Recursively hide all childs\n           * @param {{resetVisibleChilds: boolean}} [options]\n           */\n\n        }, {\n          key: \"hideChilds\",\n          value: function hideChilds(options) {\n            var childs = this.childs;\n\n            if (!childs) {\n              return;\n            }\n\n            if (!this.expanded) {\n              return;\n            } // hide append row\n\n\n            var append = this.getAppendDom();\n\n            if (append.parentNode) {\n              append.parentNode.removeChild(append);\n            } // hide childs\n\n\n            this.childs.forEach(function (child) {\n              child.hide();\n            }); // hide \"show more\" row\n\n            var showMore = this.getShowMoreDom();\n\n            if (showMore.parentNode) {\n              showMore.parentNode.removeChild(showMore);\n            } // reset max visible childs\n\n\n            if (!options || options.resetVisibleChilds) {\n              this.visibleChilds = this.getMaxVisibleChilds();\n            }\n          }\n          /**\n           * set custom css classes on a node\n           */\n\n        }, {\n          key: \"_updateCssClassName\",\n          value: function _updateCssClassName() {\n            if (this.dom.field && this.editor && this.editor.options && typeof this.editor.options.onClassName === 'function' && this.dom.tree) {\n              Object(util[\"removeAllClassNames\"])(this.dom.tree);\n              var addClasses = this.editor.options.onClassName({\n                path: this.getPath(),\n                field: this.field,\n                value: this.value\n              }) || '';\n              Object(util[\"addClassName\"])(this.dom.tree, 'jsoneditor-values ' + addClasses);\n            }\n          }\n        }, {\n          key: \"recursivelyUpdateCssClassesOnNodes\",\n          value: function recursivelyUpdateCssClassesOnNodes() {\n            this._updateCssClassName();\n\n            if (Array.isArray(this.childs)) {\n              for (var i = 0; i < this.childs.length; i++) {\n                this.childs[i].recursivelyUpdateCssClassesOnNodes();\n              }\n            }\n          }\n          /**\n           * Goes through the path from the node to the root and ensures that it is expanded\n           */\n\n        }, {\n          key: \"expandTo\",\n          value: function expandTo() {\n            var currentNode = this.parent;\n\n            while (currentNode) {\n              if (!currentNode.expanded) {\n                currentNode.expand();\n              }\n\n              currentNode = currentNode.parent;\n            }\n          }\n          /**\n           * Add a new child to the node.\n           * Only applicable when Node value is of type array or object\n           * @param {Node} node\n           * @param {boolean} [visible] If true (default), the child will be rendered\n           * @param {boolean} [updateDom]  If true (default), the DOM of both parent\n           *                               node and appended node will be updated\n           *                               (child count, indexes)\n           */\n\n        }, {\n          key: \"appendChild\",\n          value: function appendChild(node, visible, updateDom) {\n            if (this._hasChilds()) {\n              // adjust the link to the parent\n              node.setParent(this);\n              node.fieldEditable = this.type === 'object';\n\n              if (this.type === 'array') {\n                node.index = this.childs.length;\n              }\n\n              if (this.type === 'object' && node.field === undefined) {\n                // initialize field value if needed\n                node.setField('');\n              }\n\n              this.childs.push(node);\n\n              if (this.expanded && visible !== false) {\n                // insert into the DOM, before the appendRow\n                var newTr = node.getDom();\n\n                var nextTr = this._getNextTr();\n\n                var table = nextTr ? nextTr.parentNode : undefined;\n\n                if (nextTr && table) {\n                  table.insertBefore(newTr, nextTr);\n                }\n\n                node.showChilds();\n                this.visibleChilds++;\n              }\n\n              if (updateDom !== false) {\n                this.updateDom({\n                  updateIndexes: true\n                });\n                node.updateDom({\n                  recurse: true\n                });\n              }\n            }\n          }\n          /**\n           * Move a node from its current parent to this node\n           * Only applicable when Node value is of type array or object\n           * @param {Node} node\n           * @param {Node} beforeNode\n           */\n\n        }, {\n          key: \"moveBefore\",\n          value: function moveBefore(node, beforeNode) {\n            if (this._hasChilds()) {\n              // create a temporary row, to prevent the scroll position from jumping\n              // when removing the node\n              var tbody = this.dom.tr ? this.dom.tr.parentNode : undefined;\n\n              if (tbody) {\n                var trTemp = document.createElement('tr');\n                trTemp.style.height = tbody.clientHeight + 'px';\n                tbody.appendChild(trTemp);\n              }\n\n              if (node.parent) {\n                node.parent.removeChild(node);\n              }\n\n              if (beforeNode instanceof Node_AppendNode || !beforeNode) {\n                // the this.childs.length + 1 is to reckon with the node that we're about to add\n                if (this.childs.length + 1 > this.visibleChilds) {\n                  var lastVisibleNode = this.childs[this.visibleChilds - 1];\n                  this.insertBefore(node, lastVisibleNode);\n                } else {\n                  this.appendChild(node);\n                }\n              } else {\n                this.insertBefore(node, beforeNode);\n              }\n\n              if (tbody) {\n                tbody.removeChild(trTemp);\n              }\n            }\n          }\n          /**\n           * Insert a new child before a given node\n           * Only applicable when Node value is of type array or object\n           * @param {Node} node\n           * @param {Node} beforeNode\n           */\n\n        }, {\n          key: \"insertBefore\",\n          value: function insertBefore(node, beforeNode) {\n            if (this._hasChilds()) {\n              this.visibleChilds++; // initialize field value if needed\n\n              if (this.type === 'object' && node.field === undefined) {\n                node.setField('');\n              }\n\n              if (beforeNode === this.append) {\n                // append to the child nodes\n                // adjust the link to the parent\n                node.setParent(this);\n                node.fieldEditable = this.type === 'object';\n                this.childs.push(node);\n              } else {\n                // insert before a child node\n                var index = this.childs.indexOf(beforeNode);\n\n                if (index === -1) {\n                  throw new Error('Node not found');\n                } // adjust the link to the parent\n\n\n                node.setParent(this);\n                node.fieldEditable = this.type === 'object';\n                this.childs.splice(index, 0, node);\n              }\n\n              if (this.expanded) {\n                // insert into the DOM\n                var newTr = node.getDom();\n                var nextTr = beforeNode.getDom();\n                var table = nextTr ? nextTr.parentNode : undefined;\n\n                if (nextTr && table) {\n                  table.insertBefore(newTr, nextTr);\n                }\n\n                node.showChilds();\n                this.showChilds();\n              }\n\n              this.updateDom({\n                updateIndexes: true\n              });\n              node.updateDom({\n                recurse: true\n              });\n            }\n          }\n          /**\n           * Insert a new child before a given node\n           * Only applicable when Node value is of type array or object\n           * @param {Node} node\n           * @param {Node} afterNode\n           */\n\n        }, {\n          key: \"insertAfter\",\n          value: function insertAfter(node, afterNode) {\n            if (this._hasChilds()) {\n              var index = this.childs.indexOf(afterNode);\n              var beforeNode = this.childs[index + 1];\n\n              if (beforeNode) {\n                this.insertBefore(node, beforeNode);\n              } else {\n                this.appendChild(node);\n              }\n            }\n          }\n          /**\n           * Search in this node\n           * Searches are case insensitive.\n           * @param {String} text\n           * @param {Node[]} [results] Array where search results will be added\n           *                           used to count and limit the results whilst iterating\n           * @return {Node[]} results  Array with nodes containing the search text\n           */\n\n        }, {\n          key: \"search\",\n          value: function search(text, results) {\n            if (!Array.isArray(results)) {\n              results = [];\n            }\n\n            var index;\n            var search = text ? text.toLowerCase() : undefined; // delete old search data\n\n            delete this.searchField;\n            delete this.searchValue; // search in field\n\n            if (this.field !== undefined && results.length <= this.MAX_SEARCH_RESULTS) {\n              var field = String(this.field).toLowerCase();\n              index = field.indexOf(search);\n\n              if (index !== -1) {\n                this.searchField = true;\n                results.push({\n                  node: this,\n                  elem: 'field'\n                });\n              } // update dom\n\n\n              this._updateDomField();\n            } // search in value\n\n\n            if (this._hasChilds()) {\n              // array, object\n              // search the nodes childs\n              if (this.childs) {\n                this.childs.forEach(function (child) {\n                  child.search(text, results);\n                });\n              }\n            } else {\n              // string, auto\n              if (this.value !== undefined && results.length <= this.MAX_SEARCH_RESULTS) {\n                var value = String(this.value).toLowerCase();\n                index = value.indexOf(search);\n\n                if (index !== -1) {\n                  this.searchValue = true;\n                  results.push({\n                    node: this,\n                    elem: 'value'\n                  });\n                } // update dom\n\n\n                this._updateDomValue();\n              }\n            }\n\n            return results;\n          }\n          /**\n           * Move the scroll position such that this node is in the visible area.\n           * The node will not get the focus\n           * @param {function(boolean)} [callback]\n           */\n\n        }, {\n          key: \"scrollTo\",\n          value: function scrollTo(callback) {\n            this.expandPathToNode();\n\n            if (this.dom.tr && this.dom.tr.parentNode) {\n              this.editor.scrollTo(this.dom.tr.offsetTop, callback);\n            }\n          }\n          /**\n           * if the node is not visible, expand its parents\n           */\n\n        }, {\n          key: \"expandPathToNode\",\n          value: function expandPathToNode() {\n            var node = this;\n            var recurse = false;\n\n            while (node && node.parent) {\n              // expand visible childs of the parent if needed\n              var index = node.parent.type === 'array' ? node.index : node.parent.childs.indexOf(node);\n\n              while (node.parent.visibleChilds < index + 1) {\n                node.parent.visibleChilds += this.getMaxVisibleChilds();\n              } // expand the parent itself\n\n\n              node.parent.expand(recurse);\n              node = node.parent;\n            }\n          }\n          /**\n           * Set focus to this node\n           * @param {String} [elementName]  The field name of the element to get the\n           *                                focus available values: 'drag', 'menu',\n           *                                'expand', 'field', 'value' (default)\n           */\n\n        }, {\n          key: \"focus\",\n          value: function focus(elementName) {\n            Node.focusElement = elementName;\n\n            if (this.dom.tr && this.dom.tr.parentNode) {\n              var dom = this.dom;\n\n              switch (elementName) {\n                case 'drag':\n                  if (dom.drag) {\n                    dom.drag.focus();\n                  } else {\n                    dom.menu.focus();\n                  }\n\n                  break;\n\n                case 'menu':\n                  dom.menu.focus();\n                  break;\n\n                case 'expand':\n                  if (this._hasChilds()) {\n                    dom.expand.focus();\n                  } else if (dom.field && this.fieldEditable) {\n                    dom.field.focus();\n                    Object(util[\"selectContentEditable\"])(dom.field);\n                  } else if (dom.value && !this._hasChilds()) {\n                    dom.value.focus();\n                    Object(util[\"selectContentEditable\"])(dom.value);\n                  } else {\n                    dom.menu.focus();\n                  }\n\n                  break;\n\n                case 'field':\n                  if (dom.field && this.fieldEditable) {\n                    dom.field.focus();\n                    Object(util[\"selectContentEditable\"])(dom.field);\n                  } else if (dom.value && !this._hasChilds()) {\n                    dom.value.focus();\n                    Object(util[\"selectContentEditable\"])(dom.value);\n                  } else if (this._hasChilds()) {\n                    dom.expand.focus();\n                  } else {\n                    dom.menu.focus();\n                  }\n\n                  break;\n\n                case 'value':\n                default:\n                  if (dom.select) {\n                    // enum select box\n                    dom.select.focus();\n                  } else if (dom.value && !this._hasChilds()) {\n                    dom.value.focus();\n                    Object(util[\"selectContentEditable\"])(dom.value);\n                  } else if (dom.field && this.fieldEditable) {\n                    dom.field.focus();\n                    Object(util[\"selectContentEditable\"])(dom.field);\n                  } else if (this._hasChilds()) {\n                    dom.expand.focus();\n                  } else {\n                    dom.menu.focus();\n                  }\n\n                  break;\n              }\n            }\n          }\n          /**\n           * Check if given node is a child. The method will check recursively to find\n           * this node.\n           * @param {Node} node\n           * @return {boolean} containsNode\n           */\n\n        }, {\n          key: \"containsNode\",\n          value: function containsNode(node) {\n            if (this === node) {\n              return true;\n            }\n\n            var childs = this.childs;\n\n            if (childs) {\n              // TODO: use the js5 Array.some() here?\n              for (var i = 0, iMax = childs.length; i < iMax; i++) {\n                if (childs[i].containsNode(node)) {\n                  return true;\n                }\n              }\n            }\n\n            return false;\n          }\n          /**\n           * Remove a child from the node.\n           * Only applicable when Node value is of type array or object\n           * @param {Node} node   The child node to be removed;\n           * @param {boolean} [updateDom]  If true (default), the DOM of the parent\n           *                               node will be updated (like child count)\n           * @return {Node | undefined} node  The removed node on success,\n           *                                             else undefined\n           */\n\n        }, {\n          key: \"removeChild\",\n          value: function removeChild(node, updateDom) {\n            if (this.childs) {\n              var index = this.childs.indexOf(node);\n\n              if (index !== -1) {\n                if (index < this.visibleChilds && this.expanded) {\n                  this.visibleChilds--;\n                }\n\n                node.hide(); // delete old search results\n\n                delete node.searchField;\n                delete node.searchValue;\n                var removedNode = this.childs.splice(index, 1)[0];\n                removedNode.parent = null;\n\n                if (updateDom !== false) {\n                  this.updateDom({\n                    updateIndexes: true\n                  });\n                }\n\n                return removedNode;\n              }\n            }\n\n            return undefined;\n          }\n          /**\n           * Remove a child node node from this node\n           * This method is equal to Node.removeChild, except that _remove fire an\n           * onChange event.\n           * @param {Node} node\n           * @private\n           */\n\n        }, {\n          key: \"_remove\",\n          value: function _remove(node) {\n            this.removeChild(node);\n          }\n          /**\n           * Change the type of the value of this Node\n           * @param {String} newType\n           */\n\n        }, {\n          key: \"changeType\",\n          value: function changeType(newType) {\n            var oldType = this.type;\n\n            if (oldType === newType) {\n              // type is not changed\n              return;\n            }\n\n            if ((newType === 'string' || newType === 'auto') && (oldType === 'string' || oldType === 'auto')) {\n              // this is an easy change\n              this.type = newType;\n            } else {\n              // change from array to object, or from string/auto to object/array\n              var domAnchor = this._detachFromDom(); // delete the old DOM\n\n\n              this.clearDom(); // adjust the field and the value\n\n              this.type = newType; // adjust childs\n\n              if (newType === 'object') {\n                if (!this.childs) {\n                  this.childs = [];\n                }\n\n                this.childs.forEach(function (child) {\n                  child.clearDom();\n                  delete child.index;\n                  child.fieldEditable = true;\n\n                  if (child.field === undefined) {\n                    child.field = '';\n                  }\n                });\n\n                if (oldType === 'string' || oldType === 'auto') {\n                  this.expanded = true;\n                }\n              } else if (newType === 'array') {\n                if (!this.childs) {\n                  this.childs = [];\n                }\n\n                this.childs.forEach(function (child, index) {\n                  child.clearDom();\n                  child.fieldEditable = false;\n                  child.index = index;\n                });\n\n                if (oldType === 'string' || oldType === 'auto') {\n                  this.expanded = true;\n                }\n              } else {\n                this.expanded = false;\n              }\n\n              this._attachToDom(domAnchor);\n            }\n\n            if (newType === 'auto' || newType === 'string') {\n              // cast value to the correct type\n              if (newType === 'string') {\n                this.value = String(this.value);\n              } else {\n                this.value = Object(util[\"parseString\"])(String(this.value));\n              }\n\n              this.focus();\n            }\n\n            this.updateDom({\n              updateIndexes: true\n            });\n          }\n          /**\n           * Test whether the JSON contents of this node are deep equal to provided JSON object.\n           * @param {*} json\n           */\n\n        }, {\n          key: \"deepEqual\",\n          value: function deepEqual(json) {\n            var i;\n\n            if (this.type === 'array') {\n              if (!Array.isArray(json)) {\n                return false;\n              }\n\n              if (this.childs.length !== json.length) {\n                return false;\n              }\n\n              for (i = 0; i < this.childs.length; i++) {\n                if (!this.childs[i].deepEqual(json[i])) {\n                  return false;\n                }\n              }\n            } else if (this.type === 'object') {\n              if (_typeof(json) !== 'object' || !json) {\n                return false;\n              } // TODO: for better efficiency, we could create a property `isDuplicate` on all of the childs\n              // and keep that up to date. This should make deepEqual about 20% faster.\n\n\n              var props = {};\n              var propCount = 0;\n\n              for (i = 0; i < this.childs.length; i++) {\n                var child = this.childs[i];\n\n                if (!props[child.field]) {\n                  // We can have childs with duplicate field names.\n                  // We take the first, and ignore the others.\n                  props[child.field] = true;\n                  propCount++;\n\n                  if (!(child.field in json)) {\n                    return false;\n                  }\n\n                  if (!child.deepEqual(json[child.field])) {\n                    return false;\n                  }\n                }\n              }\n\n              if (propCount !== Object.keys(json).length) {\n                return false;\n              }\n            } else {\n              if (this.value !== json) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n          /**\n           * Retrieve value from DOM\n           * @private\n           */\n\n        }, {\n          key: \"_getDomValue\",\n          value: function _getDomValue() {\n            this._clearValueError();\n\n            if (this.dom.value && this.type !== 'array' && this.type !== 'object') {\n              this.valueInnerText = Object(util[\"getInnerText\"])(this.dom.value);\n            }\n\n            if (this.valueInnerText !== undefined) {\n              try {\n                // retrieve the value\n                var value;\n\n                if (this.type === 'string') {\n                  value = this._unescapeHTML(this.valueInnerText);\n                } else {\n                  var str = this._unescapeHTML(this.valueInnerText);\n\n                  value = Object(util[\"parseString\"])(str);\n                }\n\n                if (value !== this.value) {\n                  this.value = value;\n\n                  this._debouncedOnChangeValue();\n                }\n              } catch (err) {\n                // keep the previous value\n                this._setValueError(Object(i18n[\"c\"\n                /* translate */\n                ])('cannotParseValueError'));\n              }\n            }\n          }\n          /**\n           * Show a local error in case of invalid value\n           * @param {string} message\n           * @private\n           */\n\n        }, {\n          key: \"_setValueError\",\n          value: function _setValueError(message) {\n            this.valueError = {\n              message: message\n            };\n            this.updateError();\n          }\n        }, {\n          key: \"_clearValueError\",\n          value: function _clearValueError() {\n            if (this.valueError) {\n              this.valueError = null;\n              this.updateError();\n            }\n          }\n          /**\n           * Show a local error in case of invalid or duplicate field\n           * @param {string} message\n           * @private\n           */\n\n        }, {\n          key: \"_setFieldError\",\n          value: function _setFieldError(message) {\n            this.fieldError = {\n              message: message\n            };\n            this.updateError();\n          }\n        }, {\n          key: \"_clearFieldError\",\n          value: function _clearFieldError() {\n            if (this.fieldError) {\n              this.fieldError = null;\n              this.updateError();\n            }\n          }\n          /**\n           * Handle a changed value\n           * @private\n           */\n\n        }, {\n          key: \"_onChangeValue\",\n          value: function _onChangeValue() {\n            // get current selection, then override the range such that we can select\n            // the added/removed text on undo/redo\n            var oldSelection = this.editor.getDomSelection();\n\n            if (oldSelection.range) {\n              var undoDiff = Object(util[\"textDiff\"])(String(this.value), String(this.previousValue));\n              oldSelection.range.startOffset = undoDiff.start;\n              oldSelection.range.endOffset = undoDiff.end;\n            }\n\n            var newSelection = this.editor.getDomSelection();\n\n            if (newSelection.range) {\n              var redoDiff = Object(util[\"textDiff\"])(String(this.previousValue), String(this.value));\n              newSelection.range.startOffset = redoDiff.start;\n              newSelection.range.endOffset = redoDiff.end;\n            }\n\n            this.editor._onAction('editValue', {\n              path: this.getInternalPath(),\n              oldValue: this.previousValue,\n              newValue: this.value,\n              oldSelection: oldSelection,\n              newSelection: newSelection\n            });\n\n            this.previousValue = this.value;\n          }\n          /**\n           * Handle a changed field\n           * @private\n           */\n\n        }, {\n          key: \"_onChangeField\",\n          value: function _onChangeField() {\n            // get current selection, then override the range such that we can select\n            // the added/removed text on undo/redo\n            var oldSelection = this.editor.getDomSelection();\n            var previous = this.previousField || '';\n\n            if (oldSelection.range) {\n              var undoDiff = Object(util[\"textDiff\"])(this.field, previous);\n              oldSelection.range.startOffset = undoDiff.start;\n              oldSelection.range.endOffset = undoDiff.end;\n            }\n\n            var newSelection = this.editor.getDomSelection();\n\n            if (newSelection.range) {\n              var redoDiff = Object(util[\"textDiff\"])(previous, this.field);\n              newSelection.range.startOffset = redoDiff.start;\n              newSelection.range.endOffset = redoDiff.end;\n            }\n\n            this.editor._onAction('editField', {\n              parentPath: this.parent.getInternalPath(),\n              index: this.getIndex(),\n              oldValue: this.previousField,\n              newValue: this.field,\n              oldSelection: oldSelection,\n              newSelection: newSelection\n            });\n\n            this.previousField = this.field;\n          }\n          /**\n           * Update dom value:\n           * - the text color of the value, depending on the type of the value\n           * - the height of the field, depending on the width\n           * - background color in case it is empty\n           * @private\n           */\n\n        }, {\n          key: \"_updateDomValue\",\n          value: function _updateDomValue() {\n            var domValue = this.dom.value;\n\n            if (domValue) {\n              var classNames = ['jsoneditor-value']; // set text color depending on value type\n\n              var value = this.value;\n              var valueType = this.type === 'auto' ? Object(util[\"getType\"])(value) : this.type;\n              var valueIsUrl = valueType === 'string' && Object(util[\"isUrl\"])(value);\n              classNames.push('jsoneditor-' + valueType);\n\n              if (valueIsUrl) {\n                classNames.push('jsoneditor-url');\n              } // visual styling when empty\n\n\n              var isEmpty = String(this.value) === '' && this.type !== 'array' && this.type !== 'object';\n\n              if (isEmpty) {\n                classNames.push('jsoneditor-empty');\n              } // highlight when there is a search result\n\n\n              if (this.searchValueActive) {\n                classNames.push('jsoneditor-highlight-active');\n              }\n\n              if (this.searchValue) {\n                classNames.push('jsoneditor-highlight');\n              }\n\n              domValue.className = classNames.join(' '); // update title\n\n              if (valueType === 'array' || valueType === 'object') {\n                var count = this.childs ? this.childs.length : 0;\n                domValue.title = this.type + ' containing ' + count + ' items';\n              } else if (valueIsUrl && this.editable.value) {\n                domValue.title = Object(i18n[\"c\"\n                /* translate */\n                ])('openUrl');\n              } else {\n                domValue.title = '';\n              } // show checkbox when the value is a boolean\n\n\n              if (valueType === 'boolean' && this.editable.value) {\n                if (!this.dom.checkbox) {\n                  this.dom.checkbox = document.createElement('input');\n                  this.dom.checkbox.type = 'checkbox';\n                  this.dom.tdCheckbox = document.createElement('td');\n                  this.dom.tdCheckbox.className = 'jsoneditor-tree';\n                  this.dom.tdCheckbox.appendChild(this.dom.checkbox);\n                  this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox, this.dom.tdValue);\n                }\n\n                this.dom.checkbox.checked = this.value;\n              } else {\n                // cleanup checkbox when displayed\n                if (this.dom.tdCheckbox) {\n                  this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox);\n                  delete this.dom.tdCheckbox;\n                  delete this.dom.checkbox;\n                }\n              } // create select box when this node has an enum object\n\n\n              if (this[\"enum\"] && this.editable.value) {\n                if (!this.dom.select) {\n                  this.dom.select = document.createElement('select');\n                  this.id = this.field + '_' + new Date().getUTCMilliseconds();\n                  this.dom.select.id = this.id;\n                  this.dom.select.name = this.dom.select.id; // Create the default empty option\n\n                  this.dom.select.option = document.createElement('option');\n                  this.dom.select.option.value = '';\n                  this.dom.select.option.innerHTML = '--';\n                  this.dom.select.appendChild(this.dom.select.option); // Iterate all enum values and add them as options\n\n                  for (var i = 0; i < this[\"enum\"].length; i++) {\n                    this.dom.select.option = document.createElement('option');\n                    this.dom.select.option.value = this[\"enum\"][i];\n                    this.dom.select.option.innerHTML = this[\"enum\"][i];\n\n                    if (this.dom.select.option.value === this.value) {\n                      this.dom.select.option.selected = true;\n                    }\n\n                    this.dom.select.appendChild(this.dom.select.option);\n                  }\n\n                  this.dom.tdSelect = document.createElement('td');\n                  this.dom.tdSelect.className = 'jsoneditor-tree';\n                  this.dom.tdSelect.appendChild(this.dom.select);\n                  this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect, this.dom.tdValue);\n                } // If the enum is inside a composite type display\n                // both the simple input and the dropdown field\n\n\n                if (this.schema && !Node_hasOwnProperty(this.schema, 'oneOf') && !Node_hasOwnProperty(this.schema, 'anyOf') && !Node_hasOwnProperty(this.schema, 'allOf')) {\n                  this.valueFieldHTML = this.dom.tdValue.innerHTML;\n                  this.dom.tdValue.style.visibility = 'hidden';\n                  this.dom.tdValue.innerHTML = '';\n                } else {\n                  delete this.valueFieldHTML;\n                }\n              } else {\n                // cleanup select box when displayed\n                if (this.dom.tdSelect) {\n                  this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect);\n                  delete this.dom.tdSelect;\n                  delete this.dom.select;\n                  this.dom.tdValue.innerHTML = this.valueFieldHTML;\n                  this.dom.tdValue.style.visibility = '';\n                  delete this.valueFieldHTML;\n                }\n              } // show color picker when value is a color\n\n\n              if (this.editable.value && this.editor.options.colorPicker && typeof value === 'string' && Object(util[\"isValidColor\"])(value)) {\n                if (!this.dom.color) {\n                  this.dom.color = document.createElement('div');\n                  this.dom.color.className = 'jsoneditor-color';\n                  this.dom.tdColor = document.createElement('td');\n                  this.dom.tdColor.className = 'jsoneditor-tree';\n                  this.dom.tdColor.appendChild(this.dom.color);\n                  this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor, this.dom.tdValue); // this is a bit hacky, overriding the text color like this. find a nicer solution\n\n                  this.dom.value.style.color = '#1A1A1A';\n                } // update the color background\n\n\n                this.dom.color.style.backgroundColor = value;\n              } else {\n                // cleanup color picker when displayed\n                this._deleteDomColor();\n              } // show date tag when value is a timestamp in milliseconds\n\n\n              if (this._showTimestampTag()) {\n                if (!this.dom.date) {\n                  this.dom.date = document.createElement('div');\n                  this.dom.date.className = 'jsoneditor-date';\n                  this.dom.value.parentNode.appendChild(this.dom.date);\n                }\n\n                this.dom.date.innerHTML = new Date(value).toISOString();\n                this.dom.date.title = new Date(value).toString();\n              } else {\n                // cleanup date tag\n                if (this.dom.date) {\n                  this.dom.date.parentNode.removeChild(this.dom.date);\n                  delete this.dom.date;\n                }\n              } // strip formatting from the contents of the editable div\n\n\n              Object(util[\"stripFormatting\"])(domValue);\n\n              this._updateDomDefault();\n            }\n          }\n        }, {\n          key: \"_deleteDomColor\",\n          value: function _deleteDomColor() {\n            if (this.dom.color) {\n              this.dom.tdColor.parentNode.removeChild(this.dom.tdColor);\n              delete this.dom.tdColor;\n              delete this.dom.color;\n              this.dom.value.style.color = '';\n            }\n          }\n          /**\n           * Update dom field:\n           * - the text color of the field, depending on the text\n           * - the height of the field, depending on the width\n           * - background color in case it is empty\n           * @private\n           */\n\n        }, {\n          key: \"_updateDomField\",\n          value: function _updateDomField() {\n            var domField = this.dom.field;\n\n            if (domField) {\n              var tooltip = Object(util[\"makeFieldTooltip\"])(this.schema, this.editor.options.language);\n\n              if (tooltip) {\n                domField.title = tooltip;\n              } // make backgound color lightgray when empty\n\n\n              var isEmpty = String(this.field) === '' && this.parent.type !== 'array';\n\n              if (isEmpty) {\n                Object(util[\"addClassName\"])(domField, 'jsoneditor-empty');\n              } else {\n                Object(util[\"removeClassName\"])(domField, 'jsoneditor-empty');\n              } // highlight when there is a search result\n\n\n              if (this.searchFieldActive) {\n                Object(util[\"addClassName\"])(domField, 'jsoneditor-highlight-active');\n              } else {\n                Object(util[\"removeClassName\"])(domField, 'jsoneditor-highlight-active');\n              }\n\n              if (this.searchField) {\n                Object(util[\"addClassName\"])(domField, 'jsoneditor-highlight');\n              } else {\n                Object(util[\"removeClassName\"])(domField, 'jsoneditor-highlight');\n              } // strip formatting from the contents of the editable div\n\n\n              Object(util[\"stripFormatting\"])(domField);\n            }\n          }\n          /**\n           * Retrieve field from DOM\n           * @param {boolean} [forceUnique]  If true, the field name will be changed\n           *                                 into a unique name in case it is a duplicate.\n           * @private\n           */\n\n        }, {\n          key: \"_getDomField\",\n          value: function _getDomField(forceUnique) {\n            this._clearFieldError();\n\n            if (this.dom.field && this.fieldEditable) {\n              this.fieldInnerText = Object(util[\"getInnerText\"])(this.dom.field);\n            }\n\n            if (this.fieldInnerText !== undefined) {\n              try {\n                var field = this._unescapeHTML(this.fieldInnerText);\n\n                var existingFieldNames = this.parent.getFieldNames(this);\n                var isDuplicate = existingFieldNames.indexOf(field) !== -1;\n\n                if (!isDuplicate) {\n                  if (field !== this.field) {\n                    this.field = field;\n\n                    this._debouncedOnChangeField();\n                  }\n                } else {\n                  if (forceUnique) {\n                    // fix duplicate field: change it into a unique name\n                    field = Object(util[\"findUniqueName\"])(field, existingFieldNames);\n\n                    if (field !== this.field) {\n                      this.field = field; // TODO: don't debounce but resolve right away, and cancel current debounce\n\n                      this._debouncedOnChangeField();\n                    }\n                  } else {\n                    this._setFieldError(Object(i18n[\"c\"\n                    /* translate */\n                    ])('duplicateFieldError'));\n                  }\n                }\n              } catch (err) {\n                // keep the previous field value\n                this._setFieldError(Object(i18n[\"c\"\n                /* translate */\n                ])('cannotParseFieldError'));\n              }\n            }\n          }\n          /**\n           * Update the value of the schema default element in the DOM.\n           * @private\n           * @returns {undefined}\n           */\n\n        }, {\n          key: \"_updateDomDefault\",\n          value: function _updateDomDefault() {\n            // Short-circuit if schema is missing, has no default, or if Node has children\n            if (!this.schema || this.schema[\"default\"] === undefined || this._hasChilds()) {\n              return;\n            } // select either enum dropdown (select) or input value\n\n\n            var inputElement = this.dom.select ? this.dom.select : this.dom.value;\n\n            if (!inputElement) {\n              return;\n            }\n\n            if (this.value === this.schema[\"default\"]) {\n              inputElement.title = Object(i18n[\"c\"\n              /* translate */\n              ])('default');\n              Object(util[\"addClassName\"])(inputElement, 'jsoneditor-is-default');\n              Object(util[\"removeClassName\"])(inputElement, 'jsoneditor-is-not-default');\n            } else {\n              inputElement.removeAttribute('title');\n              Object(util[\"removeClassName\"])(inputElement, 'jsoneditor-is-default');\n              Object(util[\"addClassName\"])(inputElement, 'jsoneditor-is-not-default');\n            }\n          }\n          /**\n           * Test whether to show a timestamp tag or not\n           * @return {boolean} Returns true when the value is a timestamp\n           */\n\n        }, {\n          key: \"_showTimestampTag\",\n          value: function _showTimestampTag() {\n            if (typeof this.value !== 'number') {\n              return false;\n            }\n\n            var timestampTag = this.editor.options.timestampTag;\n\n            if (typeof timestampTag === 'function') {\n              return timestampTag({\n                field: this.field,\n                value: this.value,\n                path: this.getPath()\n              });\n            }\n\n            if (timestampTag === true) {\n              return Object(util[\"isTimestamp\"])(this.field, this.value);\n            }\n\n            return false;\n          }\n          /**\n           * Clear the dom of the node\n           */\n\n        }, {\n          key: \"clearDom\",\n          value: function clearDom() {\n            // TODO: hide the node first?\n            // this.hide();\n            // TODO: recursively clear dom?\n            this.dom = {};\n          }\n          /**\n           * Get the HTML DOM TR element of the node.\n           * The dom will be generated when not yet created\n           * @return {Element} tr    HTML DOM TR Element\n           */\n\n        }, {\n          key: \"getDom\",\n          value: function getDom() {\n            var dom = this.dom;\n\n            if (dom.tr) {\n              return dom.tr;\n            }\n\n            this._updateEditability(); // create row\n\n\n            dom.tr = document.createElement('tr');\n            dom.tr.node = this;\n\n            if (this.editor.options.mode === 'tree') {\n              // note: we take here the global setting\n              var tdDrag = document.createElement('td');\n\n              if (this.editable.field) {\n                // create draggable area\n                if (this.parent) {\n                  var domDrag = document.createElement('button');\n                  domDrag.type = 'button';\n                  dom.drag = domDrag;\n                  domDrag.className = 'jsoneditor-button jsoneditor-dragarea';\n                  domDrag.title = Object(i18n[\"c\"\n                  /* translate */\n                  ])('drag');\n                  tdDrag.appendChild(domDrag);\n                }\n              }\n\n              dom.tr.appendChild(tdDrag); // create context menu\n\n              var tdMenu = document.createElement('td');\n              var menu = document.createElement('button');\n              menu.type = 'button';\n              dom.menu = menu;\n              menu.className = 'jsoneditor-button jsoneditor-contextmenu-button';\n              menu.title = Object(i18n[\"c\"\n              /* translate */\n              ])('actionsMenu');\n              tdMenu.appendChild(dom.menu);\n              dom.tr.appendChild(tdMenu);\n            } // create tree and field\n\n\n            var tdField = document.createElement('td');\n            dom.tr.appendChild(tdField);\n            dom.tree = this._createDomTree();\n            tdField.appendChild(dom.tree);\n            this.updateDom({\n              updateIndexes: true\n            });\n            return dom.tr;\n          }\n          /**\n           * Test whether a Node is rendered and visible\n           * @returns {boolean}\n           */\n\n        }, {\n          key: \"isVisible\",\n          value: function isVisible() {\n            return this.dom && this.dom.tr && this.dom.tr.parentNode || false;\n          }\n          /**\n           * Test if this node is a sescendant of an other node\n           * @param {Node} node\n           * @return {boolean} isDescendant\n           * @private\n           */\n\n        }, {\n          key: \"isDescendantOf\",\n          value: function isDescendantOf(node) {\n            var n = this.parent;\n\n            while (n) {\n              if (n === node) {\n                return true;\n              }\n\n              n = n.parent;\n            }\n\n            return false;\n          }\n          /**\n           * Create an editable field\n           * @return {Element} domField\n           * @private\n           */\n\n        }, {\n          key: \"_createDomField\",\n          value: function _createDomField() {\n            return document.createElement('div');\n          }\n          /**\n           * Set highlighting for this node and all its childs.\n           * Only applied to the currently visible (expanded childs)\n           * @param {boolean} highlight\n           */\n\n        }, {\n          key: \"setHighlight\",\n          value: function setHighlight(highlight) {\n            if (this.dom.tr) {\n              if (highlight) {\n                Object(util[\"addClassName\"])(this.dom.tr, 'jsoneditor-highlight');\n              } else {\n                Object(util[\"removeClassName\"])(this.dom.tr, 'jsoneditor-highlight');\n              }\n\n              if (this.append) {\n                this.append.setHighlight(highlight);\n              }\n\n              if (this.childs) {\n                this.childs.forEach(function (child) {\n                  child.setHighlight(highlight);\n                });\n              }\n            }\n          }\n          /**\n           * Select or deselect a node\n           * @param {boolean} selected\n           * @param {boolean} [isFirst]\n           */\n\n        }, {\n          key: \"setSelected\",\n          value: function setSelected(selected, isFirst) {\n            this.selected = selected;\n\n            if (this.dom.tr) {\n              if (selected) {\n                Object(util[\"addClassName\"])(this.dom.tr, 'jsoneditor-selected');\n              } else {\n                Object(util[\"removeClassName\"])(this.dom.tr, 'jsoneditor-selected');\n              }\n\n              if (isFirst) {\n                Object(util[\"addClassName\"])(this.dom.tr, 'jsoneditor-first');\n              } else {\n                Object(util[\"removeClassName\"])(this.dom.tr, 'jsoneditor-first');\n              }\n\n              if (this.append) {\n                this.append.setSelected(selected);\n              }\n\n              if (this.showMore) {\n                this.showMore.setSelected(selected);\n              }\n\n              if (this.childs) {\n                this.childs.forEach(function (child) {\n                  child.setSelected(selected);\n                });\n              }\n            }\n          }\n          /**\n           * Update the value of the node. Only primitive types are allowed, no Object\n           * or Array is allowed.\n           * @param {String | Number | Boolean | null} value\n           */\n\n        }, {\n          key: \"updateValue\",\n          value: function updateValue(value) {\n            this.value = value;\n            this.previousValue = value;\n            this.valueError = undefined;\n            this.updateDom();\n          }\n          /**\n           * Update the field of the node.\n           * @param {String} field\n           */\n\n        }, {\n          key: \"updateField\",\n          value: function updateField(field) {\n            this.field = field;\n            this.previousField = field;\n            this.fieldError = undefined;\n            this.updateDom();\n          }\n          /**\n           * Update the HTML DOM, optionally recursing through the childs\n           * @param {Object} [options] Available parameters:\n           *                          {boolean} [recurse]         If true, the\n           *                          DOM of the childs will be updated recursively.\n           *                          False by default.\n           *                          {boolean} [updateIndexes]   If true, the childs\n           *                          indexes of the node will be updated too. False by\n           *                          default.\n           */\n\n        }, {\n          key: \"updateDom\",\n          value: function updateDom(options) {\n            // update level indentation\n            var domTree = this.dom.tree;\n\n            if (domTree) {\n              domTree.style.marginLeft = this.getLevel() * 24 + 'px';\n            } // apply field to DOM\n\n\n            var domField = this.dom.field;\n\n            if (domField) {\n              if (this.fieldEditable) {\n                // parent is an object\n                domField.contentEditable = this.editable.field;\n                domField.spellcheck = false;\n                domField.className = 'jsoneditor-field';\n              } else {\n                // parent is an array this is the root node\n                domField.contentEditable = false;\n                domField.className = 'jsoneditor-readonly';\n              }\n\n              var fieldText;\n\n              if (this.index !== undefined) {\n                fieldText = this.index;\n              } else if (this.field !== undefined) {\n                fieldText = this.field;\n              } else {\n                var schema = this.editor.options.schema ? Node._findSchema(this.editor.options.schema, this.editor.options.schemaRefs || {}, this.getPath()) : undefined;\n\n                if (schema && schema.title) {\n                  fieldText = schema.title;\n                } else if (this._hasChilds()) {\n                  fieldText = this.type;\n                } else {\n                  fieldText = '';\n                }\n              }\n\n              domField.innerHTML = this._escapeHTML(fieldText);\n\n              this._updateSchema();\n            } // apply value to DOM\n\n\n            var domValue = this.dom.value;\n\n            if (domValue) {\n              if (this.type === 'array') {\n                this.updateNodeName();\n                Object(util[\"addClassName\"])(this.dom.tr, 'jsoneditor-expandable');\n              } else if (this.type === 'object') {\n                this.updateNodeName();\n                Object(util[\"addClassName\"])(this.dom.tr, 'jsoneditor-expandable');\n              } else {\n                domValue.innerHTML = this._escapeHTML(this.value);\n                Object(util[\"removeClassName\"])(this.dom.tr, 'jsoneditor-expandable');\n              }\n            } // update field and value\n\n\n            this._updateDomField();\n\n            this._updateDomValue();\n\n            this._updateCssClassName(); // update childs indexes\n\n\n            if (options && options.updateIndexes === true) {\n              // updateIndexes is true or undefined\n              this._updateDomIndexes();\n            } // update childs recursively\n\n\n            if (options && options.recurse === true) {\n              if (this.childs) {\n                this.childs.forEach(function (child) {\n                  child.updateDom(options);\n                });\n              }\n            } // update rendering of error\n\n\n            if (this.error) {\n              this.updateError();\n            } // update row with append button\n\n\n            if (this.append) {\n              this.append.updateDom();\n            } // update \"show more\" text at the bottom of large arrays\n\n\n            if (this.showMore) {\n              this.showMore.updateDom();\n            }\n          }\n          /**\n           * Locate the JSON schema of the node and check for any enum type\n           * @private\n           */\n\n        }, {\n          key: \"_updateSchema\",\n          value: function _updateSchema() {\n            // Locating the schema of the node and checking for any enum type\n            if (this.editor && this.editor.options) {\n              // find the part of the json schema matching this nodes path\n              this.schema = this.editor.options.schema // fix childSchema with $ref, and not display the select element on the child schema because of not found enum\n              ? Node._findSchema(this.editor.options.schema, this.editor.options.schemaRefs || {}, this.getPath()) : null;\n\n              if (this.schema) {\n                this[\"enum\"] = Node._findEnum(this.schema);\n              } else {\n                delete this[\"enum\"];\n              }\n            }\n          }\n          /**\n           * Update the DOM of the childs of a node: update indexes and undefined field\n           * names.\n           * Only applicable when structure is an array or object\n           * @private\n           */\n\n        }, {\n          key: \"_updateDomIndexes\",\n          value: function _updateDomIndexes() {\n            var domValue = this.dom.value;\n            var childs = this.childs;\n\n            if (domValue && childs) {\n              if (this.type === 'array') {\n                childs.forEach(function (child, index) {\n                  child.index = index;\n                  var childField = child.dom.field;\n\n                  if (childField) {\n                    childField.innerHTML = index;\n                  }\n                });\n              } else if (this.type === 'object') {\n                childs.forEach(function (child) {\n                  if (child.index !== undefined) {\n                    delete child.index;\n\n                    if (child.field === undefined) {\n                      child.field = '';\n                    }\n                  }\n                });\n              }\n            }\n          }\n          /**\n           * Create an editable value\n           * @private\n           */\n\n        }, {\n          key: \"_createDomValue\",\n          value: function _createDomValue() {\n            var domValue;\n\n            if (this.type === 'array') {\n              domValue = document.createElement('div');\n              domValue.innerHTML = '[...]';\n            } else if (this.type === 'object') {\n              domValue = document.createElement('div');\n              domValue.innerHTML = '{...}';\n            } else {\n              if (!this.editable.value && Object(util[\"isUrl\"])(this.value)) {\n                // create a link in case of read-only editor and value containing an url\n                domValue = document.createElement('a');\n                domValue.href = this.value;\n                domValue.innerHTML = this._escapeHTML(this.value);\n              } else {\n                // create an editable or read-only div\n                domValue = document.createElement('div');\n                domValue.contentEditable = this.editable.value;\n                domValue.spellcheck = false;\n                domValue.innerHTML = this._escapeHTML(this.value);\n              }\n            }\n\n            return domValue;\n          }\n          /**\n           * Create an expand/collapse button\n           * @return {Element} expand\n           * @private\n           */\n\n        }, {\n          key: \"_createDomExpandButton\",\n          value: function _createDomExpandButton() {\n            // create expand button\n            var expand = document.createElement('button');\n            expand.type = 'button';\n\n            if (this._hasChilds()) {\n              expand.className = this.expanded ? 'jsoneditor-button jsoneditor-expanded' : 'jsoneditor-button jsoneditor-collapsed';\n              expand.title = Object(i18n[\"c\"\n              /* translate */\n              ])('expandTitle');\n            } else {\n              expand.className = 'jsoneditor-button jsoneditor-invisible';\n              expand.title = '';\n            }\n\n            return expand;\n          }\n          /**\n           * Create a DOM tree element, containing the expand/collapse button\n           * @return {Element} domTree\n           * @private\n           */\n\n        }, {\n          key: \"_createDomTree\",\n          value: function _createDomTree() {\n            var dom = this.dom;\n            var domTree = document.createElement('table');\n            var tbody = document.createElement('tbody');\n            domTree.style.borderCollapse = 'collapse'; // TODO: put in css\n\n            domTree.className = 'jsoneditor-values';\n            domTree.appendChild(tbody);\n            var tr = document.createElement('tr');\n            tbody.appendChild(tr); // create expand button\n\n            var tdExpand = document.createElement('td');\n            tdExpand.className = 'jsoneditor-tree';\n            tr.appendChild(tdExpand);\n            dom.expand = this._createDomExpandButton();\n            tdExpand.appendChild(dom.expand);\n            dom.tdExpand = tdExpand; // create the field\n\n            var tdField = document.createElement('td');\n            tdField.className = 'jsoneditor-tree';\n            tr.appendChild(tdField);\n            dom.field = this._createDomField();\n            tdField.appendChild(dom.field);\n            dom.tdField = tdField; // create a separator\n\n            var tdSeparator = document.createElement('td');\n            tdSeparator.className = 'jsoneditor-tree';\n            tr.appendChild(tdSeparator);\n\n            if (this.type !== 'object' && this.type !== 'array') {\n              tdSeparator.appendChild(document.createTextNode(':'));\n              tdSeparator.className = 'jsoneditor-separator';\n            }\n\n            dom.tdSeparator = tdSeparator; // create the value\n\n            var tdValue = document.createElement('td');\n            tdValue.className = 'jsoneditor-tree';\n            tr.appendChild(tdValue);\n            dom.value = this._createDomValue();\n            tdValue.appendChild(dom.value);\n            dom.tdValue = tdValue;\n            return domTree;\n          }\n          /**\n           * Handle an event. The event is caught centrally by the editor\n           * @param {Event} event\n           */\n\n        }, {\n          key: \"onEvent\",\n          value: function onEvent(event) {\n            var type = event.type;\n            var target = event.target || event.srcElement;\n            var dom = this.dom;\n            var node = this;\n\n            var expandable = this._hasChilds();\n\n            if (typeof this.editor.options.onEvent === 'function') {\n              this._onEvent(event);\n            } // check if mouse is on menu or on dragarea.\n            // If so, highlight current row and its childs\n\n\n            if (target === dom.drag || target === dom.menu) {\n              if (type === 'mouseover') {\n                this.editor.highlighter.highlight(this);\n              } else if (type === 'mouseout') {\n                this.editor.highlighter.unhighlight();\n              }\n            } // context menu events\n\n\n            if (type === 'click' && target === dom.menu) {\n              var highlighter = node.editor.highlighter;\n              highlighter.highlight(node);\n              highlighter.lock();\n              Object(util[\"addClassName\"])(dom.menu, 'jsoneditor-selected');\n              this.showContextMenu(dom.menu, function () {\n                Object(util[\"removeClassName\"])(dom.menu, 'jsoneditor-selected');\n                highlighter.unlock();\n                highlighter.unhighlight();\n              });\n            } // expand events\n\n\n            if (type === 'click') {\n              if (target === dom.expand) {\n                if (expandable) {\n                  var recurse = event.ctrlKey; // with ctrl-key, expand/collapse all\n\n                  this._onExpand(recurse);\n                }\n              }\n            }\n\n            if (type === 'click' && (event.target === node.dom.tdColor || event.target === node.dom.color)) {\n              this._showColorPicker();\n            } // swap the value of a boolean when the checkbox displayed left is clicked\n\n\n            if (type === 'change' && target === dom.checkbox) {\n              this.dom.value.innerHTML = !this.value;\n\n              this._getDomValue();\n\n              this._updateDomDefault();\n            } // update the value of the node based on the selected option\n\n\n            if (type === 'change' && target === dom.select) {\n              this.dom.value.innerHTML = dom.select.value;\n\n              this._getDomValue();\n\n              this._updateDomValue();\n            } // value events\n\n\n            var domValue = dom.value;\n\n            if (target === domValue) {\n              // noinspection FallthroughInSwitchStatementJS\n              switch (type) {\n                case 'blur':\n                case 'change':\n                  {\n                    this._getDomValue();\n\n                    this._clearValueError();\n\n                    this._updateDomValue();\n\n                    var escapedValue = this._escapeHTML(this.value);\n\n                    if (domValue.innerHTML !== escapedValue) {\n                      // only update if changed, else you lose the caret position when changing tabs for example\n                      domValue.innerHTML = escapedValue;\n                    }\n\n                    break;\n                  }\n\n                case 'input':\n                  // this._debouncedGetDomValue(true); // TODO\n                  this._getDomValue();\n\n                  this._updateDomValue();\n\n                  break;\n\n                case 'keydown':\n                case 'mousedown':\n                  // TODO: cleanup\n                  this.editor.selection = this.editor.getDomSelection();\n                  break;\n\n                case 'click':\n                  if (event.ctrlKey && this.editable.value) {\n                    // if read-only, we use the regular click behavior of an anchor\n                    if (Object(util[\"isUrl\"])(this.value)) {\n                      event.preventDefault();\n                      window.open(this.value, '_blank');\n                    }\n                  }\n\n                  break;\n\n                case 'keyup':\n                  // this._debouncedGetDomValue(true); // TODO\n                  this._getDomValue();\n\n                  this._updateDomValue();\n\n                  break;\n\n                case 'cut':\n                case 'paste':\n                  setTimeout(function () {\n                    node._getDomValue();\n\n                    node._updateDomValue();\n                  }, 1);\n                  break;\n              }\n            } // field events\n\n\n            var domField = dom.field;\n\n            if (target === domField) {\n              switch (type) {\n                case 'blur':\n                  {\n                    this._getDomField(true);\n\n                    this._updateDomField();\n\n                    var escapedField = this._escapeHTML(this.field);\n\n                    if (domField.innerHTML !== escapedField) {\n                      // only update if changed, else you lose the caret position when changing tabs for example\n                      domField.innerHTML = escapedField;\n                    }\n\n                    break;\n                  }\n\n                case 'input':\n                  this._getDomField();\n\n                  this._updateSchema();\n\n                  this._updateDomField();\n\n                  this._updateDomValue();\n\n                  break;\n\n                case 'keydown':\n                case 'mousedown':\n                  this.editor.selection = this.editor.getDomSelection();\n                  break;\n\n                case 'keyup':\n                  this._getDomField();\n\n                  this._updateDomField();\n\n                  break;\n\n                case 'cut':\n                case 'paste':\n                  setTimeout(function () {\n                    node._getDomField();\n\n                    node._updateDomField();\n                  }, 1);\n                  break;\n              }\n            } // focus\n            // when clicked in whitespace left or right from the field or value, set focus\n\n\n            var domTree = dom.tree;\n\n            if (domTree && target === domTree.parentNode && type === 'click' && !event.hasMoved) {\n              var left = event.offsetX !== undefined ? event.offsetX < (this.getLevel() + 1) * 24 : event.pageX < Object(util[\"getAbsoluteLeft\"])(dom.tdSeparator); // for FF\n\n              if (left || expandable) {\n                // node is expandable when it is an object or array\n                if (domField) {\n                  Object(util[\"setEndOfContentEditable\"])(domField);\n                  domField.focus();\n                }\n              } else {\n                if (domValue && !this[\"enum\"]) {\n                  Object(util[\"setEndOfContentEditable\"])(domValue);\n                  domValue.focus();\n                }\n              }\n            }\n\n            if ((target === dom.tdExpand && !expandable || target === dom.tdField || target === dom.tdSeparator) && type === 'click' && !event.hasMoved) {\n              if (domField) {\n                Object(util[\"setEndOfContentEditable\"])(domField);\n                domField.focus();\n              }\n            }\n\n            if (type === 'keydown') {\n              this.onKeyDown(event);\n            }\n          }\n          /**\n           * Trigger external onEvent provided in options if node is a JSON field or\n           * value.\n           * Information provided depends on the element, value is only included if\n           * event occurs in a JSON value:\n           * {field: string, path: {string|number}[] [, value: string]}\n           * @param {Event} event\n           * @private\n           */\n\n        }, {\n          key: \"_onEvent\",\n          value: function _onEvent(event) {\n            var element = event.target;\n\n            if (element === this.dom.field || element === this.dom.value) {\n              var info = {\n                field: this.getField(),\n                path: this.getPath()\n              }; // For leaf values, include value\n\n              if (!this._hasChilds() && element === this.dom.value) {\n                info.value = this.getValue();\n              }\n\n              this.editor.options.onEvent(info, event);\n            }\n          }\n          /**\n           * Key down event handler\n           * @param {Event} event\n           */\n\n        }, {\n          key: \"onKeyDown\",\n          value: function onKeyDown(event) {\n            var keynum = event.which || event.keyCode;\n            var target = event.target || event.srcElement;\n            var ctrlKey = event.ctrlKey;\n            var shiftKey = event.shiftKey;\n            var altKey = event.altKey;\n            var handled = false;\n            var prevNode, nextNode, nextDom, nextDom2;\n            var editable = this.editor.options.mode === 'tree';\n            var oldSelection;\n            var oldNextNode;\n            var oldParent;\n            var oldIndexRedo;\n            var newIndexRedo;\n            var oldParentPathRedo;\n            var newParentPathRedo;\n            var nodes;\n            var multiselection;\n            var selectedNodes = this.editor.multiselection.nodes.length > 0 ? this.editor.multiselection.nodes : [this];\n            var firstNode = selectedNodes[0];\n            var lastNode = selectedNodes[selectedNodes.length - 1]; // console.log(ctrlKey, keynum, event.charCode); // TODO: cleanup\n\n            if (keynum === 13) {\n              // Enter\n              if (target === this.dom.value) {\n                if (!this.editable.value || event.ctrlKey) {\n                  if (Object(util[\"isUrl\"])(this.value)) {\n                    window.open(this.value, '_blank');\n                    handled = true;\n                  }\n                }\n              } else if (target === this.dom.expand) {\n                var expandable = this._hasChilds();\n\n                if (expandable) {\n                  var recurse = event.ctrlKey; // with ctrl-key, expand/collapse all\n\n                  this._onExpand(recurse);\n\n                  target.focus();\n                  handled = true;\n                }\n              }\n            } else if (keynum === 68) {\n              // D\n              if (ctrlKey && editable) {\n                // Ctrl+D\n                Node.onDuplicate(selectedNodes);\n                handled = true;\n              }\n            } else if (keynum === 69) {\n              // E\n              if (ctrlKey) {\n                // Ctrl+E and Ctrl+Shift+E\n                this._onExpand(shiftKey); // recurse = shiftKey\n\n\n                target.focus(); // TODO: should restore focus in case of recursing expand (which takes DOM offline)\n\n                handled = true;\n              }\n            } else if (keynum === 77 && editable) {\n              // M\n              if (ctrlKey) {\n                // Ctrl+M\n                this.showContextMenu(target);\n                handled = true;\n              }\n            } else if (keynum === 46 && editable) {\n              // Del\n              if (ctrlKey) {\n                // Ctrl+Del\n                Node.onRemove(selectedNodes);\n                handled = true;\n              }\n            } else if (keynum === 45 && editable) {\n              // Ins\n              if (ctrlKey && !shiftKey) {\n                // Ctrl+Ins\n                this._onInsertBefore();\n\n                handled = true;\n              } else if (ctrlKey && shiftKey) {\n                // Ctrl+Shift+Ins\n                this._onInsertAfter();\n\n                handled = true;\n              }\n            } else if (keynum === 35) {\n              // End\n              if (altKey) {\n                // Alt+End\n                // find the last node\n                var endNode = this._lastNode();\n\n                if (endNode) {\n                  endNode.focus(Node.focusElement || this._getElementName(target));\n                }\n\n                handled = true;\n              }\n            } else if (keynum === 36) {\n              // Home\n              if (altKey) {\n                // Alt+Home\n                // find the first node\n                var homeNode = this._firstNode();\n\n                if (homeNode) {\n                  homeNode.focus(Node.focusElement || this._getElementName(target));\n                }\n\n                handled = true;\n              }\n            } else if (keynum === 37) {\n              // Arrow Left\n              if (altKey && !shiftKey) {\n                // Alt + Arrow Left\n                // move to left element\n                var prevElement = this._previousElement(target);\n\n                if (prevElement) {\n                  this.focus(this._getElementName(prevElement));\n                }\n\n                handled = true;\n              } else if (altKey && shiftKey && editable) {\n                // Alt + Shift + Arrow left\n                if (lastNode.expanded) {\n                  var appendDom = lastNode.getAppendDom();\n                  nextDom = appendDom ? appendDom.nextSibling : undefined;\n                } else {\n                  var dom = lastNode.getDom();\n                  nextDom = dom.nextSibling;\n                }\n\n                if (nextDom) {\n                  nextNode = Node.getNodeFromTarget(nextDom);\n                  nextDom2 = nextDom.nextSibling;\n                  var nextNode2 = Node.getNodeFromTarget(nextDom2);\n\n                  if (nextNode && nextNode instanceof Node_AppendNode && !(lastNode.parent.childs.length === 1) && nextNode2 && nextNode2.parent) {\n                    oldSelection = this.editor.getDomSelection();\n                    oldParent = firstNode.parent;\n                    oldNextNode = oldParent.childs[lastNode.getIndex() + 1] || oldParent.append;\n                    oldIndexRedo = firstNode.getIndex();\n                    newIndexRedo = nextNode2.getIndex();\n                    oldParentPathRedo = oldParent.getInternalPath();\n                    newParentPathRedo = nextNode2.parent.getInternalPath();\n                    selectedNodes.forEach(function (node) {\n                      nextNode2.parent.moveBefore(node, nextNode2);\n                    });\n                    this.focus(Node.focusElement || this._getElementName(target));\n\n                    this.editor._onAction('moveNodes', {\n                      count: selectedNodes.length,\n                      fieldNames: selectedNodes.map(getField),\n                      oldParentPath: oldParent.getInternalPath(),\n                      newParentPath: firstNode.parent.getInternalPath(),\n                      oldIndex: oldNextNode.getIndex(),\n                      newIndex: firstNode.getIndex(),\n                      oldIndexRedo: oldIndexRedo,\n                      newIndexRedo: newIndexRedo,\n                      oldParentPathRedo: oldParentPathRedo,\n                      newParentPathRedo: newParentPathRedo,\n                      oldSelection: oldSelection,\n                      newSelection: this.editor.getDomSelection()\n                    });\n                  }\n                }\n              }\n            } else if (keynum === 38) {\n              // Arrow Up\n              if (altKey && !shiftKey) {\n                // Alt + Arrow Up\n                // find the previous node\n                prevNode = this._previousNode();\n\n                if (prevNode) {\n                  this.editor.deselect(true);\n                  prevNode.focus(Node.focusElement || this._getElementName(target));\n                }\n\n                handled = true;\n              } else if (!altKey && ctrlKey && shiftKey && editable) {\n                // Ctrl + Shift + Arrow Up\n                // select multiple nodes\n                prevNode = this._previousNode();\n\n                if (prevNode) {\n                  multiselection = this.editor.multiselection;\n                  multiselection.start = multiselection.start || this;\n                  multiselection.end = prevNode;\n                  nodes = this.editor._findTopLevelNodes(multiselection.start, multiselection.end);\n                  this.editor.select(nodes);\n                  prevNode.focus('field'); // select field as we know this always exists\n                }\n\n                handled = true;\n              } else if (altKey && shiftKey && editable) {\n                // Alt + Shift + Arrow Up\n                // find the previous node\n                prevNode = firstNode._previousNode();\n\n                if (prevNode && prevNode.parent) {\n                  oldSelection = this.editor.getDomSelection();\n                  oldParent = firstNode.parent;\n                  oldNextNode = oldParent.childs[lastNode.getIndex() + 1] || oldParent.append;\n                  oldIndexRedo = firstNode.getIndex();\n                  newIndexRedo = prevNode.getIndex();\n                  oldParentPathRedo = oldParent.getInternalPath();\n                  newParentPathRedo = prevNode.parent.getInternalPath();\n                  selectedNodes.forEach(function (node) {\n                    prevNode.parent.moveBefore(node, prevNode);\n                  });\n                  this.focus(Node.focusElement || this._getElementName(target));\n\n                  this.editor._onAction('moveNodes', {\n                    count: selectedNodes.length,\n                    fieldNames: selectedNodes.map(getField),\n                    oldParentPath: oldParent.getInternalPath(),\n                    newParentPath: firstNode.parent.getInternalPath(),\n                    oldIndex: oldNextNode.getIndex(),\n                    newIndex: firstNode.getIndex(),\n                    oldIndexRedo: oldIndexRedo,\n                    newIndexRedo: newIndexRedo,\n                    oldParentPathRedo: oldParentPathRedo,\n                    newParentPathRedo: newParentPathRedo,\n                    oldSelection: oldSelection,\n                    newSelection: this.editor.getDomSelection()\n                  });\n                }\n\n                handled = true;\n              }\n            } else if (keynum === 39) {\n              // Arrow Right\n              if (altKey && !shiftKey) {\n                // Alt + Arrow Right\n                // move to right element\n                var nextElement = this._nextElement(target);\n\n                if (nextElement) {\n                  this.focus(this._getElementName(nextElement));\n                }\n\n                handled = true;\n              } else if (altKey && shiftKey && editable) {\n                // Alt + Shift + Arrow Right\n                dom = firstNode.getDom();\n                var prevDom = dom.previousSibling;\n\n                if (prevDom) {\n                  prevNode = Node.getNodeFromTarget(prevDom);\n\n                  if (prevNode && prevNode.parent && !prevNode.isVisible()) {\n                    oldSelection = this.editor.getDomSelection();\n                    oldParent = firstNode.parent;\n                    oldNextNode = oldParent.childs[lastNode.getIndex() + 1] || oldParent.append;\n                    oldIndexRedo = firstNode.getIndex();\n                    newIndexRedo = prevNode.getIndex();\n                    oldParentPathRedo = oldParent.getInternalPath();\n                    newParentPathRedo = prevNode.parent.getInternalPath();\n                    selectedNodes.forEach(function (node) {\n                      prevNode.parent.moveBefore(node, prevNode);\n                    });\n                    this.focus(Node.focusElement || this._getElementName(target));\n\n                    this.editor._onAction('moveNodes', {\n                      count: selectedNodes.length,\n                      fieldNames: selectedNodes.map(getField),\n                      oldParentPath: oldParent.getInternalPath(),\n                      newParentPath: firstNode.parent.getInternalPath(),\n                      oldIndex: oldNextNode.getIndex(),\n                      newIndex: firstNode.getIndex(),\n                      oldIndexRedo: oldIndexRedo,\n                      newIndexRedo: newIndexRedo,\n                      oldParentPathRedo: oldParentPathRedo,\n                      newParentPathRedo: newParentPathRedo,\n                      oldSelection: oldSelection,\n                      newSelection: this.editor.getDomSelection()\n                    });\n                  }\n                }\n              }\n            } else if (keynum === 40) {\n              // Arrow Down\n              if (altKey && !shiftKey) {\n                // Alt + Arrow Down\n                // find the next node\n                nextNode = this._nextNode();\n\n                if (nextNode) {\n                  this.editor.deselect(true);\n                  nextNode.focus(Node.focusElement || this._getElementName(target));\n                }\n\n                handled = true;\n              } else if (!altKey && ctrlKey && shiftKey && editable) {\n                // Ctrl + Shift + Arrow Down\n                // select multiple nodes\n                nextNode = this._nextNode();\n\n                if (nextNode) {\n                  multiselection = this.editor.multiselection;\n                  multiselection.start = multiselection.start || this;\n                  multiselection.end = nextNode;\n                  nodes = this.editor._findTopLevelNodes(multiselection.start, multiselection.end);\n                  this.editor.select(nodes);\n                  nextNode.focus('field'); // select field as we know this always exists\n                }\n\n                handled = true;\n              } else if (altKey && shiftKey && editable) {\n                // Alt + Shift + Arrow Down\n                // find the 2nd next node and move before that one\n                if (lastNode.expanded) {\n                  nextNode = lastNode.append ? lastNode.append._nextNode() : undefined;\n                } else {\n                  nextNode = lastNode._nextNode();\n                } // when the next node is not visible, we've reached the \"showMore\" buttons\n\n\n                if (nextNode && !nextNode.isVisible()) {\n                  nextNode = nextNode.parent.showMore;\n                }\n\n                if (nextNode && nextNode instanceof Node_AppendNode) {\n                  nextNode = lastNode;\n                }\n\n                var _nextNode2 = nextNode && (nextNode._nextNode() || nextNode.parent.append);\n\n                if (_nextNode2 && _nextNode2.parent) {\n                  oldSelection = this.editor.getDomSelection();\n                  oldParent = firstNode.parent;\n                  oldNextNode = oldParent.childs[lastNode.getIndex() + 1] || oldParent.append;\n                  oldIndexRedo = firstNode.getIndex();\n                  newIndexRedo = _nextNode2.getIndex();\n                  oldParentPathRedo = oldParent.getInternalPath();\n                  newParentPathRedo = _nextNode2.parent.getInternalPath();\n                  selectedNodes.forEach(function (node) {\n                    _nextNode2.parent.moveBefore(node, _nextNode2);\n                  });\n                  this.focus(Node.focusElement || this._getElementName(target));\n\n                  this.editor._onAction('moveNodes', {\n                    count: selectedNodes.length,\n                    fieldNames: selectedNodes.map(getField),\n                    oldParentPath: oldParent.getInternalPath(),\n                    newParentPath: firstNode.parent.getInternalPath(),\n                    oldParentPathRedo: oldParentPathRedo,\n                    newParentPathRedo: newParentPathRedo,\n                    oldIndexRedo: oldIndexRedo,\n                    newIndexRedo: newIndexRedo,\n                    oldIndex: oldNextNode.getIndex(),\n                    newIndex: firstNode.getIndex(),\n                    oldSelection: oldSelection,\n                    newSelection: this.editor.getDomSelection()\n                  });\n                }\n\n                handled = true;\n              }\n            }\n\n            if (handled) {\n              event.preventDefault();\n              event.stopPropagation();\n            }\n          }\n          /**\n           * Handle the expand event, when clicked on the expand button\n           * @param {boolean} recurse   If true, child nodes will be expanded too\n           * @private\n           */\n\n        }, {\n          key: \"_onExpand\",\n          value: function _onExpand(recurse) {\n            if (recurse) {\n              // Take the table offline\n              var table = this.dom.tr.parentNode; // TODO: not nice to access the main table like this\n\n              var frame = table.parentNode;\n              var scrollTop = frame.scrollTop;\n              frame.removeChild(table);\n            }\n\n            if (this.expanded) {\n              this.collapse(recurse);\n            } else {\n              this.expand(recurse);\n            }\n\n            if (recurse) {\n              // Put the table online again\n              frame.appendChild(table);\n              frame.scrollTop = scrollTop;\n            }\n          }\n          /**\n           * Open a color picker to select a new color\n           * @private\n           */\n\n        }, {\n          key: \"_showColorPicker\",\n          value: function _showColorPicker() {\n            if (typeof this.editor.options.onColorPicker === 'function' && this.dom.color) {\n              var node = this; // force deleting current color picker (if any)\n\n              node._deleteDomColor();\n\n              node.updateDom();\n              var colorAnchor = Object(createAbsoluteAnchor[\"a\"\n              /* createAbsoluteAnchor */\n              ])(this.dom.color, this.editor.frame);\n              this.editor.options.onColorPicker(colorAnchor, this.value, function onChange(value) {\n                if (typeof value === 'string' && value !== node.value) {\n                  // force recreating the color block, to cleanup any attached color picker\n                  node._deleteDomColor();\n\n                  node.value = value;\n                  node.updateDom();\n\n                  node._debouncedOnChangeValue();\n                }\n              });\n            }\n          }\n          /**\n           * Get all field names of an object\n           * @param {Node} [excludeNode] Optional node to be excluded from the returned field names\n           * @return {string[]}\n           */\n\n        }, {\n          key: \"getFieldNames\",\n          value: function getFieldNames(excludeNode) {\n            if (this.type === 'object') {\n              return this.childs.filter(function (child) {\n                return child !== excludeNode;\n              }).map(function (child) {\n                return child.field;\n              });\n            }\n\n            return [];\n          }\n          /**\n           * Handle insert before event\n           * @param {String} [field]\n           * @param {*} [value]\n           * @param {String} [type]   Can be 'auto', 'array', 'object', or 'string'\n           * @private\n           */\n\n        }, {\n          key: \"_onInsertBefore\",\n          value: function _onInsertBefore(field, value, type) {\n            var oldSelection = this.editor.getDomSelection();\n            var newNode = new Node(this.editor, {\n              field: field !== undefined ? field : '',\n              value: value !== undefined ? value : '',\n              type: type\n            });\n            newNode.expand(true);\n            var beforePath = this.getInternalPath();\n            this.parent.insertBefore(newNode, this);\n            this.editor.highlighter.unhighlight();\n            newNode.focus('field');\n            var newSelection = this.editor.getDomSelection();\n\n            this.editor._onAction('insertBeforeNodes', {\n              nodes: [newNode],\n              paths: [newNode.getInternalPath()],\n              beforePath: beforePath,\n              parentPath: this.parent.getInternalPath(),\n              oldSelection: oldSelection,\n              newSelection: newSelection\n            });\n          }\n          /**\n           * Handle insert after event\n           * @param {String} [field]\n           * @param {*} [value]\n           * @param {String} [type]   Can be 'auto', 'array', 'object', or 'string'\n           * @private\n           */\n\n        }, {\n          key: \"_onInsertAfter\",\n          value: function _onInsertAfter(field, value, type) {\n            var oldSelection = this.editor.getDomSelection();\n            var newNode = new Node(this.editor, {\n              field: field !== undefined ? field : '',\n              value: value !== undefined ? value : '',\n              type: type\n            });\n            newNode.expand(true);\n            this.parent.insertAfter(newNode, this);\n            this.editor.highlighter.unhighlight();\n            newNode.focus('field');\n            var newSelection = this.editor.getDomSelection();\n\n            this.editor._onAction('insertAfterNodes', {\n              nodes: [newNode],\n              paths: [newNode.getInternalPath()],\n              afterPath: this.getInternalPath(),\n              parentPath: this.parent.getInternalPath(),\n              oldSelection: oldSelection,\n              newSelection: newSelection\n            });\n          }\n          /**\n           * Handle append event\n           * @param {String} [field]\n           * @param {*} [value]\n           * @param {String} [type]   Can be 'auto', 'array', 'object', or 'string'\n           * @private\n           */\n\n        }, {\n          key: \"_onAppend\",\n          value: function _onAppend(field, value, type) {\n            var oldSelection = this.editor.getDomSelection();\n            var newNode = new Node(this.editor, {\n              field: field !== undefined ? field : '',\n              value: value !== undefined ? value : '',\n              type: type\n            });\n            newNode.expand(true);\n            this.parent.appendChild(newNode);\n            this.editor.highlighter.unhighlight();\n            newNode.focus('field');\n            var newSelection = this.editor.getDomSelection();\n\n            this.editor._onAction('appendNodes', {\n              nodes: [newNode],\n              paths: [newNode.getInternalPath()],\n              parentPath: this.parent.getInternalPath(),\n              oldSelection: oldSelection,\n              newSelection: newSelection\n            });\n          }\n          /**\n           * Change the type of the node's value\n           * @param {String} newType\n           * @private\n           */\n\n        }, {\n          key: \"_onChangeType\",\n          value: function _onChangeType(newType) {\n            var oldType = this.type;\n\n            if (newType !== oldType) {\n              var oldSelection = this.editor.getDomSelection();\n              this.changeType(newType);\n              var newSelection = this.editor.getDomSelection();\n\n              this.editor._onAction('changeType', {\n                path: this.getInternalPath(),\n                oldType: oldType,\n                newType: newType,\n                oldSelection: oldSelection,\n                newSelection: newSelection\n              });\n            }\n          }\n          /**\n           * Sort the child's of the node. Only applicable when the node has type 'object'\n           * or 'array'.\n           * @param {String[] | string} path  Path of the child value to be compared\n           * @param {String} direction        Sorting direction. Available values: \"asc\", \"desc\"\n           * @private\n           */\n\n        }, {\n          key: \"sort\",\n          value: function sort(path, direction) {\n            if (typeof path === 'string') {\n              path = Object(util[\"parsePath\"])(path);\n            }\n\n            if (!this._hasChilds()) {\n              return;\n            }\n\n            this.hideChilds(); // sorting is faster when the childs are not attached to the dom\n            // copy the childs array (the old one will be kept for an undo action\n\n            var oldChilds = this.childs;\n            this.childs = this.childs.concat(); // sort the childs array\n\n            var order = direction === 'desc' ? -1 : 1;\n\n            if (this.type === 'object') {\n              this.childs.sort(function (a, b) {\n                return order * naturalSort_default()(a.field, b.field);\n              });\n            } else {\n              // this.type === 'array'\n              this.childs.sort(function (a, b) {\n                var nodeA = a.getNestedChild(path);\n                var nodeB = b.getNestedChild(path);\n\n                if (!nodeA) {\n                  return order;\n                }\n\n                if (!nodeB) {\n                  return -order;\n                }\n\n                var valueA = nodeA.value;\n                var valueB = nodeB.value;\n\n                if (typeof valueA !== 'string' && typeof valueB !== 'string') {\n                  // both values are a number, boolean, or null -> use simple, fast sorting\n                  return valueA > valueB ? order : valueA < valueB ? -order : 0;\n                }\n\n                return order * naturalSort_default()(valueA, valueB);\n              });\n            } // update the index numbering\n\n\n            this._updateDomIndexes();\n\n            this.editor._onAction('sort', {\n              path: this.getInternalPath(),\n              oldChilds: oldChilds,\n              newChilds: this.childs\n            });\n\n            this.showChilds();\n          }\n          /**\n           * Replace the value of the node, keep it's state\n           * @param {*} newValue\n           */\n\n        }, {\n          key: \"update\",\n          value: function update(newValue) {\n            var oldValue = this.getInternalValue();\n            this.setValue(newValue);\n\n            this.editor._onAction('transform', {\n              path: this.getInternalPath(),\n              oldValue: oldValue,\n              newValue: this.getInternalValue()\n            });\n          }\n          /**\n           * Remove this node from the DOM\n           * @returns {{table: Element, nextTr?: Element}}\n           *            Returns the DOM elements that which be used to attach the node\n           *            to the DOM again, see _attachToDom.\n           * @private\n           */\n\n        }, {\n          key: \"_detachFromDom\",\n          value: function _detachFromDom() {\n            var table = this.dom.tr ? this.dom.tr.parentNode : undefined;\n            var lastTr;\n\n            if (this.expanded) {\n              lastTr = this.getAppendDom();\n            } else {\n              lastTr = this.getDom();\n            }\n\n            var nextTr = lastTr && lastTr.parentNode ? lastTr.nextSibling : undefined;\n            this.hide({\n              resetVisibleChilds: false\n            });\n            return {\n              table: table,\n              nextTr: nextTr\n            };\n          }\n          /**\n           * Attach this node to the DOM again\n           * @param {{table: Element, nextTr?: Element}} domAnchor\n           *            The DOM elements returned by _detachFromDom.\n           * @private\n           */\n\n        }, {\n          key: \"_attachToDom\",\n          value: function _attachToDom(domAnchor) {\n            if (domAnchor.table) {\n              if (domAnchor.nextTr) {\n                domAnchor.table.insertBefore(this.getDom(), domAnchor.nextTr);\n              } else {\n                domAnchor.table.appendChild(this.getDom());\n              }\n            }\n\n            if (this.expanded) {\n              this.showChilds();\n            }\n          }\n          /**\n           * Transform the node given a JMESPath query.\n           * @param {String} query    JMESPath query to apply\n           * @private\n           */\n\n        }, {\n          key: \"transform\",\n          value: function transform(query) {\n            if (!this._hasChilds()) {\n              return;\n            }\n\n            this.hideChilds(); // sorting is faster when the childs are not attached to the dom\n\n            try {\n              var oldInternalValue = this.getInternalValue(); // apply the JMESPath query\n\n              var oldValue = this.getValue();\n              var newValue = jmespath_default.a.search(oldValue, query);\n              this.setValue(newValue);\n              var newInternalValue = this.getInternalValue();\n\n              this.editor._onAction('transform', {\n                path: this.getInternalPath(),\n                oldValue: oldInternalValue,\n                newValue: newInternalValue\n              });\n\n              this.showChilds();\n            } catch (err) {\n              this.showChilds();\n\n              this.editor._onError(err);\n            }\n          }\n          /**\n           * Make this object the root object of the ditor\n           */\n\n        }, {\n          key: \"extract\",\n          value: function extract() {\n            this.editor.node.hideChilds();\n            this.hideChilds();\n\n            try {\n              var oldInternalValue = this.editor.node.getInternalValue();\n\n              this.editor._setRoot(this);\n\n              var newInternalValue = this.editor.node.getInternalValue();\n\n              this.editor._onAction('transform', {\n                path: this.editor.node.getInternalPath(),\n                oldValue: oldInternalValue,\n                newValue: newInternalValue\n              });\n            } catch (err) {\n              this.editor._onError(err);\n            } finally {\n              this.updateDom({\n                recurse: true\n              });\n              this.showChilds();\n            }\n          }\n          /**\n           * Get a nested child given a path with properties\n           * @param {String[]} path\n           * @returns {Node}\n           */\n\n        }, {\n          key: \"getNestedChild\",\n          value: function getNestedChild(path) {\n            var i = 0;\n            var child = this;\n\n            while (child && i < path.length) {\n              child = child.findChildByProperty(path[i]);\n              i++;\n            }\n\n            return child;\n          }\n          /**\n           * Find a child by property name\n           * @param {string} prop\n           * @return {Node | undefined} Returns the child node when found, or undefined otherwise\n           */\n\n        }, {\n          key: \"findChildByProperty\",\n          value: function findChildByProperty(prop) {\n            if (this.type !== 'object') {\n              return undefined;\n            }\n\n            return this.childs.find(function (child) {\n              return child.field === prop;\n            });\n          }\n          /**\n           * Create a table row with an append button.\n           * @return {HTMLElement | undefined} tr with the AppendNode contents\n           */\n\n        }, {\n          key: \"getAppendDom\",\n          value: function getAppendDom() {\n            if (!this.append) {\n              this.append = new Node_AppendNode(this.editor);\n              this.append.setParent(this);\n            }\n\n            return this.append.getDom();\n          }\n          /**\n           * Create a table row with an showMore button and text\n           * @return {HTMLElement | undefined} tr with the AppendNode contents\n           */\n\n        }, {\n          key: \"getShowMoreDom\",\n          value: function getShowMoreDom() {\n            if (!this.showMore) {\n              this.showMore = new Node_ShowMoreNode(this.editor, this);\n            }\n\n            return this.showMore.getDom();\n          }\n          /**\n           * Get the next sibling of current node\n           * @return {Node} nextSibling\n           */\n\n        }, {\n          key: \"nextSibling\",\n          value: function nextSibling() {\n            var index = this.parent.childs.indexOf(this);\n            return this.parent.childs[index + 1] || this.parent.append;\n          }\n          /**\n           * Get the previously rendered node\n           * @return {Node | null} previousNode\n           */\n\n        }, {\n          key: \"_previousNode\",\n          value: function _previousNode() {\n            var prevNode = null;\n            var dom = this.getDom();\n\n            if (dom && dom.parentNode) {\n              // find the previous field\n              var prevDom = dom;\n\n              do {\n                prevDom = prevDom.previousSibling;\n                prevNode = Node.getNodeFromTarget(prevDom);\n              } while (prevDom && prevNode && prevNode instanceof Node_AppendNode && !prevNode.isVisible());\n            }\n\n            return prevNode;\n          }\n          /**\n           * Get the next rendered node\n           * @return {Node | null} nextNode\n           * @private\n           */\n\n        }, {\n          key: \"_nextNode\",\n          value: function _nextNode() {\n            var nextNode = null;\n            var dom = this.getDom();\n\n            if (dom && dom.parentNode) {\n              // find the previous field\n              var nextDom = dom;\n\n              do {\n                nextDom = nextDom.nextSibling;\n                nextNode = Node.getNodeFromTarget(nextDom);\n              } while (nextDom && nextNode && nextNode instanceof Node_AppendNode && !nextNode.isVisible());\n            }\n\n            return nextNode;\n          }\n          /**\n           * Get the first rendered node\n           * @return {Node | null} firstNode\n           * @private\n           */\n\n        }, {\n          key: \"_firstNode\",\n          value: function _firstNode() {\n            var firstNode = null;\n            var dom = this.getDom();\n\n            if (dom && dom.parentNode) {\n              var firstDom = dom.parentNode.firstChild;\n              firstNode = Node.getNodeFromTarget(firstDom);\n            }\n\n            return firstNode;\n          }\n          /**\n           * Get the last rendered node\n           * @return {Node | null} lastNode\n           * @private\n           */\n\n        }, {\n          key: \"_lastNode\",\n          value: function _lastNode() {\n            var lastNode = null;\n            var dom = this.getDom();\n\n            if (dom && dom.parentNode) {\n              var lastDom = dom.parentNode.lastChild;\n              lastNode = Node.getNodeFromTarget(lastDom);\n\n              while (lastDom && lastNode && !lastNode.isVisible()) {\n                lastDom = lastDom.previousSibling;\n                lastNode = Node.getNodeFromTarget(lastDom);\n              }\n            }\n\n            return lastNode;\n          }\n          /**\n           * Get the next element which can have focus.\n           * @param {Element} elem\n           * @return {Element | null} nextElem\n           * @private\n           */\n\n        }, {\n          key: \"_previousElement\",\n          value: function _previousElement(elem) {\n            var dom = this.dom; // noinspection FallthroughInSwitchStatementJS\n\n            switch (elem) {\n              case dom.value:\n                if (this.fieldEditable) {\n                  return dom.field;\n                }\n\n              // intentional fall through\n\n              case dom.field:\n                if (this._hasChilds()) {\n                  return dom.expand;\n                }\n\n              // intentional fall through\n\n              case dom.expand:\n                return dom.menu;\n\n              case dom.menu:\n                if (dom.drag) {\n                  return dom.drag;\n                }\n\n              // intentional fall through\n\n              default:\n                return null;\n            }\n          }\n          /**\n           * Get the next element which can have focus.\n           * @param {Element} elem\n           * @return {Element | null} nextElem\n           * @private\n           */\n\n        }, {\n          key: \"_nextElement\",\n          value: function _nextElement(elem) {\n            var dom = this.dom; // noinspection FallthroughInSwitchStatementJS\n\n            switch (elem) {\n              case dom.drag:\n                return dom.menu;\n\n              case dom.menu:\n                if (this._hasChilds()) {\n                  return dom.expand;\n                }\n\n              // intentional fall through\n\n              case dom.expand:\n                if (this.fieldEditable) {\n                  return dom.field;\n                }\n\n              // intentional fall through\n\n              case dom.field:\n                if (!this._hasChilds()) {\n                  return dom.value;\n                }\n\n              // intentional fall through\n\n              default:\n                return null;\n            }\n          }\n          /**\n           * Get the dom name of given element. returns null if not found.\n           * For example when element === dom.field, \"field\" is returned.\n           * @param {Element} element\n           * @return {String | null} elementName  Available elements with name: 'drag',\n           *                                      'menu', 'expand', 'field', 'value'\n           * @private\n           */\n\n        }, {\n          key: \"_getElementName\",\n          value: function _getElementName(element) {\n            var _this2 = this;\n\n            return Object.keys(this.dom).find(function (name) {\n              return _this2.dom[name] === element;\n            });\n          }\n          /**\n           * Test if this node has childs. This is the case when the node is an object\n           * or array.\n           * @return {boolean} hasChilds\n           * @private\n           */\n\n        }, {\n          key: \"_hasChilds\",\n          value: function _hasChilds() {\n            return this.type === 'array' || this.type === 'object';\n          }\n        }, {\n          key: \"addTemplates\",\n          value: function addTemplates(menu, append) {\n            var node = this;\n            var templates = node.editor.options.templates;\n            if (templates == null) return;\n\n            if (templates.length) {\n              // create a separator\n              menu.push({\n                type: 'separator'\n              });\n            }\n\n            var appendData = function appendData(name, data) {\n              node._onAppend(name, data);\n            };\n\n            var insertData = function insertData(name, data) {\n              node._onInsertBefore(name, data);\n            };\n\n            templates.forEach(function (template) {\n              menu.push({\n                text: template.text,\n                className: template.className || 'jsoneditor-type-object',\n                title: template.title,\n                click: append ? appendData.bind(this, template.field, template.value) : insertData.bind(this, template.field, template.value)\n              });\n            });\n          }\n          /**\n           * Show a contextmenu for this node\n           * @param {HTMLElement} anchor   Anchor element to attach the context menu to\n           *                               as sibling.\n           * @param {function} [onClose]   Callback method called when the context menu\n           *                               is being closed.\n           */\n\n        }, {\n          key: \"showContextMenu\",\n          value: function showContextMenu(anchor, onClose) {\n            var node = this;\n            var titles = Node.TYPE_TITLES;\n            var items = [];\n\n            if (this.editable.value) {\n              items.push({\n                text: Object(i18n[\"c\"\n                /* translate */\n                ])('type'),\n                title: Object(i18n[\"c\"\n                /* translate */\n                ])('typeTitle'),\n                className: 'jsoneditor-type-' + this.type,\n                submenu: [{\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('auto'),\n                  className: 'jsoneditor-type-auto' + (this.type === 'auto' ? ' jsoneditor-selected' : ''),\n                  title: titles.auto,\n                  click: function click() {\n                    node._onChangeType('auto');\n                  }\n                }, {\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('array'),\n                  className: 'jsoneditor-type-array' + (this.type === 'array' ? ' jsoneditor-selected' : ''),\n                  title: titles.array,\n                  click: function click() {\n                    node._onChangeType('array');\n                  }\n                }, {\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('object'),\n                  className: 'jsoneditor-type-object' + (this.type === 'object' ? ' jsoneditor-selected' : ''),\n                  title: titles.object,\n                  click: function click() {\n                    node._onChangeType('object');\n                  }\n                }, {\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('string'),\n                  className: 'jsoneditor-type-string' + (this.type === 'string' ? ' jsoneditor-selected' : ''),\n                  title: titles.string,\n                  click: function click() {\n                    node._onChangeType('string');\n                  }\n                }]\n              });\n            }\n\n            if (this._hasChilds()) {\n              if (this.editor.options.enableSort) {\n                items.push({\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('sort'),\n                  title: Object(i18n[\"c\"\n                  /* translate */\n                  ])('sortTitle', {\n                    type: this.type\n                  }),\n                  className: 'jsoneditor-sort-asc',\n                  click: function click() {\n                    node.showSortModal();\n                  }\n                });\n              }\n\n              if (this.editor.options.enableTransform) {\n                items.push({\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('transform'),\n                  title: Object(i18n[\"c\"\n                  /* translate */\n                  ])('transformTitle', {\n                    type: this.type\n                  }),\n                  className: 'jsoneditor-transform',\n                  click: function click() {\n                    node.showTransformModal();\n                  }\n                });\n              }\n\n              if (this.parent) {\n                items.push({\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('extract'),\n                  title: Object(i18n[\"c\"\n                  /* translate */\n                  ])('extractTitle', {\n                    type: this.type\n                  }),\n                  className: 'jsoneditor-extract',\n                  click: function click() {\n                    node.extract();\n                  }\n                });\n              }\n            }\n\n            if (this.parent && this.parent._hasChilds()) {\n              if (items.length) {\n                // create a separator\n                items.push({\n                  type: 'separator'\n                });\n              } // create append button (for last child node only)\n\n\n              var childs = node.parent.childs;\n\n              if (node === childs[childs.length - 1]) {\n                var appendSubmenu = [{\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('auto'),\n                  className: 'jsoneditor-type-auto',\n                  title: titles.auto,\n                  click: function click() {\n                    node._onAppend('', '', 'auto');\n                  }\n                }, {\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('array'),\n                  className: 'jsoneditor-type-array',\n                  title: titles.array,\n                  click: function click() {\n                    node._onAppend('', []);\n                  }\n                }, {\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('object'),\n                  className: 'jsoneditor-type-object',\n                  title: titles.object,\n                  click: function click() {\n                    node._onAppend('', {});\n                  }\n                }, {\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('string'),\n                  className: 'jsoneditor-type-string',\n                  title: titles.string,\n                  click: function click() {\n                    node._onAppend('', '', 'string');\n                  }\n                }];\n                node.addTemplates(appendSubmenu, true);\n                items.push({\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('appendText'),\n                  title: Object(i18n[\"c\"\n                  /* translate */\n                  ])('appendTitle'),\n                  submenuTitle: Object(i18n[\"c\"\n                  /* translate */\n                  ])('appendSubmenuTitle'),\n                  className: 'jsoneditor-append',\n                  click: function click() {\n                    node._onAppend('', '', 'auto');\n                  },\n                  submenu: appendSubmenu\n                });\n              } // create insert button\n\n\n              var insertSubmenu = [{\n                text: Object(i18n[\"c\"\n                /* translate */\n                ])('auto'),\n                className: 'jsoneditor-type-auto',\n                title: titles.auto,\n                click: function click() {\n                  node._onInsertBefore('', '', 'auto');\n                }\n              }, {\n                text: Object(i18n[\"c\"\n                /* translate */\n                ])('array'),\n                className: 'jsoneditor-type-array',\n                title: titles.array,\n                click: function click() {\n                  node._onInsertBefore('', []);\n                }\n              }, {\n                text: Object(i18n[\"c\"\n                /* translate */\n                ])('object'),\n                className: 'jsoneditor-type-object',\n                title: titles.object,\n                click: function click() {\n                  node._onInsertBefore('', {});\n                }\n              }, {\n                text: Object(i18n[\"c\"\n                /* translate */\n                ])('string'),\n                className: 'jsoneditor-type-string',\n                title: titles.string,\n                click: function click() {\n                  node._onInsertBefore('', '', 'string');\n                }\n              }];\n              node.addTemplates(insertSubmenu, false);\n              items.push({\n                text: Object(i18n[\"c\"\n                /* translate */\n                ])('insert'),\n                title: Object(i18n[\"c\"\n                /* translate */\n                ])('insertTitle'),\n                submenuTitle: Object(i18n[\"c\"\n                /* translate */\n                ])('insertSub'),\n                className: 'jsoneditor-insert',\n                click: function click() {\n                  node._onInsertBefore('', '', 'auto');\n                },\n                submenu: insertSubmenu\n              });\n\n              if (this.editable.field) {\n                // create duplicate button\n                items.push({\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('duplicateText'),\n                  title: Object(i18n[\"c\"\n                  /* translate */\n                  ])('duplicateField'),\n                  className: 'jsoneditor-duplicate',\n                  click: function click() {\n                    Node.onDuplicate(node);\n                  }\n                }); // create remove button\n\n                items.push({\n                  text: Object(i18n[\"c\"\n                  /* translate */\n                  ])('removeText'),\n                  title: Object(i18n[\"c\"\n                  /* translate */\n                  ])('removeField'),\n                  className: 'jsoneditor-remove',\n                  click: function click() {\n                    Node.onRemove(node);\n                  }\n                });\n              }\n            }\n\n            if (this.editor.options.onCreateMenu) {\n              var path = node.getPath();\n              items = this.editor.options.onCreateMenu(items, {\n                type: 'single',\n                path: path,\n                paths: [path]\n              });\n            }\n\n            var menu = new ContextMenu[\"a\"\n            /* ContextMenu */\n            ](items, {\n              close: onClose\n            });\n            menu.show(anchor, this.editor.frame);\n          }\n          /**\n           * Show sorting modal\n           */\n\n        }, {\n          key: \"showSortModal\",\n          value: function showSortModal() {\n            var node = this;\n            var container = this.editor.options.modalAnchor || constants[\"a\"\n            /* DEFAULT_MODAL_ANCHOR */\n            ];\n            var json = this.getValue();\n\n            function onSort(sortedBy) {\n              var path = sortedBy.path;\n              var pathArray = Object(util[\"parsePath\"])(path);\n              node.sortedBy = sortedBy;\n              node.sort(pathArray, sortedBy.direction);\n            }\n\n            Object(js_showSortModal[\"a\"\n            /* showSortModal */\n            ])(container, json, onSort, node.sortedBy);\n          }\n          /**\n           * Show transform modal\n           */\n\n        }, {\n          key: \"showTransformModal\",\n          value: function showTransformModal() {\n            var node = this;\n            var anchor = this.editor.options.modalAnchor || constants[\"a\"\n            /* DEFAULT_MODAL_ANCHOR */\n            ];\n            var json = node.getValue();\n            Object(js_showTransformModal[\"a\"\n            /* showTransformModal */\n            ])(anchor, json, function (query) {\n              node.transform(query);\n            });\n          }\n          /**\n           * get the type of a value\n           * @param {*} value\n           * @return {String} type   Can be 'object', 'array', 'string', 'auto'\n           * @private\n           */\n\n        }, {\n          key: \"_getType\",\n          value: function _getType(value) {\n            if (value instanceof Array) {\n              return 'array';\n            }\n\n            if (value instanceof Object) {\n              return 'object';\n            }\n\n            if (typeof value === 'string' && typeof Object(util[\"parseString\"])(value) !== 'string') {\n              return 'string';\n            }\n\n            return 'auto';\n          }\n          /**\n           * escape a text, such that it can be displayed safely in an HTML element\n           * @param {String} text\n           * @return {String} escapedText\n           * @private\n           */\n\n        }, {\n          key: \"_escapeHTML\",\n          value: function _escapeHTML(text) {\n            if (typeof text !== 'string') {\n              return String(text);\n            } else {\n              var htmlEscaped = String(text).replace(/&/g, '&amp;') // must be replaced first!\n              .replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/ {2}/g, ' &nbsp;') // replace double space with an nbsp and space\n              .replace(/^ /, '&nbsp;') // space at start\n              .replace(/ $/, '&nbsp;'); // space at end\n\n              var json = JSON.stringify(htmlEscaped);\n              var html = json.substring(1, json.length - 1);\n\n              if (this.editor.options.escapeUnicode === true) {\n                html = Object(util[\"escapeUnicodeChars\"])(html);\n              }\n\n              return html;\n            }\n          }\n          /**\n           * unescape a string.\n           * @param {String} escapedText\n           * @return {String} text\n           * @private\n           */\n\n        }, {\n          key: \"_unescapeHTML\",\n          value: function _unescapeHTML(escapedText) {\n            var json = '\"' + this._escapeJSON(escapedText) + '\"';\n            var htmlEscaped = Object(util[\"parse\"])(json);\n            return htmlEscaped.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&nbsp;|\\u00A0/g, ' ').replace(/&amp;/g, '&'); // must be replaced last\n          }\n          /**\n           * escape a text to make it a valid JSON string. The method will:\n           *   - replace unescaped double quotes with '\\\"'\n           *   - replace unescaped backslash with '\\\\'\n           *   - replace returns with '\\n'\n           * @param {String} text\n           * @return {String} escapedText\n           * @private\n           */\n\n        }, {\n          key: \"_escapeJSON\",\n          value: function _escapeJSON(text) {\n            // TODO: replace with some smart regex (only when a new solution is faster!)\n            var escaped = '';\n            var i = 0;\n\n            while (i < text.length) {\n              var c = text.charAt(i);\n\n              if (c === '\\n') {\n                escaped += '\\\\n';\n              } else if (c === '\\\\') {\n                escaped += c;\n                i++;\n                c = text.charAt(i);\n\n                if (c === '' || '\"\\\\/bfnrtu'.indexOf(c) === -1) {\n                  escaped += '\\\\'; // no valid escape character\n                }\n\n                escaped += c;\n              } else if (c === '\"') {\n                escaped += '\\\\\"';\n              } else {\n                escaped += c;\n              }\n\n              i++;\n            }\n\n            return escaped;\n          }\n          /**\n           * update the object name according to the callback onNodeName\n           * @private\n           */\n\n        }, {\n          key: \"updateNodeName\",\n          value: function updateNodeName() {\n            var count = this.childs ? this.childs.length : 0;\n            var nodeName;\n\n            if (this.type === 'object' || this.type === 'array') {\n              if (this.editor.options.onNodeName) {\n                try {\n                  nodeName = this.editor.options.onNodeName({\n                    path: this.getPath(),\n                    size: count,\n                    type: this.type\n                  });\n                } catch (err) {\n                  console.error('Error in onNodeName callback: ', err);\n                }\n              }\n\n              this.dom.value.innerHTML = this.type === 'object' ? '{' + (nodeName || count) + '}' : '[' + (nodeName || count) + ']';\n            }\n          }\n          /**\n           * update recursively the object's and its children's name.\n           * @private\n           */\n\n        }, {\n          key: \"recursivelyUpdateNodeName\",\n          value: function recursivelyUpdateNodeName() {\n            if (this.expanded) {\n              this.updateNodeName();\n\n              if (this.childs !== 'undefined') {\n                var i;\n\n                for (i in this.childs) {\n                  this.childs[i].recursivelyUpdateNodeName();\n                }\n              }\n            }\n          }\n        }]);\n        return Node;\n      }(); // debounce interval for keyboard input in milliseconds\n\n\n      Node_Node.prototype.DEBOUNCE_INTERVAL = 150; // search will stop iterating as soon as the max is reached\n\n      Node_Node.prototype.MAX_SEARCH_RESULTS = 999; // default number of child nodes to display\n\n      var DEFAULT_MAX_VISIBLE_CHILDS = 100; // stores the element name currently having the focus\n\n      Node_Node.focusElement = undefined;\n      /**\n       * Select all text in an editable div after a delay of 0 ms\n       * @param {Element} editableDiv\n       */\n\n      Node_Node.select = function (editableDiv) {\n        setTimeout(function () {\n          Object(util[\"selectContentEditable\"])(editableDiv);\n        }, 0);\n      };\n      /**\n       * DragStart event, fired on mousedown on the dragarea at the left side of a Node\n       * @param {Node[] | Node} nodes\n       * @param {Event} event\n       */\n\n\n      Node_Node.onDragStart = function (nodes, event) {\n        if (!Array.isArray(nodes)) {\n          return Node_Node.onDragStart([nodes], event);\n        }\n\n        if (nodes.length === 0) {\n          return;\n        }\n\n        var firstNode = nodes[0];\n        var lastNode = nodes[nodes.length - 1];\n        var parent = firstNode.parent;\n        var draggedNode = Node_Node.getNodeFromTarget(event.target);\n        var editor = firstNode.editor; // in case of multiple selected nodes, offsetY prevents the selection from\n        // jumping when you start dragging one of the lower down nodes in the selection\n\n        var offsetY = Object(util[\"getAbsoluteTop\"])(draggedNode.dom.tr) - Object(util[\"getAbsoluteTop\"])(firstNode.dom.tr);\n\n        if (!editor.mousemove) {\n          editor.mousemove = Object(util[\"addEventListener\"])(window, 'mousemove', function (event) {\n            Node_Node.onDrag(nodes, event);\n          });\n        }\n\n        if (!editor.mouseup) {\n          editor.mouseup = Object(util[\"addEventListener\"])(window, 'mouseup', function (event) {\n            Node_Node.onDragEnd(nodes, event);\n          });\n        }\n\n        editor.highlighter.lock();\n        editor.drag = {\n          oldCursor: document.body.style.cursor,\n          oldSelection: editor.getDomSelection(),\n          oldPaths: nodes.map(getInternalPath),\n          oldParent: parent,\n          oldNextNode: parent.childs[lastNode.getIndex() + 1] || parent.append,\n          oldParentPathRedo: parent.getInternalPath(),\n          oldIndexRedo: firstNode.getIndex(),\n          mouseX: event.pageX,\n          offsetY: offsetY,\n          level: firstNode.getLevel()\n        };\n        document.body.style.cursor = 'move';\n        event.preventDefault();\n      };\n      /**\n       * Drag event, fired when moving the mouse while dragging a Node\n       * @param {Node[] | Node} nodes\n       * @param {Event} event\n       */\n\n\n      Node_Node.onDrag = function (nodes, event) {\n        if (!Array.isArray(nodes)) {\n          return Node_Node.onDrag([nodes], event);\n        }\n\n        if (nodes.length === 0) {\n          return;\n        } // TODO: this method has grown too large. Split it in a number of methods\n\n\n        var editor = nodes[0].editor;\n        var mouseY = event.pageY - editor.drag.offsetY;\n        var mouseX = event.pageX;\n        var trPrev, trNext, trFirst, trLast, trRoot;\n        var nodePrev, nodeNext;\n        var topPrev, topFirst, bottomNext, heightNext;\n        var moved = false; // TODO: add an ESC option, which resets to the original position\n        // move up/down\n\n        var firstNode = nodes[0];\n        var trThis = firstNode.dom.tr;\n        var topThis = Object(util[\"getAbsoluteTop\"])(trThis);\n        var heightThis = trThis.offsetHeight;\n\n        if (mouseY < topThis) {\n          // move up\n          trPrev = trThis;\n\n          do {\n            trPrev = trPrev.previousSibling;\n            nodePrev = Node_Node.getNodeFromTarget(trPrev);\n            topPrev = trPrev ? Object(util[\"getAbsoluteTop\"])(trPrev) : 0;\n          } while (trPrev && mouseY < topPrev);\n\n          if (nodePrev && !nodePrev.parent) {\n            nodePrev = undefined;\n          }\n\n          if (!nodePrev) {\n            // move to the first node\n            trRoot = trThis.parentNode.firstChild;\n            trPrev = trRoot ? trRoot.nextSibling : undefined;\n            nodePrev = Node_Node.getNodeFromTarget(trPrev);\n\n            if (nodePrev === firstNode) {\n              nodePrev = undefined;\n            }\n          }\n\n          if (nodePrev && nodePrev.isVisible()) {\n            // check if mouseY is really inside the found node\n            trPrev = nodePrev.dom.tr;\n            topPrev = trPrev ? Object(util[\"getAbsoluteTop\"])(trPrev) : 0;\n\n            if (mouseY > topPrev + heightThis) {\n              nodePrev = undefined;\n            }\n          }\n\n          if (nodePrev) {\n            nodes.forEach(function (node) {\n              nodePrev.parent.moveBefore(node, nodePrev);\n            });\n            moved = true;\n          }\n        } else {\n          // move down\n          var lastNode = nodes[nodes.length - 1];\n          trLast = lastNode.expanded && lastNode.append ? lastNode.append.getDom() : lastNode.dom.tr;\n          trFirst = trLast ? trLast.nextSibling : undefined;\n\n          if (trFirst) {\n            topFirst = Object(util[\"getAbsoluteTop\"])(trFirst);\n            trNext = trFirst;\n\n            do {\n              nodeNext = Node_Node.getNodeFromTarget(trNext);\n\n              if (trNext) {\n                bottomNext = trNext.nextSibling ? Object(util[\"getAbsoluteTop\"])(trNext.nextSibling) : 0;\n                heightNext = trNext ? bottomNext - topFirst : 0;\n\n                if (nodeNext && nodeNext.parent.childs.length === nodes.length && nodeNext.parent.childs[nodes.length - 1] === lastNode) {\n                  // We are about to remove the last child of this parent,\n                  // which will make the parents appendNode visible.\n                  topThis += 27; // TODO: dangerous to suppose the height of the appendNode a constant of 27 px.\n                }\n\n                trNext = trNext.nextSibling;\n              }\n            } while (trNext && mouseY > topThis + heightNext);\n\n            if (nodeNext && nodeNext.parent) {\n              // calculate the desired level\n              var diffX = mouseX - editor.drag.mouseX;\n              var diffLevel = Math.round(diffX / 24 / 2);\n              var level = editor.drag.level + diffLevel; // desired level\n\n              var levelNext = nodeNext.getLevel(); // level to be\n              // find the best fitting level (move upwards over the append nodes)\n\n              trPrev = nodeNext.dom.tr && nodeNext.dom.tr.previousSibling;\n\n              while (levelNext < level && trPrev) {\n                nodePrev = Node_Node.getNodeFromTarget(trPrev);\n                var isDraggedNode = nodes.some(function (node) {\n                  return node === nodePrev || nodePrev.isDescendantOf(node);\n                });\n\n                if (isDraggedNode) {// neglect the dragged nodes themselves and their childs\n                } else if (nodePrev instanceof Node_AppendNode) {\n                  var childs = nodePrev.parent.childs;\n\n                  if (childs.length !== nodes.length || childs[nodes.length - 1] !== lastNode) {\n                    // non-visible append node of a list of childs\n                    // consisting of not only this node (else the\n                    // append node will change into a visible \"empty\"\n                    // text when removing this node).\n                    nodeNext = Node_Node.getNodeFromTarget(trPrev);\n                    levelNext = nodeNext.getLevel();\n                  } else {\n                    break;\n                  }\n                } else {\n                  break;\n                }\n\n                trPrev = trPrev.previousSibling;\n              }\n\n              if (nodeNext instanceof Node_AppendNode && !nodeNext.isVisible() && nodeNext.parent.showMore.isVisible()) {\n                nodeNext = nodeNext._nextNode();\n              } // move the node when its position is changed\n\n\n              if (nodeNext && nodeNext.dom.tr && trLast.nextSibling !== nodeNext.dom.tr) {\n                nodes.forEach(function (node) {\n                  nodeNext.parent.moveBefore(node, nodeNext);\n                });\n                moved = true;\n              }\n            }\n          }\n        }\n\n        if (moved) {\n          // update the dragging parameters when moved\n          editor.drag.mouseX = mouseX;\n          editor.drag.level = firstNode.getLevel();\n        } // auto scroll when hovering around the top of the editor\n\n\n        editor.startAutoScroll(mouseY);\n        event.preventDefault();\n      };\n      /**\n       * Drag event, fired on mouseup after having dragged a node\n       * @param {Node[] | Node} nodes\n       * @param {Event} event\n       */\n\n\n      Node_Node.onDragEnd = function (nodes, event) {\n        if (!Array.isArray(nodes)) {\n          return Node_Node.onDrag([nodes], event);\n        }\n\n        if (nodes.length === 0) {\n          return;\n        }\n\n        var firstNode = nodes[0];\n        var editor = firstNode.editor; // set focus to the context menu button of the first node\n\n        if (nodes[0]) {\n          nodes[0].dom.menu.focus();\n        }\n\n        var oldParentPath = editor.drag.oldParent.getInternalPath();\n        var newParentPath = firstNode.parent.getInternalPath();\n        var sameParent = editor.drag.oldParent === firstNode.parent;\n        var oldIndex = editor.drag.oldNextNode.getIndex();\n        var newIndex = firstNode.getIndex();\n        var oldParentPathRedo = editor.drag.oldParentPathRedo;\n        var oldIndexRedo = editor.drag.oldIndexRedo;\n        var newIndexRedo = sameParent && oldIndexRedo < newIndex ? newIndex + nodes.length : newIndex;\n\n        if (!sameParent || oldIndexRedo !== newIndex) {\n          // only register this action if the node is actually moved to another place\n          editor._onAction('moveNodes', {\n            count: nodes.length,\n            fieldNames: nodes.map(getField),\n            oldParentPath: oldParentPath,\n            newParentPath: newParentPath,\n            oldIndex: oldIndex,\n            newIndex: newIndex,\n            oldIndexRedo: oldIndexRedo,\n            newIndexRedo: newIndexRedo,\n            oldParentPathRedo: oldParentPathRedo,\n            newParentPathRedo: null,\n            // This is a hack, value will be filled in during undo\n            oldSelection: editor.drag.oldSelection,\n            newSelection: editor.getDomSelection()\n          });\n        }\n\n        document.body.style.cursor = editor.drag.oldCursor;\n        editor.highlighter.unlock();\n        nodes.forEach(function (node) {\n          node.updateDom();\n\n          if (event.target !== node.dom.drag && event.target !== node.dom.menu) {\n            editor.highlighter.unhighlight();\n          }\n        });\n        delete editor.drag;\n\n        if (editor.mousemove) {\n          Object(util[\"removeEventListener\"])(window, 'mousemove', editor.mousemove);\n          delete editor.mousemove;\n        }\n\n        if (editor.mouseup) {\n          Object(util[\"removeEventListener\"])(window, 'mouseup', editor.mouseup);\n          delete editor.mouseup;\n        } // Stop any running auto scroll\n\n\n        editor.stopAutoScroll();\n        event.preventDefault();\n      };\n      /**\n       * find an enum definition in a JSON schema, as property `enum` or inside\n       * one of the schemas composites (`oneOf`, `anyOf`, `allOf`)\n       * @param  {Object} schema\n       * @return {Array | null} Returns the enum when found, null otherwise.\n       * @private\n       */\n\n\n      Node_Node._findEnum = function (schema) {\n        if (schema[\"enum\"]) {\n          return schema[\"enum\"];\n        }\n\n        var composite = schema.oneOf || schema.anyOf || schema.allOf;\n\n        if (composite) {\n          var match = composite.filter(function (entry) {\n            return entry[\"enum\"];\n          });\n\n          if (match.length > 0) {\n            return match[0][\"enum\"];\n          }\n        }\n\n        return null;\n      };\n      /**\n       * Return the part of a JSON schema matching given path.\n       * @param {Object} schema\n       * @param {Object} schemaRefs\n       * @param {Array.<string | number>} path\n       * @return {Object | null}\n       * @private\n       */\n\n\n      Node_Node._findSchema = function (schema, schemaRefs, path) {\n        var childSchema = schema;\n        var foundSchema = childSchema;\n        var allSchemas = schema.oneOf || schema.anyOf || schema.allOf;\n\n        if (!allSchemas) {\n          allSchemas = [schema];\n        }\n\n        for (var j = 0; j < allSchemas.length; j++) {\n          childSchema = allSchemas[j];\n\n          if ('$ref' in childSchema && typeof childSchema.$ref === 'string') {\n            childSchema = schemaRefs[childSchema.$ref];\n\n            if (childSchema) {\n              foundSchema = Node_Node._findSchema(childSchema, schemaRefs, path);\n            }\n          }\n\n          for (var i = 0; i < path.length && childSchema; i++) {\n            var nextPath = path.slice(i + 1, path.length);\n            var key = path[i];\n\n            if (typeof key === 'string' && childSchema.patternProperties && !(childSchema.properties && key in childSchema.properties)) {\n              for (var prop in childSchema.patternProperties) {\n                if (key.match(prop)) {\n                  foundSchema = Node_Node._findSchema(childSchema.patternProperties[prop], schemaRefs, nextPath);\n                }\n              }\n            } else if (typeof key === 'string' && childSchema.properties) {\n              if (!(key in childSchema.properties)) {\n                foundSchema = null;\n              } else {\n                childSchema = childSchema.properties[key];\n\n                if (childSchema) {\n                  foundSchema = Node_Node._findSchema(childSchema, schemaRefs, nextPath);\n                }\n              }\n            } else if (typeof key === 'number' && childSchema.items) {\n              childSchema = childSchema.items;\n\n              if (childSchema) {\n                foundSchema = Node_Node._findSchema(childSchema, schemaRefs, nextPath);\n              }\n            }\n          }\n        } // If the found schema is the input schema, the schema does not have the given path\n\n\n        if (foundSchema === schema && path.length > 0) {\n          return null;\n        }\n\n        return foundSchema;\n      };\n      /**\n       * Remove nodes\n       * @param {Node[] | Node} nodes\n       */\n\n\n      Node_Node.onRemove = function (nodes) {\n        if (!Array.isArray(nodes)) {\n          return Node_Node.onRemove([nodes]);\n        }\n\n        if (nodes && nodes.length > 0) {\n          var firstNode = nodes[0];\n          var parent = firstNode.parent;\n          var editor = firstNode.editor;\n          var firstIndex = firstNode.getIndex();\n          editor.highlighter.unhighlight(); // adjust the focus\n\n          var oldSelection = editor.getDomSelection();\n          Node_Node.blurNodes(nodes);\n          var newSelection = editor.getDomSelection(); // store the paths before removing them (needed for history)\n\n          var paths = nodes.map(getInternalPath); // remove the nodes\n\n          nodes.forEach(function (node) {\n            node.parent._remove(node);\n          }); // store history action\n\n          editor._onAction('removeNodes', {\n            nodes: nodes,\n            paths: paths,\n            parentPath: parent.getInternalPath(),\n            index: firstIndex,\n            oldSelection: oldSelection,\n            newSelection: newSelection\n          });\n        }\n      };\n      /**\n       * Duplicate nodes\n       * duplicated nodes will be added right after the original nodes\n       * @param {Node[] | Node} nodes\n       */\n\n\n      Node_Node.onDuplicate = function (nodes) {\n        if (!Array.isArray(nodes)) {\n          return Node_Node.onDuplicate([nodes]);\n        }\n\n        if (nodes && nodes.length > 0) {\n          var lastNode = nodes[nodes.length - 1];\n          var parent = lastNode.parent;\n          var editor = lastNode.editor;\n          editor.deselect(editor.multiselection.nodes); // duplicate the nodes\n\n          var oldSelection = editor.getDomSelection();\n          var afterNode = lastNode;\n          var clones = nodes.map(function (node) {\n            var clone = node.clone();\n\n            if (node.parent.type === 'object') {\n              var existingFieldNames = node.parent.getFieldNames();\n              clone.field = Object(util[\"findUniqueName\"])(node.field, existingFieldNames);\n            }\n\n            parent.insertAfter(clone, afterNode);\n            afterNode = clone;\n            return clone;\n          }); // set selection to the duplicated nodes\n\n          if (nodes.length === 1) {\n            if (clones[0].parent.type === 'object') {\n              // when duplicating a single object property,\n              // set focus to the field and keep the original field name\n              clones[0].dom.field.innerHTML = nodes[0].field;\n              clones[0].focus('field');\n            } else {\n              clones[0].focus();\n            }\n          } else {\n            editor.select(clones);\n          }\n\n          var newSelection = editor.getDomSelection();\n\n          editor._onAction('duplicateNodes', {\n            paths: nodes.map(getInternalPath),\n            clonePaths: clones.map(getInternalPath),\n            afterPath: lastNode.getInternalPath(),\n            parentPath: parent.getInternalPath(),\n            oldSelection: oldSelection,\n            newSelection: newSelection\n          });\n        }\n      };\n      /**\n       * Find the node from an event target\n       * @param {HTMLElement} target\n       * @return {Node | undefined} node  or undefined when not found\n       * @static\n       */\n\n\n      Node_Node.getNodeFromTarget = function (target) {\n        while (target) {\n          if (target.node) {\n            return target.node;\n          }\n\n          target = target.parentNode;\n        }\n\n        return undefined;\n      };\n      /**\n       * Test whether target is a child of the color DOM of a node\n       * @param {HTMLElement} target\n       * @returns {boolean}\n       */\n\n\n      Node_Node.targetIsColorPicker = function (target) {\n        var node = Node_Node.getNodeFromTarget(target);\n\n        if (node) {\n          var parent = target && target.parentNode;\n\n          while (parent) {\n            if (parent === node.dom.color) {\n              return true;\n            }\n\n            parent = parent.parentNode;\n          }\n        }\n\n        return false;\n      };\n      /**\n       * Remove the focus of given nodes, and move the focus to the (a) node before,\n       * (b) the node after, or (c) the parent node.\n       * @param {Array.<Node> | Node} nodes\n       */\n\n\n      Node_Node.blurNodes = function (nodes) {\n        if (!Array.isArray(nodes)) {\n          Node_Node.blurNodes([nodes]);\n          return;\n        }\n\n        var firstNode = nodes[0];\n        var parent = firstNode.parent;\n        var firstIndex = firstNode.getIndex();\n\n        if (parent.childs[firstIndex + nodes.length]) {\n          parent.childs[firstIndex + nodes.length].focus();\n        } else if (parent.childs[firstIndex - 1]) {\n          parent.childs[firstIndex - 1].focus();\n        } else {\n          parent.focus();\n        }\n      }; // titles with explanation for the different types\n\n\n      Node_Node.TYPE_TITLES = {\n        auto: Object(i18n[\"c\"\n        /* translate */\n        ])('autoType'),\n        object: Object(i18n[\"c\"\n        /* translate */\n        ])('objectType'),\n        array: Object(i18n[\"c\"\n        /* translate */\n        ])('arrayType'),\n        string: Object(i18n[\"c\"\n        /* translate */\n        ])('stringType')\n      }; // helper function to get the internal path of a node\n\n      function getInternalPath(node) {\n        return node.getInternalPath();\n      } // helper function to get the field of a node\n\n\n      function getField(node) {\n        return node.getField();\n      }\n\n      function Node_hasOwnProperty(object, key) {\n        return Object.prototype.hasOwnProperty.call(object, key);\n      } // TODO: find a nicer solution to resolve this circular dependency between Node and AppendNode\n      //       idea: introduce properties .isAppendNode and .isNode and use that instead of instanceof AppendNode checks\n\n\n      var Node_AppendNode = appendNodeFactory(Node_Node);\n      var Node_ShowMoreNode = showMoreNodeFactory(Node_Node); // EXTERNAL MODULE: ./src/js/ModeSwitcher.js\n\n      var ModeSwitcher = __webpack_require__(7); // EXTERNAL MODULE: ./src/js/FocusTracker.js\n\n\n      var FocusTracker = __webpack_require__(8); // CONCATENATED MODULE: ./src/js/autocomplete.js\n\n\n      var defaultFilterFunction = {\n        start: function start(token, match, config) {\n          return match.indexOf(token) === 0;\n        },\n        contain: function contain(token, match, config) {\n          return match.indexOf(token) > -1;\n        }\n      };\n\n      function autocomplete(config) {\n        config = config || {};\n        config.filter = config.filter || 'start';\n        config.trigger = config.trigger || 'keydown';\n        config.confirmKeys = config.confirmKeys || [39, 35, 9]; // right, end, tab\n\n        config.caseSensitive = config.caseSensitive || false; // autocomplete case sensitive\n\n        var fontSize = '';\n        var fontFamily = '';\n        var wrapper = document.createElement('div');\n        wrapper.style.position = 'relative';\n        wrapper.style.outline = '0';\n        wrapper.style.border = '0';\n        wrapper.style.margin = '0';\n        wrapper.style.padding = '0';\n        var dropDown = document.createElement('div');\n        dropDown.className = 'autocomplete dropdown';\n        dropDown.style.position = 'absolute';\n        dropDown.style.visibility = 'hidden';\n        var spacer;\n        var leftSide; // <-- it will contain the leftSide part of the textfield (the bit that was already autocompleted)\n\n        var createDropDownController = function createDropDownController(elem, rs) {\n          var rows = [];\n          var ix = 0;\n          var oldIndex = -1; // TODO: move this styling in JS to SCSS\n\n          var onMouseOver = function onMouseOver() {\n            this.style.backgroundColor = '#ddd';\n          };\n\n          var onMouseOut = function onMouseOut() {\n            this.style.backgroundColor = '';\n          };\n\n          var onMouseDown = function onMouseDown() {\n            p.hide();\n            p.onmouseselection(this.__hint, p.rs);\n          };\n\n          var p = {\n            rs: rs,\n            hide: function hide() {\n              elem.style.visibility = 'hidden'; // rs.hideDropDown();\n            },\n            refresh: function refresh(token, array) {\n              elem.style.visibility = 'hidden';\n              ix = 0;\n              elem.innerHTML = '';\n              var vph = window.innerHeight || document.documentElement.clientHeight;\n              var rect = elem.parentNode.getBoundingClientRect();\n              var distanceToTop = rect.top - 6; // heuristic give 6px\n\n              var distanceToBottom = vph - rect.bottom - 6; // distance from the browser border.\n\n              rows = [];\n              var filterFn = typeof config.filter === 'function' ? config.filter : defaultFilterFunction[config.filter];\n              var filtered = !filterFn ? [] : array.filter(function (match) {\n                return filterFn(config.caseSensitive ? token : token.toLowerCase(), config.caseSensitive ? match : match.toLowerCase(), config);\n              });\n              rows = filtered.map(function (row) {\n                var divRow = document.createElement('div');\n                divRow.className = 'item'; // divRow.style.color = config.color;\n\n                divRow.onmouseover = onMouseOver;\n                divRow.onmouseout = onMouseOut;\n                divRow.onmousedown = onMouseDown;\n                divRow.__hint = row;\n                divRow.innerHTML = row.substring(0, token.length) + '<b>' + row.substring(token.length) + '</b>';\n                elem.appendChild(divRow);\n                return divRow;\n              });\n\n              if (rows.length === 0) {\n                return; // nothing to show.\n              }\n\n              if (rows.length === 1 && (token.toLowerCase() === rows[0].__hint.toLowerCase() && !config.caseSensitive || token === rows[0].__hint && config.caseSensitive)) {\n                return; // do not show the dropDown if it has only one element which matches what we have just displayed.\n              }\n\n              if (rows.length < 2) return;\n              p.highlight(0);\n\n              if (distanceToTop > distanceToBottom * 3) {\n                // Heuristic (only when the distance to the to top is 4 times more than distance to the bottom\n                elem.style.maxHeight = distanceToTop + 'px'; // we display the dropDown on the top of the input text\n\n                elem.style.top = '';\n                elem.style.bottom = '100%';\n              } else {\n                elem.style.top = '100%';\n                elem.style.bottom = '';\n                elem.style.maxHeight = distanceToBottom + 'px';\n              }\n\n              elem.style.visibility = 'visible';\n            },\n            highlight: function highlight(index) {\n              if (oldIndex !== -1 && rows[oldIndex]) {\n                rows[oldIndex].className = 'item';\n              }\n\n              rows[index].className = 'item hover';\n              oldIndex = index;\n            },\n            move: function move(step) {\n              // moves the selection either up or down (unless it's not possible) step is either +1 or -1.\n              if (elem.style.visibility === 'hidden') return ''; // nothing to move if there is no dropDown. (this happens if the user hits escape and then down or up)\n\n              if (ix + step === -1 || ix + step === rows.length) return rows[ix].__hint; // NO CIRCULAR SCROLLING.\n\n              ix += step;\n              p.highlight(ix);\n              return rows[ix].__hint; // txtShadow.value = uRows[uIndex].__hint ;\n            },\n            onmouseselection: function onmouseselection() {} // it will be overwritten.\n\n          };\n          return p;\n        };\n\n        function setEndOfContenteditable(contentEditableElement) {\n          var range, selection;\n\n          if (document.createRange) {\n            // Firefox, Chrome, Opera, Safari, IE 9+\n            range = document.createRange(); // Create a range (a range is a like the selection but invisible)\n\n            range.selectNodeContents(contentEditableElement); // Select the entire contents of the element with the range\n\n            range.collapse(false); // collapse the range to the end point. false means collapse to end rather than the start\n\n            selection = window.getSelection(); // get the selection object (allows you to change selection)\n\n            selection.removeAllRanges(); // remove any selections already made\n\n            selection.addRange(range); // make the range you have just created the visible selection\n          } else if (document.selection) {\n            // IE 8 and lower\n            range = document.body.createTextRange(); // Create a range (a range is a like the selection but invisible)\n\n            range.moveToElementText(contentEditableElement); // Select the entire contents of the element with the range\n\n            range.collapse(false); // collapse the range to the end point. false means collapse to end rather than the start\n\n            range.select(); // Select the range (make it the visible selection\n          }\n        }\n\n        function calculateWidthForText(text) {\n          if (spacer === undefined) {\n            // on first call only.\n            spacer = document.createElement('span');\n            spacer.style.visibility = 'hidden';\n            spacer.style.position = 'fixed';\n            spacer.style.outline = '0';\n            spacer.style.margin = '0';\n            spacer.style.padding = '0';\n            spacer.style.border = '0';\n            spacer.style.left = '0';\n            spacer.style.whiteSpace = 'pre';\n            spacer.style.fontSize = fontSize;\n            spacer.style.fontFamily = fontFamily;\n            spacer.style.fontWeight = 'normal';\n            document.body.appendChild(spacer);\n          } // Used to encode an HTML string into a plain text.\n          // taken from http://stackoverflow.com/questions/1219860/javascript-jquery-html-encoding\n\n\n          spacer.innerHTML = String(text).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n          return spacer.getBoundingClientRect().right;\n        }\n\n        var rs = {\n          onArrowDown: function onArrowDown() {},\n          // defaults to no action.\n          onArrowUp: function onArrowUp() {},\n          // defaults to no action.\n          onEnter: function onEnter() {},\n          // defaults to no action.\n          onTab: function onTab() {},\n          // defaults to no action.\n          startFrom: 0,\n          options: [],\n          element: null,\n          elementHint: null,\n          elementStyle: null,\n          wrapper: wrapper,\n          // Only to allow  easy access to the HTML elements to the final user (possibly for minor customizations)\n          show: function show(element, startPos, options) {\n            var _this = this;\n\n            this.startFrom = startPos;\n            this.wrapper.remove();\n\n            if (this.elementHint) {\n              this.elementHint.remove();\n              this.elementHint = null;\n            }\n\n            if (fontSize === '') {\n              fontSize = window.getComputedStyle(element).getPropertyValue('font-size');\n            }\n\n            if (fontFamily === '') {\n              fontFamily = window.getComputedStyle(element).getPropertyValue('font-family');\n            }\n\n            dropDown.style.marginLeft = '0';\n            dropDown.style.marginTop = element.getBoundingClientRect().height + 'px';\n            this.options = options.map(String);\n\n            if (this.element !== element) {\n              this.element = element;\n              this.elementStyle = {\n                zIndex: this.element.style.zIndex,\n                position: this.element.style.position,\n                backgroundColor: this.element.style.backgroundColor,\n                borderColor: this.element.style.borderColor\n              };\n            }\n\n            this.element.style.zIndex = 3;\n            this.element.style.position = 'relative';\n            this.element.style.backgroundColor = 'transparent';\n            this.element.style.borderColor = 'transparent';\n            this.elementHint = element.cloneNode();\n            this.elementHint.className = 'autocomplete hint';\n            this.elementHint.style.zIndex = 2;\n            this.elementHint.style.position = 'absolute';\n\n            this.elementHint.onfocus = function () {\n              _this.element.focus();\n            };\n\n            if (this.element.addEventListener) {\n              this.element.removeEventListener('keydown', keyDownHandler);\n              this.element.addEventListener('keydown', keyDownHandler, false);\n              this.element.removeEventListener('blur', onBlurHandler);\n              this.element.addEventListener('blur', onBlurHandler, false);\n            }\n\n            wrapper.appendChild(this.elementHint);\n            wrapper.appendChild(dropDown);\n            element.parentElement.appendChild(wrapper);\n            this.repaint(element);\n          },\n          setText: function setText(text) {\n            this.element.innerText = text;\n          },\n          getText: function getText() {\n            return this.element.innerText;\n          },\n          hideDropDown: function hideDropDown() {\n            this.wrapper.remove();\n\n            if (this.elementHint) {\n              this.elementHint.remove();\n              this.elementHint = null;\n              dropDownController.hide();\n              this.element.style.zIndex = this.elementStyle.zIndex;\n              this.element.style.position = this.elementStyle.position;\n              this.element.style.backgroundColor = this.elementStyle.backgroundColor;\n              this.element.style.borderColor = this.elementStyle.borderColor;\n            }\n          },\n          repaint: function repaint(element) {\n            var text = element.innerText;\n            text = text.replace('\\n', '');\n            var optionsLength = this.options.length; // breaking text in leftSide and token.\n\n            var token = text.substring(this.startFrom);\n            leftSide = text.substring(0, this.startFrom);\n\n            for (var i = 0; i < optionsLength; i++) {\n              var opt = this.options[i];\n\n              if (!config.caseSensitive && opt.toLowerCase().indexOf(token.toLowerCase()) === 0 || config.caseSensitive && opt.indexOf(token) === 0) {\n                // <-- how about upperCase vs. lowercase\n                this.elementHint.innerText = leftSide + token + opt.substring(token.length);\n                this.elementHint.realInnerText = leftSide + opt;\n                break;\n              }\n            } // moving the dropDown and refreshing it.\n\n\n            dropDown.style.left = calculateWidthForText(leftSide) + 'px';\n            dropDownController.refresh(token, this.options);\n            this.elementHint.style.width = calculateWidthForText(this.elementHint.innerText) + 10 + 'px';\n            var wasDropDownHidden = dropDown.style.visibility === 'hidden';\n\n            if (!wasDropDownHidden) {\n              this.elementHint.style.width = calculateWidthForText(this.elementHint.innerText) + dropDown.clientWidth + 'px';\n            }\n          }\n        };\n        var dropDownController = createDropDownController(dropDown, rs);\n\n        var keyDownHandler = function (e) {\n          // console.log(\"Keydown:\" + e.keyCode);\n          e = e || window.event;\n          var keyCode = e.keyCode;\n          if (this.elementHint == null) return;\n\n          if (keyCode === 33) {\n            return;\n          } // page up (do nothing)\n\n\n          if (keyCode === 34) {\n            return;\n          } // page down (do nothing);\n\n\n          if (keyCode === 27) {\n            // escape\n            rs.hideDropDown();\n            rs.element.focus();\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n\n          var text = this.element.innerText;\n          text = text.replace('\\n', '');\n\n          if (config.confirmKeys.indexOf(keyCode) >= 0) {\n            //  (autocomplete triggered)\n            if (keyCode === 9) {\n              if (this.elementHint.innerText.length === 0) {\n                rs.onTab();\n              }\n            }\n\n            if (this.elementHint.innerText.length > 0) {\n              // if there is a hint\n              if (this.element.innerText !== this.elementHint.realInnerText) {\n                this.element.innerText = this.elementHint.realInnerText;\n                rs.hideDropDown();\n                setEndOfContenteditable(this.element);\n\n                if (keyCode === 9) {\n                  rs.element.focus();\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n              }\n            }\n\n            return;\n          }\n\n          if (keyCode === 13) {\n            // enter  (autocomplete triggered)\n            if (this.elementHint.innerText.length === 0) {\n              // if there is a hint\n              rs.onEnter();\n            } else {\n              var wasDropDownHidden = dropDown.style.visibility === 'hidden';\n              dropDownController.hide();\n\n              if (wasDropDownHidden) {\n                rs.hideDropDown();\n                rs.element.focus();\n                rs.onEnter();\n                return;\n              }\n\n              this.element.innerText = this.elementHint.realInnerText;\n              rs.hideDropDown();\n              setEndOfContenteditable(this.element);\n              e.preventDefault();\n              e.stopPropagation();\n            }\n\n            return;\n          }\n\n          if (keyCode === 40) {\n            // down\n            var token = text.substring(this.startFrom);\n            var m = dropDownController.move(+1);\n\n            if (m === '') {\n              rs.onArrowDown();\n            }\n\n            this.elementHint.innerText = leftSide + token + m.substring(token.length);\n            this.elementHint.realInnerText = leftSide + m;\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n\n          if (keyCode === 38) {\n            // up\n            var _token = text.substring(this.startFrom);\n\n            var _m = dropDownController.move(-1);\n\n            if (_m === '') {\n              rs.onArrowUp();\n            }\n\n            this.elementHint.innerText = leftSide + _token + _m.substring(_token.length);\n            this.elementHint.realInnerText = leftSide + _m;\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }.bind(rs);\n\n        var onBlurHandler = function onBlurHandler(e) {\n          rs.hideDropDown(); // console.log(\"Lost focus.\");\n        };\n\n        dropDownController.onmouseselection = function (text, rs) {\n          rs.element.innerText = rs.elementHint.innerText = leftSide + text;\n          rs.hideDropDown();\n          window.setTimeout(function () {\n            rs.element.focus();\n            setEndOfContenteditable(rs.element);\n          }, 1);\n        };\n\n        return rs;\n      } // CONCATENATED MODULE: ./src/js/treemode.js\n\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"treeModeMixins\", function () {\n        return treeModeMixins;\n      }); // create a mixin with the functions for tree mode\n\n\n      var treemode = {};\n      /**\n       * Create a tree editor\n       * @param {Element} container    Container element\n       * @param {Object} [options]   Object with options. See docs for details.\n       * @private\n       */\n\n      treemode.create = function (container, options) {\n        if (!container) {\n          throw new Error('No container element provided.');\n        }\n\n        this.container = container;\n        this.dom = {};\n        this.highlighter = new Highlighter();\n        this.selection = undefined; // will hold the last input selection\n\n        this.multiselection = {\n          nodes: []\n        };\n        this.validateSchema = null; // will be set in .setSchema(schema)\n\n        this.validationSequence = 0;\n        this.errorNodes = [];\n        this.lastSchemaErrors = undefined;\n        this.node = null;\n        this.focusTarget = null;\n\n        this._setOptions(options);\n\n        if (options.autocomplete) {\n          this.autocomplete = autocomplete(options.autocomplete);\n        }\n\n        if (this.options.history && this.options.mode !== 'view') {\n          this.history = new NodeHistory_NodeHistory(this);\n        }\n\n        this._createFrame();\n\n        this._createTable();\n      };\n      /**\n       * Destroy the editor. Clean up DOM, event listeners, and web workers.\n       */\n\n\n      treemode.destroy = function () {\n        if (this.frame && this.container && this.frame.parentNode === this.container) {\n          this.container.removeChild(this.frame);\n          this.frame = null;\n        }\n\n        this.container = null;\n        this.dom = null;\n        this.clear();\n        this.node = null;\n        this.focusTarget = null;\n        this.selection = null;\n        this.multiselection = null;\n        this.errorNodes = null;\n        this.validateSchema = null;\n        this._debouncedValidate = null;\n\n        if (this.history) {\n          this.history.destroy();\n          this.history = null;\n        }\n\n        if (this.searchBox) {\n          this.searchBox.destroy();\n          this.searchBox = null;\n        }\n\n        if (this.modeSwitcher) {\n          this.modeSwitcher.destroy();\n          this.modeSwitcher = null;\n        } // Removing the FocusTracker set to track the editor's focus event\n\n\n        this.frameFocusTracker.destroy();\n      };\n      /**\n       * Initialize and set default options\n       * @param {Object}  [options]    See description in constructor\n       * @private\n       */\n\n\n      treemode._setOptions = function (options) {\n        var _this = this;\n\n        this.options = {\n          search: true,\n          history: true,\n          mode: 'tree',\n          name: undefined,\n          // field name of root node\n          schema: null,\n          schemaRefs: null,\n          autocomplete: null,\n          navigationBar: true,\n          mainMenuBar: true,\n          onSelectionChange: null,\n          colorPicker: true,\n          onColorPicker: function onColorPicker(parent, color, onChange) {\n            if (vanilla_picker_default.a) {\n              // we'll render the color picker on top\n              // when there is not enough space below, and there is enough space above\n              var pickerHeight = 300; // estimated height of the color picker\n\n              var top = parent.getBoundingClientRect().top;\n              var windowHeight = window.innerHeight;\n              new vanilla_picker_default.a({\n                parent: parent,\n                color: color,\n                popup: windowHeight - top < pickerHeight && top > pickerHeight ? 'top' : 'bottom',\n                onDone: function onDone(color) {\n                  var alpha = color.rgba[3];\n                  var hex = alpha === 1 ? color.hex.substr(0, 7) // return #RRGGBB\n                  : color.hex; // return #RRGGBBAA\n\n                  onChange(hex);\n                }\n              }).show();\n            } else {\n              console.warn('Cannot open color picker: the `vanilla-picker` library is not included in the bundle. ' + 'Either use the full bundle or implement your own color picker using `onColorPicker`.');\n            }\n          },\n          timestampTag: true,\n          onEvent: null,\n          enableSort: true,\n          enableTransform: true\n        }; // copy all options\n\n        if (options) {\n          Object.keys(options).forEach(function (prop) {\n            _this.options[prop] = options[prop];\n          });\n        } // compile a JSON schema validator if a JSON schema is provided\n\n\n        this.setSchema(this.options.schema, this.options.schemaRefs); // create a debounced validate function\n\n        this._debouncedValidate = Object(util[\"debounce\"])(this.validate.bind(this), this.DEBOUNCE_INTERVAL);\n\n        if (options.onSelectionChange) {\n          this.onSelectionChange(options.onSelectionChange);\n        }\n\n        Object(i18n[\"b\"\n        /* setLanguages */\n        ])(this.options.languages);\n        Object(i18n[\"a\"\n        /* setLanguage */\n        ])(this.options.language);\n      };\n      /**\n       * Set new JSON object in editor.\n       * Resets the state of the editor (expanded nodes, search, selection).\n       *\n       * @param {*} json\n       */\n\n\n      treemode.set = function (json) {\n        // verify if json is valid JSON, ignore when a function\n        if (json instanceof Function || json === undefined) {\n          this.clear();\n        } else {\n          this.content.removeChild(this.table); // Take the table offline\n          // replace the root node\n\n          var params = {\n            field: this.options.name,\n            value: json\n          };\n          var node = new Node_Node(this, params);\n\n          this._setRoot(node); // validate JSON schema (if configured)\n\n\n          this.validate(); // expand\n\n          var recurse = false;\n          this.node.expand(recurse);\n          this.content.appendChild(this.table); // Put the table online again\n        } // TODO: maintain history, store last state and previous document\n\n\n        if (this.history) {\n          this.history.clear();\n        } // clear search\n\n\n        if (this.searchBox) {\n          this.searchBox.clear();\n        }\n      };\n      /**\n       * Update JSON object in editor.\n       * Maintains the state of the editor (expanded nodes, search, selection).\n       *\n       * @param {*} json\n       */\n\n\n      treemode.update = function (json) {\n        // don't update if there are no changes\n        if (this.node.deepEqual(json)) {\n          return;\n        }\n\n        var selection = this.getSelection(); // apply the changed json\n\n        this.onChangeDisabled = true; // don't fire an onChange event\n\n        this.node.update(json);\n        this.onChangeDisabled = false; // validate JSON schema\n\n        this.validate(); // update search result if any\n\n        if (this.searchBox && !this.searchBox.isEmpty()) {\n          this.searchBox.forceSearch();\n        } // update selection if any\n\n\n        if (selection && selection.start && selection.end) {\n          // only keep/update the selection if both start and end node still exists,\n          // else we clear the selection\n          var startNode = this.node.findNodeByPath(selection.start.path);\n          var endNode = this.node.findNodeByPath(selection.end.path);\n\n          if (startNode && endNode) {\n            this.setSelection(selection.start, selection.end);\n          } else {\n            this.setSelection({}, {}); // clear selection\n          }\n        } else {\n          this.setSelection({}, {}); // clear selection\n        }\n      };\n      /**\n       * Get JSON object from editor\n       * @return {Object | undefined} json\n       */\n\n\n      treemode.get = function () {\n        // TODO: resolve pending debounced input changes if any, but do not resolve invalid inputs\n        if (this.node) {\n          return this.node.getValue();\n        } else {\n          return undefined;\n        }\n      };\n      /**\n       * Get the text contents of the editor\n       * @return {String} jsonText\n       */\n\n\n      treemode.getText = function () {\n        return JSON.stringify(this.get());\n      };\n      /**\n       * Set the text contents of the editor.\n       * Resets the state of the editor (expanded nodes, search, selection).\n       * @param {String} jsonText\n       */\n\n\n      treemode.setText = function (jsonText) {\n        try {\n          this.set(Object(util[\"parse\"])(jsonText)); // this can throw an error\n        } catch (err) {\n          // try to repair json, replace JavaScript notation with JSON notation\n          var repairedJsonText = Object(util[\"repair\"])(jsonText); // try to parse again\n\n          this.set(Object(util[\"parse\"])(repairedJsonText)); // this can throw an error\n        }\n      };\n      /**\n       * Update the text contents of the editor.\n       * Maintains the state of the editor (expanded nodes, search, selection).\n       * @param {String} jsonText\n       */\n\n\n      treemode.updateText = function (jsonText) {\n        try {\n          this.update(Object(util[\"parse\"])(jsonText)); // this can throw an error\n        } catch (err) {\n          // try to repair json, replace JavaScript notation with JSON notation\n          var repairJsonText = Object(util[\"repair\"])(jsonText); // try to parse again\n\n          this.update(Object(util[\"parse\"])(repairJsonText)); // this can throw an error\n        }\n      };\n      /**\n       * Set a field name for the root node.\n       * @param {String | undefined} name\n       */\n\n\n      treemode.setName = function (name) {\n        this.options.name = name;\n\n        if (this.node) {\n          this.node.updateField(this.options.name);\n        }\n      };\n      /**\n       * Get the field name for the root node.\n       * @return {String | undefined} name\n       */\n\n\n      treemode.getName = function () {\n        return this.options.name;\n      };\n      /**\n       * Set focus to the editor. Focus will be set to:\n       * - the first editable field or value, or else\n       * - to the expand button of the root node, or else\n       * - to the context menu button of the root node, or else\n       * - to the first button in the top menu\n       */\n\n\n      treemode.focus = function () {\n        var input = this.scrollableContent.querySelector('[contenteditable=true]');\n\n        if (input) {\n          input.focus();\n        } else if (this.node.dom.expand) {\n          this.node.dom.expand.focus();\n        } else if (this.node.dom.menu) {\n          this.node.dom.menu.focus();\n        } else {\n          // focus to the first button in the menu\n          input = this.frame.querySelector('button');\n\n          if (input) {\n            input.focus();\n          }\n        }\n      };\n      /**\n       * Remove the root node from the editor\n       */\n\n\n      treemode.clear = function () {\n        if (this.node) {\n          this.node.hide();\n          delete this.node;\n        }\n\n        if (this.treePath) {\n          this.treePath.reset();\n        }\n      };\n      /**\n       * Set the root node for the json editor\n       * @param {Node} node\n       * @private\n       */\n\n\n      treemode._setRoot = function (node) {\n        this.clear();\n        this.node = node;\n        node.setParent(null);\n        node.setField(this.getName(), false);\n        delete node.index; // append to the dom\n\n        this.tbody.appendChild(node.getDom());\n      };\n      /**\n       * Search text in all nodes\n       * The nodes will be expanded when the text is found one of its childs,\n       * else it will be collapsed. Searches are case insensitive.\n       * @param {String} text\n       * @return {Object[]} results  Array with nodes containing the search results\n       *                             The result objects contains fields:\n       *                             - {Node} node,\n       *                             - {String} elem  the dom element name where\n       *                                              the result is found ('field' or\n       *                                              'value')\n       */\n\n\n      treemode.search = function (text) {\n        var results;\n\n        if (this.node) {\n          this.content.removeChild(this.table); // Take the table offline\n\n          results = this.node.search(text);\n          this.content.appendChild(this.table); // Put the table online again\n        } else {\n          results = [];\n        }\n\n        return results;\n      };\n      /**\n       * Expand all nodes\n       */\n\n\n      treemode.expandAll = function () {\n        if (this.node) {\n          this.content.removeChild(this.table); // Take the table offline\n\n          this.node.expand();\n          this.content.appendChild(this.table); // Put the table online again\n        }\n      };\n      /**\n       * Collapse all nodes\n       */\n\n\n      treemode.collapseAll = function () {\n        if (this.node) {\n          this.content.removeChild(this.table); // Take the table offline\n\n          this.node.collapse();\n          this.content.appendChild(this.table); // Put the table online again\n        }\n      };\n      /**\n       * The method onChange is called whenever a field or value is changed, created,\n       * deleted, duplicated, etc.\n       * @param {String} action  Change action. Available values: \"editField\",\n       *                         \"editValue\", \"changeType\", \"appendNode\",\n       *                         \"removeNode\", \"duplicateNode\", \"moveNode\", \"expand\",\n       *                         \"collapse\".\n       * @param {Object} params  Object containing parameters describing the change.\n       *                         The parameters in params depend on the action (for\n       *                         example for \"editValue\" the Node, old value, and new\n       *                         value are provided). params contains all information\n       *                         needed to undo or redo the action.\n       * @private\n       */\n\n\n      treemode._onAction = function (action, params) {\n        // add an action to the history\n        if (this.history) {\n          this.history.add(action, params);\n        }\n\n        this._onChange();\n      };\n      /**\n       * Handle a change:\n       * - Validate JSON schema\n       * - Send a callback to the onChange listener if provided\n       * @private\n       */\n\n\n      treemode._onChange = function () {\n        if (this.onChangeDisabled) {\n          return;\n        } // selection can be changed after undo/redo\n\n\n        this.selection = this.getDomSelection(); // validate JSON schema (if configured)\n\n        this._debouncedValidate();\n\n        if (this.treePath) {\n          var selectedNode = this.node && this.selection ? this.node.findNodeByInternalPath(this.selection.path) : this.multiselection ? this.multiselection.nodes[0] : undefined;\n\n          if (selectedNode) {\n            this._updateTreePath(selectedNode.getNodePath());\n          } else {\n            this.treePath.reset();\n          }\n        } // trigger the onChange callback\n\n\n        if (this.options.onChange) {\n          try {\n            this.options.onChange();\n          } catch (err) {\n            console.error('Error in onChange callback: ', err);\n          }\n        } // trigger the onChangeJSON callback\n\n\n        if (this.options.onChangeJSON) {\n          try {\n            this.options.onChangeJSON(this.get());\n          } catch (err) {\n            console.error('Error in onChangeJSON callback: ', err);\n          }\n        } // trigger the onChangeText callback\n\n\n        if (this.options.onChangeText) {\n          try {\n            this.options.onChangeText(this.getText());\n          } catch (err) {\n            console.error('Error in onChangeText callback: ', err);\n          }\n        } // trigger the onClassName callback\n\n\n        if (this.options.onClassName) {\n          this.node.recursivelyUpdateCssClassesOnNodes();\n        } // trigger the onNodeName callback\n\n\n        if (this.options.onNodeName && this.node.childs) {\n          try {\n            this.node.recursivelyUpdateNodeName();\n          } catch (err) {\n            console.error('Error in onNodeName callback: ', err);\n          }\n        }\n      };\n      /**\n       * Validate current JSON object against the configured JSON schema\n       * Throws an exception when no JSON schema is configured\n       */\n\n\n      treemode.validate = function () {\n        var _this2 = this;\n\n        var root = this.node;\n\n        if (!root) {\n          // TODO: this should be redundant but is needed on mode switch\n          return;\n        }\n\n        var json = root.getValue(); // execute JSON schema validation\n\n        var schemaErrors = [];\n\n        if (this.validateSchema) {\n          var valid = this.validateSchema(json);\n\n          if (!valid) {\n            // apply all new errors\n            schemaErrors = this.validateSchema.errors.map(function (error) {\n              return Object(util[\"improveSchemaError\"])(error);\n            }).map(function findNode(error) {\n              return {\n                node: root.findNode(error.dataPath),\n                error: error,\n                type: 'validation'\n              };\n            }).filter(function hasNode(entry) {\n              return entry.node != null;\n            });\n          }\n        } // execute custom validation and after than merge and render all errors\n\n\n        try {\n          this.validationSequence++;\n          var me = this;\n          var seq = this.validationSequence;\n\n          this._validateCustom(json).then(function (customValidationErrors) {\n            // only apply when there was no other validation started whilst resolving async results\n            if (seq === me.validationSequence) {\n              var errorNodes = [].concat(schemaErrors, customValidationErrors || []);\n\n              me._renderValidationErrors(errorNodes);\n\n              if (typeof _this2.options.onValidationError === 'function') {\n                if (Object(util[\"isValidationErrorChanged\"])(errorNodes, _this2.lastSchemaErrors)) {\n                  _this2.options.onValidationError.call(_this2, errorNodes);\n                }\n\n                _this2.lastSchemaErrors = errorNodes;\n              }\n            }\n          })[\"catch\"](function (err) {\n            console.error(err);\n          });\n        } catch (err) {\n          console.error(err);\n        }\n      };\n\n      treemode._renderValidationErrors = function (errorNodes) {\n        // clear all current errors\n        if (this.errorNodes) {\n          this.errorNodes.forEach(function (node) {\n            node.setError(null);\n          });\n        } // render the new errors\n\n\n        var parentPairs = errorNodes.reduce(function (all, entry) {\n          return entry.node.findParents().filter(function (parent) {\n            return !all.some(function (pair) {\n              return pair[0] === parent;\n            });\n          }).map(function (parent) {\n            return [parent, entry.node];\n          }).concat(all);\n        }, []);\n        this.errorNodes = parentPairs.map(function (pair) {\n          return {\n            node: pair[0],\n            child: pair[1],\n            error: {\n              message: pair[0].type === 'object' ? 'Contains invalid properties' // object\n              : 'Contains invalid items' // array\n\n            }\n          };\n        }).concat(errorNodes).map(function setError(entry) {\n          entry.node.setError(entry.error, entry.child);\n          return entry.node;\n        });\n      };\n      /**\n       * Execute custom validation if configured.\n       *\n       * Returns a promise resolving with the custom errors (or nothing).\n       */\n\n\n      treemode._validateCustom = function (json) {\n        try {\n          if (this.options.onValidate) {\n            var root = this.node;\n            var customValidateResults = this.options.onValidate(json);\n            var resultPromise = Object(util[\"isPromise\"])(customValidateResults) ? customValidateResults : Promise.resolve(customValidateResults);\n            return resultPromise.then(function (customValidationPathErrors) {\n              if (Array.isArray(customValidationPathErrors)) {\n                return customValidationPathErrors.filter(function (error) {\n                  var valid = Object(util[\"isValidValidationError\"])(error);\n\n                  if (!valid) {\n                    console.warn('Ignoring a custom validation error with invalid structure. ' + 'Expected structure: {path: [...], message: \"...\"}. ' + 'Actual error:', error);\n                  }\n\n                  return valid;\n                }).map(function (error) {\n                  var node;\n\n                  try {\n                    node = error && error.path ? root.findNodeByPath(error.path) : null;\n                  } catch (err) {// stay silent here, we throw a generic warning if no node is found\n                  }\n\n                  if (!node) {\n                    console.warn('Ignoring validation error: node not found. Path:', error.path, 'Error:', error);\n                  }\n\n                  return {\n                    node: node,\n                    error: error,\n                    type: 'customValidation'\n                  };\n                }).filter(function (entry) {\n                  return entry && entry.node && entry.error && entry.error.message;\n                });\n              } else {\n                return null;\n              }\n            });\n          }\n        } catch (err) {\n          return Promise.reject(err);\n        }\n\n        return Promise.resolve(null);\n      };\n      /**\n       * Refresh the rendered contents\n       */\n\n\n      treemode.refresh = function () {\n        if (this.node) {\n          this.node.updateDom({\n            recurse: true\n          });\n        }\n      };\n      /**\n       * Start autoscrolling when given mouse position is above the top of the\n       * editor contents, or below the bottom.\n       * @param {Number} mouseY  Absolute mouse position in pixels\n       */\n\n\n      treemode.startAutoScroll = function (mouseY) {\n        var me = this;\n        var content = this.scrollableContent;\n        var top = Object(util[\"getAbsoluteTop\"])(content);\n        var height = content.clientHeight;\n        var bottom = top + height;\n        var margin = 24;\n        var interval = 50; // ms\n\n        if (mouseY < top + margin && content.scrollTop > 0) {\n          this.autoScrollStep = (top + margin - mouseY) / 3;\n        } else if (mouseY > bottom - margin && height + content.scrollTop < content.scrollHeight) {\n          this.autoScrollStep = (bottom - margin - mouseY) / 3;\n        } else {\n          this.autoScrollStep = undefined;\n        }\n\n        if (this.autoScrollStep) {\n          if (!this.autoScrollTimer) {\n            this.autoScrollTimer = setInterval(function () {\n              if (me.autoScrollStep) {\n                content.scrollTop -= me.autoScrollStep;\n              } else {\n                me.stopAutoScroll();\n              }\n            }, interval);\n          }\n        } else {\n          this.stopAutoScroll();\n        }\n      };\n      /**\n       * Stop auto scrolling. Only applicable when scrolling\n       */\n\n\n      treemode.stopAutoScroll = function () {\n        if (this.autoScrollTimer) {\n          clearTimeout(this.autoScrollTimer);\n          delete this.autoScrollTimer;\n        }\n\n        if (this.autoScrollStep) {\n          delete this.autoScrollStep;\n        }\n      };\n      /**\n       * Set the focus to an element in the editor, set text selection, and\n       * set scroll position.\n       * @param {Object} selection  An object containing fields:\n       *                            {Element | undefined} dom     The dom element\n       *                                                          which has focus\n       *                            {Range | TextRange} range     A text selection\n       *                            {Node[]} nodes                Nodes in case of multi selection\n       *                            {Number} scrollTop            Scroll position\n       */\n\n\n      treemode.setDomSelection = function (selection) {\n        if (!selection) {\n          return;\n        }\n\n        if ('scrollTop' in selection && this.scrollableContent) {\n          // TODO: animated scroll\n          this.scrollableContent.scrollTop = selection.scrollTop;\n        }\n\n        if (selection.paths) {\n          // multi-select\n          var me = this;\n          var nodes = selection.paths.map(function (path) {\n            return me.node.findNodeByInternalPath(path);\n          });\n          this.select(nodes);\n        } else {\n          // find the actual DOM element where to apply the focus\n          var node = selection.path ? this.node.findNodeByInternalPath(selection.path) : null;\n          var container = node && selection.domName ? node.dom[selection.domName] : null;\n\n          if (selection.range && container) {\n            var range = Object.assign({}, selection.range, {\n              container: container\n            });\n            Object(util[\"setSelectionOffset\"])(range);\n          } else if (node) {\n            // just a fallback\n            node.focus();\n          }\n        }\n      };\n      /**\n       * Get the current focus\n       * @return {Object} selection An object containing fields:\n       *                            {Element | undefined} dom     The dom element\n       *                                                          which has focus\n       *                            {Range | TextRange} range     A text selection\n       *                            {Node[]} nodes                Nodes in case of multi selection\n       *                            {Number} scrollTop            Scroll position\n       */\n\n\n      treemode.getDomSelection = function () {\n        // find the node and field name of the current target,\n        // so we can store the current selection in a serializable\n        // way (internal node path and domName)\n        var node = Node_Node.getNodeFromTarget(this.focusTarget);\n        var focusTarget = this.focusTarget;\n        var domName = node ? Object.keys(node.dom).find(function (domName) {\n          return node.dom[domName] === focusTarget;\n        }) : null;\n        var range = Object(util[\"getSelectionOffset\"])();\n\n        if (range && range.container.nodeName !== 'DIV') {\n          // filter on (editable) divs)\n          range = null;\n        }\n\n        if (range && range.container !== focusTarget) {\n          range = null;\n        }\n\n        if (range) {\n          // we cannot rely on the current instance of the container,\n          // we need to store the internal node path and field and\n          // find the actual DOM field when applying the selection\n          delete range.container;\n        }\n\n        return {\n          path: node ? node.getInternalPath() : null,\n          domName: domName,\n          range: range,\n          paths: this.multiselection.length > 0 ? this.multiselection.nodes.map(function (node) {\n            return node.getInternalPath();\n          }) : null,\n          scrollTop: this.scrollableContent ? this.scrollableContent.scrollTop : 0\n        };\n      };\n      /**\n       * Adjust the scroll position such that given top position is shown at 1/4\n       * of the window height.\n       * @param {Number} top\n       * @param {function(boolean)} [animateCallback] Callback, executed when animation is\n       *                                              finished. The callback returns true\n       *                                              when animation is finished, or false\n       *                                              when not.\n       */\n\n\n      treemode.scrollTo = function (top, animateCallback) {\n        var content = this.scrollableContent;\n\n        if (content) {\n          var editor = this; // cancel any running animation\n\n          if (editor.animateTimeout) {\n            clearTimeout(editor.animateTimeout);\n            delete editor.animateTimeout;\n          }\n\n          if (editor.animateCallback) {\n            editor.animateCallback(false);\n            delete editor.animateCallback;\n          } // calculate final scroll position\n\n\n          var height = content.clientHeight;\n          var bottom = content.scrollHeight - height;\n          var finalScrollTop = Math.min(Math.max(top - height / 4, 0), bottom); // animate towards the new scroll position\n\n          var animate = function animate() {\n            var scrollTop = content.scrollTop;\n            var diff = finalScrollTop - scrollTop;\n\n            if (Math.abs(diff) > 3) {\n              content.scrollTop += diff / 3;\n              editor.animateCallback = animateCallback;\n              editor.animateTimeout = setTimeout(animate, 50);\n            } else {\n              // finished\n              if (animateCallback) {\n                animateCallback(true);\n              }\n\n              content.scrollTop = finalScrollTop;\n              delete editor.animateTimeout;\n              delete editor.animateCallback;\n            }\n          };\n\n          animate();\n        } else {\n          if (animateCallback) {\n            animateCallback(false);\n          }\n        }\n      };\n      /**\n       * Create main frame\n       * @private\n       */\n\n\n      treemode._createFrame = function () {\n        // create the frame\n        this.frame = document.createElement('div');\n        this.frame.className = 'jsoneditor jsoneditor-mode-' + this.options.mode; // this.frame.setAttribute(\"tabindex\",\"0\");\n\n        this.container.appendChild(this.frame);\n        this.contentOuter = document.createElement('div');\n        this.contentOuter.className = 'jsoneditor-outer'; // create one global event listener to handle all events from all nodes\n\n        var editor = this;\n\n        function onEvent(event) {\n          // when switching to mode \"code\" or \"text\" via the menu, some events\n          // are still fired whilst the _onEvent methods is already removed.\n          if (editor._onEvent) {\n            editor._onEvent(event);\n          }\n        } // setting the FocusTracker on 'this.frame' to track the editor's focus event\n\n\n        var focusTrackerConfig = {\n          target: this.frame,\n          onFocus: this.options.onFocus || null,\n          onBlur: this.options.onBlur || null\n        };\n        this.frameFocusTracker = new FocusTracker[\"a\"\n        /* FocusTracker */\n        ](focusTrackerConfig);\n\n        this.frame.onclick = function (event) {\n          var target = event.target; // || event.srcElement;\n\n          onEvent(event); // prevent default submit action of buttons when editor is located\n          // inside a form\n\n          if (target.nodeName === 'BUTTON') {\n            event.preventDefault();\n          }\n        };\n\n        this.frame.oninput = onEvent;\n        this.frame.onchange = onEvent;\n        this.frame.onkeydown = onEvent;\n        this.frame.onkeyup = onEvent;\n        this.frame.oncut = onEvent;\n        this.frame.onpaste = onEvent;\n        this.frame.onmousedown = onEvent;\n        this.frame.onmouseup = onEvent;\n        this.frame.onmouseover = onEvent;\n        this.frame.onmouseout = onEvent; // Note: focus and blur events do not propagate, therefore they defined\n        // using an eventListener with useCapture=true\n        // see http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html\n\n        Object(util[\"addEventListener\"])(this.frame, 'focus', onEvent, true);\n        Object(util[\"addEventListener\"])(this.frame, 'blur', onEvent, true);\n        this.frame.onfocusin = onEvent; // for IE\n\n        this.frame.onfocusout = onEvent; // for IE\n\n        if (this.options.mainMenuBar) {\n          Object(util[\"addClassName\"])(this.contentOuter, 'has-main-menu-bar'); // create menu\n\n          this.menu = document.createElement('div');\n          this.menu.className = 'jsoneditor-menu';\n          this.frame.appendChild(this.menu); // create expand all button\n\n          var expandAll = document.createElement('button');\n          expandAll.type = 'button';\n          expandAll.className = 'jsoneditor-expand-all';\n          expandAll.title = Object(i18n[\"c\"\n          /* translate */\n          ])('expandAll');\n\n          expandAll.onclick = function () {\n            editor.expandAll();\n          };\n\n          this.menu.appendChild(expandAll); // create collapse all button\n\n          var collapseAll = document.createElement('button');\n          collapseAll.type = 'button';\n          collapseAll.title = Object(i18n[\"c\"\n          /* translate */\n          ])('collapseAll');\n          collapseAll.className = 'jsoneditor-collapse-all';\n\n          collapseAll.onclick = function () {\n            editor.collapseAll();\n          };\n\n          this.menu.appendChild(collapseAll); // create sort button\n\n          if (this.options.enableSort) {\n            var sort = document.createElement('button');\n            sort.type = 'button';\n            sort.className = 'jsoneditor-sort';\n            sort.title = Object(i18n[\"c\"\n            /* translate */\n            ])('sortTitleShort');\n\n            sort.onclick = function () {\n              editor.node.showSortModal();\n            };\n\n            this.menu.appendChild(sort);\n          } // create transform button\n\n\n          if (this.options.enableTransform) {\n            var transform = document.createElement('button');\n            transform.type = 'button';\n            transform.title = Object(i18n[\"c\"\n            /* translate */\n            ])('transformTitleShort');\n            transform.className = 'jsoneditor-transform';\n\n            transform.onclick = function () {\n              editor.node.showTransformModal();\n            };\n\n            this.menu.appendChild(transform);\n          } // create undo/redo buttons\n\n\n          if (this.history) {\n            // create undo button\n            var undo = document.createElement('button');\n            undo.type = 'button';\n            undo.className = 'jsoneditor-undo jsoneditor-separator';\n            undo.title = Object(i18n[\"c\"\n            /* translate */\n            ])('undo');\n\n            undo.onclick = function () {\n              editor._onUndo();\n            };\n\n            this.menu.appendChild(undo);\n            this.dom.undo = undo; // create redo button\n\n            var redo = document.createElement('button');\n            redo.type = 'button';\n            redo.className = 'jsoneditor-redo';\n            redo.title = Object(i18n[\"c\"\n            /* translate */\n            ])('redo');\n\n            redo.onclick = function () {\n              editor._onRedo();\n            };\n\n            this.menu.appendChild(redo);\n            this.dom.redo = redo; // register handler for onchange of history\n\n            this.history.onChange = function () {\n              undo.disabled = !editor.history.canUndo();\n              redo.disabled = !editor.history.canRedo();\n            };\n\n            this.history.onChange();\n          } // create mode box\n\n\n          if (this.options && this.options.modes && this.options.modes.length) {\n            var me = this;\n            this.modeSwitcher = new ModeSwitcher[\"a\"\n            /* ModeSwitcher */\n            ](this.menu, this.options.modes, this.options.mode, function onSwitch(mode) {\n              // switch mode and restore focus\n              me.setMode(mode);\n              me.modeSwitcher.focus();\n            });\n          } // create search box\n\n\n          if (this.options.search) {\n            this.searchBox = new SearchBox_SearchBox(this, this.menu);\n          }\n        }\n\n        if (this.options.navigationBar) {\n          // create second menu row for treepath\n          this.navBar = document.createElement('div');\n          this.navBar.className = 'jsoneditor-navigation-bar nav-bar-empty';\n          this.frame.appendChild(this.navBar);\n          this.treePath = new TreePath_TreePath(this.navBar, this.frame);\n          this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this));\n          this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this));\n        }\n      };\n      /**\n       * Perform an undo action\n       * @private\n       */\n\n\n      treemode._onUndo = function () {\n        if (this.history) {\n          // undo last action\n          this.history.undo(); // fire change event\n\n          this._onChange();\n        }\n      };\n      /**\n       * Perform a redo action\n       * @private\n       */\n\n\n      treemode._onRedo = function () {\n        if (this.history) {\n          // redo last action\n          this.history.redo(); // fire change event\n\n          this._onChange();\n        }\n      };\n      /**\n       * Event handler\n       * @param event\n       * @private\n       */\n\n\n      treemode._onEvent = function (event) {\n        // don't process events when coming from the color picker\n        if (Node_Node.targetIsColorPicker(event.target)) {\n          return;\n        }\n\n        var node = Node_Node.getNodeFromTarget(event.target);\n\n        if (event.type === 'keydown') {\n          this._onKeyDown(event);\n        }\n\n        if (node && event.type === 'focus') {\n          this.focusTarget = event.target;\n\n          if (this.options.autocomplete && this.options.autocomplete.trigger === 'focus') {\n            this._showAutoComplete(event.target);\n          }\n        }\n\n        if (event.type === 'mousedown') {\n          this._startDragDistance(event);\n        }\n\n        if (event.type === 'mousemove' || event.type === 'mouseup' || event.type === 'click') {\n          this._updateDragDistance(event);\n        }\n\n        if (node && this.options && this.options.navigationBar && node && (event.type === 'keydown' || event.type === 'mousedown')) {\n          // apply on next tick, right after the new key press is applied\n          var me = this;\n          setTimeout(function () {\n            me._updateTreePath(node.getNodePath());\n          });\n        }\n\n        if (node && node.selected) {\n          if (event.type === 'click') {\n            if (event.target === node.dom.menu) {\n              this.showContextMenu(event.target); // stop propagation (else we will open the context menu of a single node)\n\n              return;\n            } // deselect a multi selection\n\n\n            if (!event.hasMoved) {\n              this.deselect();\n            }\n          }\n\n          if (event.type === 'mousedown') {\n            // drag multiple nodes\n            Node_Node.onDragStart(this.multiselection.nodes, event);\n          }\n        } else {\n          // filter mouse events in the contents part of the editor (not the main menu)\n          if (event.type === 'mousedown' && Object(util[\"hasParentNode\"])(event.target, this.content)) {\n            this.deselect();\n\n            if (node && event.target === node.dom.drag) {\n              // drag a singe node\n              Node_Node.onDragStart(node, event);\n            } else if (!node || event.target !== node.dom.field && event.target !== node.dom.value && event.target !== node.dom.select) {\n              // select multiple nodes\n              this._onMultiSelectStart(event);\n            }\n          }\n        }\n\n        if (node) {\n          node.onEvent(event);\n        }\n      };\n      /**\n       * Update TreePath components\n       * @param {Array<Node>} pathNodes list of nodes in path from root to selection\n       * @private\n       */\n\n\n      treemode._updateTreePath = function (pathNodes) {\n        if (pathNodes && pathNodes.length) {\n          Object(util[\"removeClassName\"])(this.navBar, 'nav-bar-empty');\n          var pathObjs = [];\n          pathNodes.forEach(function (node) {\n            var pathObj = {\n              name: getName(node),\n              node: node,\n              children: []\n            };\n\n            if (node.childs && node.childs.length) {\n              node.childs.forEach(function (childNode) {\n                pathObj.children.push({\n                  name: getName(childNode),\n                  node: childNode\n                });\n              });\n            }\n\n            pathObjs.push(pathObj);\n          });\n          this.treePath.setPath(pathObjs);\n        } else {\n          Object(util[\"addClassName\"])(this.navBar, 'nav-bar-empty');\n        }\n\n        function getName(node) {\n          return node.parent ? node.parent.type === 'array' ? node.index : node.field : node.type;\n        }\n      };\n      /**\n       * Callback for tree path section selection - focus the selected node in the tree\n       * @param {Object} pathObj path object that was represents the selected section node\n       * @private\n       */\n\n\n      treemode._onTreePathSectionSelected = function (pathObj) {\n        if (pathObj && pathObj.node) {\n          pathObj.node.expandTo();\n          pathObj.node.focus();\n        }\n      };\n      /**\n       * Callback for tree path menu item selection - rebuild the path accrding to the new selection and focus the selected node in the tree\n       * @param {Object} pathObj path object that was represents the parent section node\n       * @param {String} selection selected section child\n       * @private\n       */\n\n\n      treemode._onTreePathMenuItemSelected = function (pathObj, selection) {\n        if (pathObj && pathObj.children.length) {\n          var selectionObj = pathObj.children.find(function (obj) {\n            return obj.name === selection;\n          });\n\n          if (selectionObj && selectionObj.node) {\n            this._updateTreePath(selectionObj.node.getNodePath());\n\n            selectionObj.node.expandTo();\n            selectionObj.node.focus();\n          }\n        }\n      };\n\n      treemode._startDragDistance = function (event) {\n        this.dragDistanceEvent = {\n          initialTarget: event.target,\n          initialPageX: event.pageX,\n          initialPageY: event.pageY,\n          dragDistance: 0,\n          hasMoved: false\n        };\n      };\n\n      treemode._updateDragDistance = function (event) {\n        if (!this.dragDistanceEvent) {\n          this._startDragDistance(event);\n        }\n\n        var diffX = event.pageX - this.dragDistanceEvent.initialPageX;\n        var diffY = event.pageY - this.dragDistanceEvent.initialPageY;\n        this.dragDistanceEvent.dragDistance = Math.sqrt(diffX * diffX + diffY * diffY);\n        this.dragDistanceEvent.hasMoved = this.dragDistanceEvent.hasMoved || this.dragDistanceEvent.dragDistance > 10;\n        event.dragDistance = this.dragDistanceEvent.dragDistance;\n        event.hasMoved = this.dragDistanceEvent.hasMoved;\n        return event.dragDistance;\n      };\n      /**\n       * Start multi selection of nodes by dragging the mouse\n       * @param event\n       * @private\n       */\n\n\n      treemode._onMultiSelectStart = function (event) {\n        var node = Node_Node.getNodeFromTarget(event.target);\n\n        if (this.options.mode !== 'tree' || this.options.onEditable !== undefined) {\n          // dragging not allowed in modes 'view' and 'form'\n          // TODO: allow multiselection of items when option onEditable is specified\n          return;\n        }\n\n        this.multiselection = {\n          start: node || null,\n          end: null,\n          nodes: []\n        };\n\n        this._startDragDistance(event);\n\n        var editor = this;\n\n        if (!this.mousemove) {\n          this.mousemove = Object(util[\"addEventListener\"])(window, 'mousemove', function (event) {\n            editor._onMultiSelect(event);\n          });\n        }\n\n        if (!this.mouseup) {\n          this.mouseup = Object(util[\"addEventListener\"])(window, 'mouseup', function (event) {\n            editor._onMultiSelectEnd(event);\n          });\n        }\n\n        event.preventDefault();\n      };\n      /**\n       * Multiselect nodes by dragging\n       * @param event\n       * @private\n       */\n\n\n      treemode._onMultiSelect = function (event) {\n        event.preventDefault();\n\n        this._updateDragDistance(event);\n\n        if (!event.hasMoved) {\n          return;\n        }\n\n        var node = Node_Node.getNodeFromTarget(event.target);\n\n        if (node) {\n          if (this.multiselection.start == null) {\n            this.multiselection.start = node;\n          }\n\n          this.multiselection.end = node;\n        } // deselect previous selection\n\n\n        this.deselect(); // find the selected nodes in the range from first to last\n\n        var start = this.multiselection.start;\n        var end = this.multiselection.end || this.multiselection.start;\n\n        if (start && end) {\n          // find the top level childs, all having the same parent\n          this.multiselection.nodes = this._findTopLevelNodes(start, end);\n\n          if (this.multiselection.nodes && this.multiselection.nodes.length) {\n            var firstNode = this.multiselection.nodes[0];\n\n            if (this.multiselection.start === firstNode || this.multiselection.start.isDescendantOf(firstNode)) {\n              this.multiselection.direction = 'down';\n            } else {\n              this.multiselection.direction = 'up';\n            }\n          }\n\n          this.select(this.multiselection.nodes);\n        }\n      };\n      /**\n       * End of multiselect nodes by dragging\n       * @private\n       */\n\n\n      treemode._onMultiSelectEnd = function () {\n        // set focus to the context menu button of the first node\n        if (this.multiselection.nodes[0]) {\n          this.multiselection.nodes[0].dom.menu.focus();\n        }\n\n        this.multiselection.start = null;\n        this.multiselection.end = null; // cleanup global event listeners\n\n        if (this.mousemove) {\n          Object(util[\"removeEventListener\"])(window, 'mousemove', this.mousemove);\n          delete this.mousemove;\n        }\n\n        if (this.mouseup) {\n          Object(util[\"removeEventListener\"])(window, 'mouseup', this.mouseup);\n          delete this.mouseup;\n        }\n      };\n      /**\n       * deselect currently selected nodes\n       * @param {boolean} [clearStartAndEnd=false]  If true, the `start` and `end`\n       *                                            state is cleared too.\n       */\n\n\n      treemode.deselect = function (clearStartAndEnd) {\n        var selectionChanged = !!this.multiselection.nodes.length;\n        this.multiselection.nodes.forEach(function (node) {\n          node.setSelected(false);\n        });\n        this.multiselection.nodes = [];\n\n        if (clearStartAndEnd) {\n          this.multiselection.start = null;\n          this.multiselection.end = null;\n        }\n\n        if (selectionChanged) {\n          if (this._selectionChangedHandler) {\n            this._selectionChangedHandler();\n          }\n        }\n      };\n      /**\n       * select nodes\n       * @param {Node[] | Node} nodes\n       */\n\n\n      treemode.select = function (nodes) {\n        if (!Array.isArray(nodes)) {\n          return this.select([nodes]);\n        }\n\n        if (nodes) {\n          this.deselect();\n          this.multiselection.nodes = nodes.slice(0);\n          var first = nodes[0];\n          nodes.forEach(function (node) {\n            node.expandPathToNode();\n            node.setSelected(true, node === first);\n          });\n\n          if (this._selectionChangedHandler) {\n            var selection = this.getSelection();\n\n            this._selectionChangedHandler(selection.start, selection.end);\n          }\n        }\n      };\n      /**\n       * From two arbitrary selected nodes, find their shared parent node.\n       * From that parent node, select the two child nodes in the brances going to\n       * nodes `start` and `end`, and select all childs in between.\n       * @param {Node} start\n       * @param {Node} end\n       * @return {Array.<Node>} Returns an ordered list with child nodes\n       * @private\n       */\n\n\n      treemode._findTopLevelNodes = function (start, end) {\n        var startPath = start.getNodePath();\n        var endPath = end.getNodePath();\n        var i = 0;\n\n        while (i < startPath.length && startPath[i] === endPath[i]) {\n          i++;\n        }\n\n        var root = startPath[i - 1];\n        var startChild = startPath[i];\n        var endChild = endPath[i];\n\n        if (!startChild || !endChild) {\n          if (root.parent) {\n            // startChild is a parent of endChild or vice versa\n            startChild = root;\n            endChild = root;\n            root = root.parent;\n          } else {\n            // we have selected the root node (which doesn't have a parent)\n            startChild = root.childs[0];\n            endChild = root.childs[root.childs.length - 1];\n          }\n        }\n\n        if (root && startChild && endChild) {\n          var startIndex = root.childs.indexOf(startChild);\n          var endIndex = root.childs.indexOf(endChild);\n          var firstIndex = Math.min(startIndex, endIndex);\n          var lastIndex = Math.max(startIndex, endIndex);\n          return root.childs.slice(firstIndex, lastIndex + 1);\n        } else {\n          return [];\n        }\n      };\n      /**\n       * Show autocomplete menu\n       * @param {HTMLElement} element\n       * @private\n       */\n\n\n      treemode._showAutoComplete = function (element) {\n        var node = Node_Node.getNodeFromTarget(element);\n        var jsonElementType = '';\n        if (element.className.indexOf('jsoneditor-value') >= 0) jsonElementType = 'value';\n        if (element.className.indexOf('jsoneditor-field') >= 0) jsonElementType = 'field';\n        var self = this;\n        setTimeout(function () {\n          if (node && (self.options.autocomplete.trigger === 'focus' || element.innerText.length > 0)) {\n            var result = self.options.autocomplete.getOptions(element.innerText, node.getPath(), jsonElementType, node.editor);\n\n            if (result === null) {\n              self.autocomplete.hideDropDown();\n            } else if (typeof result.then === 'function') {\n              // probably a promise\n              result.then(function (obj) {\n                if (obj === null) {\n                  self.autocomplete.hideDropDown();\n                } else if (obj.options) {\n                  self.autocomplete.show(element, obj.startFrom, obj.options);\n                } else {\n                  self.autocomplete.show(element, 0, obj);\n                }\n              })[\"catch\"](function (err) {\n                console.error(err);\n              });\n            } else {\n              // definitely not a promise\n              if (result.options) {\n                self.autocomplete.show(element, result.startFrom, result.options);\n              } else {\n                self.autocomplete.show(element, 0, result);\n              }\n            }\n          } else {\n            self.autocomplete.hideDropDown();\n          }\n        }, 50);\n      };\n      /**\n       * Event handler for keydown. Handles shortcut keys\n       * @param {Event} event\n       * @private\n       */\n\n\n      treemode._onKeyDown = function (event) {\n        var keynum = event.which || event.keyCode;\n        var altKey = event.altKey;\n        var ctrlKey = event.ctrlKey;\n        var metaKey = event.metaKey;\n        var shiftKey = event.shiftKey;\n        var handled = false;\n        var currentTarget = this.focusTarget;\n\n        if (keynum === 9) {\n          // Tab or Shift+Tab\n          var me = this;\n          setTimeout(function () {\n            /*\n                - Checking for change in focusTarget\n                - Without the check,\n                  pressing tab after reaching the final DOM element in the editor will\n                  set the focus back to it than passing focus outside the editor\n            */\n            if (me.focusTarget !== currentTarget) {\n              // select all text when moving focus to an editable div\n              Object(util[\"selectContentEditable\"])(me.focusTarget);\n            }\n          }, 0);\n        }\n\n        if (this.searchBox) {\n          if (ctrlKey && keynum === 70) {\n            // Ctrl+F\n            this.searchBox.dom.search.focus();\n            this.searchBox.dom.search.select();\n            handled = true;\n          } else if (keynum === 114 || ctrlKey && keynum === 71) {\n            // F3 or Ctrl+G\n            var focus = true;\n\n            if (!shiftKey) {\n              // select next search result (F3 or Ctrl+G)\n              this.searchBox.next(focus);\n            } else {\n              // select previous search result (Shift+F3 or Ctrl+Shift+G)\n              this.searchBox.previous(focus);\n            }\n\n            handled = true;\n          }\n        }\n\n        if (this.history) {\n          if (ctrlKey && !shiftKey && keynum === 90) {\n            // Ctrl+Z\n            // undo\n            this._onUndo();\n\n            handled = true;\n          } else if (ctrlKey && shiftKey && keynum === 90) {\n            // Ctrl+Shift+Z\n            // redo\n            this._onRedo();\n\n            handled = true;\n          }\n        }\n\n        if (this.options.autocomplete && !handled) {\n          if (!ctrlKey && !altKey && !metaKey && (event.key.length === 1 || keynum === 8 || keynum === 46)) {\n            handled = false; // Activate autocomplete\n\n            this._showAutoComplete(event.target);\n          }\n        }\n\n        if (handled) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      };\n      /**\n       * Create main table\n       * @private\n       */\n\n\n      treemode._createTable = function () {\n        if (this.options.navigationBar) {\n          Object(util[\"addClassName\"])(this.contentOuter, 'has-nav-bar');\n        }\n\n        this.scrollableContent = document.createElement('div');\n        this.scrollableContent.className = 'jsoneditor-tree';\n        this.contentOuter.appendChild(this.scrollableContent); // the jsoneditor-tree-inner div with bottom padding is here to\n        // keep space for the action menu dropdown. It's created as a\n        // separate div instead of using scrollableContent to work around\n        // and issue in the Chrome browser showing scrollable contents outside of the div\n        // see https://github.com/josdejong/jsoneditor/issues/557\n\n        this.content = document.createElement('div');\n        this.content.className = 'jsoneditor-tree-inner';\n        this.scrollableContent.appendChild(this.content);\n        this.table = document.createElement('table');\n        this.table.className = 'jsoneditor-tree';\n        this.content.appendChild(this.table); // create colgroup where the first two columns don't have a fixed\n        // width, and the edit columns do have a fixed width\n\n        var col;\n        this.colgroupContent = document.createElement('colgroup');\n\n        if (this.options.mode === 'tree') {\n          col = document.createElement('col');\n          col.width = '24px';\n          this.colgroupContent.appendChild(col);\n        }\n\n        col = document.createElement('col');\n        col.width = '24px';\n        this.colgroupContent.appendChild(col);\n        col = document.createElement('col');\n        this.colgroupContent.appendChild(col);\n        this.table.appendChild(this.colgroupContent);\n        this.tbody = document.createElement('tbody');\n        this.table.appendChild(this.tbody);\n        this.frame.appendChild(this.contentOuter);\n      };\n      /**\n       * Show a contextmenu for this node.\n       * Used for multiselection\n       * @param {HTMLElement} anchor   Anchor element to attach the context menu to.\n       * @param {function} [onClose]   Callback method called when the context menu\n       *                               is being closed.\n       */\n\n\n      treemode.showContextMenu = function (anchor, onClose) {\n        var items = [];\n        var selectedNodes = this.multiselection.nodes.slice(); // create duplicate button\n\n        items.push({\n          text: Object(i18n[\"c\"\n          /* translate */\n          ])('duplicateText'),\n          title: Object(i18n[\"c\"\n          /* translate */\n          ])('duplicateTitle'),\n          className: 'jsoneditor-duplicate',\n          click: function click() {\n            Node_Node.onDuplicate(selectedNodes);\n          }\n        }); // create remove button\n\n        items.push({\n          text: Object(i18n[\"c\"\n          /* translate */\n          ])('remove'),\n          title: Object(i18n[\"c\"\n          /* translate */\n          ])('removeTitle'),\n          className: 'jsoneditor-remove',\n          click: function click() {\n            Node_Node.onRemove(selectedNodes);\n          }\n        });\n\n        if (this.options.onCreateMenu) {\n          var paths = selectedNodes.map(function (node) {\n            return node.getPath();\n          });\n          items = this.options.onCreateMenu(items, {\n            type: 'multiple',\n            path: paths[0],\n            paths: paths\n          });\n        }\n\n        var menu = new ContextMenu[\"a\"\n        /* ContextMenu */\n        ](items, {\n          close: onClose\n        });\n        menu.show(anchor, this.frame);\n      };\n      /**\n       * Get current selected nodes\n       * @return {{start:SerializableNode, end: SerializableNode}}\n       */\n\n\n      treemode.getSelection = function () {\n        var selection = {\n          start: null,\n          end: null\n        };\n\n        if (this.multiselection.nodes && this.multiselection.nodes.length) {\n          if (this.multiselection.nodes.length) {\n            var selection1 = this.multiselection.nodes[0];\n            var selection2 = this.multiselection.nodes[this.multiselection.nodes.length - 1];\n\n            if (this.multiselection.direction === 'down') {\n              selection.start = selection1.serialize();\n              selection.end = selection2.serialize();\n            } else {\n              selection.start = selection2.serialize();\n              selection.end = selection1.serialize();\n            }\n          }\n        }\n\n        return selection;\n      };\n      /**\n       * Callback registration for selection change\n       * @param {selectionCallback} callback\n       *\n       * @callback selectionCallback\n       */\n\n\n      treemode.onSelectionChange = function (callback) {\n        if (typeof callback === 'function') {\n          this._selectionChangedHandler = Object(util[\"debounce\"])(callback, this.DEBOUNCE_INTERVAL);\n        }\n      };\n      /**\n       * Select range of nodes.\n       * For selecting single node send only the start parameter\n       * For clear the selection do not send any parameter\n       * If the nodes are not from the same level the first common parent will be selected\n       * @param {{path: Array.<String>}} start object contains the path for selection start\n       * @param {{path: Array.<String>}} end object contains the path for selection end\n       */\n\n\n      treemode.setSelection = function (start, end) {\n        // check for old usage\n        if (start && start.dom && start.range) {\n          console.warn('setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options');\n          this.setDomSelection(start);\n        }\n\n        var nodes = this._getNodeInstancesByRange(start, end);\n\n        nodes.forEach(function (node) {\n          node.expandTo();\n        });\n        this.select(nodes);\n      };\n      /**\n       * Returns a set of Nodes according to a range of selection\n       * @param {{path: Array.<String>}} start object contains the path for range start\n       * @param {{path: Array.<String>}=} end object contains the path for range end\n       * @return {Array.<Node>} Node instances on the given range\n       * @private\n       */\n\n\n      treemode._getNodeInstancesByRange = function (start, end) {\n        var startNode, endNode;\n\n        if (start && start.path) {\n          startNode = this.node.findNodeByPath(start.path);\n\n          if (end && end.path) {\n            endNode = this.node.findNodeByPath(end.path);\n          }\n        }\n\n        var nodes = [];\n\n        if (startNode instanceof Node_Node) {\n          if (endNode instanceof Node_Node && endNode !== startNode) {\n            if (startNode.parent === endNode.parent) {\n              if (startNode.getIndex() < endNode.getIndex()) {\n                start = startNode;\n                end = endNode;\n              } else {\n                start = endNode;\n                end = startNode;\n              }\n\n              var current = start;\n              nodes.push(current);\n\n              do {\n                current = current.nextSibling();\n                nodes.push(current);\n              } while (current && current !== end);\n            } else {\n              nodes = this._findTopLevelNodes(startNode, endNode);\n            }\n          } else {\n            nodes.push(startNode);\n          }\n        }\n\n        return nodes;\n      };\n\n      treemode.getNodesByRange = function (start, end) {\n        var nodes = this._getNodeInstancesByRange(start, end);\n\n        var serializableNodes = [];\n        nodes.forEach(function (node) {\n          serializableNodes.push(node.serialize());\n        });\n        return serializableNodes;\n      }; // define modes\n\n\n      var treeModeMixins = [{\n        mode: 'tree',\n        mixin: treemode,\n        data: 'json'\n      }, {\n        mode: 'view',\n        mixin: treemode,\n        data: 'json'\n      }, {\n        mode: 'form',\n        mixin: treemode,\n        data: 'json'\n      }];\n      /***/\n    },\n    /* 80 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__); // EXTERNAL MODULE: ./node_modules/jmespath/jmespath.js\n\n\n      var jmespath = __webpack_require__(4);\n\n      var jmespath_default = /*#__PURE__*/__webpack_require__.n(jmespath); // EXTERNAL MODULE: ./src/js/i18n.js\n\n\n      var i18n = __webpack_require__(1); // EXTERNAL MODULE: ./src/js/ModeSwitcher.js\n\n\n      var ModeSwitcher = __webpack_require__(7); // EXTERNAL MODULE: ./src/js/ErrorTable.js\n\n\n      var ErrorTable = __webpack_require__(15); // EXTERNAL MODULE: ./src/js/showSortModal.js\n\n\n      var showSortModal = __webpack_require__(6); // EXTERNAL MODULE: ./src/js/showTransformModal.js + 1 modules\n\n\n      var showTransformModal = __webpack_require__(9); // EXTERNAL MODULE: ./src/js/textmode.js + 1 modules\n\n\n      var textmode = __webpack_require__(21); // EXTERNAL MODULE: ./src/js/constants.js\n\n\n      var constants = __webpack_require__(2); // EXTERNAL MODULE: ./src/js/FocusTracker.js\n\n\n      var FocusTracker = __webpack_require__(8); // EXTERNAL MODULE: ./src/js/util.js\n\n\n      var util = __webpack_require__(0); // CONCATENATED MODULE: ./src/js/History.js\n\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * Keep track on any history, be able\n       * @param {function} onChange\n       * @param {function} calculateItemSize\n       * @param {number} limit    Maximum size of all items in history\n       * @constructor\n       */\n\n\n      var History = /*#__PURE__*/function () {\n        function History(onChange, calculateItemSize, limit) {\n          _classCallCheck(this, History);\n\n          this.onChange = onChange;\n\n          this.calculateItemSize = calculateItemSize || function () {\n            return 1;\n          };\n\n          this.limit = limit;\n          this.items = [];\n          this.index = -1;\n        }\n\n        _createClass(History, [{\n          key: \"add\",\n          value: function add(item) {\n            // limit number of items in history so that the total size doesn't\n            // always keep at least one item in memory\n            while (this._calculateHistorySize() > this.limit && this.items.length > 1) {\n              this.items.shift();\n              this.index--;\n            } // cleanup any redo action that are not valid anymore\n\n\n            this.items = this.items.slice(0, this.index + 1);\n            this.items.push(item);\n            this.index++;\n            this.onChange();\n          }\n        }, {\n          key: \"_calculateHistorySize\",\n          value: function _calculateHistorySize() {\n            var calculateItemSize = this.calculateItemSize;\n            var totalSize = 0;\n            this.items.forEach(function (item) {\n              totalSize += calculateItemSize(item);\n            });\n            return totalSize;\n          }\n        }, {\n          key: \"undo\",\n          value: function undo() {\n            if (!this.canUndo()) {\n              return;\n            }\n\n            this.index--;\n            this.onChange();\n            return this.items[this.index];\n          }\n        }, {\n          key: \"redo\",\n          value: function redo() {\n            if (!this.canRedo()) {\n              return;\n            }\n\n            this.index++;\n            this.onChange();\n            return this.items[this.index];\n          }\n        }, {\n          key: \"canUndo\",\n          value: function canUndo() {\n            return this.index > 0;\n          }\n        }, {\n          key: \"canRedo\",\n          value: function canRedo() {\n            return this.index < this.items.length - 1;\n          }\n        }, {\n          key: \"clear\",\n          value: function clear() {\n            this.items = [];\n            this.index = -1;\n            this.onChange();\n          }\n        }]);\n\n        return History;\n      }(); // CONCATENATED MODULE: ./src/js/previewmode.js\n\n      /* harmony export (binding) */\n\n\n      __webpack_require__.d(__webpack_exports__, \"previewModeMixins\", function () {\n        return previewModeMixins;\n      });\n\n      var previewmode_textmode = textmode[\"textModeMixins\"][0].mixin; // create a mixin with the functions for text mode\n\n      var previewmode = {};\n      /**\n       * Create a JSON document preview, suitable for processing of large documents\n       * @param {Element} container\n       * @param {Object} [options]   Object with options. See docs for details.\n       * @private\n       */\n\n      previewmode.create = function (container) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (typeof options.statusBar === 'undefined') {\n          options.statusBar = true;\n        } // setting default for previewmode\n\n\n        options.mainMenuBar = options.mainMenuBar !== false;\n        options.enableSort = options.enableSort !== false;\n        options.enableTransform = options.enableTransform !== false;\n        this.options = options; // indentation\n\n        if (typeof options.indentation === 'number') {\n          this.indentation = Number(options.indentation);\n        } else {\n          this.indentation = 2; // number of spaces\n        } // determine mode\n\n\n        this.mode = 'preview';\n        var me = this;\n        this.container = container;\n        this.dom = {};\n        this.json = undefined;\n        this.text = ''; // TODO: JSON Schema support\n        // create a debounced validate function\n\n        this._debouncedValidate = Object(util[\"debounce\"])(this.validate.bind(this), this.DEBOUNCE_INTERVAL);\n        this.width = container.clientWidth;\n        this.height = container.clientHeight;\n        this.frame = document.createElement('div');\n        this.frame.className = 'jsoneditor jsoneditor-mode-preview';\n\n        this.frame.onclick = function (event) {\n          // prevent default submit action when the editor is located inside a form\n          event.preventDefault();\n        }; // setting the FocusTracker on 'this.frame' to track the editor's focus event\n\n\n        var focusTrackerConfig = {\n          target: this.frame,\n          onFocus: this.options.onFocus || null,\n          onBlur: this.options.onBlur || null\n        };\n        this.frameFocusTracker = new FocusTracker[\"a\"\n        /* FocusTracker */\n        ](focusTrackerConfig);\n        this.content = document.createElement('div');\n        this.content.className = 'jsoneditor-outer';\n        this.dom.busy = document.createElement('div');\n        this.dom.busy.className = 'jsoneditor-busy';\n        this.dom.busyContent = document.createElement('span');\n        this.dom.busyContent.innerHTML = 'busy...';\n        this.dom.busy.appendChild(this.dom.busyContent);\n        this.content.appendChild(this.dom.busy);\n        this.dom.previewContent = document.createElement('pre');\n        this.dom.previewContent.className = 'jsoneditor-preview';\n        this.dom.previewText = document.createTextNode('');\n        this.dom.previewContent.appendChild(this.dom.previewText);\n        this.content.appendChild(this.dom.previewContent);\n\n        if (this.options.mainMenuBar) {\n          Object(util[\"addClassName\"])(this.content, 'has-main-menu-bar'); // create menu\n\n          this.menu = document.createElement('div');\n          this.menu.className = 'jsoneditor-menu';\n          this.frame.appendChild(this.menu); // create format button\n\n          var buttonFormat = document.createElement('button');\n          buttonFormat.type = 'button';\n          buttonFormat.className = 'jsoneditor-format';\n          buttonFormat.title = 'Format JSON data, with proper indentation and line feeds (Ctrl+\\\\)';\n          this.menu.appendChild(buttonFormat);\n\n          buttonFormat.onclick = function handleFormat() {\n            me.executeWithBusyMessage(function () {\n              try {\n                me.format();\n              } catch (err) {\n                me._onError(err);\n              }\n            }, 'formatting...');\n          }; // create compact button\n\n\n          var buttonCompact = document.createElement('button');\n          buttonCompact.type = 'button';\n          buttonCompact.className = 'jsoneditor-compact';\n          buttonCompact.title = 'Compact JSON data, remove all whitespaces (Ctrl+Shift+\\\\)';\n          this.menu.appendChild(buttonCompact);\n\n          buttonCompact.onclick = function handleCompact() {\n            me.executeWithBusyMessage(function () {\n              try {\n                me.compact();\n              } catch (err) {\n                me._onError(err);\n              }\n            }, 'compacting...');\n          }; // create sort button\n\n\n          if (this.options.enableSort) {\n            var _sort = document.createElement('button');\n\n            _sort.type = 'button';\n            _sort.className = 'jsoneditor-sort';\n            _sort.title = Object(i18n[\"c\"\n            /* translate */\n            ])('sortTitleShort');\n\n            _sort.onclick = function () {\n              me._showSortModal();\n            };\n\n            this.menu.appendChild(_sort);\n          } // create transform button\n\n\n          if (this.options.enableTransform) {\n            var transform = document.createElement('button');\n            transform.type = 'button';\n            transform.title = Object(i18n[\"c\"\n            /* translate */\n            ])('transformTitleShort');\n            transform.className = 'jsoneditor-transform';\n\n            transform.onclick = function () {\n              me._showTransformModal();\n            };\n\n            this.dom.transform = transform;\n            this.menu.appendChild(transform);\n          } // create repair button\n\n\n          var buttonRepair = document.createElement('button');\n          buttonRepair.type = 'button';\n          buttonRepair.className = 'jsoneditor-repair';\n          buttonRepair.title = 'Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.';\n          this.menu.appendChild(buttonRepair);\n\n          buttonRepair.onclick = function () {\n            if (me.json === undefined) {\n              // only repair if we don't have valid JSON\n              me.executeWithBusyMessage(function () {\n                try {\n                  me.repair();\n                } catch (err) {\n                  me._onError(err);\n                }\n              }, 'repairing...');\n            }\n          }; // create history and undo/redo buttons\n\n\n          if (this.options.history !== false) {\n            // default option value is true\n            var onHistoryChange = function onHistoryChange() {\n              me.dom.undo.disabled = !me.history.canUndo();\n              me.dom.redo.disabled = !me.history.canRedo();\n            };\n\n            var calculateItemSize = function calculateItemSize(item) {\n              return (// times two to account for the json object\n                item.text.length * 2\n              );\n            };\n\n            this.history = new History(onHistoryChange, calculateItemSize, constants[\"c\"\n            /* PREVIEW_HISTORY_LIMIT */\n            ]); // create undo button\n\n            var undo = document.createElement('button');\n            undo.type = 'button';\n            undo.className = 'jsoneditor-undo jsoneditor-separator';\n            undo.title = Object(i18n[\"c\"\n            /* translate */\n            ])('undo');\n\n            undo.onclick = function () {\n              var action = me.history.undo();\n\n              if (action) {\n                me._applyHistory(action);\n              }\n            };\n\n            this.menu.appendChild(undo);\n            this.dom.undo = undo; // create redo button\n\n            var redo = document.createElement('button');\n            redo.type = 'button';\n            redo.className = 'jsoneditor-redo';\n            redo.title = Object(i18n[\"c\"\n            /* translate */\n            ])('redo');\n\n            redo.onclick = function () {\n              var action = me.history.redo();\n\n              if (action) {\n                me._applyHistory(action);\n              }\n            };\n\n            this.menu.appendChild(redo);\n            this.dom.redo = redo; // force enabling/disabling the undo/redo button\n\n            this.history.onChange();\n          } // create mode box\n\n\n          if (this.options && this.options.modes && this.options.modes.length) {\n            this.modeSwitcher = new ModeSwitcher[\"a\"\n            /* ModeSwitcher */\n            ](this.menu, this.options.modes, this.options.mode, function onSwitch(mode) {\n              // switch mode and restore focus\n              me.setMode(mode);\n              me.modeSwitcher.focus();\n            });\n          }\n        }\n\n        this.errorTable = new ErrorTable[\"a\"\n        /* ErrorTable */\n        ]({\n          errorTableVisible: true,\n          onToggleVisibility: function onToggleVisibility() {\n            me.validate();\n          },\n          onFocusLine: null,\n          onChangeHeight: function onChangeHeight(height) {\n            // TODO: change CSS to using flex box, remove setting height using JavaScript\n            var statusBarHeight = me.dom.statusBar ? me.dom.statusBar.clientHeight : 0;\n            var totalHeight = height + statusBarHeight + 1;\n            me.content.style.marginBottom = -totalHeight + 'px';\n            me.content.style.paddingBottom = totalHeight + 'px';\n          }\n        });\n        this.frame.appendChild(this.content);\n        this.frame.appendChild(this.errorTable.getErrorTable());\n        this.container.appendChild(this.frame);\n\n        if (options.statusBar) {\n          Object(util[\"addClassName\"])(this.content, 'has-status-bar');\n          var statusBar = document.createElement('div');\n          this.dom.statusBar = statusBar;\n          statusBar.className = 'jsoneditor-statusbar';\n          this.frame.appendChild(statusBar);\n          this.dom.fileSizeInfo = document.createElement('span');\n          this.dom.fileSizeInfo.className = 'jsoneditor-size-info';\n          this.dom.fileSizeInfo.innerText = '';\n          statusBar.appendChild(this.dom.fileSizeInfo);\n          this.dom.arrayInfo = document.createElement('span');\n          this.dom.arrayInfo.className = 'jsoneditor-size-info';\n          this.dom.arrayInfo.innerText = '';\n          statusBar.appendChild(this.dom.arrayInfo);\n          statusBar.appendChild(this.errorTable.getErrorCounter());\n          statusBar.appendChild(this.errorTable.getWarningIcon());\n          statusBar.appendChild(this.errorTable.getErrorIcon());\n        }\n\n        this._renderPreview();\n\n        this.setSchema(this.options.schema, this.options.schemaRefs);\n      };\n\n      previewmode._renderPreview = function () {\n        var text = this.getText();\n        this.dom.previewText.nodeValue = Object(util[\"limitCharacters\"])(text, constants[\"b\"\n        /* MAX_PREVIEW_CHARACTERS */\n        ]);\n\n        if (this.dom.fileSizeInfo) {\n          this.dom.fileSizeInfo.innerText = 'Size: ' + Object(util[\"formatSize\"])(text.length);\n        }\n\n        if (this.dom.arrayInfo) {\n          if (Array.isArray(this.json)) {\n            this.dom.arrayInfo.innerText = 'Array: ' + this.json.length + ' items';\n          } else {\n            this.dom.arrayInfo.innerText = '';\n          }\n        }\n      };\n      /**\n       * Handle a change:\n       * - Validate JSON schema\n       * - Send a callback to the onChange listener if provided\n       * @private\n       */\n\n\n      previewmode._onChange = function () {\n        // validate JSON schema (if configured)\n        this._debouncedValidate(); // trigger the onChange callback\n\n\n        if (this.options.onChange) {\n          try {\n            this.options.onChange();\n          } catch (err) {\n            console.error('Error in onChange callback: ', err);\n          }\n        } // trigger the onChangeJSON callback\n\n\n        if (this.options.onChangeJSON) {\n          try {\n            this.options.onChangeJSON(this.get());\n          } catch (err) {\n            console.error('Error in onChangeJSON callback: ', err);\n          }\n        } // trigger the onChangeText callback\n\n\n        if (this.options.onChangeText) {\n          try {\n            this.options.onChangeText(this.getText());\n          } catch (err) {\n            console.error('Error in onChangeText callback: ', err);\n          }\n        }\n      };\n      /**\n       * Open a sort modal\n       * @private\n       */\n\n\n      previewmode._showSortModal = function () {\n        var me = this;\n\n        function onSort(json, sortedBy) {\n          if (Array.isArray(json)) {\n            var sortedArray = Object(util[\"sort\"])(json, sortedBy.path, sortedBy.direction);\n            me.sortedBy = sortedBy;\n\n            me._setAndFireOnChange(sortedArray);\n          }\n\n          if (Object(util[\"isObject\"])(json)) {\n            var sortedObject = Object(util[\"sortObjectKeys\"])(json, sortedBy.direction);\n            me.sortedBy = sortedBy;\n\n            me._setAndFireOnChange(sortedObject);\n          }\n        }\n\n        this.executeWithBusyMessage(function () {\n          var container = me.options.modalAnchor || constants[\"a\"\n          /* DEFAULT_MODAL_ANCHOR */\n          ];\n          var json = me.get();\n\n          me._renderPreview(); // update array count\n\n\n          Object(showSortModal[\"a\"\n          /* showSortModal */\n          ])(container, json, function (sortedBy) {\n            me.executeWithBusyMessage(function () {\n              onSort(json, sortedBy);\n            }, 'sorting...');\n          }, me.sortedBy);\n        }, 'parsing...');\n      };\n      /**\n       * Open a transform modal\n       * @private\n       */\n\n\n      previewmode._showTransformModal = function () {\n        var me = this;\n        this.executeWithBusyMessage(function () {\n          var anchor = me.options.modalAnchor || constants[\"a\"\n          /* DEFAULT_MODAL_ANCHOR */\n          ];\n          var json = me.get();\n\n          me._renderPreview(); // update array count\n\n\n          Object(showTransformModal[\"a\"\n          /* showTransformModal */\n          ])(anchor, json, function (query) {\n            me.executeWithBusyMessage(function () {\n              var updatedJson = jmespath_default.a.search(json, query);\n\n              me._setAndFireOnChange(updatedJson);\n            }, 'transforming...');\n          });\n        }, 'parsing...');\n      };\n      /**\n       * Destroy the editor. Clean up DOM, event listeners, and web workers.\n       */\n\n\n      previewmode.destroy = function () {\n        if (this.frame && this.container && this.frame.parentNode === this.container) {\n          this.container.removeChild(this.frame);\n        }\n\n        if (this.modeSwitcher) {\n          this.modeSwitcher.destroy();\n          this.modeSwitcher = null;\n        }\n\n        this._debouncedValidate = null;\n        this.history.clear();\n        this.history = null; // Removing the FocusTracker set to track the editor's focus event\n\n        this.frameFocusTracker.destroy();\n      };\n      /**\n       * Compact the code in the text editor\n       */\n\n\n      previewmode.compact = function () {\n        var json = this.get();\n        var text = JSON.stringify(json); // we know that in this case the json is still the same, so we pass json too\n\n        this._setTextAndFireOnChange(text, json);\n      };\n      /**\n       * Format the code in the text editor\n       */\n\n\n      previewmode.format = function () {\n        var json = this.get();\n        var text = JSON.stringify(json, null, this.indentation); // we know that in this case the json is still the same, so we pass json too\n\n        this._setTextAndFireOnChange(text, json);\n      };\n      /**\n       * Repair the code in the text editor\n       */\n\n\n      previewmode.repair = function () {\n        var text = this.getText();\n        var repairedText = Object(util[\"repair\"])(text);\n\n        this._setTextAndFireOnChange(repairedText);\n      };\n      /**\n       * Set focus to the editor\n       */\n\n\n      previewmode.focus = function () {\n        // we don't really have a place to focus,\n        // let's focus on the transform button\n        this.dom.transform.focus();\n      };\n      /**\n       * Set json data in the editor\n       * @param {*} json\n       */\n\n\n      previewmode.set = function (json) {\n        if (this.history) {\n          this.history.clear();\n        }\n\n        this._set(json);\n      };\n      /**\n       * Update data. Same as calling `set` in text/code mode.\n       * @param {*} json\n       */\n\n\n      previewmode.update = function (json) {\n        this._set(json);\n      };\n      /**\n       * Set json data\n       * @param {*} json\n       */\n\n\n      previewmode._set = function (json) {\n        this.text = undefined;\n        this.json = json;\n\n        this._renderPreview();\n\n        this._pushHistory(); // validate JSON schema\n\n\n        this._debouncedValidate();\n      };\n\n      previewmode._setAndFireOnChange = function (json) {\n        this._set(json);\n\n        this._onChange();\n      };\n      /**\n       * Get json data\n       * @return {*} json\n       */\n\n\n      previewmode.get = function () {\n        if (this.json === undefined) {\n          var text = this.getText();\n          this.json = Object(util[\"parse\"])(text); // this can throw an error\n        }\n\n        return this.json;\n      };\n      /**\n       * Get the text contents of the editor\n       * @return {String} jsonText\n       */\n\n\n      previewmode.getText = function () {\n        if (this.text === undefined) {\n          this.text = JSON.stringify(this.json, null, this.indentation);\n\n          if (this.options.escapeUnicode === true) {\n            this.text = Object(util[\"escapeUnicodeChars\"])(this.text);\n          }\n        }\n\n        return this.text;\n      };\n      /**\n       * Set the text contents of the editor\n       * @param {String} jsonText\n       */\n\n\n      previewmode.setText = function (jsonText) {\n        if (this.history) {\n          this.history.clear();\n        }\n\n        this._setText(jsonText);\n      };\n      /**\n       * Update the text contents\n       * @param {string} jsonText\n       */\n\n\n      previewmode.updateText = function (jsonText) {\n        // don't update if there are no changes\n        if (this.getText() === jsonText) {\n          return;\n        }\n\n        this._setText(jsonText);\n      };\n      /**\n       * Set the text contents of the editor\n       * @param {string} jsonText\n       * @param {*} [json] Optional JSON instance of the text\n       * @private\n       */\n\n\n      previewmode._setText = function (jsonText, json) {\n        if (this.options.escapeUnicode === true) {\n          this.text = Object(util[\"escapeUnicodeChars\"])(jsonText);\n        } else {\n          this.text = jsonText;\n        }\n\n        this.json = json;\n\n        this._renderPreview();\n\n        if (this.json === undefined) {\n          var me = this;\n          this.executeWithBusyMessage(function () {\n            try {\n              // force parsing the json now, else it will be done in validate without feedback\n              me.json = me.get();\n\n              me._renderPreview();\n\n              me._pushHistory();\n            } catch (err) {// no need to throw an error, validation will show an error\n            }\n          }, 'parsing...');\n        } else {\n          this._pushHistory();\n        }\n\n        this._debouncedValidate();\n      };\n      /**\n       * Set text and fire onChange callback\n       * @param {string} jsonText\n       * @param {*} [json] Optional JSON instance of the text\n       * @private\n       */\n\n\n      previewmode._setTextAndFireOnChange = function (jsonText, json) {\n        this._setText(jsonText, json);\n\n        this._onChange();\n      };\n      /**\n       * Apply history to the current state\n       * @param {{json?: JSON, text?: string}} action\n       * @private\n       */\n\n\n      previewmode._applyHistory = function (action) {\n        this.json = action.json;\n        this.text = action.text;\n\n        this._renderPreview();\n\n        this._debouncedValidate();\n      };\n      /**\n       * Push the current state to history\n       * @private\n       */\n\n\n      previewmode._pushHistory = function () {\n        if (!this.history) {\n          return;\n        }\n\n        var action = {\n          text: this.text,\n          json: this.json\n        };\n        this.history.add(action);\n      };\n      /**\n       * Execute a heavy, blocking action.\n       * Before starting the action, show a message on screen like \"parsing...\"\n       * @param {function} fn\n       * @param {string} message\n       */\n\n\n      previewmode.executeWithBusyMessage = function (fn, message) {\n        var size = this.getText().length;\n\n        if (size > constants[\"d\"\n        /* SIZE_LARGE */\n        ]) {\n          var me = this;\n          Object(util[\"addClassName\"])(me.frame, 'busy');\n          me.dom.busyContent.innerText = message;\n          setTimeout(function () {\n            fn();\n            Object(util[\"removeClassName\"])(me.frame, 'busy');\n            me.dom.busyContent.innerText = '';\n          }, 100);\n        } else {\n          fn();\n        }\n      }; // TODO: refactor into composable functions instead of this shaky mixin-like structure\n\n\n      previewmode.validate = previewmode_textmode.validate;\n      previewmode._renderErrors = previewmode_textmode._renderErrors; // define modes\n\n      var previewModeMixins = [{\n        mode: 'preview',\n        mixin: previewmode,\n        data: 'json'\n      }];\n      /***/\n    }\n    /******/\n    ])\n  );\n});","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}"],"sourceRoot":""}